"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[190],{4190:(A,u,n)=>{n.r(u),n.d(u,{ClientUploadprofileimageFeatureModule:()=>I});var s=n(9808),x=n(7918),g=n(5357),r=n(3075),t=n(5e3),f=n(2160),m=n(9444),C=n(4585),b=n(5436),c=n(3954),h=n(9224),U=n(5245),M=n(7423);function y(e,l){1&e&&(t.TgZ(0,"div",15)(1,"mat-icon"),t._uU(2,"person_outline"),t.qZA()())}function P(e,l){1&e&&(t.TgZ(0,"div",16),t._uU(1,"Drag and drop "),t._UZ(2,"br"),t._uU(3," or "),t._UZ(4,"br"),t._uU(5," click here to select..."),t.qZA())}function Z(e,l){if(1&e&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.hij(" ",i.filename," ")}}function O(e,l){if(1&e&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.hij(" ",i.fileuploaderror," ")}}const v=function(e){return{"background-image":e}},w=[{path:"",component:(()=>{class e{constructor(i,o,d,a,p){this.builder=i,this.cookie=o,this.apollo=d,this.router=a,this.afStorage=p,this.fileuploaderror="",this.showfilename=!1,this.url="",this.showuploaded=!1,this.filename="",this.img="https://images.unsplash.com/photo-1512941675424-1c17dabfdddc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2670&q=80",this.submit=!1,this.fileuploadflag=!1}ngOnInit(){this.uploadfrm=this.builder.group({image:["",r.kI.required]})}fileattatched(i){if(0==i.target.files.length&&null!=this.profileimage)return;const o=i.target.files[0];if(this.submit=!0,this.fileuploadflag=!1,!o.type.match(/^image*/))return null!=this.profileimage?(this.fileuploaderror="Only images are supported.",this.profileimage=o,void(this.fileuploadflag=!0)):(this.fileuploaderror="Only images are supported.",this.fileuploadflag=!0,void this.uploadfrm.setErrors({image:!1}));this.profileimage=i.target.files[0],this.showfilename=!0,this.filename=this.profileimage.name;const a=new FileReader;a.onload=p=>{this.url=p.target.result,this.showuploaded=!0},a.readAsDataURL(this.profileimage)}upload(i){if(this.submit=!0,this.uploadfrm.invalid)return this.fileuploadflag=!0,void(this.fileuploaderror="Image is Requied.");const o=this.cookie.get("id"),d=this.profileimage;this.ref=this.afStorage.ref("UserProfileImage/"+o),this.task=this.ref.put(d),this.router.navigate(["/strava/link"])}Base64encode(i){return new Promise((o,d)=>{const a=new FileReader;a.onloadend=()=>o(a.result),a.readAsDataURL(i)})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(r.qu),t.Y36(f.N),t.Y36(m._M),t.Y36(g.F0),t.Y36(C.Q1))},e.\u0275cmp=t.Xpm({type:e,selectors:[["training-buddy-upload-profile-image"]],decls:23,vars:11,consts:[["id","background",3,"ngStyle"],["cols","1","rowHeight","fit"],[3,"formGroup","ngSubmit"],[1,"fileupload","mr-3","ml-3","mb-3"],[1,"text-center"],["id","title"],[1,"w-full"],[1,"infotag","text-center"],["id","fileuploaddiv",1,"my-2",3,"ngStyle"],["id","profileicon",4,"ngIf"],["class","mt-2 infotext text-center",4,"ngIf"],["id","fileupload","name","fileupload","type","file","formControlName","image","accept","image/x-png,image/gif,image/jpeg",3,"change"],["uploadinput",""],["class","text-right error mb-1",4,"ngIf"],["id","uploadbutton","type","submit","mat-raised-button","","color","primary",1,"text-center"],["id","profileicon"],[1,"mt-2","infotext","text-center"],[1,"text-right","error","mb-1"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"training-buddy-unsigned-navbar"),t.TgZ(2,"mat-grid-list",1)(3,"mat-grid-tile")(4,"mat-card")(5,"mat-card-content")(6,"form",2),t.NdJ("ngSubmit",function(a){return o.upload(a)}),t.TgZ(7,"div",3)(8,"div",4)(9,"h1",5),t._uU(10,"Profile Image"),t.qZA()(),t.TgZ(11,"div",6)(12,"div",7),t._uU(13,"Select or Drag and Drop your files"),t.qZA(),t.TgZ(14,"div",8),t.YNc(15,y,3,0,"div",9),t.YNc(16,P,6,0,"div",10),t.TgZ(17,"input",11,12),t.NdJ("change",function(a){return o.fileattatched(a)}),t.qZA()(),t.YNc(19,Z,2,1,"div",13),t.YNc(20,O,2,1,"div",13),t.TgZ(21,"button",14),t._uU(22,"Upload"),t.qZA()()()()()()()()()),2&i&&(t.Q6J("ngStyle",t.VKq(7,v,"url("+o.img+")")),t.xp6(6),t.Q6J("formGroup",o.uploadfrm),t.xp6(8),t.Q6J("ngStyle",t.VKq(9,v,"url("+o.url+")")),t.xp6(1),t.Q6J("ngIf",!o.showuploaded),t.xp6(1),t.Q6J("ngIf",!o.showuploaded),t.xp6(3),t.Q6J("ngIf",o.showfilename),t.xp6(1),t.Q6J("ngIf",o.submit&&o.fileuploadflag))},directives:[s.PC,b.B,c.Il,c.DX,h.a8,h.dn,r._Y,r.JL,r.sg,s.O5,U.Hw,r.Fj,r.JJ,r.u,M.lW],styles:["mat-grid-list[_ngcontent-%COMP%]{height:100vw;max-height:80vh;min-height:400px}@media (max-width: 300px){mat-grid-list[_ngcontent-%COMP%]{background-color:transparent}}@media (max-width: 1035px){mat-grid-list[_ngcontent-%COMP%]{height:100vh}}mat-card[_ngcontent-%COMP%]{width:90vw;max-width:400px}.text-right[_ngcontent-%COMP%]{text-align:end}#background[_ngcontent-%COMP%]{height:100vh;background-size:cover;background-repeat:no-repeat}#uploadbutton[_ngcontent-%COMP%]{width:100%;background-color:#1b1a1b!important;margin-top:2%}.infotag[_ngcontent-%COMP%]{margin-bottom:1.5%}#fileuploaddiv[_ngcontent-%COMP%]{background-color:#1b1a1b13;position:relative;width:100%;height:250px;background-size:cover;background-repeat:no-repeat}#fileupload[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;position:absolute}#fileupload[_ngcontent-%COMP%]:hover{cursor:pointer}#profileicon[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{font-size:50px;position:absolute;top:35%;left:50%;transform:translate(-100%,-100%)}.infotext[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-50%)}.text-center[_ngcontent-%COMP%]{text-align:center}#title[_ngcontent-%COMP%]{margin-bottom:1%!important}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(w)],g.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[r.qu,m._M,f.N],imports:[[s.ez,T,x.W,r.UX,r.u5]]}),e})()}}]);