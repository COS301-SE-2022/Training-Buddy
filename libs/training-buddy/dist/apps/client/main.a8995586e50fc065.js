"use strict";var vD=Object.defineProperty,_D=Object.defineProperties,ED=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,bD=Object.prototype.hasOwnProperty,wD=Object.prototype.propertyIsEnumerable,tb=(Xt,tt,y)=>tt in Xt?vD(Xt,tt,{enumerable:!0,configurable:!0,writable:!0,value:y}):Xt[tt]=y,nb=(Xt,tt)=>{for(var y in tt||(tt={}))bD.call(tt,y)&&tb(Xt,y,tt[y]);if(eb)for(var y of eb(tt))wD.call(tt,y)&&tb(Xt,y,tt[y]);return Xt},rb=(Xt,tt)=>_D(Xt,ED(tt));(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{3583:(Xt,tt,y)=>{y.d(tt,{su:()=>Gt,W7:()=>Ce}),y(655);var _=y(5e3);y(8306),y(576),y(3268),y(1135),y(8996),y(5963),y(6451),y(7579),y(4707),y(5577),y(4482),y(5032),y(5403),y(3900),y(4004),y(4782),y(8675),y(5684),y(1884),y(2722),y(9808);let Ce=(()=>{class de{}return de.\u0275fac=function(M){return new(M||de)},de.\u0275prov=_.Yz7({token:de,factory:de.\u0275fac}),de})();class En{getNativeWindow(){return window}}class ln{getNativeDocument(){return document}}const mt=[En,ln];var qt=(()=>{return(de=qt||(qt={}))[de.HTTP=1]="HTTP",de[de.HTTPS=2]="HTTPS",de[de.AUTO=3]="AUTO",qt;var de})();const Qt=new _.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let un=(()=>{class de extends Ce{constructor(M=null,Z,it,Ye){super(),this.localeId=Ye,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=M||{},this._windowRef=Z,this._documentRef=it}load(){const M=this._windowRef.getNativeWindow();if(M.google&&M.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const Z=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(Z)return this._assignScriptLoadingPromise(Z),this._scriptLoadingPromise;const it=this._documentRef.getNativeDocument().createElement("script");return it.type="text/javascript",it.async=!0,it.defer=!0,it.id=this._SCRIPT_ID,it.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(it),this._documentRef.getNativeDocument().body.appendChild(it),this._scriptLoadingPromise}_assignScriptLoadingPromise(M){this._scriptLoadingPromise=new Promise((Z,it)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{Z()},M.onerror=Ye=>{it(Ye)}})}_getScriptSrc(M){let it;switch(this._config&&this._config.protocol||qt.HTTPS){case qt.AUTO:it="";break;case qt.HTTP:it="http:";break;case qt.HTTPS:it="https:"}const je={v:this._config.apiVersion||"quarterly",callback:M,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||("en-US"!==this.localeId?this.localeId:null)};return`${it}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(je).filter(yt=>null!=je[yt]).filter(yt=>!Array.isArray(je[yt])||Array.isArray(je[yt])&&je[yt].length>0).map(yt=>{const dt=je[yt];return Array.isArray(dt)?{key:yt,value:dt.join(",")}:{key:yt,value:je[yt]}}).map(yt=>`${yt.key}=${yt.value}`).join("&")}`}}return de.\u0275fac=function(M){return new(M||de)(_.LFG(Qt,8),_.LFG(En),_.LFG(ln),_.LFG(_.soG))},de.\u0275prov=_.Yz7({token:de,factory:de.\u0275fac}),de})(),Gt=(()=>{class de{static forRoot(M){return{ngModule:de,providers:[...mt,{provide:Ce,useClass:un},{provide:Qt,useValue:M}]}}}return de.\u0275fac=function(M){return new(M||de)},de.\u0275mod=_.oAB({type:de}),de.\u0275inj=_.cJS({}),de})()},440:(Xt,tt,y)=>{y.d(tt,{nm:()=>vi});var u=y(8916);y(5e3),y(5867);var qe=y(9671),Te=y(9681),Ue=y(4859),rt=y(2090),ze=y(1877);const J=new Map,re={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function He(Rt){return J.get(Rt)||re}function Je(Rt,Ot){J.set(Rt,Ot)}function ut(){return Ce}class qt{constructor(Ot,Lt,hn,jn,er){if(this.operation=Ot,this.retryPolicy=Lt,this.getWaitDuration=hn,this.lowerBound=jn,this.upperBound=er,this.pending=null,this.nextErrorWaitInterval=jn,jn>er)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ot){var Lt=this;return(0,qe.Z)(function*(){Lt.stop();try{Lt.pending=new rt.BH,yield function Qt(Rt){return new Promise(Ot=>{setTimeout(Ot,Rt)})}(Lt.getNextRun(Ot)),Lt.pending.resolve(),yield Lt.pending.promise,Lt.pending=new rt.BH,yield Lt.operation(),Lt.pending.resolve(),yield Lt.pending.promise,Lt.process(!0).catch(()=>{})}catch(hn){Lt.retryPolicy(hn)?Lt.process(!1).catch(()=>{}):Lt.stop()}})()}getNextRun(Ot){if(Ot)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Lt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Lt}}}const _n=new rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function At(Rt){if(!He(Rt).activated)throw _n.create("use-before-activation",{appName:Rt.name})}function In(Rt,Ot){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,qe.Z)(function*({url:Rt,body:Ot},Lt){var hn,jn;const er={"Content-Type":"application/json"},Ur=Lt.getImmediate({optional:!0});if(Ur){const Ii=yield Ur.getHeartbeatsHeader();Ii&&(er["X-Firebase-Client"]=Ii)}const mi={method:"POST",body:JSON.stringify(Ot),headers:er};let Qr,Ni;try{Qr=yield fetch(Rt,mi)}catch(Ii){throw _n.create("fetch-network-error",{originalErrorMessage:null===(hn=Ii)||void 0===hn?void 0:hn.message})}if(200!==Qr.status)throw _n.create("fetch-status-error",{httpStatus:Qr.status});try{Ni=yield Qr.json()}catch(Ii){throw _n.create("fetch-parse-error",{originalErrorMessage:null===(jn=Ii)||void 0===jn?void 0:jn.message})}const ms=Ni.ttl.match(/^([\d.]+)(s)$/);if(!ms||!ms[2]||isNaN(Number(ms[1])))throw _n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ni.ttl}`});const os=1e3*Number(ms[1]),pi=Date.now();return{token:Ni.token,expireTimeMillis:pi+os,issuedAtTimeMillis:pi}})).apply(this,arguments)}function ar(Rt,Ot){const{projectId:Lt,appId:hn,apiKey:jn}=Rt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Lt}/apps/${hn}:exchangeDebugToken?key=${jn}`,body:{debug_token:Ot}}}const cn="firebase-app-check-store";let dr=null;function yr(){return dr||(dr=new Promise((Rt,Ot)=>{var Lt;try{const hn=indexedDB.open("firebase-app-check-database",1);hn.onsuccess=jn=>{Rt(jn.target.result)},hn.onerror=jn=>{var er;Ot(_n.create("storage-open",{originalErrorMessage:null===(er=jn.target.error)||void 0===er?void 0:er.message}))},hn.onupgradeneeded=jn=>{0===jn.oldVersion&&jn.target.result.createObjectStore(cn,{keyPath:"compositeKey"})}}catch(hn){Ot(_n.create("storage-open",{originalErrorMessage:null===(Lt=hn)||void 0===Lt?void 0:Lt.message}))}}),dr)}function Vt(){return(Vt=(0,qe.Z)(function*(Rt,Ot){const hn=(yield yr()).transaction(cn,"readwrite"),er=hn.objectStore(cn).put({compositeKey:Rt,value:Ot});return new Promise((Ur,mi)=>{er.onsuccess=Qr=>{Ur()},hn.onerror=Qr=>{var Ni;mi(_n.create("storage-set",{originalErrorMessage:null===(Ni=Qr.target.error)||void 0===Ni?void 0:Ni.message}))}})})).apply(this,arguments)}const Tn=new ze.Yd("@firebase/app-check");function tr(Rt,Ot){return(0,rt.hl)()?function Ft(Rt,Ot){return function Bt(Rt,Ot){return Vt.apply(this,arguments)}(function Cn(Rt){return`${Rt.options.appId}-${Rt.name}`}(Rt),Ot)}(Rt,Ot).catch(Lt=>{Tn.warn(`Failed to write token to IndexedDB. Error: ${Lt}`)}):Promise.resolve()}function bn(){return ut().enabled}function Rr(){return ct.apply(this,arguments)}function ct(){return(ct=(0,qe.Z)(function*(){const Rt=ut();if(Rt.enabled&&Rt.token)return Rt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const W={error:"UNKNOWN_ERROR"};function N(Rt){return rt.US.encodeString(JSON.stringify(Rt),!1)}function U(Rt){return Se.apply(this,arguments)}function Se(){return(Se=(0,qe.Z)(function*(Rt,Ot=!1){const Lt=Rt.app;At(Lt);const hn=He(Lt);let er,jn=hn.token;if(!jn){const Qr=yield hn.cachedTokenPromise;Qr&&Z(Qr)&&(jn=Qr)}if(!Ot&&jn&&Z(jn))return{token:jn.token};let mi,Ur=!1;if(bn()){hn.exchangeTokenPromise||(hn.exchangeTokenPromise=In(ar(Lt,yield Rr()),Rt.heartbeatServiceProvider).then(Ni=>(hn.exchangeTokenPromise=void 0,Ni)),Ur=!0);const Qr=yield hn.exchangeTokenPromise;return yield tr(Lt,Qr),Je(Lt,Object.assign(Object.assign({},hn),{token:Qr})),{token:Qr.token}}try{hn.exchangeTokenPromise||(hn.exchangeTokenPromise=hn.provider.getToken().then(Qr=>(hn.exchangeTokenPromise=void 0,Qr)),Ur=!0),jn=yield hn.exchangeTokenPromise}catch(Qr){"appCheck/throttled"===Qr.code?Tn.warn(Qr.message):Tn.error(Qr),er=Qr}return jn?(mi={token:jn.token},Je(Lt,Object.assign(Object.assign({},hn),{token:jn})),yield tr(Lt,jn)):mi=it(er),Ur&&M(Lt,mi),mi})).apply(this,arguments)}function Gt(Rt,Ot){const Lt=He(Rt),hn=Lt.tokenObservers.filter(jn=>jn.next!==Ot);0===hn.length&&Lt.tokenRefresher&&Lt.tokenRefresher.isRunning()&&Lt.tokenRefresher.stop(),Je(Rt,Object.assign(Object.assign({},Lt),{tokenObservers:hn}))}function de(Rt){const{app:Ot}=Rt,Lt=He(Ot);let hn=Lt.tokenRefresher;hn||(hn=function Nt(Rt){const{app:Ot}=Rt;return new qt((0,qe.Z)(function*(){let hn;if(hn=He(Ot).token?yield U(Rt,!0):yield U(Rt),hn.error)throw hn.error}),()=>!0,()=>{const Lt=He(Ot);if(Lt.token){let hn=Lt.token.issuedAtTimeMillis+.5*(Lt.token.expireTimeMillis-Lt.token.issuedAtTimeMillis)+3e5;return hn=Math.min(hn,Lt.token.expireTimeMillis-3e5),Math.max(0,hn-Date.now())}return 0},3e4,96e4)}(Rt),Je(Ot,Object.assign(Object.assign({},Lt),{tokenRefresher:hn}))),!hn.isRunning()&&Lt.isTokenAutoRefreshEnabled&&hn.start()}function M(Rt,Ot){const Lt=He(Rt).tokenObservers;for(const hn of Lt)try{"EXTERNAL"===hn.type&&null!=Ot.error?hn.error(Ot.error):hn.next(Ot)}catch(jn){}}function Z(Rt){return Rt.expireTimeMillis-Date.now()>0}function it(Rt){return{token:N(W),error:Rt}}class Ye{constructor(Ot,Lt){this.app=Ot,this.heartbeatServiceProvider=Lt}_delete(){const{tokenObservers:Ot}=He(this.app);for(const Lt of Ot)Gt(this.app,Lt.next);return Promise.resolve()}}const Ai="app-check-internal";!function ui(){(0,Te._registerComponent)(new Ue.wA("app-check",Rt=>function je(Rt,Ot){return new Ye(Rt,Ot)}(Rt.getProvider("app").getImmediate(),Rt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Rt,Ot,Lt)=>{Rt.getProvider(Ai).initialize()})),(0,Te._registerComponent)(new Ue.wA(Ai,Rt=>function nt(Rt){return{getToken:Ot=>U(Rt,Ot),addTokenListener:Ot=>function ht(Rt,Ot,Lt,hn){const{app:jn}=Rt,er=He(jn),Ur={next:Lt,error:hn,type:Ot};if(Je(jn,Object.assign(Object.assign({},er),{tokenObservers:[...er.tokenObservers,Ur]})),er.token&&Z(er.token)){const mi=er.token;Promise.resolve().then(()=>{Lt({token:mi.token}),de(Rt)}).catch(()=>{})}er.cachedTokenPromise.then(()=>de(Rt))}(Rt,"INTERNAL",Ot),removeTokenListener:Ot=>Gt(Rt.app,Ot)}}(Rt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)("@firebase/app-check","0.5.12")}();class vi{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},6271:(Xt,tt,y)=>{y.d(tt,{ST:()=>Sg,yb:()=>S_});var u=y(5e3),_=y(4986),S=y(8306),ee=y(8996),ce=y(9646),me=y(8916),Pe=y(4482),ve=y(5403);function _e(){return(0,Pe.e)((i,e)=>{let t,s=!1;i.subscribe((0,ve.x)(e,l=>{const h=t;t=l,s&&e.next([h,l]),s=!0}))})}var J,$=y(8675),ie=y(4004),oe=y(5026),Fe=y(1884),Ie=y(9300),ue=y(2011),$e=y(9808),Qe=(y(1451),y(3942)),Be=y(9671),xt=y(9681),qe=y(4859),Te=y(1877),Ue=y(2090),rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ze={},re=re||{},Ce=rt||self;function He(){}function Je(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Kt="closure_uid_"+(1e9*Math.random()>>>0),rn=0;function En(i,e,t){return i.call.apply(i.bind,arguments)}function ln(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function mt(i,e,t){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?En:ln).apply(null,arguments)}function qt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Qt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,l,h){for(var m=Array(arguments.length-2),P=2;P<arguments.length;P++)m[P-2]=arguments[P];return e.prototype[l].apply(s,m)}}function un(){this.s=this.s,this.o=this.o}var Mt={};un.prototype.s=!1,un.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ot(i){return Object.prototype.hasOwnProperty.call(i,Kt)&&i[Kt]||(i[Kt]=++rn)}(this);delete Mt[i]}},un.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const At=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ht=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<s;h++)h in l&&e.call(t,l[h],h,i)};function In(i){return Array.prototype.concat.apply([],arguments)}function Gn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function Qn(i){return/^[\s\xa0]*$/.test(i)}var Ar,Kn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ar(i,e){return-1!=i.indexOf(e)}function Wr(i,e){return i<e?-1:i>e?1:0}e:{var cn=Ce.navigator;if(cn){var Fr=cn.userAgent;if(Fr){Ar=Fr;break e}}Ar=""}function dr(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function yr(i){const e={};for(const t in i)e[t]=i[t];return e}var on="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ft(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let h=0;h<on.length;h++)t=on[h],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Ne(i){return Ne[" "](i),i}Ne[" "]=He;var Wn,i,Bt=ar(Ar,"Opera"),Vt=ar(Ar,"Trident")||ar(Ar,"MSIE"),Yt=ar(Ar,"Edge"),en=Yt||Vt,Cn=ar(Ar,"Gecko")&&!(ar(Ar.toLowerCase(),"webkit")&&!ar(Ar,"Edge"))&&!(ar(Ar,"Trident")||ar(Ar,"MSIE"))&&!ar(Ar,"Edge"),Tn=ar(Ar.toLowerCase(),"webkit")&&!ar(Ar,"Edge");function Rn(){var i=Ce.document;return i?i.documentMode:void 0}e:{var tr="",Sn=(i=Ar,Cn?/rv:([^\);]+)(\)|;)/.exec(i):Yt?/Edge\/([\d\.]+)/.exec(i):Vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tn?/WebKit\/(\S+)/.exec(i):Bt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Sn&&(tr=Sn?Sn[1]:""),Vt){var Hn=Rn();if(null!=Hn&&Hn>parseFloat(tr)){Wn=String(Hn);break e}}Wn=tr}var bn={};var W=Ce.document&&Vt&&(Rn()||parseInt(Wn,10))||void 0,N=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ce.addEventListener("test",He,e),Ce.removeEventListener("test",He,e)}catch(t){}return i}();function U(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Se(i,e){if(U.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Cn){e:{try{Ne(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ht[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Se.Z.h.call(this)}}U.prototype.h=function(){this.defaultPrevented=!0},Qt(Se,U);var ht={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),de=0;function Nt(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=l,this.key=++de,this.ca=this.fa=!1}function M(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Z(i){this.src=i,this.g={},this.h=0}function it(i,e){var t=e.type;if(t in i.g){var h,s=i.g[t],l=At(s,e);(h=0<=l)&&Array.prototype.splice.call(s,l,1),h&&(M(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Ye(i,e,t,s){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==s)return l}return-1}Z.prototype.add=function(i,e,t,s,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var m=Ye(i,e,s,l);return-1<m?(e=i[m],t||(e.fa=!1)):((e=new Nt(e,this.src,h,!!s,l)).fa=t,i.push(e)),e};var je="closure_lm_"+(1e6*Math.random()|0),nt={};function yt(i,e,t,s,l){if(s&&s.once)return Un(i,e,t,s,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)yt(i,e[h],t,s,l);return null}return t=gi(t),i&&i[Gt]?i.N(e,t,ut(s)?!!s.capture:!!s,l):dt(i,e,t,!1,s,l)}function dt(i,e,t,s,l,h){if(!e)throw Error("Invalid event type");var m=ut(l)?!!l.capture:!!l,P=Xr(i);if(P||(i[je]=P=new Z(i)),(t=P.add(e,t,s,m,h)).proxy)return t;if(s=function Jn(){var e=Br;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)N||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(li(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Un(i,e,t,s,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)Un(i,e[h],t,s,l);return null}return t=gi(t),i&&i[Gt]?i.O(e,t,ut(s)?!!s.capture:!!s,l):dt(i,e,t,!0,s,l)}function vr(i,e,t,s,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)vr(i,e[h],t,s,l);else s=ut(s)?!!s.capture:!!s,t=gi(t),i&&i[Gt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Ye(h=i.g[e],t,s,l))&&(M(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Xr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ye(e,t,s,l)),(t=-1<i?e[i]:null)&&Kr(t))}function Kr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Gt])it(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(li(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Xr(e))?(it(t,i),0==t.h&&(t.src=null,e[je]=null)):M(i)}}}function li(i){return i in nt?nt[i]:nt[i]="on"+i}function Br(i,e){if(i.ca)i=!0;else{e=new Se(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&Kr(i),i=t.call(s,e)}return i}function Xr(i){return(i=i[je])instanceof Z?i:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function gi(i){return"function"==typeof i?i:(i[_r]||(i[_r]=function(e){return i.handleEvent(e)}),i[_r])}function Nr(){un.call(this),this.i=new Z(this),this.P=this,this.I=null}function Mn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new U(e,i);else if(e instanceof U)e.target=e.target||i;else{var l=e;Ft(e=new U(s,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var m=e.g=t[h];l=ft(m,s,!0,e)&&l}if(l=ft(m=e.g=i,s,!0,e)&&l,l=ft(m,s,!1,e)&&l,t)for(h=0;h<t.length;h++)l=ft(m=e.g=t[h],s,!1,e)&&l}function ft(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var m=e[h];if(m&&!m.ca&&m.capture==t){var P=m.listener,te=m.ia||m.src;m.fa&&it(i.i,m),l=!1!==P.call(te,s)&&l}}return l&&!s.defaultPrevented}Qt(Nr,un),Nr.prototype[Gt]=!0,Nr.prototype.removeEventListener=function(i,e,t,s){vr(this,i,e,t,s)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)M(t[s]);delete i.g[e],i.h--}}this.I=null},Nr.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Nr.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var $t=Ce.JSON.stringify;function yn(){var i=ni;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Vn,gr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Et,i=>i.reset());class Et{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gt(i){Ce.setTimeout(()=>{throw i},0)}function Ut(i,e){Vn||function An(){var i=Ce.Promise.resolve(void 0);Vn=function(){i.then(Ai)}}(),kr||(Vn(),kr=!0),ni.add(i,e)}var kr=!1,ni=new class $n{constructor(){this.h=this.g=null}add(e,t){const s=gr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ai(){for(var i;i=yn();){try{i.h.call(i.g)}catch(t){gt(t)}var e=gr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}kr=!1}function ui(i,e){Nr.call(this),this.h=i||1,this.g=e||Ce,this.j=mt(this.kb,this),this.l=Date.now()}function Yr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function hi(i,e,t){if("function"==typeof i)t&&(i=mt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=mt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ce.setTimeout(i,e||0)}function vi(i){i.g=hi(()=>{i.g=null,i.i&&(i.i=!1,vi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Qt(ui,Nr),(J=ui.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mn(this,"tick"),this.da&&(Yr(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){ui.Z.M.call(this),Yr(this),delete this.g};class ri extends un{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vi(this)}M(){super.M(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(i){un.call(this),this.h=i,this.g={}}Qt(Ir,un);var ki=[];function Hi(i,e,t,s){Array.isArray(t)||(t&&(ki[0]=t.toString()),t=ki);for(var l=0;l<t.length;l++){var h=yt(e,t[l],s||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function ii(i){dr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Kr(e)},i),i.g={}}function Di(){this.g=!0}function _i(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gs(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<l.length;m++)l[m]=""}}}return $t(t)}catch(P){return e}}(i,t)+(s?" "+s:"")})}Ir.prototype.M=function(){Ir.Z.M.call(this),ii(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Di.prototype.Aa=function(){this.g=!1},Di.prototype.info=function(){};var ss={},bs=null;function di(){return bs=bs||new Nr}function Oi(i){U.call(this,ss.Ma,i)}function Rt(i){const e=di();Mn(e,new Oi(e,i))}function Ot(i,e){U.call(this,ss.STAT_EVENT,i),this.stat=e}function Lt(i){const e=di();Mn(e,new Ot(e,i))}function hn(i,e){U.call(this,ss.Na,i),this.size=e}function jn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){i()},e)}ss.Ma="serverreachability",Qt(Oi,U),ss.STAT_EVENT="statevent",Qt(Ot,U),ss.Na="timingevent",Qt(hn,U);var er={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mi(){}function Ni(){}mi.prototype.h=null;var Ii,ms={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function os(){U.call(this,"d")}function pi(){U.call(this,"c")}function ys(){}function Qi(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new Ir(this),this.P=Gs,this.W=new ui(i=en?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Js}function Js(){this.i=null,this.g="",this.h=!1}Qt(os,U),Qt(pi,U),Qt(ys,mi),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Ii=new ys;var Gs=45e3,$r={},ns={};function Ti(i,e,t){i.K=1,i.v=pt(It(e)),i.s=t,i.U=!0,Zi(i,null)}function Zi(i,e){i.F=Date.now(),zi(i),i.A=It(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Yn(t.h,"t",s),i.C=0,t=i.l.H,i.h=new Js,i.g=pe(i.l,t?e:null,!i.s),0<i.O&&(i.L=new ri(mt(i.Ia,i,i.g),i.O)),Hi(i.V,i.g,"readystatechange",i.gb),e=i.H?yr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Rt(1),function $i(i,e,t,s,l,h){i.info(function(){if(i.g)if(h)for(var m="",P=h.split("&"),te=0;te<P.length;te++){var we=P[te].split("=");if(1<we.length){var Ze=we[0];we=we[1];var wt=Ze.split("_");m=2<=wt.length&&"type"==wt[1]?m+(Ze+"=")+we+"&":m+(Ze+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ps(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function vs(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=Fs(i,t),l==ns){4==e&&(i.o=4,Lt(14),s=!1),_i(i.j,i.m,null,"[Incomplete Response]");break}if(l==$r){i.o=4,Lt(15),_i(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}_i(i.j,i.m,l,null),C(i,l)}Ps(i)&&l!=ns&&l!=$r&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Lt(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ds(e),e.L=!0,Lt(11))):(_i(i.j,i.m,t,"[Invalid Chunked Response]"),se(i),Q(i))}function Fs(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?ns:(t=Number(e.substring(t,s)),isNaN(t)?$r:(s+=1)+t>e.length?ns:(e=e.substr(s,t),i.C=s+t,e))}function zi(i){i.Y=Date.now()+i.P,Me(i,i.P)}function Me(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=jn(mt(i.eb,i),e)}function ne(i){i.B&&(Ce.clearTimeout(i.B),i.B=null)}function Q(i){0==i.l.G||i.I||Mr(i.l,i)}function se(i){ne(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Yr(i.W),ii(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function C(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Li(t.i,i)))if(t.I=i.N,!i.J&&Li(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(we){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=jn(mt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Er(t),xs(t)}ws(t),Lt(18)}if(1>=go(t.i)&&t.ka){try{t.ka()}catch(we){}t.ka=void 0}}else xi(t,11)}else if((i.J||t.g==i)&&Er(t),!Qn(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let we=l[e];if(t.U=we[0],we=we[1],2==t.G)if("c"==we[0]){t.J=we[1],t.la=we[2];const Ze=we[3];null!=Ze&&(t.ma=Ze,t.h.info("VER="+t.ma));const wt=we[4];null!=wt&&(t.za=wt,t.h.info("SVER="+t.za));const tn=we[5];null!=tn&&"number"==typeof tn&&0<tn&&(t.K=s=1.5*tn,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const wn=i.g;if(wn){const Nn=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nn){var h=s.i;!h.g&&(ar(Nn,"spdy")||ar(Nn,"quic")||ar(Nn,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(So(h,h.h),h.h=null))}if(s.D){const cr=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;cr&&(s.sa=cr,We(s.F,s.D,cr))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=i;if((s=t).oa=_s(s,s.H?s.la:null,s.W),m.J){ds(s.i,m);var P=m,te=s.K;te&&P.setTimeout(te),P.B&&(ne(P),zi(P)),s.g=m}else Qs(s);0<t.l.length&&$s(t)}else"stop"!=we[0]&&"close"!=we[0]||xi(t,7);else 3==t.G&&("stop"==we[0]||"close"==we[0]?"stop"==we[0]?xi(t,7):si(t):"noop"!=we[0]&&t.j&&t.j.wa(we),t.A=0)}Rt(4)}catch(we){}}function E(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Je(i)||"string"==typeof i)Ht(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Je(i)||"string"==typeof i){t=[];for(var s=i.length,l=0;l<s;l++)t.push(l)}else for(l in t=[],s=0,i)t[s++]=l;s=function g(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Je(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length;for(var h=0;h<l;h++)e.call(void 0,s[h],t&&t[h],i)}}function V(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof V)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function K(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];ye(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)ye(l,s=i.g[e])||(i.g[t++]=s,l[s]=1),e++;i.g.length=t}}function ye(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(J=Qi.prototype).setTimeout=function(i){this.P=i},J.gb=function(i){i=i.target;const e=this.L;e&&3==pr(i)?e.l():this.Ia(i)},J.Ia=function(i){try{if(i==this.g)e:{const Ze=pr(this.g);var e=this.g.Da();const wt=this.g.ba();if(!(3>Ze)&&(3!=Ze||en||this.g&&(this.h.h||this.g.ga()||xr(this.g)))){this.I||4!=Ze||7==e||Rt(8==e||0>=wt?3:2),ne(this);var t=this.g.ba();this.N=t;t:if(Ps(this)){var s=xr(this.g);i="";var l=s.length,h=4==pr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){se(this),Q(this);var m="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:h&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function Wi(i,e,t,s,l,h,m){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,Ze,t),this.i){if(this.$&&!this.J){t:{if(this.g){var P,te=this.g;if((P=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qn(P)){var we=P;break t}}we=null}if(!(t=we)){this.i=!1,this.o=3,Lt(12),se(this),Q(this);break e}_i(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,C(this,t)}this.U?(vs(this,Ze,m),en&&this.i&&3==Ze&&(Hi(this.V,this.W,"tick",this.fb),this.W.start())):(_i(this.j,this.m,m,null),C(this,m)),4==Ze&&se(this),this.i&&!this.I&&(4==Ze?Mr(this.l,this):(this.i=!1,zi(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Lt(12)):(this.o=0,Lt(13)),se(this),Q(this)}}}catch(Ze){}},J.fb=function(){if(this.g){var i=pr(this.g),e=this.g.ga();this.C<e.length&&(ne(this),vs(this,i,e),this.i&&4!=i&&zi(this))}},J.cancel=function(){this.I=!0,se(this)},J.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ei(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rt(3),Lt(17)),se(this),this.o=2,Q(this)):Me(this,this.Y-i)},(J=V.prototype).R=function(){K(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},J.T=function(){return K(this),this.g.concat()},J.get=function(i,e){return ye(this.h,i)?this.h[i]:e},J.set=function(i,e){ye(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},J.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var l=t[s],h=this.get(l);i.call(e,h,l,this)}};var et=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ct(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ct){this.g=void 0!==e?e:i.g,F(this,i.j),this.s=i.s,X(this,i.i),k(this,i.m),this.l=i.l,e=i.h;var t=new G;t.i=e.i,e.g&&(t.g=new V(e.g),t.h=e.h),ge(this,t),this.o=i.o}else i&&(t=String(i).match(et))?(this.g=!!e,F(this,t[1]||"",!0),this.s=fr(t[2]||""),X(this,t[3]||"",!0),k(this,t[4]),this.l=fr(t[5]||"",!0),ge(this,t[6]||"",!0),this.o=fr(t[7]||"")):(this.g=!!e,this.h=new G(null,this.g))}function It(i){return new Ct(i)}function F(i,e,t){i.j=t?fr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function X(i,e,t){i.i=t?fr(e,!0):e}function k(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ge(i,e,t){e instanceof G?(i.h=e,function Xi(i,e){e&&!i.j&&(L(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Re(this,s),Yn(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Zn(e,qr)),i.h=new G(e,i.g))}function We(i,e,t){i.h.set(e,t)}function pt(i){return We(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function fr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Zn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ir),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ir(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ct.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Zn(e,lr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Zn(e,lr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Zn(t,"/"==t.charAt(0)?Dr:wr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Zn(t,Y)),i.join("")};var lr=/[#\/\?@]/g,wr=/[#\?:]/g,Dr=/[#\?]/g,qr=/[#\?@]/g,Y=/#/g;function G(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function L(i){i.g||(i.g=new V,i.h=0,i.i&&function Dt(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var h=i[t].substring(0,s);l=i[t].substring(s+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Re(i,e){L(i),e=ci(i,e),ye(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ye((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&K(i)))}function sn(i,e){return L(i),e=ci(i,e),ye(i.g.h,e)}function Yn(i,e,t){Re(i,e),0<t.length&&(i.i=null,i.g.set(ci(i,e),Gn(t)),i.h+=t.length)}function ci(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function es(i){this.l=i||vn,i=Ce.PerformanceNavigationTiming?0<(i=Ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=G.prototype).add=function(i,e){L(this),this.i=null,i=ci(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},J.forEach=function(i,e){L(this),this.g.forEach(function(t,s){Ht(t,function(l){i.call(e,l,s,this)},this)},this)},J.T=function(){L(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var l=i[s],h=0;h<l.length;h++)t.push(e[s]);return t},J.R=function(i){L(this);var e=[];if("string"==typeof i)sn(this,i)&&(e=In(e,this.g.get(ci(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=In(e,i[t])}return e},J.set=function(i,e){return L(this),this.i=null,sn(this,i=ci(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},J.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],l=encodeURIComponent(String(s));s=this.R(s);for(var h=0;h<s.length;h++){var m=l;""!==s[h]&&(m+="="+encodeURIComponent(String(s[h]))),i.push(m)}}return this.i=i.join("&")};var vn=10;function ei(i){return!!i.h||!!i.g&&i.g.size>=i.j}function go(i){return i.h?1:i.g?i.g.size:0}function Li(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function So(i,e){i.g?i.g.add(e):i.h=e}function ds(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ts(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Gn(i.i)}function mo(){}function ko(){this.g=new mo}function xa(i,e,t){const s=t||"";try{E(i,function(l,h){let m=l;ut(l)&&(m=$t(l)),e.push(s+h+"="+encodeURIComponent(m))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function ro(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch(h){}}function io(i){this.l=i.$b||null,this.j=i.ib||!1}function Ki(i,e){Nr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}es.prototype.cancel=function(){if(this.i=Ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},mo.prototype.stringify=function(i){return Ce.JSON.stringify(i,void 0)},mo.prototype.parse=function(i){return Ce.JSON.parse(i,void 0)},Qt(io,mi),io.prototype.g=function(){return new Ki(this.l,this.j)},io.prototype.i=function(i){return function(){return i}}({}),Qt(Ki,Nr);var Hs=0;function ia(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function be(i){i.readyState=4,i.l=null,i.j=null,i.A=null,b(i)}function b(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(J=Ki.prototype).open=function(i,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,b(this)},J.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,be(this)),this.readyState=Hs},J.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,b(this)),this.g&&(this.readyState=3,b(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ce.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ia(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?be(this):b(this),3==this.readyState&&ia(this)}},J.Ua=function(i){this.g&&(this.response=this.responseText=i,be(this))},J.Ta=function(i){this.g&&(this.response=i,be(this))},J.ha=function(){this.g&&be(this)},J.setRequestHeader=function(i,e){this.v.append(i,e)},J.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var A=Ce.JSON.parse;function H(i){Nr.call(this),this.headers=new V,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xe,this.K=this.L=!1}Qt(H,Nr);var xe="",Xe=/^https?$/i,_t=["POST","PUT"];function zt(i){return"content-type"==i.toLowerCase()}function pn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,nr(i),Tr(i)}function nr(i){i.D||(i.D=!0,Mn(i,"complete"),Mn(i,"error"))}function mr(i){if(i.h&&void 0!==re&&(!i.C[1]||4!=pr(i)||2!=i.ba()))if(i.v&&4==pr(i))hi(i.Fa,0,i);else if(Mn(i,"readystatechange"),4==pr(i)){i.h=!1;try{const P=i.ba();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===P){var l=String(i.H).match(et)[1]||null;if(!l&&Ce.self&&Ce.self.location){var h=Ce.self.location.protocol;l=h.substr(0,h.length-1)}s=!Xe.test(l?l.toLowerCase():"")}t=s}if(t)Mn(i,"complete"),Mn(i,"success");else{i.m=6;try{var m=2<pr(i)?i.g.statusText:""}catch(te){m=""}i.j=m+" ["+i.ba()+"]",nr(i)}}finally{Tr(i)}}}function Tr(i,e){if(i.g){Zr(i);const t=i.g,s=i.C[0]?He:null;i.g=null,i.C=null,e||Mn(i,"ready");try{t.onreadystatechange=s}catch(l){}}}function Zr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ce.clearTimeout(i.A),i.A=null)}function pr(i){return i.g?i.g.readyState:0}function xr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case xe:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ri(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function fi(i){let e="";return dr(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):We(i,e,t))}function ji(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function as(i){this.za=0,this.l=[],this.h=new Di,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ji("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ji("baseRetryDelayMs",5e3,i),this.$a=ji("retryDelaySeedMs",1e4,i),this.Ya=ji("forwardChannelMaxRetries",2,i),this.ra=ji("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new es(i&&i.concurrentRequestLimit),this.Ca=new ko,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function si(i){if(yi(i),3==i.G){var e=i.V++,t=It(i.F);We(t,"SID",i.J),We(t,"RID",e),We(t,"TYPE","terminate"),Xs(i,t),(e=new Qi(i,i.h,e,void 0)).K=2,e.v=pt(It(t)),t=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(t=Ce.navigator.sendBeacon(e.v.toString(),"")),!t&&Ce.Image&&((new Image).src=e.v,t=!0),t||(e.g=pe(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zi(e)}ls(i)}function xs(i){i.g&&(Ds(i),i.g.cancel(),i.g=null)}function yi(i){xs(i),i.u&&(Ce.clearTimeout(i.u),i.u=null),Er(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ce.clearTimeout(i.m),i.m=null)}function bi(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&$s(i)}function $s(i){ei(i.i)||i.m||(i.m=!0,Ut(i.Ha,i),i.C=0)}function hs(i,e){var t;t=e?e.m:i.V++;const s=It(i.F);We(s,"SID",i.J),We(s,"RID",t),We(s,"AID",i.U),Xs(i,s),i.o&&i.s&&Ri(s,i.o,i.s),t=new Qi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=eo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),So(i.i,t),Ti(t,s,e)}function Xs(i,e){i.j&&E({},function(t,s){We(e,s,t)})}function eo(i,e,t){t=Math.min(i.l.length,t);var s=i.j?mt(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const m=["count="+t];-1==h?0<t?(h=l[0].h,m.push("ofs="+h)):h=0:m.push("ofs="+h);let P=!0;for(let te=0;te<t;te++){let we=l[te].h;const Ze=l[te].g;if(we-=h,0>we)h=Math.max(0,l[te].h-100),P=!1;else try{xa(Ze,m,"req"+we+"_")}catch(wt){s&&s(Ze)}}if(P){s=m.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function Qs(i){i.g||i.u||(i.Y=1,Ut(i.Ga,i),i.A=0)}function ws(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=jn(mt(i.Ga,i),jr(i,i.A)),i.A++,0))}function Ds(i){null!=i.B&&(Ce.clearTimeout(i.B),i.B=null)}function rr(i){i.g=new Qi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=It(i.oa);We(e,"RID","rpc"),We(e,"SID",i.J),We(e,"CI",i.N?"0":"1"),We(e,"AID",i.U),Xs(i,e),We(e,"TYPE","xmlhttp"),i.o&&i.s&&Ri(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=pt(It(e)),t.s=null,t.U=!0,Zi(t,i)}function Er(i){null!=i.v&&(Ce.clearTimeout(i.v),i.v=null)}function Mr(i,e){var t=null;if(i.g==e){Er(i),Ds(i),i.g=null;var s=2}else{if(!Li(i.i,e))return;t=e.D,ds(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Mn(s=di(),new hn(s,t,e,l)),$s(i)}else Qs(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==s&&function Ys(i,e){return!(go(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=jn(mt(i.Ha,i,e),jr(i,i.C)),i.C++,0)))}(i,e)||2==s&&ws(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:xi(i,5);break;case 4:xi(i,10);break;case 3:xi(i,6);break;default:xi(i,2)}}function jr(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function xi(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=mt(i.jb,i);t||(t=new Ct("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||F(t,"https"),pt(t)),function No(i,e){const t=new Di;if(Ce.Image){const s=new Image;s.onload=qt(ro,t,s,"TestLoadImage: loaded",!0,e),s.onerror=qt(ro,t,s,"TestLoadImage: error",!1,e),s.onabort=qt(ro,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=qt(ro,t,s,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Lt(2);i.G=0,i.j&&i.j.va(e),ls(i),yi(i)}function ls(i){i.G=0,i.I=-1,i.j&&((0!=Ts(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Gn(i.l),i.l.length=0),i.j.ua())}function _s(i,e,t){let s=function Pt(i){return i instanceof Ct?It(i):new Ct(i,void 0)}(t);if(""!=s.i)e&&X(s,e+"."+s.i),k(s,s.m);else{const l=Ce.location;s=function dn(i,e,t,s){var l=new Ct(null,void 0);return i&&F(l,i),e&&X(l,e),t&&k(l,t),s&&(l.l=s),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&dr(i.aa,function(l,h){We(s,h,l)}),t=i.sa,(e=i.D)&&t&&We(s,e,t),We(s,"VER",i.ma),Xs(i,s),s}function pe(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new H(t&&i.Ba&&!i.qa?new io({ib:!0}):i.qa)).L=i.H,e}function De(){}function st(){if(Vt&&!(10<=Number(W)))throw Error("Environmental error: no available transport.")}function Tt(i,e){Nr.call(this),this.g=new as(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Qn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Pn(this)}function jt(i){os.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function mn(){pi.call(this),this.status=1}function Pn(i){this.g=i}(J=H.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ii.g(),this.C=function Qr(i){return i.h||(i.h=i.i())}(this.u?this.u:Ii),this.g.onreadystatechange=mt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void pn(this,h)}i=t||"";const l=new V(this.headers);s&&E(s,function(h,m){l.set(m,h)}),s=function xn(i){e:{var e=zt;const t=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in s&&e.call(void 0,s[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=Ce.FormData&&i instanceof Ce.FormData,!(0<=At(_t,e))||s||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zr(this),0<this.B&&((this.K=function bt(i){return Vt&&function Rr(){return function Ke(i){var e=bn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Kn(String(Wn)).split("."),t=Kn("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==i&&m<s;m++){var l=e[m]||"",h=t[m]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=Wr(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||Wr(0==l[2].length,0==h[2].length)||Wr(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.pa,this)):this.A=hi(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){pn(this,h)}},J.pa=function(){void 0!==re&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},J.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Mn(this,"complete"),Mn(this,"abort"),Tr(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tr(this,!0)),H.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?mr(this):this.cb())},J.cb=function(){mr(this)},J.ba=function(){try{return 2<pr(this)?this.g.status:-1}catch(i){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},J.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),A(e)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=as.prototype).ma=8,J.G=1,J.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},J.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Qi(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=yr(h),Ft(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eo(this,l,e),We(t=It(this.F),"RID",i),We(t,"CVER",22),this.D&&We(t,"X-HTTP-Session-Id",this.D),Xs(this,t),this.o&&h&&Ri(t,this.o,h),So(this.i,l),this.Ra&&We(t,"TYPE","init"),this.ja?(We(t,"$req",e),We(t,"SID","null"),l.$=!0,Ti(l,t,null)):Ti(l,t,e),this.G=2}}else 3==this.G&&(i?hs(this,i):0==this.l.length||ei(this.i)||hs(this))},J.Ga=function(){if(this.u=null,rr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=jn(mt(this.bb,this),i)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Lt(10),xs(this),rr(this))},J.ab=function(){null!=this.v&&(this.v=null,xs(this),ws(this),Lt(19))},J.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Lt(2)):(this.h.info("Failed to ping google.com"),Lt(1))},(J=De.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},st.prototype.g=function(i,e){return new Tt(i,e)},Qt(Tt,Nr),Tt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Ut(mt(i.hb,i,e))),Lt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=_s(i,null,i.W),$s(i)},Tt.prototype.close=function(){si(this.g)},Tt.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,bi(this.g,e)}else this.v?((e={}).__data__=$t(i),bi(this.g,e)):bi(this.g,i)},Tt.prototype.M=function(){this.g.j=null,delete this.j,si(this.g),delete this.g,Tt.Z.M.call(this)},Qt(jt,os),Qt(mn,pi),Qt(Pn,De),Pn.prototype.xa=function(){Mn(this.g,"a")},Pn.prototype.wa=function(i){Mn(this.g,new jt(i))},Pn.prototype.va=function(i){Mn(this.g,new mn(i))},Pn.prototype.ua=function(){Mn(this.g,"b")},st.prototype.createWebChannel=st.prototype.g,Tt.prototype.send=Tt.prototype.u,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Ur.COMPLETE="complete",Ni.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,H.prototype.listenOnce=H.prototype.O,H.prototype.getLastError=H.prototype.La,H.prototype.getLastErrorCode=H.prototype.Da,H.prototype.getStatus=H.prototype.ba,H.prototype.getResponseJson=H.prototype.Qa,H.prototype.getResponseText=H.prototype.ga,H.prototype.send=H.prototype.ea;var sr=ze.createWebChannelTransport=function(){return new st},Lr=ze.getStatEventTarget=function(){return di()},Jr=ze.ErrorCode=er,ti=ze.EventType=Ur,Sr=ze.Event=ss,Gi=ze.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},zs=ze.FetchXmlHttpFactory=io,Ci=ze.WebChannel=Ni,Lo=ze.XhrIo=H;const B="@firebase/firestore";class O{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");let I="9.9.1";const q=new Te.Yd("@firebase/firestore");function ae(){return q.logLevel}function Ve(i,...e){if(q.logLevel<=Te.in.DEBUG){const t=e.map(or);q.debug(`Firestore (${I}): ${i}`,...t)}}function vt(i,...e){if(q.logLevel<=Te.in.ERROR){const t=e.map(or);q.error(`Firestore (${I}): ${i}`,...t)}}function fn(i,...e){if(q.logLevel<=Te.in.WARN){const t=e.map(or);q.warn(`Firestore (${I}): ${i}`,...t)}}function or(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Fn(i="Unexpected state"){const e=`FIRESTORE (${I}) INTERNAL ASSERTION FAILED: `+i;throw vt(e),new Error(e)}function Ln(i,e){i||Fn()}function kn(i,e){return i}const nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class On extends Ue.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class za{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ko{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(O.UNAUTHENTICATED))}shutdown(){}}class Sa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class If{constructor(e){this.t=e,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const h=we=>this.i!==l?(l=this.i,t(we)):Promise.resolve();let m=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new rs,e.enqueueRetryable(()=>h(this.currentUser))};const P=()=>{const we=m;e.enqueueRetryable((0,Be.Z)(function*(){yield we.promise,yield h(s.currentUser)}))},te=we=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=we,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(we=>te(we)),setTimeout(()=>{if(!this.auth){const we=this.t.getImmediate({optional:!0});we?te(we):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new rs)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ln("string"==typeof s.accessToken),new za(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ln(null===e||"string"==typeof e),new O(e)}}class Ma{constructor(e,t,s){this.type="FirstParty",this.user=O.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Fc{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ma(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(O.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ma{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kc{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=h=>{null!=h.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.p;return this.p=h.token,Ve("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const l=h=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ln("string"==typeof t.token),this.p=t.token,new ma(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Bu(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class sa{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=Bu(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%e.length))}return s}}function x(i,e){return i<e?-1:i>e?1:0}function Ee(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function D(i){return i+"\0"}class z{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new On(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new On(nn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new On(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new On(nn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return z.fromMillis(Date.now())}static fromDate(e){return z.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new z(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?x(this.nanoseconds,e.nanoseconds):x(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new z(0,0))}static max(){return new fe(new z(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class at{constructor(e,t,s){void 0===t?t=0:t>e.length&&Fn(),void 0===s?s=e.length-t:s>e.length-t&&Fn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===at.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof at?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=e.get(l),m=t.get(l);if(h<m)return-1;if(h>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zt extends at{construct(e,t,s){return new Zt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new On(nn.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new Zt(t)}static emptyPath(){return new Zt([])}}const gn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends at{construct(e,t,s){return new Gr(e,t,s)}static isValidIdentifier(e){return gn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(0===s.length)throw new On(nn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new On(nn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const te=e[l+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new On(nn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=te,l+=2}else"`"===P?(m=!m,l++):"."!==P||m?(s+=P,l++):(h(),l++)}if(h(),m)throw new On(nn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class zn{constructor(e){this.path=e}static fromPath(e){return new zn(Zt.fromString(e))}static fromName(e){return new zn(Zt.fromString(e).popFirst(5))}static empty(){return new zn(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zn(new Zt(e.slice()))}}class Bo{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function ks(i){return i.fields.find(e=>2===e.kind)}function qo(i){return i.fields.filter(e=>2!==e.kind)}Bo.UNKNOWN_ID=-1;class Wa{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ka{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ka(0,Vr.min())}}function Vo(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=fe.fromTimestamp(1e9===s?new z(t+1,0):new z(t,s));return new Vr(l,zn.empty(),e)}function Vu(i){return new Vr(i.readTime,i.key,-1)}class Vr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vr(fe.min(),zn.empty(),-1)}static max(){return new Vr(fe.max(),zn.empty(),-1)}}function Uo(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=zn.comparator(i.documentKey,e.documentKey),0!==t?t:x(i.largestBatchId,e.largestBatchId))}const oa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function aa(i){return yo.apply(this,arguments)}function yo(){return yo=(0,Be.Z)(function*(i){if(i.code!==nn.FAILED_PRECONDITION||i.message!==oa)throw i;Ve("LocalStore","Unexpectedly lost primary lease")}),yo.apply(this,arguments)}class Jt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jt((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Jt?t:Jt.resolve(t)}catch(t){return Jt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Jt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Jt.reject(t)}static resolve(e){return new Jt((t,s)=>{t(e)})}static reject(e){return new Jt((t,s)=>{s(e)})}static waitFor(e){return new Jt((t,s)=>{let l=0,h=0,m=!1;e.forEach(P=>{++l,P.next(()=>{++h,m&&h===l&&t()},te=>s(te))}),m=!0,h===l&&t()})}static or(e){let t=Jt.resolve(!1);for(const s of e)t=t.next(l=>l?Jt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,h)=>{s.push(t.call(this,l,h))}),this.waitFor(s)}static mapArray(e,t){return new Jt((s,l)=>{const h=e.length,m=new Array(h);let P=0;for(let te=0;te<h;te++){const we=te;t(e[we]).next(Ze=>{m[we]=Ze,++P,P===h&&s(m)},Ze=>l(Ze))}})}static doWhile(e,t){return new Jt((s,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):s()};h()})}}class Oa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new rs,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Ra(e,t.error)):this.T.resolve()},this.transaction.onerror=s=>{const l=Uu(s.target.error);this.T.reject(new Ra(e,l))}}static open(e,t,s,l){try{return new Oa(t,e.transaction(l,s))}catch(h){throw new Ra(t,h)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qa(t)}}class so{constructor(e,t,s){this.name=e,this.version=t,this.P=s,12.2===so.v((0,Ue.z$)())&&vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),Pa(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ue.hl)())return!1;if(so.S())return!0;const e=(0,Ue.z$)(),t=so.v(e),s=0<t&&t<10,l=so.D(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||h)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static D(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}k(e){var t=this;return(0,Be.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=m=>{s(m.target.result)},h.onblocked=()=>{l(new Ra(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const P=m.target.error;l("VersionError"===P.name?new On(nn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new On(nn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Ra(e,P))},h.onupgradeneeded=m=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.P.O(m.target.result,h.transaction,m.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=s=>t.M(s)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var h=this;return(0,Be.Z)(function*(){const m="readonly"===t;let P=0;for(;;){++P;try{h.db=yield h.k(e);const te=Oa.open(h.db,e,m?"readonly":"readwrite",s),we=l(te).next(Ze=>(te.R(),Ze)).catch(Ze=>(te.abort(Ze),Jt.reject(Ze))).toPromise();return we.catch(()=>{}),yield te.A,we}catch(te){const we=te,Ze="FirebaseError"!==we.name&&P<3;if(Ve("SimpleDb","Transaction failed with error:",we.message,"Retrying:",Ze),h.close(),!Ze)return Promise.reject(we)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nu{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Pa(this.$.delete())}}class Ra extends On{constructor(e,t){super(nn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jo(i){return"IndexedDbTransactionError"===i.name}class qa{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Pa(s)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),Pa(this.store.add(e))}get(e){return Pa(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),Pa(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),Pa(this.store.count())}K(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),h=[];return this.G(l,(m,P)=>{h.push(P)}).next(()=>h)}{const l=this.store.getAll(s.range);return new Jt((h,m)=>{l.onerror=P=>{m(P.target.error)},l.onsuccess=P=>{h(P.target.result)}})}}j(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Jt((l,h)=>{s.onerror=m=>{h(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}W(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.H=!1;const l=this.cursor(s);return this.G(l,(h,m,P)=>P.delete())}J(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.G(l,t)}Y(e){const t=this.cursor({});return new Jt((s,l)=>{t.onerror=h=>{const m=Uu(h.target.error);l(m)},t.onsuccess=h=>{const m=h.target.result;m?e(m.primaryKey,m.value).next(P=>{P?m.continue():s()}):s()}})}G(e,t){const s=[];return new Jt((l,h)=>{e.onerror=m=>{h(m.target.error)},e.onsuccess=m=>{const P=m.target.result;if(!P)return void l();const te=new nu(P),we=t(P.primaryKey,P.value,te);if(we instanceof Jt){const Ze=we.catch(wt=>(te.done(),Jt.reject(wt)));s.push(Ze)}te.isDone?l():null===te.U?P.continue():P.continue(te.U)}}).next(()=>Jt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pa(i){return new Jt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Uu(s.target.error);t(l)}})}let xf=!1;function Uu(i){const e=so.v((0,Ue.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new On("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xf||(xf=!0,setTimeout(()=>{throw s},0)),s}}return i}class Mo{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Be.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(s){jo(s)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield aa(s)}yield t.Z(1)}))}}class ru{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.et(s,e))})()}et(e,t){const s=new Set;let l=t,h=!0;return Jt.doWhile(()=>!0===h&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Ve("IndexBackiller",`Processing collection: ${m}`),this.nt(e,m,l).next(P=>{l-=P,s.add(m)});h=!1})).next(()=>t-l)}nt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(h=>{const m=h.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.st(l,h)).next(P=>(Ve("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,t,P))).next(()=>m.size)}))}st(e,t){let s=e;return t.changes.forEach((l,h)=>{const m=Vu(h);Uo(m,s)>0&&(s=m)}),new Vr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ns{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.it(s),this.rt=s=>t.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Sf(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Fa(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ju(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ns.ot=-1;class Ss{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new Ss(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new Ss(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}}class gl{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=null!=s?s:to.RED,this.left=null!=l?l:to.EMPTY,this.right=null!=h?h:to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new to(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return to.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const e=this.left.check();if(e!==this.right.check())throw Fn();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new to(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qi{constructor(e){this.comparator=e,this.data=new Ss(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iu(this.data.getIterator())}getIteratorFrom(e){return new iu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof qi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qi(this.comparator);return t.data=e,t}}class iu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ka(i){return i.hasNext()?i.getNext():void 0}class Ls{constructor(e){this.fields=e,e.sort(Gr.comparator)}static empty(){return new Ls([])}unionWith(e){let t=new qi(Gr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Ls(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ee(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cs(t)}static fromUint8Array(e){const t=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return x(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const su=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(i){if(Ln(!!i),"string"==typeof i){let e=0;const t=su.exec(i);if(Ln(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Es(i.seconds),nanos:Es(i.nanos)}}function Es(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ya(i){return"string"==typeof i?Cs.fromBase64String(i):Cs.fromUint8Array(i)}function ou(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Gu(i){const e=i.mapValue.fields.__previous_value__;return ou(e)?Gu(e):e}function ml(i){const e=Oo(i.mapValue.fields.__local_write_time__.timestampValue);return new z(e.seconds,e.nanos)}class au{constructor(e,t,s,l,h,m,P,te){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=P,this.useFetchStreams=te}}class la{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}function Qa(i){return null==i}function Ms(i){return 0===i&&1/i==-1/0}function Nc(i){return"number"==typeof i&&Number.isInteger(i)&&!Ms(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ua={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},yl={nullValue:"NULL_VALUE"};function Yo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ou(i)?4:Hu(i)?9007199254740991:10:Fn()}function Go(i,e){if(i===e)return!0;const t=Yo(i);if(t!==Yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ml(i).isEqual(ml(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=Oo(s.timestampValue),m=Oo(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Ya(i.bytesValue).isEqual(Ya(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return Es(s.geoPointValue.latitude)===Es(l.geoPointValue.latitude)&&Es(s.geoPointValue.longitude)===Es(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Es(s.integerValue)===Es(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=Es(s.doubleValue),m=Es(l.doubleValue);return h===m?Ms(h)===Ms(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Ee(i.arrayValue.values||[],e.arrayValue.values||[],Go);case 10:return function(s,l){const h=s.mapValue.fields||{},m=l.mapValue.fields||{};if(Sf(h)!==Sf(m))return!1;for(const P in h)if(h.hasOwnProperty(P)&&(void 0===m[P]||!Go(h[P],m[P])))return!1;return!0}(i,e);default:return Fn()}var l}function lu(i,e){return void 0!==(i.values||[]).find(t=>Go(t,e))}function ca(i,e){if(i===e)return 0;const t=Yo(i),s=Yo(e);if(t!==s)return x(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return x(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=Es(l.integerValue||l.doubleValue),P=Es(h.integerValue||h.doubleValue);return m<P?-1:m>P?1:m===P?0:isNaN(m)?isNaN(P)?0:-1:1}(i,e);case 3:return ya(i.timestampValue,e.timestampValue);case 4:return ya(ml(i),ml(e));case 5:return x(i.stringValue,e.stringValue);case 6:return function(l,h){const m=Ya(l),P=Ya(h);return m.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),P=h.split("/");for(let te=0;te<m.length&&te<P.length;te++){const we=x(m[te],P[te]);if(0!==we)return we}return x(m.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=x(Es(l.latitude),Es(h.latitude));return 0!==m?m:x(Es(l.longitude),Es(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const m=l.values||[],P=h.values||[];for(let te=0;te<m.length&&te<P.length;++te){const we=ca(m[te],P[te]);if(we)return we}return x(m.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===ua.mapValue&&h===ua.mapValue)return 0;if(l===ua.mapValue)return 1;if(h===ua.mapValue)return-1;const m=l.fields||{},P=Object.keys(m),te=h.fields||{},we=Object.keys(te);P.sort(),we.sort();for(let Ze=0;Ze<P.length&&Ze<we.length;++Ze){const wt=x(P[Ze],we[Ze]);if(0!==wt)return wt;const tn=ca(m[P[Ze]],te[we[Ze]]);if(0!==tn)return tn}return x(P.length,we.length)}(i.mapValue,e.mapValue);default:throw Fn()}}function ya(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return x(i,e);const t=Oo(i),s=Oo(e),l=x(t.seconds,s.seconds);return 0!==l?l:x(t.nanos,s.nanos)}function vo(i){return uu(i)}function uu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=Oo(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ya(i.bytesValue).toBase64():"referenceValue"in i?zn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",h=!0;for(const m of s.values||[])h?h=!1:l+=",",l+=uu(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let h="{",m=!0;for(const P of l)m?m=!1:h+=",",h+=`${P}:${uu(s.fields[P])}`;return h+"}"}(i.mapValue):Fn();var e}function _o(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lc(i){return!!i&&"integerValue"in i}function Za(i){return!!i&&"arrayValue"in i}function cu(i){return!!i&&"nullValue"in i}function vl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function du(i){return!!i&&"mapValue"in i}function _l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fa(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=_l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_l(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Hu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function El(i){return"nullValue"in i?yl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_o(la.empty(),zn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Fn()}function hu(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_o(la.empty(),zn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ua:Fn()}function Gd(i,e){const t=ca(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Bc(i,e){const t=ca(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Zs{constructor(e){this.value=e}static empty(){return new Zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(t)}setAll(e){let t=Gr.emptyPath(),s={},l=[];e.forEach((m,P)=>{if(!t.isImmediateParentOf(P)){const te=this.getFieldsMap(t);this.applyChanges(te,s,l),s={},l=[],t=P.popLast()}m?s[P.lastSegment()]=_l(m):l.push(P.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Go(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];du(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Fa(t,(l,h)=>e[l]=h);for(const l of s)delete e[l]}clone(){return new Zs(_l(this.value))}}function Hd(i){const e=[];return Fa(i.fields,(t,s)=>{const l=new Gr([t]);if(du(s)){const h=Hd(s.mapValue).fields;if(0===h.length)e.push(l);else for(const m of h)e.push(l.child(m))}else e.push(l)}),new Ls(e)}class us{constructor(e,t,s,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new us(e,0,fe.min(),fe.min(),Zs.empty(),0)}static newFoundDocument(e,t,s){return new us(e,1,t,fe.min(),s,0)}static newNoDocument(e,t){return new us(e,2,t,fe.min(),Zs.empty(),0)}static newUnknownDocument(e,t){return new us(e,3,t,fe.min(),Zs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mf{constructor(e,t=null,s=[],l=[],h=null,m=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=m,this.endAt=P,this.ut=null}}function fu(i,e=null,t=[],s=[],l=null,h=null,m=null){return new Mf(i,e,t,s,l,h,m)}function Ja(i){const e=kn(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(l=s).field.canonicalString()+l.op.toString()+vo(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Qa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vo(s)).join(",")),e.ut=t}return e.ut}function Xa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!_a(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(s=e.filters[l]).op||!t.field.isEqual(s.field)||!Go(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Uc(i.startAt,e.startAt)&&Uc(i.endAt,e.endAt)}function va(i){return zn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function zu(i,e){return i.filters.filter(t=>t instanceof Bs&&t.field.isEqual(e))}function $d(i,e,t){let s=yl,l=!0;for(const h of zu(i,e)){let m=yl,P=!0;switch(h.op){case"<":case"<=":m=El(h.value);break;case"==":case"in":case">=":m=h.value;break;case">":m=h.value,P=!1;break;case"!=":case"not-in":m=yl}Gd({value:s,inclusive:l},{value:m,inclusive:P})<0&&(s=m,l=P)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const m=t.position[h];Gd({value:s,inclusive:l},{value:m,inclusive:t.inclusive})<0&&(s=m,l=t.inclusive);break}return{value:s,inclusive:l}}function Of(i,e,t){let s=ua,l=!0;for(const h of zu(i,e)){let m=ua,P=!0;switch(h.op){case">=":case">":m=hu(h.value),P=!1;break;case"==":case"in":case"<=":m=h.value;break;case"<":m=h.value,P=!1;break;case"!=":case"not-in":m=ua}Bc({value:s,inclusive:l},{value:m,inclusive:P})>0&&(s=m,l=P)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const m=t.position[h];Bc({value:s,inclusive:l},{value:m,inclusive:t.inclusive})>0&&(s=m,l=t.inclusive);break}return{value:s,inclusive:l}}class Bs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,s):new pu(e,t,s):"array-contains"===t?new el(e,s):"in"===t?new Rf(e,s):"not-in"===t?new Kd(e,s):"array-contains-any"===t?new Pf(e,s):new Bs(e,t,s)}static ct(e,t,s){return"in"===t?new zd(e,s):new Wd(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ca(t,this.value)):null!==t&&Yo(this.value)===Yo(t)&&this.at(ca(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class pu extends Bs{constructor(e,t,s){super(e,t,s),this.key=zn.fromName(s.referenceValue)}matches(e){const t=zn.comparator(e.key,this.key);return this.at(t)}}class zd extends Bs{constructor(e,t){super(e,"in",t),this.keys=Vc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wd extends Bs{constructor(e,t){super(e,"not-in",t),this.keys=Vc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>zn.fromName(s.referenceValue))}class el extends Bs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Za(t)&&lu(t.arrayValue,this.value)}}class Rf extends Bs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lu(this.value.arrayValue,t)}}class Kd extends Bs{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lu(this.value.arrayValue,t)}}class Pf extends Bs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Za(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>lu(this.value.arrayValue,s))}}class Na{constructor(e,t){this.position=e,this.inclusive=t}}class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function _a(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ea(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],m=i.position[l];if(s=h.field.isKeyField()?zn.comparator(zn.fromName(m.referenceValue),t.key):ca(m,t.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Uc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Go(i.position[t],e.position[t]))return!1;return!0}class Qo{constructor(e,t=null,s=[],l=[],h=null,m="F",P=null,te=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=m,this.startAt=P,this.endAt=te,this.lt=null,this.ft=null}}function qd(i,e,t,s,l,h,m,P){return new Qo(i,e,t,s,l,h,m,P)}function tl(i){return new Qo(i)}function gu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Wu(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Ku(i){return null!==i.collectionGroup}function nl(i){const e=kn(i);if(null===e.lt){e.lt=[];const t=Wu(e),s=gu(e);if(null!==t&&null===s)t.isKeyField()||e.lt.push(new bl(t)),e.lt.push(new bl(Gr.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.lt.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new bl(Gr.keyField(),h))}}}return e.lt}function Ho(i){const e=kn(i);if(!e.ft)if("F"===e.limitType)e.ft=fu(e.path,e.collectionGroup,nl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of nl(e))t.push(new bl(h.field,"desc"===h.dir?"asc":"desc"));const s=e.endAt?new Na(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Na(e.startAt.position,e.startAt.inclusive):null;e.ft=fu(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e.ft}function Yd(i,e,t){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function qu(i,e){return Xa(Ho(i),Ho(e))&&i.limitType===e.limitType}function kf(i){return`${Ja(Ho(i))}|lt:${i.limitType}`}function Ro(i){return`Query(target=${function $u(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${vo(s.value)}`;var s}).join(", ")}]`),Qa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>vo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>vo(t)).join(",")),`Target(${e})`}(Ho(i))}; limitType=${i.limitType})`}function Yu(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):zn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,h,m){const P=Ea(l,h,m);return l.inclusive?P<=0:P<0}(t.startAt,nl(t),s)||t.endAt&&!function(l,h,m){const P=Ea(l,h,m);return l.inclusive?P>=0:P>0}(t.endAt,nl(t),s)));var t,s}function Zo(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function La(i){return(e,t)=>{let s=!1;for(const l of nl(i)){const h=Qd(l,e,t);if(0!==h)return h;s=s||l.field.isKeyField()}return 0}}function Qd(i,e,t){const s=i.field.isKeyField()?zn.comparator(e.key,t.key):function(l,h,m){const P=h.data.field(l),te=m.data.field(l);return null!==P&&null!==te?ca(P,te):Fn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Fn()}}function mu(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ms(e)?"-0":e}}function jc(i){return{integerValue:""+i}}function Nf(i,e){return Nc(e)?jc(e):mu(i,e)}class yu{constructor(){this._=void 0}}function Vg(i,e,t){return i instanceof Ba?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof Dl?Lf(i,e):i instanceof Va?Zd(i,e):function(s,l){const h=wl(s,l),m=Qu(h)+Qu(s._t);return Lc(h)&&Lc(s._t)?jc(m):mu(s.wt,m)}(i,e)}function Gc(i,e,t){return i instanceof Dl?Lf(i,e):i instanceof Va?Zd(i,e):t}function wl(i,e){return i instanceof rl?Lc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ba extends yu{}class Dl extends yu{constructor(e){super(),this.elements=e}}function Lf(i,e){const t=Jd(e);for(const s of i.elements)t.some(l=>Go(l,s))||t.push(s);return{arrayValue:{values:t}}}class Va extends yu{constructor(e){super(),this.elements=e}}function Zd(i,e){let t=Jd(e);for(const s of i.elements)t=t.filter(l=>!Go(l,s));return{arrayValue:{values:t}}}class rl extends yu{constructor(e,t){super(),this.wt=e,this._t=t}}function Qu(i){return Es(i.integerValue||i.doubleValue)}function Jd(i){return Za(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Cl{constructor(e,t){this.field=e,this.transform=t}}class Zu{constructor(e,t){this.version=e,this.transformResults=t}}class fs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fs}static exists(e){return new fs(void 0,e)}static updateTime(e){return new fs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class is{}function Xd(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new xl(i.key,fs.none()):new Il(i.key,i.data,fs.none());{const t=i.data,s=Zs.empty();let l=new qi(Gr.comparator);for(let h of e.fields)if(!l.has(h)){let m=t.field(h);null===m&&h.length>1&&(h=h.popLast(),m=t.field(h)),null===m?s.delete(h):s.set(h,m),l=l.add(h)}return new ba(i.key,s,new Ls(l.toArray()),fs.none())}}function Bf(i,e,t){i instanceof Il?function(s,l,h){const m=s.value.clone(),P=Tl(s.fieldTransforms,l,h.transformResults);m.setAll(P),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ba?function(s,l,h){if(!Ju(s.precondition,l))return void l.convertToUnknownDocument(h.version);const m=Tl(s.fieldTransforms,l,h.transformResults),P=l.data;P.setAll(th(s)),P.setAll(m),l.convertToFoundDocument(h.version,P).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function il(i,e,t,s){return i instanceof Il?function(l,h,m,P){if(!Ju(l.precondition,h))return m;const te=l.value.clone(),we=Vf(l.fieldTransforms,P,h);return te.setAll(we),h.convertToFoundDocument(h.version,te).setHasLocalMutations(),null}(i,e,t,s):i instanceof ba?function(l,h,m,P){if(!Ju(l.precondition,h))return m;const te=Vf(l.fieldTransforms,P,h),we=h.data;return we.setAll(th(l)),we.setAll(te),h.convertToFoundDocument(h.version,we).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(Ze=>Ze.field))}(i,e,t,s):(m=t,Ju(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m);var h,m}function Hc(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=wl(s.transform,l||null);null!=h&&(null===t&&(t=Zs.empty()),t.set(s.field,h))}return t||null}function eh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&Ee(t,s,(l,h)=>function Al(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Dl&&s instanceof Dl||t instanceof Va&&s instanceof Va?Ee(t.elements,s.elements,Go):t instanceof rl&&s instanceof rl?Go(t._t,s._t):t instanceof Ba&&s instanceof Ba);var t,s}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class Il extends is{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ba extends is{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function th(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Tl(i,e,t){const s=new Map;Ln(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],m=h.transform,P=e.data.field(h.field);s.set(h.field,Gc(m,P,t[l]))}return s}function Vf(i,e,t){const s=new Map;for(const l of i){const h=l.transform,m=t.data.field(l.field);s.set(l.field,Vg(h,m,e))}return s}class xl extends is{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sl extends is{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uo{constructor(e){this.count=e}}var Os,Mi;function Xu(i){switch(i){default:return Fn();case nn.CANCELLED:case nn.UNKNOWN:case nn.DEADLINE_EXCEEDED:case nn.RESOURCE_EXHAUSTED:case nn.INTERNAL:case nn.UNAVAILABLE:case nn.UNAUTHENTICATED:return!1;case nn.INVALID_ARGUMENT:case nn.NOT_FOUND:case nn.ALREADY_EXISTS:case nn.PERMISSION_DENIED:case nn.FAILED_PRECONDITION:case nn.ABORTED:case nn.OUT_OF_RANGE:case nn.UNIMPLEMENTED:case nn.DATA_LOSS:return!0}}function Ws(i){if(void 0===i)return vt("GRPC error has no .code"),nn.UNKNOWN;switch(i){case Os.OK:return nn.OK;case Os.CANCELLED:return nn.CANCELLED;case Os.UNKNOWN:return nn.UNKNOWN;case Os.DEADLINE_EXCEEDED:return nn.DEADLINE_EXCEEDED;case Os.RESOURCE_EXHAUSTED:return nn.RESOURCE_EXHAUSTED;case Os.INTERNAL:return nn.INTERNAL;case Os.UNAVAILABLE:return nn.UNAVAILABLE;case Os.UNAUTHENTICATED:return nn.UNAUTHENTICATED;case Os.INVALID_ARGUMENT:return nn.INVALID_ARGUMENT;case Os.NOT_FOUND:return nn.NOT_FOUND;case Os.ALREADY_EXISTS:return nn.ALREADY_EXISTS;case Os.PERMISSION_DENIED:return nn.PERMISSION_DENIED;case Os.FAILED_PRECONDITION:return nn.FAILED_PRECONDITION;case Os.ABORTED:return nn.ABORTED;case Os.OUT_OF_RANGE:return nn.OUT_OF_RANGE;case Os.UNIMPLEMENTED:return nn.UNIMPLEMENTED;case Os.DATA_LOSS:return nn.DATA_LOSS;default:return Fn()}}(Mi=Os||(Os={}))[Mi.OK=0]="OK",Mi[Mi.CANCELLED=1]="CANCELLED",Mi[Mi.UNKNOWN=2]="UNKNOWN",Mi[Mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mi[Mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mi[Mi.NOT_FOUND=5]="NOT_FOUND",Mi[Mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mi[Mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mi[Mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mi[Mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mi[Mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mi[Mi.ABORTED=10]="ABORTED",Mi[Mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mi[Mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mi[Mi.INTERNAL=13]="INTERNAL",Mi[Mi.UNAVAILABLE=14]="UNAVAILABLE",Mi[Mi.DATA_LOSS=15]="DATA_LOSS";class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,h]of s)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(t,s)=>{for(const[l,h]of s)e(l,h)})}isEmpty(){return ju(this.inner)}size(){return this.innerSize}}const ec=new Ss(zn.comparator);function bo(){return ec}const tc=new Ss(zn.comparator);function Sl(...i){let e=tc;for(const t of i)e=e.insert(t.key,t);return e}function wo(i){let e=tc;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function co(){return Ml()}function $c(){return Ml()}function Ml(){return new Eo(i=>i.toString(),(i,e)=>i.isEqual(e))}const zc=new Ss(zn.comparator),Wc=new qi(zn.comparator);function oi(...i){let e=Wc;for(const t of i)e=e.add(t);return e}const nh=new qi(x);function nc(){return nh}class Do{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,t)),new Do(fe.min(),s,nc(),bo(),oi())}}class Ol{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ol(Cs.EMPTY_BYTE_STRING,t,oi(),oi(),oi())}}class rc{constructor(e,t,s,l){this.gt=e,this.removedTargetIds=t,this.key=s,this.yt=l}}class Rl{constructor(e,t){this.targetId=e,this.It=t}}class rh{constructor(e,t,s=Cs.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Kc{constructor(){this.Tt=0,this.Et=sc(),this.At=Cs.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=oi(),t=oi(),s=oi();return this.Et.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Fn()}}),new Ol(this.At,this.Rt,e,t,s)}Dt(){this.bt=!1,this.Et=sc()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Co{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=bo(),this.Bt=ic(),this.Lt=new qi(x)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const s=this.Qt(t);switch(e.state){case 0:this.jt(t)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),s.Vt(e.resumeToken));break;default:Fn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((s,l)=>{this.jt(l)&&t(l)})}zt(e){const t=e.targetId,s=e.It.count,l=this.Ht(t);if(l){const h=l.target;if(va(h))if(0===s){const m=new zn(h.path);this.Kt(t,m,us.newNoDocument(m,fe.min()))}else Ln(1===s);else this.Jt(t)!==s&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((h,m)=>{const P=this.Ht(m);if(P){if(h.current&&va(P.target)){const te=new zn(P.target.path);null!==this.$t.get(te)||this.Xt(m,te)||this.Kt(m,te,us.newNoDocument(te,e))}h.vt&&(t.set(m,h.St()),h.Dt())}});let s=oi();this.Bt.forEach((h,m)=>{let P=!0;m.forEachWhile(te=>{const we=this.Ht(te);return!we||2===we.purpose||(P=!1,!1)}),P&&(s=s.add(h))}),this.$t.forEach((h,m)=>m.setReadTime(e));const l=new Do(e,t,this.Lt,this.$t,s);return this.$t=bo(),this.Bt=ic(),this.Lt=new qi(x),l}qt(e,t){if(!this.jt(e))return;const s=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,s),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,s){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,t)?l.Ct(t,1):l.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),s&&(this.$t=this.$t.insert(t,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Kc,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new qi(x),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Kc),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function ic(){return new Ss(zn.comparator)}function sc(){return new Ss(zn.comparator)}const ih={asc:"ASCENDING",desc:"DESCENDING"},wa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vu{constructor(e,t){this.databaseId=e,this.dt=t}}function Pl(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qc(i,e){return i.dt?e.toBase64():e.toUint8Array()}function sh(i,e){return Pl(i,e.toTimestamp())}function Vs(i){return Ln(!!i),fe.fromTimestamp(function(e){const t=Oo(e);return new z(t.seconds,t.nanos)}(i))}function Yc(i,e){return(t=i,new Zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oh(i){const e=Zt.fromString(i);return Ln(Zc(e)),e}function da(i,e){return Yc(i.databaseId,e.path)}function Ks(i,e){const t=oh(e);if(t.get(1)!==i.databaseId.projectId)throw new On(nn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new On(nn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new zn(T(t))}function v(i,e){return Yc(i.databaseId,e)}function d(i){const e=oh(i);return 4===e.length?Zt.emptyPath():T(e)}function f(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function T(i){return Ln(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function le(i,e,t){return{name:da(i,e),fields:t.value.mapValue.fields}}function Ge(i,e,t){const s=Ks(i,e.name),l=Vs(e.updateTime),h=new Zs({mapValue:{fields:e.fields}}),m=us.newFoundDocument(s,l,h);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function qn(i,e){let t;if(e instanceof Il)t={update:le(i,e.key,e.value)};else if(e instanceof xl)t={delete:da(i,e.key)};else if(e instanceof ba)t={update:le(i,e.key,e.data),updateMask:Qc(e.fieldMask)};else{if(!(e instanceof sl))return Fn();t={verify:da(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Ba)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Dl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Va)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof rl)return{fieldPath:h.field.canonicalString(),increment:m._t};throw Fn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:sh(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Fn()),t;var l}function hr(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?fs.updateTime(Vs(l.updateTime)):void 0!==l.exists?fs.exists(l.exists):fs.none():fs.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(h,m){let P=null;"setToServerValue"in m?(Ln("REQUEST_TIME"===m.setToServerValue),P=new Ba):"appendMissingElements"in m?P=new Dl(m.appendMissingElements.values||[]):"removeAllFromArray"in m?P=new Va(m.removeAllFromArray.values||[]):"increment"in m?P=new rl(h,m.increment):Fn();const te=Gr.fromServerFormat(m.fieldPath);return new Cl(te,P)}(i,l)):[];var l;if(e.update){const l=Ks(i,e.update.name),h=new Zs({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Ls((e.updateMask.fieldPaths||[]).map(we=>Gr.fromServerFormat(we)));return new ba(l,h,m,t,s)}return new Il(l,h,t,s)}if(e.delete){const l=Ks(i,e.delete);return new xl(l,t)}if(e.verify){const l=Ks(i,e.verify);return new sl(l,t)}return Fn()}function Or(i,e){return{documents:[v(i,e.path)]}}function Rs(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=v(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=v(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(te){if(0===te.length)return;const we=te.map(Ze=>function(wt){if("=="===wt.op){if(vl(wt.value))return{unaryFilter:{field:ja(wt.field),op:"IS_NAN"}};if(cu(wt.value))return{unaryFilter:{field:ja(wt.field),op:"IS_NULL"}}}else if("!="===wt.op){if(vl(wt.value))return{unaryFilter:{field:ja(wt.field),op:"IS_NOT_NAN"}};if(cu(wt.value))return{unaryFilter:{field:ja(wt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(wt.field),op:oc(wt.op),value:wt.value}}}(Ze));return 1===we.length?we[0]:{compositeFilter:{op:"AND",filters:we}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(te){if(0!==te.length)return te.map(we=>{return{field:ja((Ze=we).field),direction:Ua(Ze.dir)};var Ze})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=(we=e.limit,i.dt||Qa(we)?we:{value:we});var we,P,te;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(te=e.endAt).inclusive,values:te.position}),t}function Ao(i){let e=d(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Ln(1===s);const Ze=t.from[0];Ze.allDescendants?l=Ze.collectionId:e=e.child(Ze.collectionId)}let h=[];t.where&&(h=ah(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(Ze=>{return new bl(Ga((wt=Ze).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let P=null;t.limit&&(P=function(Ze){let wt;return wt="object"==typeof Ze?Ze.value:Ze,Qa(wt)?null:wt}(t.limit));let te=null;var Ze;t.startAt&&(te=new Na((Ze=t.startAt).values||[],!!Ze.before));let we=null;return t.endAt&&(we=function(Ze){return new Na(Ze.values||[],!Ze.before)}(t.endAt)),qd(e,l,m,h,P,"F",te,we)}function ah(i){return i?void 0!==i.unaryFilter?[lh(i)]:void 0!==i.fieldFilter?[ac(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ah(e)).reduce((e,t)=>e.concat(t)):Fn():[]}function Ua(i){return ih[i]}function oc(i){return wa[i]}function ja(i){return{fieldPath:i.canonicalString()}}function Ga(i){return Gr.fromServerFormat(i.fieldPath)}function ac(i){return Bs.create(Ga(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(i.fieldFilter.op),i.fieldFilter.value)}function lh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ga(i.unaryFilter.field);return Bs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ga(i.unaryFilter.field);return Bs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ga(i.unaryFilter.field);return Bs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ga(i.unaryFilter.field);return Bs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}function Qc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ho(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=uh(e)),e=Jc(i.get(t),e);return uh(e)}function Jc(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function uh(i){return i+"\x01\x01"}function Da(i){const e=i.length;if(Ln(e>=2),2===e)return Ln("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Zt.emptyPath();const t=e-2,s=[];let l="";for(let h=0;h<e;){const m=i.indexOf("\x01",h);switch((m<0||m>t)&&Fn(),i.charAt(m+1)){case"\x01":const P=i.substring(h,m);let te;0===l.length?te=P:(l+=P,te=l,l=""),s.push(te);break;case"\x10":l+=i.substring(h,m),l+="\0";break;case"\x11":l+=i.substring(h,m+1);break;default:Fn()}h=m+2}return new Zt(s)}const ch=["userId","batchId"];function Xc(i,e){return[i,ho(e)]}function dh(i,e,t){return[i,ho(e),t]}const av={},lv=["prefixPath","collectionGroup","readTime","documentId"],Ug=["prefixPath","collectionGroup","documentId"],jg=["collectionGroup","readTime","prefixPath","documentId"],Eu=["canonicalId","targetId"],Gg=["targetId","path"],Hg=["path","targetId"],uv=["collectionId","parent"],hh=["indexId","uid"],cv=["uid","sequenceNumber"],$g=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zg=["indexId","uid","orderedDocumentKey"],Wg=["userId","collectionPath","documentId"],Uf=["userId","collectionPath","largestBatchId"],Kg=["userId","collectionGroup","largestBatchId"],ed=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fh=[...ed,"documentOverlays"],jf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ph=jf,qg=[...ph,"indexConfiguration","indexState","indexEntries"];class td extends Tf{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Us(i,e){const t=kn(i);return so.N(t.ee,e)}class Gf{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&Bf(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=il(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=il(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=$c();return this.mutations.forEach(l=>{const h=e.get(l.key),m=h.overlayedDocument;let P=this.applyToLocalView(m,h.mutatedFields);P=t.has(l.key)?null:P;const te=Xd(m,P);null!==te&&s.set(l.key,te),m.isValidDocument()||m.convertToNoDocument(fe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oi())}isEqual(e){return this.batchId===e.batchId&&Ee(this.mutations,e.mutations,(t,s)=>eh(t,s))&&Ee(this.baseMutations,e.baseMutations,(t,s)=>eh(t,s))}}class gh{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Ln(e.mutations.length===s.length);let l=zc;const h=e.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,s[m].version);return new gh(e,t,s,l)}}class Hf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fl{constructor(e,t,s,l,h=fe.min(),m=fe.min(),P=Cs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=P}withSequenceNumber(e){return new Fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $f{constructor(e){this.ne=e}}function Wf(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:da(l=i.ne,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Pl(l,h.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:kl(e.version)};else{if(!e.isUnknownDocument())return Fn();s.unknownDocument={path:t.path.toArray(),version:kl(e.version)}}var l,h;return s}function Kf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function kl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bu(i){const e=new z(i.seconds,i.nanoseconds);return fe.fromTimestamp(e)}function Nl(i,e){const t=(e.baseMutations||[]).map(h=>hr(i.ne,h));for(let h=0;h<e.mutations.length-1;++h){const m=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(m.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const s=e.mutations.map(h=>hr(i.ne,h)),l=z.fromMillis(e.localWriteTimeMs);return new Gf(e.batchId,l,t,s)}function nd(i){const e=bu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?bu(i.lastLimboFreeSnapshotVersion):fe.min();let s;var l;return void 0!==i.query.documents?(Ln(1===(l=i.query).documents.length),s=Ho(tl(d(l.documents[0])))):s=Ho(Ao(i.query)),new Fl(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Cs.fromBase64String(i.resumeToken))}function Yg(i,e){const t=kl(e.snapshotVersion),s=kl(e.lastLimboFreeSnapshotVersion);let l;l=va(e.target)?Or(i.ne,e.target):Rs(i.ne,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ja(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Jo(i){const e=Ao({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Yd(e,e.limit,"L"):e}function qf(i,e){return new Hf(e.largestBatchId,hr(i.ne,e.overlayMutation))}function Yf(i,e){const t=e.path.lastSegment();return[i,ho(e.path.popLast()),t]}function Qg(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:kl(s.readTime),documentKey:ho(s.documentKey.path),largestBatchId:s.largestBatchId}}class dv{getBundleMetadata(e,t){return Zg(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:bu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Zg(e).put({bundleId:(s=t).id,createTime:kl(Vs(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Jg(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:Jo(l.bundledQuery),readTime:bu(l.readTime)};var l})}saveNamedQuery(e,t){return Jg(e).put({name:(s=t).name,readTime:kl(Vs(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Zg(i){return Us(i,"bundles")}function Jg(i){return Us(i,"namedQueries")}class rd{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new rd(e,t.uid||"")}getOverlay(e,t){return id(e).get(Yf(this.userId,t)).next(s=>s?qf(this.wt,s):null)}getOverlays(e,t){const s=co();return Jt.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((h,m)=>{const P=new Hf(t,m);l.push(this.ie(e,P))}),Jt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(m=>l.add(ho(m.getCollectionPath())));const h=[];return l.forEach(m=>{const P=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);h.push(id(e).W("collectionPathOverlayIndex",P))}),Jt.waitFor(h)}getOverlaysForCollection(e,t,s){const l=co(),h=ho(t),m=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,Number.POSITIVE_INFINITY],!0);return id(e).K("collectionPathOverlayIndex",m).next(P=>{for(const te of P){const we=qf(this.wt,te);l.set(we.getKey(),we)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const h=co();let m;const P=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return id(e).J({index:"collectionGroupOverlayIndex",range:P},(te,we,Ze)=>{const wt=qf(this.wt,we);h.size()<l||wt.largestBatchId===m?(h.set(wt.getKey(),wt),m=wt.largestBatchId):Ze.done()}).next(()=>h)}ie(e,t){return id(e).put(function(s,l,h){const[m,P,te]=Yf(l,h.mutation.key);return{userId:l,collectionPath:P,documentId:te,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:qn(s.ne,h.mutation)}}(this.wt,this.userId,t))}}function id(i){return Us(i,"documentOverlays")}class wu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Es(e.integerValue));else if("doubleValue"in e){const s=Es(e.doubleValue);isNaN(s)?this.ce(t,13):(this.ce(t,15),Ms(s)?t.ae(0):t.ae(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ce(t,20),"string"==typeof s?t.he(s):(t.he(`${s.seconds||""}`),t.ae(s.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ya(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ce(t,45),t.ae(s.latitude||0),t.ae(s.longitude||0)}else"mapValue"in e?Hu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Fn()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const s=e.fields||{};this.ce(t,55);for(const l of Object.keys(s))this.le(l,t),this.oe(s[l],t)}me(e,t){const s=e.values||[];this.ce(t,50);for(const l of s)this.oe(l,t)}_e(e,t){this.ce(t,37),zn.fromName(e).path.forEach(s=>{this.ce(t,60),this.ge(s,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function hv(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ai(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const h=hv(255&t[l]);if(s+=h,8!==h)break}return s}(i);return Math.ceil(e/8)}wu.ye=new wu;class Xg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ie(s.value),s=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ie(s);else if(s<2048)this.Ie(960|s>>>6),this.Ie(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s);else{const l=t.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const l=t.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const t=this.Ve(e),s=ai(t);this.Se(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}De(e){const t=this.Ve(e),s=ai(t);this.Se(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class em{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class tm{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Ll{constructor(){this.Me=new Xg,this.Fe=new em(this.Me),this.$e=new tm(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class fo{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new fo(this.indexId,this.documentKey,this.arrayValue,s)}}function Bl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=nm(i.arrayValue,e.arrayValue),0!==t?t:(t=nm(i.directionalValue,e.directionalValue),0!==t?t:zn.comparator(i.documentKey,e.documentKey)))}function nm(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Qf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const s=t;s.ht()?this.Ke=s:this.qe.push(s)}}Ge(e){const t=ks(e);if(void 0!==t&&!this.Qe(t))return!1;const s=qo(e);let l=0,h=0;for(;l<s.length&&this.Qe(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.Ke){const m=s[l];if(!this.je(this.Ke,m)||!this.We(this.Ue[h++],m))return!1;++l}for(;l<s.length;++l){const m=s[l];if(h>=this.Ue.length||!this.We(this.Ue[h++],m))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ol{constructor(){this.ze=new sd}addToCollectionParentIndex(e,t){return this.ze.add(t),Jt.resolve()}getCollectionParents(e,t){return Jt.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Jt.resolve()}deleteFieldIndex(e,t){return Jt.resolve()}getDocumentsMatchingTarget(e,t){return Jt.resolve(null)}getIndexType(e,t){return Jt.resolve(0)}getFieldIndexes(e,t){return Jt.resolve([])}getNextCollectionGroupToUpdate(e){return Jt.resolve(null)}getMinOffset(e,t){return Jt.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,t){return Jt.resolve(Vr.min())}updateCollectionGroup(e,t,s){return Jt.resolve()}updateIndexEntries(e,t){return Jt.resolve()}}class sd{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new qi(Zt.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new qi(Zt.comparator)).toArray()}}const od=new Uint8Array(0);class Zf{constructor(e,t){this.user=e,this.databaseId=t,this.He=new sd,this.Je=new Eo(s=>Ja(s),(s,l)=>Xa(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const h={collectionId:s,parent:ho(l)};return fv(e).put(h)}return Jt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[D(t),""],!1,!0);return fv(e).K(l).next(h=>{for(const m of h){if(m.collectionId!==t)break;s.push(Da(m.parent))}return s})}addFieldIndex(e,t){const s=Jf(e),l={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var m;delete l.indexId;const h=s.add(l);if(t.indexState){const m=Vl(e);return h.next(P=>{m.put(Qg(P,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return h.next()}deleteFieldIndex(e,t){const s=Jf(e),l=Vl(e),h=lc(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=lc(e);let l=!0;const h=new Map;return Jt.forEach(this.Ye(t),m=>this.Xe(e,m).next(P=>{l&&(l=!!P),h.set(m,P)})).next(()=>{if(l){let m=oi();const P=[];return Jt.forEach(h,(te,we)=>{var Ze;Ve("IndexedDbIndexManager",`Using index ${Ze=te,`id=${Ze.indexId}|cg=${Ze.collectionGroup}|f=${Ze.fields.map(Yi=>`${Yi.fieldPath}:${Yi.kind}`).join(",")}`} to execute ${Ja(t)}`);const wt=function(Yi,wi){const Bi=ks(wi);if(void 0===Bi)return null;for(const Ji of zu(Yi,Bi.fieldPath))switch(Ji.op){case"array-contains-any":return Ji.value.arrayValue.values||[];case"array-contains":return[Ji.value]}return null}(we,te),tn=function(Yi,wi){const Bi=new Map;for(const Ji of qo(wi))for(const xo of zu(Yi,Ji.fieldPath))switch(xo.op){case"==":case"in":Bi.set(Ji.fieldPath.canonicalString(),xo.value);break;case"not-in":case"!=":return Bi.set(Ji.fieldPath.canonicalString(),xo.value),Array.from(Bi.values())}return null}(we,te),wn=function(Yi,wi){const Bi=[];let Ji=!0;for(const xo of qo(wi)){const Vd=0===xo.kind?$d(Yi,xo.fieldPath,Yi.startAt):Of(Yi,xo.fieldPath,Yi.startAt);Bi.push(Vd.value),Ji&&(Ji=Vd.inclusive)}return new Na(Bi,Ji)}(we,te),Nn=function(Yi,wi){const Bi=[];let Ji=!0;for(const xo of qo(wi)){const Vd=0===xo.kind?Of(Yi,xo.fieldPath,Yi.endAt):$d(Yi,xo.fieldPath,Yi.endAt);Bi.push(Vd.value),Ji&&(Ji=Vd.inclusive)}return new Na(Bi,Ji)}(we,te),cr=this.Ze(te,we,wn),br=this.Ze(te,we,Nn),Fi=this.tn(te,we,tn),ts=this.en(te.indexId,wt,cr,wn.inclusive,br,Nn.inclusive,Fi);return Jt.forEach(ts,Yi=>s.j(Yi,t.limit).next(wi=>{wi.forEach(Bi=>{const Ji=zn.fromSegments(Bi.documentKey);m.has(Ji)||(m=m.add(Ji),P.push(Ji))})}))}).next(()=>P)}return Jt.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,s,l,h,m,P){const te=(null!=t?t.length:1)*Math.max(s.length,h.length),we=te/(null!=t?t.length:1),Ze=[];for(let wt=0;wt<te;++wt){const tn=t?this.nn(t[wt/we]):od,wn=this.sn(e,tn,s[wt%we],l),Nn=this.rn(e,tn,h[wt%we],m),cr=P.map(br=>this.sn(e,tn,br,!0));Ze.push(...this.createRange(wn,Nn,cr))}return Ze}sn(e,t,s,l){const h=new fo(e,zn.empty(),t,s);return l?h:h.Le()}rn(e,t,s,l){const h=new fo(e,zn.empty(),t,s);return l?h.Le():h}Xe(e,t){const s=new Qf(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{let m=null;for(const P of h)s.Ge(P)&&(!m||P.fields.length>m.fields.length)&&(m=P);return m})}getIndexType(e,t){let s=2;return Jt.forEach(this.Ye(t),l=>this.Xe(e,l).next(h=>{h?0!==s&&h.fields.length<function(m){let P=new qi(Gr.comparator),te=!1;for(const we of m.filters){const Ze=we;Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?te=!0:P=P.add(Ze.field))}for(const we of m.orderBy)we.field.isKeyField()||(P=P.add(we.field));return P.size+(te?1:0)}(l)&&(s=1):s=0})).next(()=>s)}on(e,t){const s=new Ll;for(const l of qo(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const m=s.Be(l.kind);wu.ye.re(h,m)}return s.Oe()}nn(e){const t=new Ll;return wu.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const s=new Ll;return wu.ye.re(_o(this.databaseId,t),s.Be(function(l){const h=qo(l);return 0===h.length?0:h[h.length-1].kind}(e))),s.Oe()}tn(e,t,s){if(null===s)return[];let l=[];l.push(new Ll);let h=0;for(const m of qo(e)){const P=s[h++];for(const te of l)if(this.cn(t,m.fieldPath)&&Za(P))l=this.an(l,m,P);else{const we=te.Be(m.kind);wu.ye.re(P,we)}}return this.hn(l)}Ze(e,t,s){return this.tn(e,t,s.position)}hn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Oe();return t}an(e,t,s){const l=[...e],h=[];for(const m of s.arrayValue.values||[])for(const P of l){const te=new Ll;te.seed(P.Oe()),wu.ye.re(m,te.Be(t.kind)),h.push(te)}return h}cn(e,t){return!!e.filters.find(s=>s instanceof Bs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Jf(e),l=Vl(e);return(t?s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.K()).next(h=>{const m=[];return Jt.forEach(h,P=>l.get([P.indexId,this.uid]).next(te=>{m.push(function(we,Ze){const wt=Ze?new Ka(Ze.sequenceNumber,new Vr(bu(Ze.readTime),new zn(Da(Ze.documentKey)),Ze.largestBatchId)):Ka.empty(),tn=we.fields.map(([wn,Nn])=>new Wa(Gr.fromServerFormat(wn),Nn));return new Bo(we.indexId,we.collectionGroup,tn,wt)}(P,te))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const h=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:x(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=Jf(e),h=Vl(e);return this.ln(e).next(m=>l.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>Jt.forEach(P,te=>h.put(Qg(te.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return Jt.forEach(t,(l,h)=>{const m=s.get(l.collectionGroup);return(m?Jt.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(P=>(s.set(l.collectionGroup,P),Jt.forEach(P,te=>this.fn(e,l,te).next(we=>{const Ze=this.dn(h,te);return we.isEqual(Ze)?Jt.resolve():this._n(e,h,te,we,Ze)}))))})}wn(e,t,s,l){return lc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(s,t.key),documentKey:t.key.path.toArray()})}mn(e,t,s,l){return lc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(s,t.key),t.key.path.toArray()])}fn(e,t,s){const l=lc(e);let h=new qi(Bl);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.un(s,t)])},(m,P)=>{h=h.add(new fo(s.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>h)}dn(e,t){let s=new qi(Bl);const l=this.on(t,e);if(null==l)return s;const h=ks(t);if(null!=h){const m=e.data.field(h.fieldPath);if(Za(m))for(const P of m.arrayValue.values||[])s=s.add(new fo(t.indexId,e.key,this.nn(P),l))}else s=s.add(new fo(t.indexId,e.key,od,l));return s}_n(e,t,s,l,h){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(P,te,we,Ze,wt){const tn=P.getIterator(),wn=te.getIterator();let Nn=ka(tn),cr=ka(wn);for(;Nn||cr;){let br=!1,Fi=!1;if(Nn&&cr){const ts=we(Nn,cr);ts<0?Fi=!0:ts>0&&(br=!0)}else null!=Nn?Fi=!0:br=!0;br?(Ze(cr),cr=ka(wn)):Fi?(wt(Nn),Nn=ka(tn)):(Nn=ka(tn),cr=ka(wn))}}(l,h,Bl,P=>{m.push(this.wn(e,t,s,P))},P=>{m.push(this.mn(e,t,s,P))}),Jt.waitFor(m)}ln(e){let t=1;return Vl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,P)=>Bl(m,P)).filter((m,P,te)=>!P||0!==Bl(m,te[P-1]));const l=[];l.push(e);for(const m of s){const P=Bl(m,e),te=Bl(m,t);if(0===P)l[0]=e.Le();else if(P>0&&te<0)l.push(m),l.push(m.Le());else if(te>0)break}l.push(t);const h=[];for(let m=0;m<l.length;m+=2)h.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,od,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,od,[]]));return h}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ad)}getMinOffset(e,t){return Jt.mapArray(this.Ye(t),s=>this.Xe(e,s).next(l=>l||Fn())).next(ad)}}function fv(i){return Us(i,"collectionParents")}function lc(i){return Us(i,"indexEntries")}function Jf(i){return Us(i,"indexConfiguration")}function Vl(i){return Us(i,"indexState")}function ad(i){Ln(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Uo(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Vr(e.readTime,e.documentKey,t)}const mh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yh(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),h=[],m=IDBKeyRange.only(t.batchId);let P=0;const te=s.J({range:m},(Ze,wt,tn)=>(P++,tn.delete()));h.push(te.next(()=>{Ln(1===P)}));const we=[];for(const Ze of t.mutations){const wt=dh(e,Ze.key.path,t.batchId);h.push(l.delete(wt)),we.push(Ze.key)}return Jt.waitFor(h).next(()=>we)}function Xf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Fn();e=i.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class vh{constructor(e,t,s,l){this.userId=e,this.wt=t,this.indexManager=s,this.referenceDelegate=l,this.gn={}}static se(e,t,s,l){Ln(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new vh(h,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ul(e).J({index:"userMutationsIndex",range:s},(l,h,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const h=uc(e),m=Ul(e);return m.add({}).next(P=>{Ln("number"==typeof P);const te=new Gf(P,t,s,l),we=function(tn,wn,Nn){const cr=Nn.baseMutations.map(Fi=>qn(tn.ne,Fi)),br=Nn.mutations.map(Fi=>qn(tn.ne,Fi));return{userId:wn,batchId:Nn.batchId,localWriteTimeMs:Nn.localWriteTime.toMillis(),baseMutations:cr,mutations:br}}(this.wt,this.userId,te),Ze=[];let wt=new qi((tn,wn)=>x(tn.canonicalString(),wn.canonicalString()));for(const tn of l){const wn=dh(this.userId,tn.key.path,P);wt=wt.add(tn.key.path.popLast()),Ze.push(m.put(we)),Ze.push(h.put(wn,av))}return wt.forEach(tn=>{Ze.push(this.indexManager.addToCollectionParentIndex(e,tn))}),e.addOnCommittedListener(()=>{this.gn[P]=te.keys()}),Jt.waitFor(Ze).next(()=>te)})}lookupMutationBatch(e,t){return Ul(e).get(t).next(s=>s?(Ln(s.userId===this.userId),Nl(this.wt,s)):null)}yn(e,t){return this.gn[t]?Jt.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.gn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let h=null;return Ul(e).J({index:"userMutationsIndex",range:l},(m,P,te)=>{P.userId===this.userId&&(Ln(P.batchId>=s),h=Nl(this.wt,P)),te.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ul(e).J({index:"userMutationsIndex",range:t,reverse:!0},(l,h,m)=>{s=h.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ul(e).K("userMutationsIndex",t).next(s=>s.map(l=>Nl(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xc(this.userId,t.path),l=IDBKeyRange.lowerBound(s),h=[];return uc(e).J({range:l},(m,P,te)=>{const[we,Ze,wt]=m,tn=Da(Ze);if(we===this.userId&&t.path.isEqual(tn))return Ul(e).get(wt).next(wn=>{if(!wn)throw Fn();Ln(wn.userId===this.userId),h.push(Nl(this.wt,wn))});te.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qi(x);const l=[];return t.forEach(h=>{const m=Xc(this.userId,h.path),P=IDBKeyRange.lowerBound(m),te=uc(e).J({range:P},(we,Ze,wt)=>{const[tn,wn,Nn]=we,cr=Da(wn);tn===this.userId&&h.path.isEqual(cr)?s=s.add(Nn):wt.done()});l.push(te)}),Jt.waitFor(l).next(()=>this.pn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,h=Xc(this.userId,s),m=IDBKeyRange.lowerBound(h);let P=new qi(x);return uc(e).J({range:m},(te,we,Ze)=>{const[wt,tn,wn]=te,Nn=Da(tn);wt===this.userId&&s.isPrefixOf(Nn)?Nn.length===l&&(P=P.add(wn)):Ze.done()}).next(()=>this.pn(e,P))}pn(e,t){const s=[],l=[];return t.forEach(h=>{l.push(Ul(e).get(h).next(m=>{if(null===m)throw Fn();Ln(m.userId===this.userId),s.push(Nl(this.wt,m))}))}),Jt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return yh(e.ee,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Jt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Jt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return uc(e).J({range:s},(h,m,P)=>{if(h[0]===this.userId){const te=Da(h[1]);l.push(te)}else P.done()}).next(()=>{Ln(0===l.length)})})}containsKey(e,t){return rm(e,this.userId,t)}Tn(e){return ep(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rm(i,e,t){const s=Xc(e,t.path),l=s[1],h=IDBKeyRange.lowerBound(s);let m=!1;return uc(i).J({range:h,H:!0},(P,te,we)=>{const[Ze,wt,tn]=P;Ze===e&&wt===l&&(m=!0),we.done()}).next(()=>m)}function Ul(i){return Us(i,"mutations")}function uc(i){return Us(i,"documentMutations")}function ep(i){return Us(i,"mutationQueues")}class cc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new cc(0)}static Rn(){return new cc(-1)}}class pv{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const s=new cc(t.highestTargetId);return t.highestTargetId=s.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>fe.fromTimestamp(new z(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.bn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Pn(e,l)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(s=>(s.targetCount+=1,this.Vn(t,s),this.Pn(e,s))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ld(e).delete(t.targetId)).next(()=>this.bn(e)).next(s=>(Ln(s.targetCount>0),s.targetCount-=1,this.Pn(e,s)))}removeTargets(e,t,s){let l=0;const h=[];return ld(e).J((m,P)=>{const te=nd(P);te.sequenceNumber<=t&&null===s.get(te.targetId)&&(l++,h.push(this.removeTargetData(e,te)))}).next(()=>Jt.waitFor(h)).next(()=>l)}forEachTarget(e,t){return ld(e).J((s,l)=>{const h=nd(l);t(h)})}bn(e){return tp(e).get("targetGlobalKey").next(t=>(Ln(null!==t),t))}Pn(e,t){return tp(e).put("targetGlobalKey",t)}vn(e,t){return ld(e).put(Yg(this.wt,t))}Vn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ja(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let h=null;return ld(e).J({range:l,index:"queryTargetsIndex"},(m,P,te)=>{const we=nd(P);Xa(t,we.target)&&(h=we,te.done())}).next(()=>h)}addMatchingKeys(e,t,s){const l=[],h=al(e);return t.forEach(m=>{const P=ho(m.path);l.push(h.put({targetId:s,path:P})),l.push(this.referenceDelegate.addReference(e,s,m))}),Jt.waitFor(l)}removeMatchingKeys(e,t,s){const l=al(e);return Jt.forEach(t,h=>{const m=ho(h.path);return Jt.waitFor([l.delete([s,m]),this.referenceDelegate.removeReference(e,s,h)])})}removeMatchingKeysForTargetId(e,t){const s=al(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=al(e);let h=oi();return l.J({range:s,H:!0},(m,P,te)=>{const we=Da(m[1]),Ze=new zn(we);h=h.add(Ze)}).next(()=>h)}containsKey(e,t){const s=ho(t.path),l=IDBKeyRange.bound([s],[D(s)],!1,!0);let h=0;return al(e).J({index:"documentTargetsIndex",H:!0,range:l},([m,P],te,we)=>{0!==m&&(h++,we.done())}).next(()=>h>0)}te(e,t){return ld(e).get(t).next(s=>s?nd(s):null)}}function ld(i){return Us(i,"targets")}function tp(i){return Us(i,"targetGlobal")}function al(i){return Us(i,"targetDocuments")}function im([i,e],[t,s]){const l=x(i,t);return 0===l?x(e,s):l}class np{constructor(e){this.Sn=e,this.buffer=new qi(im),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();im(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Be.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){jo(s)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield aa(s)}yield t.kn(3e5)}))}}class v0{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Jt.resolve(Ns.ot);const s=new np(t);return this.On.forEachTarget(e,l=>s.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>s.xn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.On.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Jt.resolve(mh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mh):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let s,l,h,m,P,te,we;const Ze=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(wt=>(wt>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${wt}`),l=this.params.maximumSequenceNumbersToCollect):l=wt,m=Date.now(),this.nthSequenceNumber(e,l))).next(wt=>(s=wt,P=Date.now(),this.removeTargets(e,s,t))).next(wt=>(h=wt,te=Date.now(),this.removeOrphanedDocuments(e,s))).next(wt=>(we=Date.now(),ae()<=Te.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-Ze}ms\n\tDetermined least recently used ${l} in `+(P-m)+`ms\n\tRemoved ${h} targets in `+(te-P)+`ms\n\tRemoved ${wt} documents in `+(we-te)+`ms\nTotal Duration: ${we-Ze}ms`),Jt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:wt})))}}class _0{constructor(e,t){this.db=e,this.garbageCollector=new v0(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Bn(e){let t=0;return this.Fn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(s,l)=>t(l))}addReference(e,t,s){return rp(e,s)}removeReference(e,t,s){return rp(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return rp(e,t)}Un(e,t){return function(s,l){let h=!1;return ep(s).Y(m=>rm(s,m,l).next(P=>(P&&(h=!0),Jt.resolve(!P)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Ln(e,(m,P)=>{if(P<=t){const te=this.Un(e,m).next(we=>{if(!we)return h++,s.getEntry(e,m).next(()=>(s.removeEntry(m,fe.min()),al(e).delete([0,ho(m.path)])))});l.push(te)}}).next(()=>Jt.waitFor(l)).next(()=>s.apply(e)).next(()=>h)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return rp(e,t)}Ln(e,t){const s=al(e);let l,h=Ns.ot;return s.J({index:"documentTargetsIndex"},([m,P],{path:te,sequenceNumber:we})=>{0===m?(h!==Ns.ot&&t(new zn(Da(l)),h),h=we,l=te):h=Ns.ot}).next(()=>{h!==Ns.ot&&t(new zn(Da(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rp(i,e){return al(i).put((s=i.currentSequenceNumber,{targetId:0,path:ho(e.path),sequenceNumber:s}));var s}class gv{constructor(){this.changes=new Eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Jt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E0{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return dc(e).put(s)}removeEntry(e,t,s){return dc(e).delete(function(l,h){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Kf(h),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.qn(e,s)))}getEntry(e,t){let s=us.newInvalidDocument(t);return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ha(t))},(l,h)=>{s=this.Kn(t,h)}).next(()=>s)}Gn(e,t){let s={size:0,document:us.newInvalidDocument(t)};return dc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ha(t))},(l,h)=>{s={document:this.Kn(t,h),size:Xf(h)}}).next(()=>s)}getEntries(e,t){let s=bo();return this.Qn(e,t,(l,h)=>{const m=this.Kn(l,h);s=s.insert(l,m)}).next(()=>s)}jn(e,t){let s=bo(),l=new Ss(zn.comparator);return this.Qn(e,t,(h,m)=>{const P=this.Kn(h,m);s=s.insert(h,P),l=l.insert(h,Xf(m))}).next(()=>({documents:s,Wn:l}))}Qn(e,t,s){if(t.isEmpty())return Jt.resolve();let l=new qi(sm);t.forEach(te=>l=l.add(te));const h=IDBKeyRange.bound(ha(l.first()),ha(l.last())),m=l.getIterator();let P=m.getNext();return dc(e).J({index:"documentKeyIndex",range:h},(te,we,Ze)=>{const wt=zn.fromSegments([...we.prefixPath,we.collectionGroup,we.documentId]);for(;P&&sm(P,wt)<0;)s(P,null),P=m.getNext();P&&P.isEqual(wt)&&(s(P,we),P=m.hasNext()?m.getNext():null),P?Ze.q(ha(P)):Ze.done()}).next(()=>{for(;P;)s(P,null),P=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,s){const l=[t.popLast().toArray(),t.lastSegment(),Kf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dc(e).K(IDBKeyRange.bound(l,h,!0)).next(m=>{let P=bo();for(const te of m){const we=this.Kn(zn.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);P=P.insert(we.key,we)}return P})}getAllFromCollectionGroup(e,t,s,l){let h=bo();const m=_h(t,s),P=_h(t,Vr.max());return dc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,P,!0)},(te,we,Ze)=>{const wt=this.Kn(zn.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);h=h.insert(wt.key,wt),h.size===l&&Ze.done()}).next(()=>h)}newChangeBuffer(e){return new b0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yv(e).get("remoteDocumentGlobalKey").next(t=>(Ln(!!t),t))}qn(e,t){return yv(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const s=function zf(i,e){let t;if(e.document)t=Ge(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=zn.fromSegments(e.noDocument.path),l=bu(e.noDocument.readTime);t=us.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fn();{const s=zn.fromSegments(e.unknownDocument.path),l=bu(e.unknownDocument.version);t=us.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new z(s[0],s[1]);return fe.fromTimestamp(l)}(e.readTime)),t}(this.wt,t);if(!s.isNoDocument()||!s.version.isEqual(fe.min()))return s}return us.newInvalidDocument(e)}}function mv(i){return new E0(i)}class b0 extends gv{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Eo(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new qi((h,m)=>x(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const P=this.Hn.get(h);if(t.push(this.zn.removeEntry(e,h,P.readTime)),m.isValidDocument()){const te=Wf(this.zn.wt,m);l=l.add(h.path.popLast()),s+=Xf(te)-P.size,t.push(this.zn.addEntry(e,h,te))}else if(s-=P.size,this.trackRemovals){const te=Wf(this.zn.wt,m.convertToNoDocument(fe.min()));t.push(this.zn.addEntry(e,h,te))}}),l.forEach(h=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.zn.updateMetadata(e,s)),Jt.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(s=>(this.Hn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:s,Wn:l})=>(l.forEach((h,m)=>{this.Hn.set(h,{size:m,readTime:s.get(h).readTime})}),s))}}function yv(i){return Us(i,"remoteDocumentGlobal")}function dc(i){return Us(i,"remoteDocumentsV14")}function ha(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _h(i,e){const t=e.documentKey.path.toArray();return[i,Kf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sm(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let h=0;h<t.length-2&&h<s.length-2;++h)if(l=x(t[h],s[h]),l)return l;return l=x(t.length,s.length),l||(l=x(t[t.length-2],s[s.length-2]),l||x(t[t.length-1],s[s.length-1]))}class om{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Eh{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.getBaseDocument(e,t,s))).next(l=>(null!==s&&il(s.mutation,l,Ls.empty(),z.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,oi()).next(()=>s))}getLocalViewOfDocuments(e,t,s=oi()){const l=co();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(h=>{let m=Sl();return h.forEach((P,te)=>{m=m.insert(P,te.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=co();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,oi()))}populateOverlays(e,t,s){const l=[];return s.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((m,P)=>{t.set(m,P)})})}computeViews(e,t,s,l){let h=bo();const m=Ml(),P=Ml();return t.forEach((te,we)=>{const Ze=s.get(we.key);l.has(we.key)&&(void 0===Ze||Ze.mutation instanceof ba)?h=h.insert(we.key,we):void 0!==Ze&&(m.set(we.key,Ze.mutation.getFieldMask()),il(Ze.mutation,we,Ze.mutation.getFieldMask(),z.now()))}),this.recalculateAndSaveOverlays(e,h).next(te=>(te.forEach((we,Ze)=>m.set(we,Ze)),t.forEach((we,Ze)=>{var wt;return P.set(we,new om(Ze,null!==(wt=m.get(we))&&void 0!==wt?wt:null))}),P))}recalculateAndSaveOverlays(e,t){const s=Ml();let l=new Ss((m,P)=>m-P),h=oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const P of m)P.keys().forEach(te=>{const we=t.get(te);if(null===we)return;let Ze=s.get(te)||Ls.empty();Ze=P.applyToLocalView(we,Ze),s.set(te,Ze);const wt=(l.get(P.batchId)||oi()).add(te);l=l.insert(P.batchId,wt)})}).next(()=>{const m=[],P=l.getReverseIterator();for(;P.hasNext();){const te=P.getNext(),we=te.key,Ze=te.value,wt=$c();Ze.forEach(tn=>{if(!h.has(tn)){const wn=Xd(t.get(tn),s.get(tn));null!==wn&&wt.set(tn,wn),h=h.add(tn)}}),m.push(this.documentOverlayCache.saveOverlays(e,we,wt))}return Jt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return zn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ku(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):Jt.resolve(co());let P=-1,te=h;return m.next(we=>Jt.forEach(we,(Ze,wt)=>(P<wt.largestBatchId&&(P=wt.largestBatchId),h.get(Ze)?Jt.resolve():this.getBaseDocument(e,Ze,wt).next(tn=>{te=te.insert(Ze,tn)}))).next(()=>this.populateOverlays(e,we,h)).next(()=>this.computeViews(e,te,we,oi())).next(Ze=>({batchId:P,changes:wo(Ze)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new zn(t)).next(s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let h=Sl();return this.indexManager.getCollectionParents(e,l).next(m=>Jt.forEach(m,P=>{const te=(we=t,Ze=P.child(l),new Qo(Ze,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ze;return this.getDocumentsMatchingCollectionQuery(e,te,s).next(we=>{we.forEach((Ze,wt)=>{h=h.insert(Ze,wt)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(h=>(l=h,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(h=>{h.forEach((P,te)=>{const we=te.getKey();null===l.get(we)&&(l=l.insert(we,us.newInvalidDocument(we)))});let m=Sl();return l.forEach((P,te)=>{const we=h.get(P);void 0!==we&&il(we.mutation,te,Ls.empty(),z.now()),Yu(t,te)&&(m=m.insert(P,te))}),m})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):Jt.resolve(us.newInvalidDocument(t))}}class am{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Jt.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var s;return this.Jn.set(t.id,{id:(s=t).id,version:s.version,createTime:Vs(s.createTime)}),Jt.resolve()}getNamedQuery(e,t){return Jt.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(s=t).name,query:Jo(s.bundledQuery),readTime:Vs(s.readTime)}),Jt.resolve();var s}}class ip{constructor(){this.overlays=new Ss(zn.comparator),this.Xn=new Map}getOverlay(e,t){return Jt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=co();return Jt.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,h)=>{this.ie(e,t,h)}),Jt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.Xn.get(s);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Xn.delete(s)),Jt.resolve()}getOverlaysForCollection(e,t,s){const l=co(),h=t.length+1,m=new zn(t.child("")),P=this.overlays.getIteratorFrom(m);for(;P.hasNext();){const te=P.getNext().value,we=te.getKey();if(!t.isPrefixOf(we.path))break;we.path.length===h&&te.largestBatchId>s&&l.set(te.getKey(),te)}return Jt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new Ss((we,Ze)=>we-Ze);const m=this.overlays.getIterator();for(;m.hasNext();){const we=m.getNext().value;if(we.getKey().getCollectionGroup()===t&&we.largestBatchId>s){let Ze=h.get(we.largestBatchId);null===Ze&&(Ze=co(),h=h.insert(we.largestBatchId,Ze)),Ze.set(we.getKey(),we)}}const P=co(),te=h.getIterator();for(;te.hasNext()&&(te.getNext().value.forEach((we,Ze)=>P.set(we,Ze)),!(P.size()>=l)););return Jt.resolve(P)}ie(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const m=this.Xn.get(l.largestBatchId).delete(s.key);this.Xn.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Hf(t,s));let h=this.Xn.get(t);void 0===h&&(h=oi(),this.Xn.set(t,h)),this.Xn.set(t,h.add(s.key))}}class sp{constructor(){this.Zn=new qi(As.ts),this.es=new qi(As.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new As(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new As(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new zn(new Zt([])),s=new As(t,e),l=new As(t,e+1),h=[];return this.es.forEachInRange([s,l],m=>{this.rs(m),h.push(m.key)}),h}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new zn(new Zt([])),s=new As(t,e),l=new As(t,e+1);let h=oi();return this.es.forEachInRange([s,l],m=>{h=h.add(m.key)}),h}containsKey(e){const t=new As(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class As{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return zn.comparator(e.key,t.key)||x(e.ls,t.ls)}static ns(e,t){return x(e.ls,t.ls)||zn.comparator(e.key,t.key)}}class lm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new qi(As.ts)}checkEmpty(e){return Jt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const h=this.fs;this.fs++;const m=new Gf(h,t,s,l);this.mutationQueue.push(m);for(const P of l)this.ds=this.ds.add(new As(P.key,h)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return Jt.resolve(m)}lookupMutationBatch(e,t){return Jt.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ws(t+1),h=l<0?0:l;return Jt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Jt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Jt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new As(t,0),l=new As(t,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([s,l],m=>{const P=this._s(m.ls);h.push(P)}),Jt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new qi(x);return t.forEach(l=>{const h=new As(l,0),m=new As(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],P=>{s=s.add(P.ls)})}),Jt.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;zn.isDocumentKey(h)||(h=h.child(""));const m=new As(new zn(h),0);let P=new qi(x);return this.ds.forEachWhile(te=>{const we=te.key.path;return!!s.isPrefixOf(we)&&(we.length===l&&(P=P.add(te.ls)),!0)},m),Jt.resolve(this.gs(P))}gs(e){const t=[];return e.forEach(s=>{const l=this._s(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Ln(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ds;return Jt.forEach(t.mutations,l=>{const h=new As(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,t){const s=new As(t,0),l=this.ds.firstAfterOrEqual(s);return Jt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Jt.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vv{constructor(e){this.ps=e,this.docs=new Ss(zn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,m=this.ps(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Jt.resolve(s?s.document.mutableCopy():us.newInvalidDocument(t))}getEntries(e,t){let s=bo();return t.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():us.newInvalidDocument(l))}),Jt.resolve(s)}getAllFromCollection(e,t,s){let l=bo();const h=new zn(t.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:P,value:{document:te}}=m.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||Uo(Vu(te),s)<=0||(l=l.insert(te.key,te.mutableCopy()))}return Jt.resolve(l)}getAllFromCollectionGroup(e,t,s,l){Fn()}Is(e,t){return Jt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new op(this)}getSize(e){return Jt.resolve(this.size)}}class op extends gv{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.zn.addEntry(e,l)):this.zn.removeEntry(s)}),Jt.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class _v{constructor(e){this.persistence=e,this.Ts=new Eo(t=>Ja(t),Xa),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Es=0,this.As=new sp,this.targetCount=0,this.Rs=cc.An()}forEachTarget(e,t){return this.Ts.forEach((s,l)=>t(l)),Jt.resolve()}getLastRemoteSnapshotVersion(e){return Jt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Jt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Es&&(this.Es=t),Jt.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new cc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Jt.resolve()}updateTargetData(e,t){return this.vn(t),Jt.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Jt.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.Ts.forEach((m,P)=>{P.sequenceNumber<=t&&null===s.get(P.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),Jt.waitFor(h).next(()=>l)}getTargetCount(e){return Jt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Ts.get(t)||null;return Jt.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Jt.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(m=>{h.push(l.markPotentiallyOrphaned(e,m))}),Jt.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Jt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Jt.resolve(s)}containsKey(e,t){return Jt.resolve(this.As.containsKey(t))}}class ap{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ns(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new _v(this),this.indexManager=new ol,this.remoteDocumentCache=new vv(s=>this.referenceDelegate.Ss(s)),this.wt=new $f(t),this.Ds=new am(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ip,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.bs[e.toKey()];return s||(s=new lm(t,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ve("MemoryPersistence","Starting transaction:",e);const l=new Ev(this.Ps.next());return this.referenceDelegate.Cs(),s(l).next(h=>this.referenceDelegate.xs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ns(e,t){return Jt.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class Ev extends Tf{constructor(e){super(),this.currentSequenceNumber=e}}class bh{constructor(e){this.persistence=e,this.ks=new sp,this.Os=null}static Ms(e){return new bh(e)}get Fs(){if(this.Os)return this.Os;throw Fn()}addReference(e,t,s){return this.ks.addReference(s,t),this.Fs.delete(s.toString()),Jt.resolve()}removeReference(e,t,s){return this.ks.removeReference(s,t),this.Fs.add(s.toString()),Jt.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Jt.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(l=>this.Fs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Fs.add(h.toString()))}).next(()=>s.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jt.forEach(this.Fs,s=>{const l=zn.fromPath(s);return this.$s(e,l).next(h=>{h||t.removeEntry(l,fe.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Jt.or([()=>Jt.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class ud{constructor(e){this.wt=e}O(e,t,s,l){const h=new Oa("createOrUpgrade",t);var P;s<1&&l>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ch,{unique:!0}),P.createObjectStore("documentMutations"),Du(e),function(P){P.createObjectStore("remoteDocuments")}(e));let m=Jt.resolve();return s<3&&l>=3&&(0!==s&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),Du(e)),m=m.next(()=>function(P){const te=P.store("targetGlobal"),we={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:fe.min().toTimestamp(),targetCount:0};return te.put("targetGlobalKey",we)}(h))),s<4&&l>=4&&(0!==s&&(m=m.next(()=>function(P,te){return te.store("mutations").K().next(we=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ch,{unique:!0});const Ze=te.store("mutations"),wt=we.map(tn=>Ze.put(tn));return Jt.waitFor(wt)})}(e,h))),m=m.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(m=m.next(()=>this.Bs(h))),s<6&&l>=6&&(m=m.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(h)))),s<7&&l>=7&&(m=m.next(()=>this.Us(h))),s<8&&l>=8&&(m=m.next(()=>this.qs(e,h))),s<9&&l>=9&&(m=m.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(m=m.next(()=>this.Ks(h))),s<11&&l>=11&&(m=m.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(m=m.next(()=>{!function(P){const te=P.createObjectStore("documentOverlays",{keyPath:Wg});te.createIndex("collectionPathOverlayIndex",Uf,{unique:!1}),te.createIndex("collectionGroupOverlayIndex",Kg,{unique:!1})}(e)})),s<13&&l>=13&&(m=m.next(()=>function(P){const te=P.createObjectStore("remoteDocumentsV14",{keyPath:lv});te.createIndex("documentKeyIndex",Ug),te.createIndex("collectionGroupIndex",jg)}(e)).next(()=>this.Gs(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(m=m.next(()=>this.Qs(e,h))),s<15&&l>=15&&(m=m.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:hh}).createIndex("sequenceNumberIndex",cv,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:$g}).createIndex("documentKeyIndex",zg,{unique:!1})}(e))),m}Ls(e){let t=0;return e.store("remoteDocuments").J((s,l)=>{t+=Xf(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Bs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.K().next(l=>Jt.forEach(l,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.K("userMutationsIndex",m).next(P=>Jt.forEach(P,te=>{Ln(te.userId===h.userId);const we=Nl(this.wt,te);return yh(e,h.userId,we).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return s.J((m,P)=>{const te=new Zt(m),we=[0,ho(te)];h.push(t.get(we).next(Ze=>Ze?Jt.resolve():t.put({targetId:0,path:ho(te),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Jt.waitFor(h))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:uv});const s=t.store("collectionParents"),l=new sd,h=m=>{if(l.add(m)){const P=m.lastSegment(),te=m.popLast();return s.put({collectionId:P,parent:ho(te)})}};return t.store("remoteDocuments").J({H:!0},(m,P)=>{const te=new Zt(m);return h(te.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([m,P,te],we)=>{const Ze=Da(P);return h(Ze.popLast())}))}Ks(e){const t=e.store("targets");return t.J((s,l)=>{const h=nd(l),m=Yg(this.wt,h);return t.put(m)})}Gs(e,t){const s=t.store("remoteDocuments"),l=[];return s.J((h,m)=>{const P=t.store("remoteDocumentsV14"),te=(we=m,we.document?new zn(Zt.fromString(we.document.name).popFirst(5)):we.noDocument?zn.fromSegments(we.noDocument.path):we.unknownDocument?zn.fromSegments(we.unknownDocument.path):Fn()).path.toArray();var we;const Ze={prefixPath:te.slice(0,te.length-2),collectionGroup:te[te.length-2],documentId:te[te.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};l.push(P.put(Ze))}).next(()=>Jt.waitFor(l))}Qs(e,t){const s=t.store("mutations"),l=mv(this.wt),h=new ap(bh.Ms,this.wt.ne);return s.K().next(m=>{const P=new Map;return m.forEach(te=>{var we;let Ze=null!==(we=P.get(te.userId))&&void 0!==we?we:oi();Nl(this.wt,te).keys().forEach(wt=>Ze=Ze.add(wt)),P.set(te.userId,Ze)}),Jt.forEach(P,(te,we)=>{const Ze=new O(we),wt=rd.se(this.wt,Ze),tn=h.getIndexManager(Ze),wn=vh.se(Ze,this.wt,tn,h.referenceDelegate);return new Eh(l,wn,wt,tn).recalculateAndSaveOverlaysForDocumentKeys(new td(t,Ns.ot),te).next()})})}}function Du(i){i.createObjectStore("targetDocuments",{keyPath:Gg}).createIndex("documentTargetsIndex",Hg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Eu,{unique:!0}),i.createObjectStore("targetGlobal")}const cd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jl{constructor(e,t,s,l,h,m,P,te,we,Ze,wt=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.js=h,this.window=m,this.document=P,this.Ws=we,this.zs=Ze,this.Hs=wt,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=tn=>Promise.resolve(),!jl.V())throw new On(nn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _0(this,l),this.ei=t+"main",this.wt=new $f(te),this.ni=new so(this.ei,this.Hs,new ud(this.wt)),this.Vs=new pv(this.referenceDelegate,this.wt),this.remoteDocumentCache=mv(this.wt),this.Ds=new dv,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===Ze&&vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new On(nn.FAILED_PRECONDITION,cd);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ns(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var s=(0,Be.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Be.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ul(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(jo(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ll(e).get("owner").next(t=>Jt.resolve(this.di(t)))}_i(e){return ul(e).delete(this.clientId)}wi(){var e=this;return(0,Be.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Us(s,"clientMetadata");return l.K().next(h=>{const m=e.gi(h,18e5),P=h.filter(te=>-1===m.indexOf(te));return Jt.forEach(P,te=>l.delete(te.clientId)).next(()=>P)})}).catch(()=>[]);if(e.si)for(const s of t)e.si.removeItem(e.yi(s.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Jt.resolve(!0):ll(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new On(nn.FAILED_PRECONDITION,cd);return!1}}return!(!this.networkEnabled||!this.inForeground)||ul(e).K().next(s=>void 0===this.gi(s,5e3).find(l=>{if(this.clientId!==l.clientId){const m=!this.inForeground&&l.inForeground,P=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||m&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Be.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new td(t,Ns.ot);return e.li(s).next(()=>e._i(s))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(s=>this.mi(s.updateTimeMs,t)&&!this.pi(s.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>ul(e).K().next(t=>this.gi(t,18e5).map(s=>s.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return vh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Zf(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return rd.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ve("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=15===(m=this.Hs)?qg:14===m?ph:13===m?jf:12===m?fh:11===m?ed:void Fn();var m;let P;return this.ni.runTransaction(e,l,h,te=>(P=new td(te,this.Ps?this.Ps.next():Ns.ot),"readwrite-primary"===t?this.ai(P).next(we=>!!we||this.hi(P)).next(we=>{if(!we)throw vt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new On(nn.FAILED_PRECONDITION,oa);return s(P)}).next(we=>this.fi(P).next(()=>we)):this.bi(P).next(()=>s(P)))).then(te=>(P.raiseOnCommittedEvent(),te))}bi(e){return ll(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new On(nn.FAILED_PRECONDITION,cd)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ll(e).put("owner",t)}static V(){return so.V()}li(e){const t=ll(e);return t.get("owner").next(s=>this.di(s)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Jt.resolve())}mi(e,t){const s=Date.now();return!(e<s-t||e>s&&(vt(`Detected an update time that is in the future: ${e} > ${s}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ue.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const s=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return vt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){vt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ll(i){return Us(i,"owner")}function ul(i){return Us(i,"clientMetadata")}function lp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class wh{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Pi=s,this.vi=l}static Vi(e,t){let s=oi(),l=oi();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new wh(e,t.fromCache,s,l)}}class up{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,s,l){return this.Ci(e,t).next(h=>h||this.xi(e,t,l,s)).next(h=>h||this.Ni(e,t))}Ci(e,t){return Jt.resolve(null)}xi(e,t,s,l){return function Ff(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||l.isEqual(fe.min())?this.Ni(e,t):this.Di.getDocuments(e,s).next(h=>{const m=this.ki(t,h);return this.Oi(t,m,s,l)?this.Ni(e,t):(ae()<=Te.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ro(t)),this.Mi(e,m,t,Vo(l,-1)))})}ki(e,t){let s=new qi(La(e));return t.forEach((l,h)=>{Yu(e,h)&&(s=s.add(h))}),s}Oi(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ni(e,t){return ae()<=Te.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Ro(t)),this.Di.getDocumentsMatchingQuery(e,t,Vr.min())}Mi(e,t,s,l){return this.Di.getDocumentsMatchingQuery(e,s,l).next(h=>(t.forEach(m=>{h=h.insert(m.key,m)}),h))}}class cp{constructor(e,t,s,l){this.persistence=e,this.Fi=t,this.wt=l,this.$i=new Ss(x),this.Bi=new Eo(h=>Ja(h),Xa),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Eh(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Dh(i,e,t,s){return new cp(i,e,t,s)}function dp(i,e){return hc.apply(this,arguments)}function hc(){return hc=(0,Be.Z)(function*(i,e){const t=kn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,t.qi(e),t.mutationQueue.getAllMutationBatches(s))).next(h=>{const m=[],P=[];let te=oi();for(const we of l){m.push(we.batchId);for(const Ze of we.mutations)te=te.add(Ze.key)}for(const we of h){P.push(we.batchId);for(const Ze of we.mutations)te=te.add(Ze.key)}return t.localDocuments.getDocuments(s,te).next(we=>({Ki:we,removedBatchIds:m,addedBatchIds:P}))})})}),hc.apply(this,arguments)}function bv(i,e){const t=kn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),h=t.Ui.newChangeBuffer({trackRemovals:!0});return function(m,P,te,we){const Ze=te.batch,wt=Ze.keys();let tn=Jt.resolve();return wt.forEach(wn=>{tn=tn.next(()=>we.getEntry(P,wn)).next(Nn=>{const cr=te.docVersions.get(wn);Ln(null!==cr),Nn.version.compareTo(cr)<0&&(Ze.applyToRemoteDocument(Nn,te),Nn.isValidDocument()&&(Nn.setReadTime(te.commitVersion),we.addEntry(Nn)))})}),tn.next(()=>m.mutationQueue.removeMutationBatch(P,Ze))}(t,s,e,h).next(()=>h.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let P=oi();for(let te=0;te<m.mutationResults.length;++te)m.mutationResults[te].transformResults.length>0&&(P=P.add(m.batch.mutations[te].key));return P}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function hp(i){const e=kn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function w0(i,e){const t=kn(i),s=e.snapshotVersion;let l=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=t.Ui.newChangeBuffer({trackRemovals:!0});l=t.$i;const P=[];e.targetChanges.forEach((Ze,wt)=>{const tn=l.get(wt);if(!tn)return;P.push(t.Vs.removeMatchingKeys(h,Ze.removedDocuments,wt).next(()=>t.Vs.addMatchingKeys(h,Ze.addedDocuments,wt)));let wn=tn.withSequenceNumber(h.currentSequenceNumber);var Nn,cr,br;e.targetMismatches.has(wt)?wn=wn.withResumeToken(Cs.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):Ze.resumeToken.approximateByteSize()>0&&(wn=wn.withResumeToken(Ze.resumeToken,s)),l=l.insert(wt,wn),cr=wn,br=Ze,(0===(Nn=tn).resumeToken.approximateByteSize()||cr.snapshotVersion.toMicroseconds()-Nn.snapshotVersion.toMicroseconds()>=3e8||br.addedDocuments.size+br.modifiedDocuments.size+br.removedDocuments.size>0)&&P.push(t.Vs.updateTargetData(h,wn))});let te=bo(),we=oi();if(e.documentUpdates.forEach(Ze=>{e.resolvedLimboDocuments.has(Ze)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(h,Ze))}),P.push(fp(h,m,e.documentUpdates).next(Ze=>{te=Ze.Gi,we=Ze.Qi})),!s.isEqual(fe.min())){const Ze=t.Vs.getLastRemoteSnapshotVersion(h).next(wt=>t.Vs.setTargetsMetadata(h,h.currentSequenceNumber,s));P.push(Ze)}return Jt.waitFor(P).next(()=>m.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,te,we)).next(()=>te)}).then(h=>(t.$i=l,h))}function fp(i,e,t){let s=oi(),l=oi();return t.forEach(h=>s=s.add(h)),e.getEntries(i,s).next(h=>{let m=bo();return t.forEach((P,te)=>{const we=h.get(P);te.isFoundDocument()!==we.isFoundDocument()&&(l=l.add(P)),te.isNoDocument()&&te.version.isEqual(fe.min())?(e.removeEntry(P,te.readTime),m=m.insert(P,te)):!we.isValidDocument()||te.version.compareTo(we.version)>0||0===te.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(te),m=m.insert(P,te)):Ve("LocalStore","Ignoring outdated watch update for ",P,". Current version:",we.version," Watch version:",te.version)}),{Gi:m,Qi:l}})}function um(i,e){const t=kn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fc(i,e){const t=kn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Vs.getTargetData(s,e).next(h=>h?(l=h,Jt.resolve(l)):t.Vs.allocateTargetId(s).next(m=>(l=new Fl(e,m,0,s.currentSequenceNumber),t.Vs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.$i.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.$i=t.$i.insert(s.targetId,s),t.Bi.set(e,s.targetId)),s})}function Cu(i,e,t){return pp.apply(this,arguments)}function pp(){return pp=(0,Be.Z)(function*(i,e,t){const s=kn(i),l=s.$i.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",h,m=>s.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!jo(m))throw m;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.$i=s.$i.remove(e),s.Bi.delete(l.target)}),pp.apply(this,arguments)}function Ch(i,e,t){const s=kn(i);let l=fe.min(),h=oi();return s.persistence.runTransaction("Execute query","readonly",m=>function(P,te,we){const Ze=kn(P),wt=Ze.Bi.get(we);return void 0!==wt?Jt.resolve(Ze.$i.get(wt)):Ze.Vs.getTargetData(te,we)}(s,m,Ho(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(m,P.targetId).next(te=>{h=te})}).next(()=>s.Fi.getDocumentsMatchingQuery(m,e,t?l:fe.min(),t?h:oi())).next(P=>(dm(s,Zo(e),P),{documents:P,ji:h})))}function $o(i,e){const t=kn(i),s=kn(t.Vs),l=t.$i.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>s.te(h,e).next(m=>m?m.target:null))}function cm(i,e){const t=kn(i),s=t.Li.get(e)||fe.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Ui.getAllFromCollectionGroup(l,e,Vo(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(dm(t,e,l),l))}function dm(i,e,t){let s=fe.min();t.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),i.Li.set(e,s)}function hm(){return hm=(0,Be.Z)(function*(i,e,t,s){const l=kn(i);let h=oi(),m=bo();for(const we of t){const Ze=e.Wi(we.metadata.name);we.document&&(h=h.add(Ze));const wt=e.zi(we);wt.setReadTime(e.Hi(we.metadata.readTime)),m=m.insert(Ze,wt)}const P=l.Ui.newChangeBuffer({trackRemovals:!0}),te=yield fc(l,(we=s,Ho(tl(Zt.fromString(`__bundle__/docs/${we}`)))));var we;return l.persistence.runTransaction("Apply bundle documents","readwrite",we=>fp(we,P,m).next(Ze=>(P.apply(we),Ze)).next(Ze=>l.Vs.removeMatchingKeysForTargetId(we,te.targetId).next(()=>l.Vs.addMatchingKeys(we,h,te.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(we,Ze.Gi,Ze.Qi)).next(()=>Ze.Gi)))}),hm.apply(this,arguments)}function fm(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Be.Z)(function*(i,e,t=oi()){const s=yield fc(i,Ho(Jo(e.bundledQuery))),l=kn(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const m=Vs(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return l.Ds.saveNamedQuery(h,e);const P=s.withResumeToken(Cs.EMPTY_BYTE_STRING,m);return l.$i=l.$i.insert(P.targetId,P),l.Vs.updateTargetData(h,P).next(()=>l.Vs.removeMatchingKeysForTargetId(h,s.targetId)).next(()=>l.Vs.addMatchingKeys(h,t,s.targetId)).next(()=>l.Ds.saveNamedQuery(h,e))})}),pm.apply(this,arguments)}function gm(i,e){return`firestore_clients_${i}_${e}`}function Ah(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ih(i,e){return`firestore_targets_${i}_${e}`}class Th{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Ji(e,t,s){const l=JSON.parse(s);let h,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(h=new On(l.error.code,l.error.message))),m?new Th(e,t,l.state,h):(vt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Ji(e,t){const s=JSON.parse(t);let l,h="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(l=new On(s.error.code,s.error.message))),h?new dd(e,s.state,l):(vt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,h=nc();for(let m=0;l&&m<s.activeTargetIds.length;++m)l=Nc(s.activeTargetIds[m]),h=h.add(s.activeTargetIds[m]);return l?new xh(e,h):(vt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sh{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sh(t.clientId,t.onlineState):(vt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gp{constructor(){this.activeTargetIds=nc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mh{constructor(e,t,s,l,h){this.window=e,this.js=t,this.persistenceKey=s,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ss(x),this.started=!1,this.ir=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.rr=gm(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new gp),this.cr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Be.Z)(function*(){const t=yield e.syncEngine.Ri();for(const l of t){if(l===e.tr)continue;const h=e.getItem(gm(e.persistenceKey,l));if(h){const m=xh.Ji(l,h);m&&(e.sr=e.sr.insert(m.clientId,m))}}e._r();const s=e.storage.getItem(e.lr);if(s){const l=e.wr(s);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,s){this.yr(e,t,s),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ih(this.persistenceKey,e));if(s){const l=dd.Ji(e,s);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ih(this.persistenceKey,e))}updateQueryState(e,t,s){this.Tr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.pr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.rr)return void vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Be.Z)(function*(){if(t.started){if(null!==s.key)if(t.cr.test(s.key)){if(null==s.newValue){const l=t.Rr(s.key);return t.br(l,null)}{const l=t.Pr(s.key,s.newValue);if(l)return t.br(l.clientId,l)}}else if(t.ar.test(s.key)){if(null!==s.newValue){const l=t.vr(s.key,s.newValue);if(l)return t.Vr(l)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const l=t.Sr(s.key,s.newValue);if(l)return t.Dr(l)}}else if(s.key===t.lr){if(null!==s.newValue){const l=t.wr(s.newValue);if(l)return t.mr(l)}}else if(s.key===t.ur){const l=function(h){let m=Ns.ot;if(null!=h)try{const P=JSON.parse(h);Ln("number"==typeof P),m=P}catch(P){vt("SharedClientState","Failed to read sequence number from WebStorage",P)}return m}(s.newValue);l!==Ns.ot&&t.sequenceNumberHandler(l)}else if(s.key===t.dr){const l=t.Cr(s.newValue);yield Promise.all(l.map(h=>t.syncEngine.Nr(h)))}}else t.ir.push(s)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,s){const l=new Th(this.currentUser,e,t,s),h=Ah(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Yi())}pr(e){const t=Ah(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,s){const l=Ih(this.persistenceKey,e),h=new dd(e,t,s);this.setItem(l,h.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const s=this.Rr(e);return xh.Ji(s,t)}vr(e,t){const s=this.ar.exec(e),l=Number(s[1]);return Th.Ji(new O(void 0!==s[2]?s[2]:null),l,t)}Sr(e,t){const s=this.hr.exec(e),l=Number(s[1]);return dd.Ji(l,t)}wr(e){return Sh.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const s=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),h=this.gr(s),m=[],P=[];return h.forEach(te=>{l.has(te)||m.push(te)}),l.forEach(te=>{h.has(te)||P.push(te)}),this.syncEngine.Mr(m,P).then(()=>{this.sr=s})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=nc();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class mm{constructor(){this.Fr=new gp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new gp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wv{Br(e){}shutdown(){}}class mp{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dv{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Ha extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,l,h){const m=this.oo(e,t);Ve("RestConnection","Sending: ",m,s);const P={};return this.uo(P,l,h),this.co(e,m,P,s).then(te=>(Ve("RestConnection","Received: ",te),te),te=>{throw fn("RestConnection",`${e} failed with error: `,te,"url: ",m,"request:",s),te})}ao(e,t,s,l,h,m){return this.ro(e,t,s,l,h)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+I,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),s&&s.headers.forEach((l,h)=>e[h]=l)}oo(e,t){return`${this.so}/v1/${t}:${ym[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,s,l){return new Promise((h,m)=>{const P=new Lo;P.listenOnce(ti.COMPLETE,()=>{try{switch(P.getLastErrorCode()){case Jr.NO_ERROR:const we=P.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(we)),h(we);break;case Jr.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),m(new On(nn.DEADLINE_EXCEEDED,"Request time out"));break;case Jr.HTTP_ERROR:const Ze=P.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',Ze,"response text:",P.getResponseText()),Ze>0){const wt=P.getResponseJson().error;if(wt&&wt.status&&wt.message){const tn=function(wn){const Nn=wn.toLowerCase().replace(/_/g,"-");return Object.values(nn).indexOf(Nn)>=0?Nn:nn.UNKNOWN}(wt.status);m(new On(tn,wt.message))}else m(new On(nn.UNKNOWN,"Server responded with status "+P.getStatus()))}else m(new On(nn.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const te=JSON.stringify(l);P.send(t,"POST",te,s,15)})}ho(e,t,s){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sr(),m=Lr(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new zs({})),this.uo(P.initMessageHeaders,t,s),(0,Ue.uI)()||(0,Ue.b$)()||(0,Ue.d)()||(0,Ue.w1)()||(0,Ue.Mn)()||(0,Ue.ru)()||(P.httpHeadersOverwriteParam="$httpHeaders");const te=l.join("");Ve("Connection","Creating WebChannel: "+te,P);const we=h.createWebChannel(te,P);let Ze=!1,wt=!1;const tn=new Dv({jr:Nn=>{wt?Ve("Connection","Not sending because WebChannel is closed:",Nn):(Ze||(Ve("Connection","Opening WebChannel transport."),we.open(),Ze=!0),Ve("Connection","WebChannel sending:",Nn),we.send(Nn))},Wr:()=>we.close()}),wn=(Nn,cr,br)=>{Nn.listen(cr,Fi=>{try{br(Fi)}catch(ts){setTimeout(()=>{throw ts},0)}})};return wn(we,Ci.EventType.OPEN,()=>{wt||Ve("Connection","WebChannel transport opened.")}),wn(we,Ci.EventType.CLOSE,()=>{wt||(wt=!0,Ve("Connection","WebChannel transport closed"),tn.eo())}),wn(we,Ci.EventType.ERROR,Nn=>{wt||(wt=!0,fn("Connection","WebChannel transport errored:",Nn),tn.eo(new On(nn.UNAVAILABLE,"The operation could not be completed")))}),wn(we,Ci.EventType.MESSAGE,Nn=>{var cr;if(!wt){const br=Nn.data[0];Ln(!!br);const Fi=br,ts=Fi.error||(null===(cr=Fi[0])||void 0===cr?void 0:cr.error);if(ts){Ve("Connection","WebChannel received error:",ts);const Yi=ts.status;let wi=function(Ji){const xo=Os[Ji];if(void 0!==xo)return Ws(xo)}(Yi),Bi=ts.message;void 0===wi&&(wi=nn.INTERNAL,Bi="Unknown error status: "+Yi+" with message "+ts.message),wt=!0,tn.eo(new On(wi,Bi)),we.close()}else Ve("Connection","WebChannel received:",br),tn.no(br)}}),wn(m,Sr.STAT_EVENT,Nn=>{Nn.stat===Gi.PROXY?Ve("Connection","Detected buffering proxy"):Nn.stat===Gi.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{tn.Zr()},0),tn}}function Oh(){return"undefined"!=typeof window?window:null}function Rh(){return"undefined"!=typeof document?document:null}function hd(i){return new vu(i,!0)}class vm{constructor(e,t,s=1e3,l=1.5,h=6e4){this.js=e,this.timerId=t,this.lo=s,this.fo=l,this._o=h,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-s);l>0&&Ve("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class yp{constructor(e,t,s,l,h,m,P,te){this.js=e,this.Ao=s,this.Ro=l,this.bo=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=P,this.listener=te,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vm(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var s=this;return(0,Be.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===nn.RESOURCE_EXHAUSTED?(vt(t.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===nn.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Po===t&&this.Uo(s,l)},s=>{e(()=>{const l=new On(nn.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(l)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{s(()=>this.qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,Be.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cv extends yp{constructor(e,t,s,l,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,m),this.wt=h}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function an(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(te=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:Fn(),l=e.targetChange.targetIds||[],h=function(te,we){return te.dt?(Ln(void 0===we||"string"==typeof we),Cs.fromBase64String(we||"")):(Ln(void 0===we||we instanceof Uint8Array),Cs.fromUint8Array(we||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,P=m&&function(te){const we=void 0===te.code?nn.UNKNOWN:Ws(te.code);return new On(we,te.message||"")}(m);t=new rh(s,l,h,P||null)}else if("documentChange"in e){const s=e.documentChange,l=Ks(i,s.document.name),h=Vs(s.document.updateTime),m=new Zs({mapValue:{fields:s.document.fields}}),P=us.newFoundDocument(l,h,m);t=new rc(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const s=e.documentDelete,l=Ks(i,s.document),h=s.readTime?Vs(s.readTime):fe.min(),m=us.newNoDocument(l,h);t=new rc([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,l=Ks(i,s.document);t=new rc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Fn();{const s=e.filter,h=new uo(s.count||0);t=new Rl(s.targetId,h)}}var te;return t}(this.wt,e),s=function(l){if(!("targetChange"in l))return fe.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?fe.min():h.readTime?Vs(h.readTime):fe.min()}(e);return this.listener.Go(t,s)}Qo(e){const t={};t.database=f(this.wt),t.addTarget=function(l,h){let m;const P=h.target;return m=va(P)?{documents:Or(l,P)}:{query:Rs(l,P)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=qc(l,h.resumeToken):h.snapshotVersion.compareTo(fe.min())>0&&(m.readTime=Pl(l,h.snapshotVersion.toTimestamp())),m}(this.wt,e);const s=function _u(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Mo(t)}jo(e){const t={};t.database=f(this.wt),t.removeTarget=e,this.Mo(t)}}class Av extends yp{constructor(e,t,s,l,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,m),this.wt=h,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Hr(i,e){return i&&i.length>0?(Ln(void 0!==e),i.map(t=>function(s,l){let h=Vs(s.updateTime?s.updateTime:l);return h.isEqual(fe.min())&&(h=Vs(l)),new Zu(h,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Vs(e.commitTime);return this.listener.Jo(s,t)}return Ln(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=f(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>qn(this.wt,s))};this.Mo(t)}}class Iv extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new On(nn.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ro(e,t,s,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new On(nn.UNKNOWN,l.toString())})}ao(e,t,s,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.bo.ao(e,t,s,h,m,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===nn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new On(nn.UNKNOWN,h.toString())})}terminate(){this.Zo=!0}}class vp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(vt(t),this.su=!1):Ve("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Tv{constructor(e,t,s,l,h){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=h,this.du.Br(P=>{s.enqueueAndForget((0,Be.Z)(function*(){var te;Iu(m)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(te=(0,Be.Z)(function*(we){const Ze=kn(we);Ze.lu.add(4),yield Gl(Ze),Ze._u.set("Unknown"),Ze.lu.delete(4),yield fd(Ze)}),function(we){return te.apply(this,arguments)})(m))}))}),this._u=new vp(s,l)}}function fd(i){return pc.apply(this,arguments)}function pc(){return pc=(0,Be.Z)(function*(i){if(Iu(i))for(const e of i.fu)yield e(!0)}),pc.apply(this,arguments)}function Gl(i){return _p.apply(this,arguments)}function _p(){return _p=(0,Be.Z)(function*(i){for(const e of i.fu)yield e(!1)}),_p.apply(this,arguments)}function gc(i,e){const t=kn(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),pd(t)?Ep(t):yc(t).Co()&&Ph(t,e))}function Au(i,e){const t=kn(i),s=yc(t);t.hu.delete(e),s.Co()&&_m(t,e),0===t.hu.size&&(s.Co()?s.ko():Iu(t)&&t._u.set("Unknown"))}function Ph(i,e){i.wu.Nt(e.targetId),yc(i).Qo(e)}function _m(i,e){i.wu.Nt(e),yc(i).jo(e)}function Ep(i){i.wu=new Co({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),yc(i).start(),i._u.iu()}function pd(i){return Iu(i)&&!yc(i).Do()&&i.hu.size>0}function Iu(i){return 0===kn(i).lu.size}function Em(i){i.wu=void 0}function bm(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,Be.Z)(function*(i){i.hu.forEach((e,t)=>{Ph(i,e)})}),Fh.apply(this,arguments)}function wm(i,e){return kh.apply(this,arguments)}function kh(){return kh=(0,Be.Z)(function*(i,e){Em(i),pd(i)?(i._u.uu(e),Ep(i)):i._u.set("Unknown")}),kh.apply(this,arguments)}function Dm(i,e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,Be.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof rh&&2===e.state&&e.cause)try{yield(s=(0,Be.Z)(function*(l,h){const m=h.cause;for(const P of h.targetIds)l.hu.has(P)&&(yield l.remoteSyncer.rejectListen(P,m),l.hu.delete(P),l.wu.removeTarget(P))}),function(l,h){return s.apply(this,arguments)})(i,e)}catch(s){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Tu(i,s)}else if(e instanceof rc?i.wu.Ut(e):e instanceof Rl?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(fe.min()))try{const s=yield hp(i.localStore);t.compareTo(s)>=0&&(yield function(l,h){const m=l.wu.Yt(h);return m.targetChanges.forEach((P,te)=>{if(P.resumeToken.approximateByteSize()>0){const we=l.hu.get(te);we&&l.hu.set(te,we.withResumeToken(P.resumeToken,h))}}),m.targetMismatches.forEach(P=>{const te=l.hu.get(P);if(!te)return;l.hu.set(P,te.withResumeToken(Cs.EMPTY_BYTE_STRING,te.snapshotVersion)),_m(l,P);const we=new Fl(te.target,P,1,te.sequenceNumber);Ph(l,we)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(s){Ve("RemoteStore","Failed to raise snapshot:",s),yield Tu(i,s)}var s}),Ca.apply(this,arguments)}function Tu(i,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,Be.Z)(function*(i,e,t){if(!jo(e))throw e;i.lu.add(1),yield Gl(i),i._u.set("Offline"),t||(t=()=>hp(i.localStore)),i.asyncQueue.enqueueRetryable((0,Be.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield fd(i)}))}),bp.apply(this,arguments)}function Cm(i,e){return e().catch(t=>Tu(i,t,e))}function gd(i){return md.apply(this,arguments)}function md(){return md=(0,Be.Z)(function*(i){const e=kn(i),t=Xo(e);let s=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Am(e);)try{const l=yield um(e.localStore,s);if(null===l){0===e.au.length&&t.ko();break}s=l.batchId,wp(e,l)}catch(l){yield Tu(e,l)}mc(e)&&Im(e)}),md.apply(this,arguments)}function Am(i){return Iu(i)&&i.au.length<10}function wp(i,e){i.au.push(e);const t=Xo(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function mc(i){return Iu(i)&&!Xo(i).Do()&&i.au.length>0}function Im(i){Xo(i).start()}function Dp(i){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Be.Z)(function*(i){Xo(i).Xo()}),Nh.apply(this,arguments)}function Tm(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,Be.Z)(function*(i){const e=Xo(i);for(const t of i.au)e.Ho(t.mutations)}),Lh.apply(this,arguments)}function xv(i,e,t){return yd.apply(this,arguments)}function yd(){return yd=(0,Be.Z)(function*(i,e,t){const s=i.au.shift(),l=gh.from(s,e,t);yield Cm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield gd(i)}),yd.apply(this,arguments)}function Sv(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Be.Z)(function*(i,e){var t;e&&Xo(i).zo&&(yield(t=(0,Be.Z)(function*(s,l){if(Xu(h=l.code)&&h!==nn.ABORTED){const m=s.au.shift();Xo(s).No(),yield Cm(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield gd(s)}var h}),function(s,l){return t.apply(this,arguments)})(i,e)),mc(i)&&Im(i)}),Cp.apply(this,arguments)}function Ap(i,e){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,Be.Z)(function*(i,e){const t=kn(i);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const s=Iu(t);t.lu.add(3),yield Gl(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield fd(t)}),Hl.apply(this,arguments)}function Bh(i,e){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Be.Z)(function*(i,e){const t=kn(i);e?(t.lu.delete(2),yield fd(t)):e||(t.lu.add(2),yield Gl(t),t._u.set("Unknown"))}),Ip.apply(this,arguments)}function yc(i){return i.mu||(i.mu=function(e,t,s){const l=kn(e);return l.tu(),new Cv(t,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,s)}(i.datastore,i.asyncQueue,{zr:bm.bind(null,i),Jr:wm.bind(null,i),Go:Dm.bind(null,i)}),i.fu.push(function(){var e=(0,Be.Z)(function*(t){t?(i.mu.No(),pd(i)?Ep(i):i._u.set("Unknown")):(yield i.mu.stop(),Em(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function Xo(i){return i.gu||(i.gu=function(e,t,s){const l=kn(e);return l.tu(),new Av(t,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,s)}(i.datastore,i.asyncQueue,{zr:Dp.bind(null,i),Jr:Sv.bind(null,i),Yo:Tm.bind(null,i),Jo:xv.bind(null,i)}),i.fu.push(function(){var e=(0,Be.Z)(function*(t){t?(i.gu.No(),yield gd(i)):(yield i.gu.stop(),i.au.length>0&&(Ve("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Tp{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,l,h){const m=Date.now()+s,P=new Tp(e,t,m,l,h);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new On(nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vc(i,e){if(vt("AsyncQueue",`${e}: ${i}`),jo(i))return new On(nn.UNAVAILABLE,`${e}: ${i}`);throw i}class _c{constructor(e){this.comparator=e?(t,s)=>e(t,s)||zn.comparator(t.key,s.key):(t,s)=>zn.comparator(t.key,s.key),this.keyedMap=Sl(),this.sortedSet=new Ss(this.comparator)}static emptySet(e){return new _c(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new _c;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class xm{constructor(){this.yu=new Ss(zn.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Fn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class po{constructor(e,t,s,l,h,m,P,te){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=P,this.excludesMetadataChanges=te}static fromInitialDocuments(e,t,s,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new po(e,t,_c.emptySet(t),h,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class xp{constructor(){this.Iu=void 0,this.listeners=[]}}class Sm{constructor(){this.queries=new Eo(e=>kf(e),qu),this.onlineState="Unknown",this.Tu=new Set}}function Vh(i,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Be.Z)(function*(i,e){const t=kn(i),s=e.query;let l=!1,h=t.queries.get(s);if(h||(l=!0,h=new xp),l)try{h.Iu=yield t.onListen(s)}catch(m){const P=vc(m,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(P)}t.queries.set(s,h),h.listeners.push(e),e.Eu(t.onlineState),h.Iu&&e.Au(h.Iu)&&Mp(t)}),Uh.apply(this,arguments)}function jh(i,e){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Be.Z)(function*(i,e){const t=kn(i),s=e.query;let l=!1;const h=t.queries.get(s);if(h){const m=h.listeners.indexOf(e);m>=0&&(h.listeners.splice(m,1),l=0===h.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Sp.apply(this,arguments)}function Mv(i,e){const t=kn(i);let s=!1;for(const l of e){const m=t.queries.get(l.query);if(m){for(const P of m.listeners)P.Au(l)&&(s=!0);m.Iu=l}}s&&Mp(t)}function Ov(i,e,t){const s=kn(i),l=s.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);s.queries.delete(e)}function Mp(i){i.Tu.forEach(e=>{e.next()})}class Gh{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class C0{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Op{constructor(e){this.wt=e}Wi(e){return Ks(this.wt,e)}zi(e){return e.metadata.exists?Ge(this.wt,e.document,!1):us.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Vs(e)}}class Rv{constructor(e,t,s){this.xu=e,this.localStore=t,this.wt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mm(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,s=new Op(this.wt);for(const l of e)if(l.metadata.queries){const h=s.Wi(l.metadata.name);for(const m of l.metadata.queries){const P=(t.get(m)||oi()).add(h);t.set(m,P)}}return t}complete(){var e=this;return(0,Be.Z)(function*(){const t=yield function D0(i,e,t,s){return hm.apply(this,arguments)}(e.localStore,new Op(e.wt),e.documents,e.xu.id),s=e.ku(e.documents);for(const l of e.queries)yield fm(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Mm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Pv{constructor(e){this.key=e}}class Fv{constructor(e){this.key=e}}class Hh{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=oi(),this.mutatedKeys=oi(),this.Lu=La(e),this.Uu=new _c(this.Lu)}get qu(){return this.Fu}Ku(e,t){const s=t?t.Gu:new xm,l=t?t.Uu:this.Uu;let h=t?t.mutatedKeys:this.mutatedKeys,m=l,P=!1;const te="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,we="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ze,wt)=>{const tn=l.get(Ze),wn=Yu(this.query,wt)?wt:null,Nn=!!tn&&this.mutatedKeys.has(tn.key),cr=!!wn&&(wn.hasLocalMutations||this.mutatedKeys.has(wn.key)&&wn.hasCommittedMutations);let br=!1;tn&&wn?tn.data.isEqual(wn.data)?Nn!==cr&&(s.track({type:3,doc:wn}),br=!0):this.Qu(tn,wn)||(s.track({type:2,doc:wn}),br=!0,(te&&this.Lu(wn,te)>0||we&&this.Lu(wn,we)<0)&&(P=!0)):!tn&&wn?(s.track({type:0,doc:wn}),br=!0):tn&&!wn&&(s.track({type:1,doc:tn}),br=!0,(te||we)&&(P=!0)),br&&(wn?(m=m.add(wn),h=cr?h.add(Ze):h.delete(Ze)):(m=m.delete(Ze),h=h.delete(Ze)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const Ze="F"===this.query.limitType?m.last():m.first();m=m.delete(Ze.key),h=h.delete(Ze.key),s.track({type:1,doc:Ze})}return{Uu:m,Gu:s,Oi:P,mutatedKeys:h}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const h=e.Gu.pu();h.sort((we,Ze)=>function(wt,tn){const wn=Nn=>{switch(Nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return wn(wt)-wn(tn)}(we.type,Ze.type)||this.Lu(we.doc,Ze.doc)),this.ju(s);const m=t?this.Wu():[],P=0===this.Bu.size&&this.current?1:0,te=P!==this.$u;return this.$u=P,0!==h.length||te?{snapshot:new po(this.query,e.Uu,l,h,e.mutatedKeys,0===P,te,!1),zu:m}:{zu:m}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new xm,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=oi(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new Fv(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new Pv(s))}),t}Ju(e){this.Fu=e.ji,this.Bu=oi();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return po.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class kv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Om{constructor(e){this.key=e,this.Xu=!1}}class Rm{constructor(e,t,s,l,h,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Zu={},this.tc=new Eo(P=>kf(P),qu),this.ec=new Map,this.nc=new Set,this.sc=new Ss(zn.comparator),this.ic=new Map,this.rc=new sp,this.oc={},this.uc=new Map,this.cc=cc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function A0(i,e){return ea.apply(this,arguments)}function ea(){return ea=(0,Be.Z)(function*(i,e){const t=Qh(i);let s,l;const h=t.tc.get(e);if(h)s=h.targetId,t.sharedClientState.addLocalQueryTarget(s),l=h.view.Yu();else{const m=yield fc(t.localStore,Ho(e));t.isPrimaryClient&&gc(t.remoteStore,m);const P=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,l=yield Pm(t,e,s,"current"===P)}return l}),ea.apply(this,arguments)}function Pm(i,e,t,s){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Be.Z)(function*(i,e,t,s){i.hc=(Ze,wt,tn)=>{return(wn=(0,Be.Z)(function*(Nn,cr,br,Fi){let ts=cr.view.Ku(br);ts.Oi&&(ts=yield Ch(Nn.localStore,cr.query,!1).then(({documents:Bi})=>cr.view.Ku(Bi,ts)));const Yi=Fi&&Fi.targetChanges.get(cr.targetId),wi=cr.view.applyChanges(ts,Nn.isPrimaryClient,Yi);return Np(Nn,cr.targetId,wi.zu),wi.snapshot}),function(Nn,cr,br,Fi){return wn.apply(this,arguments)})(i,Ze,wt,tn);var wn};const l=yield Ch(i.localStore,e,!0),h=new Hh(e,l.ji),m=h.Ku(l.documents),P=Ol.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),te=h.applyChanges(m,i.isPrimaryClient,P);Np(i,t,te.zu);const we=new kv(e,t,h);return i.tc.set(e,we),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),te.snapshot}),Fm.apply(this,arguments)}function km(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,Be.Z)(function*(i,e){const t=kn(i),s=t.tc.get(e),l=t.ec.get(s.targetId);if(l.length>1)return t.ec.set(s.targetId,l.filter(h=>!qu(h,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Cu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Au(t.remoteStore,s.targetId),bc(t,s.targetId)}).catch(aa))):(bc(t,s.targetId),yield Cu(t.localStore,s.targetId,!0))}),$h.apply(this,arguments)}function Rp(){return Rp=(0,Be.Z)(function*(i,e,t){const s=Zh(i);try{const l=yield function(h,m){const P=kn(h),te=z.now(),we=m.reduce((tn,wn)=>tn.add(wn.key),oi());let Ze,wt;return P.persistence.runTransaction("Locally write mutations","readwrite",tn=>{let wn=bo(),Nn=oi();return P.Ui.getEntries(tn,we).next(cr=>{wn=cr,wn.forEach((br,Fi)=>{Fi.isValidDocument()||(Nn=Nn.add(br))})}).next(()=>P.localDocuments.getOverlayedDocuments(tn,wn)).next(cr=>{Ze=cr;const br=[];for(const Fi of m){const ts=Hc(Fi,Ze.get(Fi.key).overlayedDocument);null!=ts&&br.push(new ba(Fi.key,ts,Hd(ts.value.mapValue),fs.exists(!0)))}return P.mutationQueue.addMutationBatch(tn,te,br,m)}).next(cr=>{wt=cr;const br=cr.applyToLocalDocumentSet(Ze,Nn);return P.documentOverlayCache.saveOverlays(tn,cr.batchId,br)})}).then(()=>({batchId:wt.batchId,changes:wo(Ze)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(h,m,P){let te=h.oc[h.currentUser.toKey()];te||(te=new Ss(x)),te=te.insert(m,P),h.oc[h.currentUser.toKey()]=te}(s,l.batchId,t),yield oo(s,l.changes),yield gd(s.remoteStore)}catch(l){const h=vc(l,"Failed to persist write");t.reject(h)}}),Rp.apply(this,arguments)}function Nv(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,Be.Z)(function*(i,e){const t=kn(i);try{const s=yield w0(t.localStore,e);e.targetChanges.forEach((l,h)=>{const m=t.ic.get(h);m&&(Ln(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.Xu=!0:l.modifiedDocuments.size>0?Ln(m.Xu):l.removedDocuments.size>0&&(Ln(m.Xu),m.Xu=!1))}),yield oo(t,s,e)}catch(s){yield aa(s)}}),zh.apply(this,arguments)}function Wh(i,e,t){const s=kn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.tc.forEach((h,m)=>{const P=m.view.Eu(e);P.snapshot&&l.push(P.snapshot)}),function(h,m){const P=kn(h);P.onlineState=m;let te=!1;P.queries.forEach((we,Ze)=>{for(const wt of Ze.listeners)wt.Eu(m)&&(te=!0)}),te&&Mp(P)}(s.eventManager,e),l.length&&s.Zu.Go(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lv(i,e,t){return vd.apply(this,arguments)}function vd(){return vd=(0,Be.Z)(function*(i,e,t){const s=kn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.ic.get(e),h=l&&l.key;if(h){let m=new Ss(zn.comparator);m=m.insert(h,us.newNoDocument(h,fe.min()));const P=oi().add(h),te=new Do(fe.min(),new Map,new qi(x),m,P);yield Nv(s,te),s.sc=s.sc.remove(h),s.ic.delete(e),_d(s)}else yield Cu(s.localStore,e,!1).then(()=>bc(s,e,t)).catch(aa)}),vd.apply(this,arguments)}function Bv(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Be.Z)(function*(i,e){const t=kn(i),s=e.batch.batchId;try{const l=yield bv(t.localStore,e);$l(t,s,null),Ec(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield oo(t,l)}catch(l){yield aa(l)}}),Pp.apply(this,arguments)}function Vv(i,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Be.Z)(function*(i,e,t){const s=kn(i);try{const l=yield function(h,m){const P=kn(h);return P.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let we;return P.mutationQueue.lookupMutationBatch(te,m).next(Ze=>(Ln(null!==Ze),we=Ze.keys(),P.mutationQueue.removeMutationBatch(te,Ze))).next(()=>P.mutationQueue.performConsistencyCheck(te)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(te,we,m)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(te,we)).next(()=>P.localDocuments.getDocuments(te,we))})}(s.localStore,e);$l(s,e,t),Ec(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield oo(s,l)}catch(l){yield aa(l)}}),Fp.apply(this,arguments)}function kp(){return kp=(0,Be.Z)(function*(i,e){const t=kn(i);Iu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(h){const m=kn(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>m.mutationQueue.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===s)return void e.resolve();const l=t.uc.get(s)||[];l.push(e),t.uc.set(s,l)}catch(s){const l=vc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),kp.apply(this,arguments)}function Ec(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function $l(i,e,t){const s=kn(i);let l=s.oc[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.oc[s.currentUser.toKey()]=l}}function bc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ec.get(e))i.tc.delete(s),t&&i.Zu.lc(s,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(s=>{i.rc.containsKey(s)||wc(i,s)})}function wc(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(Au(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),_d(i))}function Np(i,e,t){for(const s of t)s instanceof Pv?(i.rc.addReference(s.key,e),jv(i,s)):s instanceof Fv?(Ve("SyncEngine","Document no longer in limbo: "+s.key),i.rc.removeReference(s.key,e),i.rc.containsKey(s.key)||wc(i,s.key)):Fn()}function jv(i,e){const t=e.key,s=t.path.canonicalString();i.sc.get(t)||i.nc.has(s)||(Ve("SyncEngine","New document in limbo: "+t),i.nc.add(s),_d(i))}function _d(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new zn(Zt.fromString(e)),s=i.cc.next();i.ic.set(s,new Om(t)),i.sc=i.sc.insert(t,s),gc(i.remoteStore,new Fl(Ho(tl(t.path)),s,2,Ns.ot))}}function oo(i,e,t){return xu.apply(this,arguments)}function xu(){return xu=(0,Be.Z)(function*(i,e,t){const s=kn(i),l=[],h=[],m=[];var P;s.tc.isEmpty()||(s.tc.forEach((P,te)=>{m.push(s.hc(te,e,t).then(we=>{if(we){s.isPrimaryClient&&s.sharedClientState.updateQueryState(te.targetId,we.fromCache?"not-current":"current"),l.push(we);const Ze=wh.Vi(te.targetId,we);h.push(Ze)}}))}),yield Promise.all(m),s.Zu.Go(l),yield(P=(0,Be.Z)(function*(te,we){const Ze=kn(te);try{yield Ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",wt=>Jt.forEach(we,tn=>Jt.forEach(tn.Pi,wn=>Ze.persistence.referenceDelegate.addReference(wt,tn.targetId,wn)).next(()=>Jt.forEach(tn.vi,wn=>Ze.persistence.referenceDelegate.removeReference(wt,tn.targetId,wn)))))}catch(wt){if(!jo(wt))throw wt;Ve("LocalStore","Failed to update sequence numbers: "+wt)}for(const wt of we){const tn=wt.targetId;if(!wt.fromCache){const wn=Ze.$i.get(tn),cr=wn.withLastLimboFreeSnapshotVersion(wn.snapshotVersion);Ze.$i=Ze.$i.insert(tn,cr)}}}),function(te,we){return P.apply(this,arguments)})(s.localStore,h))}),xu.apply(this,arguments)}function To(i,e){return cl.apply(this,arguments)}function cl(){return cl=(0,Be.Z)(function*(i,e){const t=kn(i);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const s=yield dp(t.localStore,e);t.currentUser=e,(l=t).uc.forEach(m=>{m.forEach(P=>{P.reject(new On(nn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield oo(t,s.Ki)}var l}),cl.apply(this,arguments)}function Kh(i,e){const t=kn(i),s=t.ic.get(e);if(s&&s.Xu)return oi().add(s.key);{let l=oi();const h=t.ec.get(e);if(!h)return l;for(const m of h){const P=t.tc.get(m);l=l.unionWith(P.view.qu)}return l}}function fa(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Be.Z)(function*(i,e){const t=kn(i),s=yield Ch(t.localStore,e.query,!0),l=e.view.Ju(s);return t.isPrimaryClient&&Np(t,e.targetId,l.zu),l}),Ed.apply(this,arguments)}function Dc(i,e){return zl.apply(this,arguments)}function zl(){return zl=(0,Be.Z)(function*(i,e){const t=kn(i);return cm(t.localStore,e).then(s=>oo(t,s))}),zl.apply(this,arguments)}function Cc(i,e,t,s){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,Be.Z)(function*(i,e,t,s){const l=kn(i),h=yield function(m,P){const te=kn(m),we=kn(te.mutationQueue);return te.persistence.runTransaction("Lookup mutation documents","readonly",Ze=>we.yn(Ze,P).next(wt=>wt?te.localDocuments.getDocuments(Ze,wt):Jt.resolve(null)))}(l.localStore,e);var P;null!==h?("pending"===t?yield gd(l.remoteStore):"acknowledged"===t||"rejected"===t?($l(l,e,s||null),Ec(l,e),P=e,kn(kn(l.localStore).mutationQueue).In(P)):Fn(),yield oo(l,h)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),Wl.apply(this,arguments)}function Kl(){return Kl=(0,Be.Z)(function*(i,e){const t=kn(i);if(Qh(t),Zh(t),!0===e&&!0!==t.ac){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield Su(t,s.toArray());t.ac=!0,yield Bh(t.remoteStore,!0);for(const h of l)gc(t.remoteStore,h)}else if(!1===e&&!1!==t.ac){const s=[];let l=Promise.resolve();t.ec.forEach((h,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):l=l.then(()=>(bc(t,m),Cu(t.localStore,m,!0))),Au(t.remoteStore,m)}),yield l,yield Su(t,s),function(h){const m=kn(h);m.ic.forEach((P,te)=>{Au(m.remoteStore,te)}),m.rc.cs(),m.ic=new Map,m.sc=new Ss(zn.comparator)}(t),t.ac=!1,yield Bh(t.remoteStore,!1)}}),Kl.apply(this,arguments)}function Su(i,e,t){return ql.apply(this,arguments)}function ql(){return ql=(0,Be.Z)(function*(i,e,t){const s=kn(i),l=[],h=[];for(const m of e){let P;const te=s.ec.get(m);if(te&&0!==te.length){P=yield fc(s.localStore,Ho(te[0]));for(const we of te){const Ze=s.tc.get(we),wt=yield fa(s,Ze);wt.snapshot&&h.push(wt.snapshot)}}else{const we=yield $o(s.localStore,m);P=yield fc(s.localStore,we),yield Pm(s,Mu(we),m,!1)}l.push(P)}return s.Zu.Go(h),l}),ql.apply(this,arguments)}function Mu(i){return qd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Lm(i){const e=kn(i);return kn(kn(e.localStore).persistence).Ri()}function Bm(i,e,t,s){return qh.apply(this,arguments)}function qh(){return qh=(0,Be.Z)(function*(i,e,t,s){const l=kn(i);if(l.ac)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const h=l.ec.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const m=yield cm(l.localStore,Zo(h[0])),P=Do.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield oo(l,m,P);break}case"rejected":yield Cu(l.localStore,e,!0),bc(l,e,s);break;default:Fn()}}),qh.apply(this,arguments)}function Vm(i,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Be.Z)(function*(i,e,t){const s=Qh(i);if(s.ac){for(const l of e){if(s.ec.has(l)){Ve("SyncEngine","Adding an already active target "+l);continue}const h=yield $o(s.localStore,l),m=yield fc(s.localStore,h);yield Pm(s,Mu(h),m.targetId,!1),gc(s.remoteStore,m)}for(const l of t)s.ec.has(l)&&(yield Cu(s.localStore,l,!1).then(()=>{Au(s.remoteStore,l),bc(s,l)}).catch(aa))}}),Yh.apply(this,arguments)}function Qh(i){const e=kn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.Zu.Go=Mv.bind(null,e.eventManager),e.Zu.lc=Ov.bind(null,e.eventManager),e}function Zh(i){const e=kn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}class Lp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Be.Z)(function*(){t.wt=hd(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Dh(this.persistence,new up,e.initialUser,this.wt)}_c(e){return new ap(bh.Ms,this.wt)}dc(e){return new mm}terminate(){var e=this;return(0,Be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jm extends Lp{constructor(e,t,s){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Be.Z)(function*(){yield t().call(s,e),yield s.yc.initialize(s,e),yield Zh(s.yc.syncEngine),yield gd(s.yc.remoteStore),yield s.persistence.ci(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Dh(this.persistence,new up,e.initialUser,this.wt)}mc(e,t){return new y0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const s=new ru(t,this.persistence);return new Mo(e.asyncQueue,s)}_c(e){const t=lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new jl(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Oh(),Rh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new mm}}class Gm extends jm{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Be.Z)(function*(){yield t().call(s,e);const l=s.yc.syncEngine;s.sharedClientState instanceof Mh&&(s.sharedClientState.syncEngine={kr:Cc.bind(null,l),Or:Bm.bind(null,l),Mr:Vm.bind(null,l),Ri:Lm.bind(null,l),Nr:Dc.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.ci(function(){var h=(0,Be.Z)(function*(m){yield function Ac(i,e){return Kl.apply(this,arguments)}(s.yc.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}dc(e){const t=Oh();if(!Mh.V(t))throw new On(nn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Bp{initialize(e,t){var s=this;return(0,Be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Wh(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=To.bind(null,s.syncEngine),yield Bh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sm}createDatastore(e){const t=hd(e.databaseInfo.databaseId),s=new Ha(e.databaseInfo);return new Iv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,h=P=>Wh(this.syncEngine,P,0),m=mp.V()?new mp:new wv,new Tv(t,s,l,h,m);var t,s,l,h,m}createSyncEngine(e,t){return function(s,l,h,m,P,te,we){const Ze=new Rm(s,l,h,m,P,te);return we&&(Ze.ac=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Be.Z)(function*(t){const s=kn(t);Ve("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield Gl(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Vp(i,e=10240){let t=0;return{read:()=>(0,Be.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gv{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new rs,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(s=>{s&&s.Cu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Be.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Be.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.bc();if(null===t)return null;const s=e.Ac.decode(t),l=Number(s);isNaN(l)&&e.Pc(`length string (${s}) is not valid number`);const h=yield e.vc(l);return new C0(JSON.parse(h),t.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Be.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}vc(e){var t=this;return(0,Be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const s=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Be.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Hv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new On(nn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Be.Z)(function*(h,m){const P=kn(h),te=f(P.wt)+"/documents",we={documents:m.map(wn=>da(P.wt,wn))},Ze=yield P.ao("BatchGetDocuments",te,we,m.length),wt=new Map;Ze.forEach(wn=>{const Nn=function kt(i,e){return"found"in e?function(t,s){Ln(!!s.found);const l=Ks(t,s.found.name),h=Vs(s.found.updateTime),m=new Zs({mapValue:{fields:s.found.fields}});return us.newFoundDocument(l,h,m)}(i,e):"missing"in e?function(t,s){Ln(!!s.missing),Ln(!!s.readTime);const l=Ks(t,s.missing),h=Vs(s.readTime);return us.newNoDocument(l,h)}(i,e):Fn()}(P.wt,wn);wt.set(Nn.key.toString(),Nn)});const tn=[];return m.forEach(wn=>{const Nn=wt.get(wn.toString());Ln(!!Nn),tn.push(Nn)}),tn}),function(h,m){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new xl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const h=zn.fromPath(l);e.mutations.push(new sl(h,e.precondition(h)))}),yield(s=(0,Be.Z)(function*(l,h){const m=kn(l),P=f(m.wt)+"/documents",te={writes:h.map(we=>qn(m.wt,we))};yield m.ro("Commit",P,te)}),function(l,h){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fn();t=fe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new On(nn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fs.updateTime(t):fs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fe.min()))throw new On(nn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fs.updateTime(t)}return fs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hm{constructor(e,t,s,l,h){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=h,this.Dc=s.maxAttempts,this.So=new vm(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Be.Z)(function*(){const t=new Hv(e.datastore),s=e.xc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Nc(h)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const t=this.updateFunction(e);return!Qa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Xu(t)}return!1}}class $v{constructor(e,t,s,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=O.UNAUTHENTICATED,this.clientId=sa.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,Be.Z)(function*(P){Ve("FirestoreClient","Received user=",P.uid),yield h.authCredentialListener(P),h.user=P});return function(P){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Ve("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,Be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new On(nn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=vc(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Up(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,Be.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,Be.Z)(function*(h){s.isEqual(h)||(yield dp(e.localStore,h),s=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),jp.apply(this,arguments)}function $m(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,Be.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Gp(i);Ve("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Ap(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>Ap(e.remoteStore,h)),i.onlineComponents=e}),zm.apply(this,arguments)}function Gp(i){return wd.apply(this,arguments)}function wd(){return wd=(0,Be.Z)(function*(i){return i.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield Up(i,new Lp)),i.offlineComponents}),wd.apply(this,arguments)}function Ic(i){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,Be.Z)(function*(i){return i.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield $m(i,new Bp)),i.onlineComponents}),Hp.apply(this,arguments)}function zv(i){return Gp(i).then(e=>e.persistence)}function Wm(i){return Gp(i).then(e=>e.localStore)}function Wv(i){return Ic(i).then(e=>e.remoteStore)}function $p(i){return Ic(i).then(e=>e.syncEngine)}function Ou(i){return Km.apply(this,arguments)}function Km(){return Km=(0,Be.Z)(function*(i){const e=yield Ic(i),t=e.eventManager;return t.onListen=A0.bind(null,e.syncEngine),t.onUnlisten=km.bind(null,e.syncEngine),t}),Km.apply(this,arguments)}function zp(i,e,t={}){const s=new rs;return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(l,h,m,P,te){const we=new bd({next:wt=>{h.enqueueAndForget(()=>jh(l,Ze));const tn=wt.docs.has(m);!tn&&wt.fromCache?te.reject(new On(nn.UNAVAILABLE,"Failed to get document because the client is offline.")):tn&&wt.fromCache&&P&&"server"===P.source?te.reject(new On(nn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(wt)},error:wt=>te.reject(wt)}),Ze=new Gh(tl(m.path),we,{includeMetadataChanges:!0,Du:!0});return Vh(l,Ze)}(yield Ou(i),i.asyncQueue,e,t,s)})),s.promise}function Wp(i,e,t={}){const s=new rs;return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function(l,h,m,P,te){const we=new bd({next:wt=>{h.enqueueAndForget(()=>jh(l,Ze)),wt.fromCache&&"server"===P.source?te.reject(new On(nn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(wt)},error:wt=>te.reject(wt)}),Ze=new Gh(m,we,{includeMetadataChanges:!0,Du:!0});return Vh(l,Ze)}(yield Ou(i),i.asyncQueue,e,t,s)})),s.promise}const Ym=new Map;function Kp(i,e,t){if(!t)throw new On(nn.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qm(i,e,t,s){if(!0===e&&!0===s)throw new On(nn.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Zm(i){if(!zn.isDocumentKey(i))throw new On(nn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qp(i){if(zn.isDocumentKey(i))throw new On(nn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Fn()}function Pi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new On(nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xh(i);throw new On(nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Yp(i,e){if(e<=0)throw new On(nn.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ef{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new On(nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new On(nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ef({}),this._settingsFrozen=!1,e instanceof la?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new On(nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(l.options.projectId)}(e))}get app(){if(!this._app)throw new On(nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new On(nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ef(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ko;switch(t.type){case"gapi":const s=t.client;return Ln(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Fc(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new On(nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ym.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),Ym.delete(e),t.terminate())}(this),Promise.resolve()}}class Is{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Is(this.firestore,e,this._key)}}class Po{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class zo extends Po{constructor(e,t,s){super(e,t,tl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Is(this.firestore,null,new zn(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function Zp(i,e,...t){if(i=(0,Ue.m9)(i),Kp("collection","path",e),i instanceof tf){const s=Zt.fromString(e,...t);return qp(s),new zo(i,null,s)}{if(!(i instanceof Is||i instanceof zo))throw new On(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(e,...t));return qp(s),new zo(i.firestore,null,s)}}function xc(i,e,...t){if(i=(0,Ue.m9)(i),1===arguments.length&&(e=sa.I()),Kp("doc","path",e),i instanceof tf){const s=Zt.fromString(e,...t);return Zm(s),new Is(i,null,new zn(s))}{if(!(i instanceof Is||i instanceof zo))throw new On(nn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Zt.fromString(e,...t));return Zm(s),new Is(i.firestore,i instanceof zo?i.converter:null,new zn(s))}}function Jm(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),(i instanceof Is||i instanceof zo)&&(e instanceof Is||e instanceof zo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dd(i,e){return i=(0,Ue.m9)(i),e=(0,Ue.m9)(e),i instanceof Po&&e instanceof Po&&i.firestore===e.firestore&&qu(i._query,e._query)&&i.converter===e.converter}class nf{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vm(this,"async_queue_retry"),this.Kc=()=>{const t=Rh();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Rh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Rh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new rs;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Be.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!jo(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{throw this.Bc=s,this.Lc=!1,vt("INTERNAL UNHANDLED ERROR: ",function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),m}(s)),s}).then(s=>(this.Lc=!1,s))));return this.Oc=t,t}enqueueAfterDelay(e,t,s){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const l=Tp.createAndSchedule(this,e,t,s,h=>this.Wc(h));return this.$c.push(l),l}Gc(){this.Bc&&Fn()}verifyOperationInProgress(){}zc(){var e=this;return(0,Be.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Cd(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class I0{constructor(){this._progressObserver={},this._taskCompletionResolver=new rs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ps extends tf{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new nf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rf(this),this._firestoreClient.terminate()}}function qs(i){return i._firestoreClient||rf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function rf(i){var e;const t=i._freezeSettings(),s=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new au(i._databaseId,h,i._persistenceKey,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var h,P;i._firestoreClient=new $v(i._authCredentials,i._appCheckCredentials,i._queue,s)}function sf(i,e,t){const s=new rs;return i.asyncQueue.enqueue((0,Be.Z)(function*(){try{yield Up(i,t),yield $m(i,e),s.resolve()}catch(l){const h=l;if(!("FirebaseError"===(m=h).name?m.code===nn.FAILED_PRECONDITION||m.code===nn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),s.reject(h)}var m})).then(()=>s.promise)}function tg(i){if(i._initialized||i._terminated)throw new On(nn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $a{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new On(nn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Cs.fromBase64String(e))}catch(t){throw new On(nn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yl{constructor(e){this._methodName=e}}class Ad{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new On(nn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new On(nn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return x(this._lat,e._lat)||x(this._long,e._long)}}const ay=/^__.*__$/;class ly{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}class ng{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class Id{constructor(e,t,s,l,h,m){this.settings=e,this.databaseId=t,this.wt=s,this.ignoreUndefinedProperties=l,void 0===h&&this.Xc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Id(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ta({path:s,na:!1});return l.sa(e),l}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ta({path:s,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return xd(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(rg(this.Zc)&&ay.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class uy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=s||hd(e)}aa(e,t,s,l=!1){return new Id({Zc:e,methodName:t,ca:s,path:Gr.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Sc(i){const e=i._freezeSettings(),t=hd(i._databaseId);return new uy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function af(i,e,t,s,l,h={}){const m=i.aa(h.merge||h.mergeFields?2:0,e,t,l);lg("Data must be an object, but it was:",m,s);const P=ag(s,m);let te,we;if(h.merge)te=new Ls(m.fieldMask),we=m.fieldTransforms;else if(h.mergeFields){const Ze=[];for(const wt of h.mergeFields){const tn=ug(e,wt,t);if(!m.contains(tn))throw new On(nn.INVALID_ARGUMENT,`Field '${tn}' is specified in your field mask but missing from your input data.`);n_(Ze,tn)||Ze.push(tn)}te=new Ls(Ze),we=m.fieldTransforms.filter(wt=>te.covers(wt.field))}else te=null,we=m.fieldTransforms;return new ly(new Zs(P),te,we)}class Td extends Yl{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function ig(i,e,t){return new Id({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class sg extends Yl{_toFieldTransform(e){return new Cl(e.path,new Ba)}isEqual(e){return e instanceof sg}}class no extends Yl{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ig(this,e,!0),s=this.ha.map(h=>Ql(h,t)),l=new Dl(s);return new Cl(e.path,l)}isEqual(e){return this===e}}class cy extends Yl{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=ig(this,e,!0),s=this.ha.map(h=>Ql(h,t)),l=new Va(s);return new Cl(e.path,l)}isEqual(e){return this===e}}class t_ extends Yl{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new rl(e.wt,Nf(e.wt,this.la));return new Cl(e.path,t)}isEqual(e){return this===e}}function og(i,e,t,s){const l=i.aa(1,e,t);lg("Data must be an object, but it was:",l,s);const h=[],m=Zs.empty();Fa(s,(te,we)=>{const Ze=uf(e,te,t);we=(0,Ue.m9)(we);const wt=l.ia(Ze);if(we instanceof Td)h.push(Ze);else{const tn=Ql(we,wt);null!=tn&&(h.push(Ze),m.set(Ze,tn))}});const P=new Ls(h);return new ng(m,P,l.fieldTransforms)}function lf(i,e,t,s,l,h){const m=i.aa(1,e,t),P=[ug(e,s,t)],te=[l];if(h.length%2!=0)throw new On(nn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let tn=0;tn<h.length;tn+=2)P.push(ug(e,h[tn])),te.push(h[tn+1]);const we=[],Ze=Zs.empty();for(let tn=P.length-1;tn>=0;--tn)if(!n_(we,P[tn])){const wn=P[tn];let Nn=te[tn];Nn=(0,Ue.m9)(Nn);const cr=m.ia(wn);if(Nn instanceof Td)we.push(wn);else{const br=Ql(Nn,cr);null!=br&&(we.push(wn),Ze.set(wn,br))}}const wt=new Ls(we);return new ng(Ze,wt,m.fieldTransforms)}function dy(i,e,t,s=!1){return Ql(t,i.aa(s?4:3,e))}function Ql(i,e){if(Ru(i=(0,Ue.m9)(i)))return lg("Unsupported field value:",e,i),ag(i,e);if(i instanceof Yl)return function(t,s){if(!rg(s.Zc))throw s.oa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.oa(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,s){const l=[];let h=0;for(const m of t){let P=Ql(m,s.ra(h));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,Ue.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nf(s.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=z.fromDate(t);return{timestampValue:Pl(s.wt,l)}}if(t instanceof z){const l=new z(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pl(s.wt,l)}}if(t instanceof Ad)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ta)return{bytesValue:qc(s.wt,t._byteString)};if(t instanceof Is){const l=s.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw s.oa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.oa(`Unsupported field value: ${Xh(t)}`)}(i,e)}function ag(i,e){const t={};return ju(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(i,(s,l)=>{const h=Ql(l,e.ea(s));null!=h&&(t[s]=h)}),{mapValue:{fields:t}}}function Ru(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof z||i instanceof Ad||i instanceof ta||i instanceof Is||i instanceof Yl)}function lg(i,e,t){if(!Ru(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Xh(t);throw e.oa("an object"===s?i+" a custom object":i+" "+s)}var s}function ug(i,e,t){if((e=(0,Ue.m9)(e))instanceof $a)return e._internalPath;if("string"==typeof e)return uf(i,e);throw xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const hy=new RegExp("[~\\*/\\[\\]]");function uf(i,e,t){if(e.search(hy)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $a(...e.split("."))._internalPath}catch(s){throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xd(i,e,t,s,l){const h=s&&!s.isEmpty(),m=void 0!==l;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let te="";return(h||m)&&(te+=" (found",h&&(te+=` in field ${s}`),m&&(te+=` in document ${l}`),te+=")"),new On(nn.INVALID_ARGUMENT,P+i+te)}function n_(i,e){return i.some(t=>t.isEqual(e))}class Pu{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Is(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(na("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cg extends Pu{data(){return super.data()}}function na(i,e){return"string"==typeof e?uf(i,e):e instanceof $a?e._internalPath:e._delegate._internalPath}class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dl extends Pu{constructor(e,t,s,l,h,m){super(e,t,s,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(na("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Wo extends dl{data(e={}){return super.data(e)}}class ao{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Fu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Wo(this._firestore,this._userDataWriter,s.key,s,new Fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new On(nn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new Wo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Fu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const P=new Wo(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Fu(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let te=-1,we=-1;return 0!==m.type&&(te=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),we=h.indexOf(m.doc.key)),{type:Aa(m.type),doc:P,oldIndex:te,newIndex:we}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Aa(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function dg(i,e){return i instanceof dl&&e instanceof dl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof ao&&e instanceof ao&&i._firestore===e._firestore&&Dd(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function hg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new On(nn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sd{}function Zl(i,...e){for(const t of e)i=t._apply(i);return i}class r_ extends Sd{constructor(e,t,s){super(),this.fa=e,this.da=t,this._a=s,this.type="where"}_apply(e){const t=Sc(e.firestore),s=function(l,h,m,P,te,we,Ze){let wt;if(te.isKeyField()){if("array-contains"===we||"array-contains-any"===we)throw new On(nn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${we}' queries on documentId().`);if("in"===we||"not-in"===we){hf(Ze,we);const wn=[];for(const Nn of Ze)wn.push(Od(P,l,Nn));wt={arrayValue:{values:wn}}}else wt=Od(P,l,Ze)}else"in"!==we&&"not-in"!==we&&"array-contains-any"!==we||hf(Ze,we),wt=dy(m,"where",Ze,"in"===we||"not-in"===we);const tn=Bs.create(te,we,wt);return function(wn,Nn){if(Nn.ht()){const br=Wu(wn);if(null!==br&&!br.isEqual(Nn.field))throw new On(nn.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${br.toString()}' and '${Nn.field.toString()}'`);const Fi=gu(wn);null!==Fi&&ff(0,Nn.field,Fi)}const cr=function(br,Fi){for(const ts of br.filters)if(Fi.indexOf(ts.op)>=0)return ts.op;return null}(wn,function(br){switch(br){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Nn.op));if(null!==cr)throw new On(nn.INVALID_ARGUMENT,cr===Nn.op?`Invalid query. You cannot use more than one '${Nn.op.toString()}' filter.`:`Invalid query. You cannot use '${Nn.op.toString()}' filters with '${cr.toString()}' filters.`)}(l,tn),tn}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Po(e.firestore,e.converter,function(l,h){const m=l.filters.concat([h]);return new Qo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),m,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,s))}}class fg extends Sd{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(s,l,h){if(null!==s.startAt)throw new On(nn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new On(nn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new bl(l,h);return function(P,te){if(null===gu(P)){const we=Wu(P);null!==we&&ff(0,we,te.field)}}(s,m),m}(e._query,this.fa,this.wa);return new Po(e.firestore,e.converter,function(s,l){const h=s.explicitOrderBy.concat([l]);return new Qo(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class fy extends Sd{constructor(e,t,s){super(),this.type=e,this.ma=t,this.ga=s}_apply(e){return new Po(e.firestore,e.converter,Yd(e._query,this.ma,this.ga))}}class pg extends Sd{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=df(e,this.type,this.ya,this.pa);return new Po(e.firestore,e.converter,(l=t,new Qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class my extends Sd{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=df(e,this.type,this.ya,this.pa);return new Po(e.firestore,e.converter,(l=t,new Qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function df(i,e,t,s){if(t[0]=(0,Ue.m9)(t[0]),t[0]instanceof Pu)return function(l,h,m,P,te){if(!P)throw new On(nn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const we=[];for(const Ze of nl(l))if(Ze.field.isKeyField())we.push(_o(h,P.key));else{const wt=P.data.field(Ze.field);if(ou(wt))throw new On(nn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ze.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===wt){const tn=Ze.field.canonicalString();throw new On(nn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tn}' (used as the orderBy) does not exist.`)}we.push(wt)}return new Na(we,te)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=Sc(i.firestore);return function(h,m,P,te,we,Ze){const wt=h.explicitOrderBy;if(we.length>wt.length)throw new On(nn.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tn=[];for(let wn=0;wn<we.length;wn++){const Nn=we[wn];if(wt[wn].field.isKeyField()){if("string"!=typeof Nn)throw new On(nn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof Nn}`);if(!Ku(h)&&-1!==Nn.indexOf("/"))throw new On(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${Nn}' contains a slash.`);const cr=h.path.child(Zt.fromString(Nn));if(!zn.isDocumentKey(cr))throw new On(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${cr}' is not because it contains an odd number of segments.`);const br=new zn(cr);tn.push(_o(m,br))}else{const cr=dy(P,te,Nn);tn.push(cr)}}return new Na(tn,Ze)}(i._query,i.firestore._databaseId,l,e,t,s)}}function Od(i,e,t){if("string"==typeof(t=(0,Ue.m9)(t))){if(""===t)throw new On(nn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ku(e)&&-1!==t.indexOf("/"))throw new On(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Zt.fromString(t));if(!zn.isDocumentKey(s))throw new On(nn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _o(i,new zn(s))}if(t instanceof Is)return _o(i,t._key);throw new On(nn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(t)}.`)}function hf(i,e){if(!Array.isArray(i)||0===i.length)throw new On(nn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new On(nn.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ff(i,e,t){if(!t.isEqual(e))throw new On(nn.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const gg={maxAttempts:5};class pf{convertValue(e,t="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fn()}}convertObject(e,t){const s={};return Fa(e.fields,(l,h)=>{s[l]=this.convertValue(h,t)}),s}convertGeoPoint(e){return new Ad(Es(e.latitude),Es(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Gu(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=Oo(e);return new z(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Zt.fromString(e);Ln(Zc(s));const l=new la(s.get(1),s.get(3)),h=new zn(s.popFirst(5));return l.isEqual(t)||vt(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Rd(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class _y extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Is(this.firestore,null,t)}}class mg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sc(e)}set(e,t,s){this._verifyNotCommitted();const l=hl(e,this._firestore),h=Rd(l.converter,t,s),m=af(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,s);return this._mutations.push(m.toMutation(l._key,fs.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const h=hl(e,this._firestore);let m;return m="string"==typeof(t=(0,Ue.m9)(t))||t instanceof $a?lf(this._dataReader,"WriteBatch.update",h._key,t,s,l):og(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(m.toMutation(h._key,fs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hl(e,this._firestore);return this._mutations=this._mutations.concat(new xl(t._key,fs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new On(nn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(i,e){if((i=(0,Ue.m9)(i)).firestore!==e)throw new On(nn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class ku extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Is(this.firestore,null,t)}}function by(i,e,t){i=Pi(i,Is);const s=Pi(i.firestore,ps),l=Rd(i.converter,e,t);return Mc(s,[af(Sc(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,fs.none())])}function wy(i,e,t,...s){i=Pi(i,Is);const l=Pi(i.firestore,ps),h=Sc(l);let m;return m="string"==typeof(e=(0,Ue.m9)(e))||e instanceof $a?lf(h,"updateDoc",i._key,e,t,s):og(h,"updateDoc",i._key,e),Mc(l,[m.toMutation(i._key,fs.exists(!0))])}function Dy(i,...e){var t,s,l;i=(0,Ue.m9)(i);let h={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Cd(e[m])||(h=e[m],m++);const P={includeMetadataChanges:h.includeMetadataChanges};if(Cd(e[m])){const wt=e[m];e[m]=null===(t=wt.next)||void 0===t?void 0:t.bind(wt),e[m+1]=null===(s=wt.error)||void 0===s?void 0:s.bind(wt),e[m+2]=null===(l=wt.complete)||void 0===l?void 0:l.bind(wt)}let te,we,Ze;if(i instanceof Is)we=Pi(i.firestore,ps),Ze=tl(i._key.path),te={next:wt=>{e[m]&&e[m](yg(we,i,wt))},error:e[m+1],complete:e[m+2]};else{const wt=Pi(i,Po);we=Pi(wt.firestore,ps),Ze=wt._query;const tn=new ku(we);te={next:wn=>{e[m]&&e[m](new ao(we,tn,wt,wn))},error:e[m+1],complete:e[m+2]},hg(i._query)}return function(wt,tn,wn,Nn){const cr=new bd(Nn),br=new Gh(tn,cr,wn);return wt.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return Vh(yield Ou(wt),br)})),()=>{cr.Tc(),wt.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return jh(yield Ou(wt),br)}))}}(qs(we),Ze,P,te)}function Mc(i,e){return function(t,s){const l=new rs;return t.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function Nm(i,e,t){return Rp.apply(this,arguments)}(yield $p(t),s,l)})),l.promise}(qs(i),e)}function yg(i,e,t){const s=t.docs.get(e._key),l=new ku(i);return new dl(i,l,e._key,s,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}class p_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sc(e)}get(e){const t=hl(e,this._firestore),s=new _y(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Fn();const h=l[0];if(h.isFoundDocument())return new Pu(this._firestore,s,h.key,h,t.converter);if(h.isNoDocument())return new Pu(this._firestore,s,t._key,null,t.converter);throw Fn()})}set(e,t,s){const l=hl(e,this._firestore),h=Rd(l.converter,t,s),m=af(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,s);return this._transaction.set(l._key,m),this}update(e,t,s,...l){const h=hl(e,this._firestore);let m;return m="string"==typeof(t=(0,Ue.m9)(t))||t instanceof $a?lf(this._dataReader,"Transaction.update",h._key,t,s,l):og(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,m),this}delete(e){const t=hl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=hl(e,this._firestore),s=new ku(this._firestore);return super.get(e).then(l=>new dl(this._firestore,s,t._key,l._document,new Fu(!1,!1),t.converter))}}function Pd(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new On("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function gf(){if("undefined"==typeof Uint8Array)throw new On("unimplemented","Uint8Arrays are not available in this environment.")}function Jl(){if(!function Bg(){return"undefined"!=typeof atob}())throw new On("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){I=xt.SDK_VERSION,(0,xt._registerComponent)(new qe.wA("firestore",(t,{options:s})=>{const l=t.getProvider("app").getImmediate(),h=new ps(l,new If(t.getProvider("auth-internal")),new kc(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),h._setSettings(s),h},"PUBLIC")),(0,xt.registerVersion)(B,"3.4.13",i),(0,xt.registerVersion)(B,"3.4.13","esm2017")}();class Fd{constructor(e){this._delegate=e}static fromBase64String(e){return Jl(),new Fd(ta.fromBase64String(e))}static fromUint8Array(e){return gf(),new Fd(ta.fromUint8Array(e))}toBase64(){return Jl(),this._delegate.toBase64()}toUint8Array(){return gf(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function _g(i){return function Oc(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class T0{enableIndexedDbPersistence(e,t){return function ey(i,e){tg(i=Pi(i,ps));const t=qs(i),s=i._freezeSettings(),l=new Bp;return sf(t,l,new jm(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ty(i){tg(i=Pi(i,ps));const e=qs(i),t=i._freezeSettings(),s=new Bp;return sf(e,s,new Gm(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function eg(i){if(i._initialized&&!i._terminated)throw new On(nn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rs;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Be.Z)(function*(){try{yield(t=(0,Be.Z)(function*(s){if(!so.V())return Promise.resolve();const l=s+"main";yield so.delete(l)}),function(s){return t.apply(this,arguments)})(lp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mf{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof la||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Qp(i,e,t,s={}){var l;const h=(i=Pi(i,tf))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&fn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,P;if("string"==typeof s.mockUserToken)m=s.mockUserToken,P=O.MOCK_USER;else{m=(0,Ue.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const te=s.mockUserToken.sub||s.mockUserToken.user_id;if(!te)throw new On(nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new O(te)}i._authCredentials=new Sa(new za(m,P))}}(this._delegate,e,t,s)}enableNetwork(){return function ny(i){return function Kv(i){return i.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield zv(i),t=yield Wv(i);return e.setNetworkEnabled(!0),function(s){const l=kn(s);return l.lu.delete(0),fd(l)}(t)}))}(qs(i=Pi(i,ps)))}(this._delegate)}disableNetwork(){return function ry(i){return function Tc(i){return i.asyncQueue.enqueue((0,Be.Z)(function*(){const e=yield zv(i),t=yield Wv(i);return e.setNetworkEnabled(!1),(s=(0,Be.Z)(function*(l){const h=kn(l);h.lu.add(0),yield Gl(h),h._u.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(qs(i=Pi(i,ps)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Qm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xv(i){return function(e){const t=new rs;return e.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return function Uv(i,e){return kp.apply(this,arguments)}(yield $p(e),t)})),t.promise}(qs(i=Pi(i,ps)))}(this._delegate)}onSnapshotsInSync(e){return function f_(i,e){return function Jh(i,e){const t=new bd(e);return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return s=yield Ou(i),l=t,kn(s).Tu.add(l),void l.next();var s,l})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return s=yield Ou(i),l=t,void kn(s).Tu.delete(l);var s,l}))}}(qs(i=Pi(i,ps)),Cd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new On("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Nu(this,Zp(this._delegate,e))}catch(t){throw Fo(t,"collection()","Firestore.collection()")}}doc(e){try{return new pa(this,xc(this._delegate,e))}catch(t){throw Fo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new lo(this,function Jp(i,e){if(i=Pi(i,tf),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new On(nn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Po(i,null,(t=e,new Qo(Zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Fo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function g_(i,e,t){i=Pi(i,ps);const s=Object.assign(Object.assign({},gg),t);return function(l){if(l.maxAttempts<1)throw new On(nn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Qv(i,e,t){const s=new rs;return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){const l=yield(h=i,Ic(h).then(m=>m.datastore));var h;new Hm(i.asyncQueue,l,t,e,s).run()})),s.promise}(qs(i),l=>e(new p_(i,l)),s)}(this._delegate,t=>e(new bg(this,t)))}batch(){return qs(this._delegate),new __(new mg(this._delegate,e=>Mc(this._delegate,e)))}loadBundle(e){return function sy(i,e){const t=qs(i=Pi(i,ps)),s=new I0;return function qm(i,e,t,s){const l=function(h,m){let P;return P="string"==typeof h?(new TextEncoder).encode(h):h,te=function(te,we){if(te instanceof Uint8Array)return Vp(te,void 0);if(te instanceof ArrayBuffer)return Vp(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new Gv(te,m);var te}(t,hd(e));i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){!function Um(i,e,t){const s=kn(i);var l;(l=(0,Be.Z)(function*(h,m,P){try{const te=yield m.getMetadata();if(yield function(tn,wn){const Nn=kn(tn),cr=Vs(wn.createTime);return Nn.persistence.runTransaction("hasNewerBundle","readonly",br=>Nn.Ds.getBundleMetadata(br,wn.id)).then(br=>!!br&&br.createTime.compareTo(cr)>=0)}(h.localStore,te))return yield m.close(),P._completeWith({taskState:"Success",documentsLoaded:(tn=te).totalDocuments,bytesLoaded:tn.totalBytes,totalDocuments:tn.totalDocuments,totalBytes:tn.totalBytes}),Promise.resolve(new Set);P._updateProgress(Mm(te));const we=new Rv(te,h.localStore,m.wt);let Ze=yield m.fc();for(;Ze;){const tn=yield we.Nu(Ze);tn&&P._updateProgress(tn),Ze=yield m.fc()}const wt=yield we.complete();return yield oo(h,wt.Mu,void 0),yield function(tn,wn){const Nn=kn(tn);return Nn.persistence.runTransaction("Save bundle","readwrite",cr=>Nn.Ds.saveBundleMetadata(cr,wn))}(h.localStore,te),P._completeWith(wt.progress),Promise.resolve(wt.Ou)}catch(te){return fn("SyncEngine",`Loading bundle failed with ${te}`),P._failWith(te),Promise.resolve(new Set)}var tn}),function(h,m,P){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield $p(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function e_(i,e){return function Zv(i,e){return i.asyncQueue.enqueue((0,Be.Z)(function*(){return function(t,s){const l=kn(t);return l.persistence.runTransaction("Get named query","readonly",h=>l.Ds.getNamedQuery(h,s))}(yield Wm(i),e)}))}(qs(i=Pi(i,ps)),e).then(t=>t?new Po(i,null,t.query):null)}(this._delegate,e).then(t=>t?new lo(this,t):null)}}class Eg extends pf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fd(new ta(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class bg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}get(e){const t=Lu(e);return this._delegate.get(t).then(s=>new Nd(this._firestore,new dl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=Lu(e);return s?(Pd("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const h=Lu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,s,...l),this}delete(e){const t=Lu(e);return this._delegate.delete(t),this}}class __{constructor(e){this._delegate=e}set(e,t,s){const l=Lu(e);return s?(Pd("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const h=Lu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,s,...l),this}delete(e){const t=Lu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pr{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Wo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xl(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Pr.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let h=l.get(t);return h||(h=new Pr(e,new Eg(e),t),l.set(t,h)),h}}Pr.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}static forPath(e,t,s){if(e.length%2!=0)throw new On("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new Is(t._delegate,s,new zn(e)))}static forKey(e,t,s){return new pa(t,new Is(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Nu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Nu(this.firestore,Zp(this._delegate,e))}catch(t){throw Fo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ue.m9)(e))instanceof Is&&Jm(this._delegate,e)}set(e,t){t=Pd("DocumentReference.set",t);try{return t?by(this._delegate,e,t):by(this._delegate,e)}catch(s){throw Fo(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?wy(this._delegate,e):wy(this._delegate,e,t,...s)}catch(l){throw Fo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return Mc(Pi(i.firestore,ps),[new xl(i._key,fs.none())])}(this._delegate)}onSnapshot(...e){const t=Oy(e),s=kd(e,l=>new Nd(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Dy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function o_(i){i=Pi(i,Is);const e=Pi(i.firestore,ps),t=qs(e),s=new ku(e);return function qv(i,e){const t=new rs;return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(s=(0,Be.Z)(function*(l,h,m){try{const P=yield function(te,we){const Ze=kn(te);return Ze.persistence.runTransaction("read document","readonly",wt=>Ze.localDocuments.getDocument(wt,we))}(l,h);P.isFoundDocument()?m.resolve(P):P.isNoDocument()?m.resolve(null):m.reject(new On(nn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const te=vc(P,`Failed to get document '${h} from cache`);m.reject(te)}}),function(l,h,m){return s.apply(this,arguments)})(yield Wm(i),e,t);var s})),t.promise}(t,i._key).then(l=>new dl(e,s,i._key,l,new Fu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function a_(i){i=Pi(i,Is);const e=Pi(i.firestore,ps);return zp(qs(e),i._key,{source:"server"}).then(t=>yg(e,i,t))}(this._delegate):function Ey(i){i=Pi(i,Is);const e=Pi(i.firestore,ps);return zp(qs(e),i._key).then(t=>yg(e,i,t))}(this._delegate),t.then(s=>new Nd(this.firestore,new dl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?Pr.getInstance(this.firestore,e):null))}}function Fo(i,e,t){return i.message=i.message.replace(e,t),i}function Oy(i){for(const e of i)if("object"==typeof e&&!_g(e))return e;return{}}function kd(i,e){var t,s;let l;return l=_g(i[0])?i[0]:_g(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Nd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dg(this._delegate,e._delegate)}}class Xl extends Nd{data(e){const t=this._delegate.data(e);return function Si(i,e){i||Fn()}(void 0!==t),t}}class lo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Eg(e)}where(e,t,s){try{return new lo(this.firestore,Zl(this._delegate,function i_(i,e,t){const s=e,l=na("where",i);return new r_(l,s,t)}(e,t,s)))}catch(l){throw Fo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new lo(this.firestore,Zl(this._delegate,function Md(i,e="asc"){const t=e,s=na("orderBy",i);return new fg(s,t)}(e,t)))}catch(s){throw Fo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new lo(this.firestore,Zl(this._delegate,function py(i){return Yp("limit",i),new fy("limit",i,"F")}(e)))}catch(t){throw Fo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new lo(this.firestore,Zl(this._delegate,function s_(i){return Yp("limitToLast",i),new fy("limitToLast",i,"L")}(e)))}catch(t){throw Fo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new lo(this.firestore,Zl(this._delegate,function gy(...i){return new pg("startAt",i,!0)}(...e)))}catch(t){throw Fo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new lo(this.firestore,Zl(this._delegate,function cf(...i){return new pg("startAfter",i,!1)}(...e)))}catch(t){throw Fo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new lo(this.firestore,Zl(this._delegate,function yy(...i){return new my("endBefore",i,!1)}(...e)))}catch(t){throw Fo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new lo(this.firestore,Zl(this._delegate,function vy(...i){return new my("endAt",i,!0)}(...e)))}catch(t){throw Fo(t,"endAt()","Query.endAt()")}}isEqual(e){return Dd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function u_(i){i=Pi(i,Po);const e=Pi(i.firestore,ps),t=qs(e),s=new ku(e);return function Yv(i,e){const t=new rs;return i.asyncQueue.enqueueAndForget((0,Be.Z)(function*(){return(s=(0,Be.Z)(function*(l,h,m){try{const P=yield Ch(l,h,!0),te=new Hh(h,P.ji),we=te.Ku(P.documents),Ze=te.applyChanges(we,!1);m.resolve(Ze.snapshot)}catch(P){const te=vc(P,`Failed to execute query '${h} against cache`);m.reject(te)}}),function(l,h,m){return s.apply(this,arguments)})(yield Wm(i),e,t);var s})),t.promise}(t,i._query).then(l=>new ao(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function c_(i){i=Pi(i,Po);const e=Pi(i.firestore,ps),t=qs(e),s=new ku(e);return Wp(t,i._query,{source:"server"}).then(l=>new ao(e,s,i,l))}(this._delegate):function l_(i){i=Pi(i,Po);const e=Pi(i.firestore,ps),t=qs(e),s=new ku(e);return hg(i._query),Wp(t,i._query).then(l=>new ao(e,s,i,l))}(this._delegate),t.then(s=>new Ry(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Oy(e),s=kd(e,l=>new Ry(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Dy(this._delegate,t,s)}withConverter(e){return new lo(this.firestore,this._delegate.withConverter(e?Pr.getInstance(this.firestore,e):null))}}class js{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ry{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new lo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new js(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Xl(this._firestore,s))})}isEqual(e){return dg(this._delegate,e._delegate)}}class Nu extends lo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?xc(this._delegate):xc(this._delegate,e))}catch(t){throw Fo(t,"doc()","CollectionReference.doc()")}}add(e){return function h_(i,e){const t=Pi(i.firestore,ps),s=xc(i),l=Rd(i.converter,e);return Mc(t,[af(Sc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,fs.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return Jm(this._delegate,e._delegate)}withConverter(e){return new Nu(this.firestore,this._delegate.withConverter(e?Pr.getInstance(this.firestore,e):null))}}function Lu(i){return Pi(i,Is)}class wg{constructor(...e){this._delegate=new $a(...e)}static documentId(){return new wg(Gr.keyField().canonicalString())}isEqual(e){return(e=(0,Ue.m9)(e))instanceof $a&&this._delegate._internalPath.isEqual(e._internalPath)}}class eu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Cy(){return new sg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new eu(e)}static delete(){const e=function m_(){return new Td("deleteField")}();return e._methodName="FieldValue.delete",new eu(e)}static arrayUnion(...e){const t=function Ay(...i){return new no("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new eu(t)}static arrayRemove(...e){const t=function Iy(...i){return new cy("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new eu(t)}static increment(e){const t=function Ty(i){return new t_("increment",i)}(e);return t._methodName="FieldValue.increment",new eu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Py={Firestore:mf,GeoPoint:Ad,Timestamp:z,Blob:Fd,Transaction:bg,WriteBatch:__,DocumentReference:pa,DocumentSnapshot:Nd,Query:lo,QueryDocumentSnapshot:Xl,QuerySnapshot:Ry,CollectionReference:Nu,FieldPath:wg,FieldValue:eu,setLogLevel:function My(i){!function Le(i){q.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function ky(i){(function Fy(i,e){i.INTERNAL.registerComponent(new qe.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},Py)))})(i,(e,t)=>new mf(e,t,new T0)),i.registerVersion("@firebase/firestore-compat","0.1.22")}(Qe.Z);var E_=y(7579),b_=y(6451),yf=y(5363),ga=y(3900),Ny=y(4782),w_=y(590),D_=y(576);function Ld(i,e){return(0,D_.m)(e)?(0,ga.w)(()=>i,e):(0,ga.w)(()=>i)}var vf=y(9468),Dg=y(440),Ly=y(127);const Rc=new u.OlP("angularfire2.auth.use-emulator"),Pc=new u.OlP("angularfire2.auth.settings"),By=new u.OlP("angularfire2.auth.tenant-id"),Vy=new u.OlP("angularfire2.auth.langugage-code"),Uy=new u.OlP("angularfire2.auth.use-device-language"),Cg=new u.OlP("angularfire.auth.persistence"),Ag=(i,e,t,s,l,h,m,P)=>(0,ue.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const te=e.runOutsideAngular(()=>i.auth());if(t&&te.useEmulator(...t),s&&(te.tenantId=s),te.languageCode=l,h&&te.useDeviceLanguage(),m)for(const[we,Ze]of Object.entries(m))te.settings[we]=Ze;return P&&te.setPersistence(P),te},[t,s,l,h,m,P]);let Ig=(()=>{class i{constructor(t,s,l,h,m,P,te,we,Ze,wt,tn,wn){const Nn=new E_.x,cr=(0,ce.of)(void 0).pipe((0,yf.Q)(m.outsideAngular),(0,ga.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,1451)))),(0,ie.U)(()=>(0,ue.on)(t,h,s)),(0,ie.U)(br=>Ag(br,h,P,we,Ze,wt,te,tn)),(0,Ny.d)({bufferSize:1,refCount:!1}));if((0,$e.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ce.of)(null);else{cr.pipe((0,w_.P)()).subscribe();const Fi=cr.pipe((0,ga.w)(wi=>wi.getRedirectResult().then(Bi=>Bi,()=>null)),me.iC,(0,Ny.d)({bufferSize:1,refCount:!1})),ts=cr.pipe((0,ga.w)(wi=>new S.y(Bi=>({unsubscribe:h.runOutsideAngular(()=>wi.onAuthStateChanged(Ji=>Bi.next(Ji),Ji=>Bi.error(Ji),()=>Bi.complete()))})))),Yi=cr.pipe((0,ga.w)(wi=>new S.y(Bi=>({unsubscribe:h.runOutsideAngular(()=>wi.onIdTokenChanged(Ji=>Bi.next(Ji),Ji=>Bi.error(Ji),()=>Bi.complete()))}))));this.authState=Fi.pipe(Ld(ts),(0,vf.R)(m.outsideAngular),(0,yf.Q)(m.insideAngular)),this.user=Fi.pipe(Ld(Yi),(0,vf.R)(m.outsideAngular),(0,yf.Q)(m.insideAngular)),this.idToken=this.user.pipe((0,ga.w)(wi=>wi?(0,ee.D)(wi.getIdToken()):(0,ce.of)(null))),this.idTokenResult=this.user.pipe((0,ga.w)(wi=>wi?(0,ee.D)(wi.getIdTokenResult()):(0,ce.of)(null))),this.credential=(0,b_.T)(Fi,Nn,this.authState.pipe((0,Ie.h)(wi=>!wi))).pipe((0,ie.U)(wi=>(null==wi?void 0:wi.user)?wi:null),(0,vf.R)(m.outsideAngular),(0,yf.Q)(m.insideAngular))}return(0,ue.pX)(this,cr,h,{spy:{apply:(br,Fi,ts)=>{(br.startsWith("signIn")||br.startsWith("createUser"))&&ts.then(Yi=>Nn.next(Yi))}}})}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(ue.Dh),u.LFG(ue.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(me.HU),u.LFG(Rc,8),u.LFG(Pc,8),u.LFG(By,8),u.LFG(Vy,8),u.LFG(Uy,8),u.LFG(Cg,8),u.LFG(Dg.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Gy(i,e){return function jy(i,e=_.z){return new S.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Hy(i,e){return Gy(i,e).pipe((0,ie.U)(t=>({payload:t,type:"query"})))}function Tg(i,e){return Hy(i,e).pipe((0,$.O)(void 0),_e(),(0,ie.U)(([t,s])=>{const l=s.payload.docChanges(),h=l.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,P)=>{const te=l.find(Ze=>Ze.doc.ref.isEqual(m.ref)),we=null==t?void 0:t.payload.docs.find(Ze=>Ze.ref.isEqual(m.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(m.metadata)||!te&&we&&JSON.stringify(we.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:m}})}),h}))}function I_(i,e,t){return Tg(i,t).pipe((0,oe.R)((s,l)=>function S0(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function Ef(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return _f(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _f(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _f(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(h=>h.payload),e),[]),(0,Fe.x)(),(0,ie.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function _f(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function $y(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class zy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Tg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ie.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,$.O)(void 0),_e(),(0,Ie.h)(([s,l])=>l.length>0||!s),(0,ie.U)(([s,l])=>l),me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,oe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=$y(e);return I_(this.query,t,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return Hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),me.iC)}get(e){return(0,ee.D)(this.query.get(e)).pipe(me.iC)}add(e){return this.ref.add(e)}doc(e){return new xg(this.ref.doc(e),this.afs)}}class xg{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:h}=qy(s,t);return new zy(l,h,this.afs)}snapshotChanges(){return function A_(i,e){return Gy(i,e).pipe((0,$.O)(void 0),_e(),(0,ie.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ie.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ee.D)(this.ref.get(e)).pipe(me.iC)}}class Bd{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Ie.h)(t=>t.length>0),me.iC):Tg(this.query,this.afs.schedulers.outsideAngular).pipe(me.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,oe.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=$y(e);return I_(this.query,t,this.afs.schedulers.outsideAngular).pipe(me.iC)}valueChanges(e={}){return Hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),me.iC)}get(e){return(0,ee.D)(this.query.get(e)).pipe(me.iC)}}const Wy=new u.OlP("angularfire2.enableFirestorePersistence"),Ky=new u.OlP("angularfire2.firestore.persistenceSettings"),T_=new u.OlP("angularfire2.firestore.settings"),x_=new u.OlP("angularfire2.firestore.use-emulator");function qy(i,e=(t=>t)){return{query:e(i),ref:i}}let Sg=(()=>{class i{constructor(t,s,l,h,m,P,te,we,Ze,wt,tn,wn,Nn,cr,br,Fi,ts){this.schedulers=te;const Yi=(0,ue.on)(t,P,s),wi=Ze;wt&&Ag(Yi,P,tn,Nn,cr,br,wn,Fi),[this.firestore,this.persistenceEnabled$]=(0,ue.cc)(`${Yi.name}.firestore`,"AngularFirestore",Yi.name,()=>{const Bi=P.runOutsideAngular(()=>Yi.firestore());if(h&&Bi.settings(h),wi&&Bi.useEmulator(...wi),l&&!(0,$e.PM)(m)){const Ji=()=>{try{return(0,ee.D)(Bi.enablePersistence(we||void 0).then(()=>!0,()=>!1))}catch(xo){return"undefined"!=typeof console&&console.warn(xo),(0,ce.of)(!1)}};return[Bi,P.runOutsideAngular(Ji)]}return[Bi,(0,ce.of)(!1)]},[h,wi,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:m}=qy(l,s),P=this.schedulers.ngZone.run(()=>h);return new zy(P,m,this)}collectionGroup(t,s){const l=s||(m=>m),h=this.firestore.collectionGroup(t);return new Bd(l(h),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new xg(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(ue.Dh),u.LFG(ue.xv,8),u.LFG(Wy,8),u.LFG(T_,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(me.HU),u.LFG(Ky,8),u.LFG(x_,8),u.LFG(Ig,8),u.LFG(Rc,8),u.LFG(Pc,8),u.LFG(By,8),u.LFG(Vy,8),u.LFG(Uy,8),u.LFG(Cg,8),u.LFG(Dg.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),S_=(()=>{class i{constructor(){Ly.Z.registerVersion("angularfire",me.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Wy,useValue:!0},{provide:Ky,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[Sg]}),i})()},2011:(Xt,tt,y)=>{y.d(tt,{hO:()=>Fe,xv:()=>_e,Dh:()=>ve,Ot:()=>Pe,GT:()=>me,cc:()=>Ie,on:()=>$,pX:()=>ce});var u=y(5e3),_=y(127),S=y(8916);Xt=y.hmd(Xt);const ee=["ngOnDestroy"],ce=(Qe,Be,xt,qe={})=>new Proxy(Qe,{get:(Te,Ue)=>xt.runOutsideAngular(()=>{var rt;if(Qe[Ue])return(null===(rt=null==qe?void 0:qe.spy)||void 0===rt?void 0:rt.get)&&qe.spy.get(Ue,Qe[Ue]),Qe[Ue];if(ee.indexOf(Ue)>-1)return()=>{};const ze=Be.toPromise().then(J=>{const re=J&&J[Ue];return"function"==typeof re?re.bind(J):re&&re.then?re.then(Ce=>xt.run(()=>Ce)):xt.run(()=>re)});return new Proxy(()=>{},{get:(J,re)=>ze[re],apply:(J,re,Ce)=>ze.then(He=>{var Je;const ut=He&&He(...Ce);return(null===(Je=null==qe?void 0:qe.spy)||void 0===Je?void 0:Je.apply)&&qe.spy.apply(Ue,Ce,ut),ut})})})}),me=(Qe,Be)=>{Be.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(qe=>{Object.defineProperty(Qe.prototype,qe,Object.getOwnPropertyDescriptor(xt.prototype||xt,qe))})})};class Pe{constructor(Be){return Be}}const ve=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function $(Qe,Be,xt){const Te="object"==typeof xt&&xt||{};Te.name=Te.name||"string"==typeof xt&&xt||"[DEFAULT]";const rt=_.Z.apps.filter(ze=>ze&&ze.name===Te.name)[0]||Be.runOutsideAngular(()=>_.Z.initializeApp(Qe,Te));try{JSON.stringify(Qe)!==JSON.stringify(rt.options)&&ie("error",`${rt.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new Pe(rt)}const ie=(Qe,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Qe](...Be)},oe={provide:Pe,useFactory:$,deps:[ve,u.R0b,[new u.FiY,_e]]};let Fe=(()=>{class Qe{constructor(xt){_.Z.registerVersion("angularfire",S.q4.full,"core"),_.Z.registerVersion("angularfire",S.q4.full,"app-compat"),_.Z.registerVersion("angular",u.q4F.full,xt.toString())}static initializeApp(xt,qe){return{ngModule:Qe,providers:[{provide:ve,useValue:xt},{provide:_e,useValue:qe}]}}}return Qe.\u0275fac=function(xt){return new(xt||Qe)(u.LFG(u.Lbi))},Qe.\u0275mod=u.oAB({type:Qe}),Qe.\u0275inj=u.cJS({providers:[oe]}),Qe})();function Ie(Qe,Be,xt,qe,Te){const[,Ue,rt]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Qe)||[];if(Ue)return function ue(Qe,Be){try{return Qe.toString()===Be.toString()}catch(xt){return Qe===Be}}(Te,rt)||(ke("error",`${Be} was already initialized on the ${xt} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),ke("warn",{is:Te,was:rt})),Ue;{const ze=qe();return globalThis.\u0275AngularfireInstanceCache.push([Qe,ze,Te]),ze}}const $e=!!Xt.hot,ke=(Qe,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Qe](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8916:(Xt,tt,y)=>{y.d(tt,{q4:()=>Zr,iC:()=>jr,fc:()=>Er,HU:()=>Qs,vb:()=>Ys,JM:()=>$s});var u=y(5e3),_=y(5867),S=y(9671),ee=y(9681),ce=y(2090),me=y(4859),Pe=y(1877);y(2833);const _e="@firebase/remote-config",$="0.3.11",Ie=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rn{constructor(De,st,Tt,jt){this.client=De,this.storage=st,this.storageCache=Tt,this.logger=jt}isCachedDataFresh(De,st){if(!st)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Tt=Date.now()-st,jt=Tt<=De;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Tt}. Cache max age millis (minimumFetchIntervalMillis setting): ${De}. Is cache hit: ${jt}.`),jt}fetch(De){var st=this;return(0,S.Z)(function*(){const[Tt,jt]=yield Promise.all([st.storage.getLastSuccessfulFetchTimestampMillis(),st.storage.getLastSuccessfulFetchResponse()]);if(jt&&st.isCachedDataFresh(De.cacheMaxAgeMillis,Tt))return jt;De.eTag=jt&&jt.eTag;const mn=yield st.client.fetch(De),Pn=[st.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===mn.status&&Pn.push(st.storage.setLastSuccessfulFetchResponse(mn)),yield Promise.all(Pn),mn})()}}function En(pe=navigator){return pe.languages&&pe.languages[0]||pe.language}class ln{constructor(De,st,Tt,jt,mn,Pn){this.firebaseInstallations=De,this.sdkVersion=st,this.namespace=Tt,this.projectId=jt,this.apiKey=mn,this.appId=Pn}fetch(De){var st=this;return(0,S.Z)(function*(){var Tt,jt,mn;const[Pn,sr]=yield Promise.all([st.firebaseInstallations.getId(),st.firebaseInstallations.getToken()]),Jr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${st.projectId}/namespaces/${st.namespace}:fetch?key=${st.apiKey}`,ti={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":De.eTag||"*"},Sr={sdk_version:st.sdkVersion,app_instance_id:Pn,app_instance_id_token:sr,app_id:st.appId,language_code:En()},Gi={method:"POST",headers:ti,body:JSON.stringify(Sr)},zs=fetch(Jr,Gi),Ci=new Promise((ae,Le)=>{De.signal.addEventListener(()=>{const Ve=new Error("The operation was aborted.");Ve.name="AbortError",Le(Ve)})});let Lo;try{yield Promise.race([zs,Ci]),Lo=yield zs}catch(ae){let Le="fetch-client-network";throw"AbortError"===(null===(Tt=ae)||void 0===Tt?void 0:Tt.name)&&(Le="fetch-timeout"),Ie.create(Le,{originalErrorMessage:null===(jt=ae)||void 0===jt?void 0:jt.message})}let B=Lo.status;const O=Lo.headers.get("ETag")||void 0;let I,q;if(200===Lo.status){let ae;try{ae=yield Lo.json()}catch(Le){throw Ie.create("fetch-client-parse",{originalErrorMessage:null===(mn=Le)||void 0===mn?void 0:mn.message})}I=ae.entries,q=ae.state}if("INSTANCE_STATE_UNSPECIFIED"===q?B=500:"NO_CHANGE"===q?B=304:("NO_TEMPLATE"===q||"EMPTY_CONFIG"===q)&&(I={}),304!==B&&200!==B)throw Ie.create("fetch-status",{httpStatus:B});return{status:B,eTag:O,config:I}})()}}class Qt{constructor(De,st){this.client=De,this.storage=st}fetch(De){var st=this;return(0,S.Z)(function*(){const Tt=(yield st.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return st.attemptFetch(De,Tt)})()}attemptFetch(De,{throttleEndTimeMillis:st,backoffCount:Tt}){var jt=this;return(0,S.Z)(function*(){yield function mt(pe,De){return new Promise((st,Tt)=>{const jt=Math.max(De-Date.now(),0),mn=setTimeout(st,jt);pe.addEventListener(()=>{clearTimeout(mn),Tt(Ie.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}(De.signal,st);try{const mn=yield jt.client.fetch(De);return yield jt.storage.deleteThrottleMetadata(),mn}catch(mn){if(!function qt(pe){if(!(pe instanceof ce.ZR&&pe.customData))return!1;const De=Number(pe.customData.httpStatus);return 429===De||500===De||503===De||504===De}(mn))throw mn;const Pn={throttleEndTimeMillis:Date.now()+(0,ce.$s)(Tt),backoffCount:Tt+1};return yield jt.storage.setThrottleMetadata(Pn),jt.attemptFetch(De,Pn)}})()}}class Mt{constructor(De,st,Tt,jt,mn){this.app=De,this._client=st,this._storageCache=Tt,this._storage=jt,this._logger=mn,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(pe,De){var st;const Tt=pe.target.error||void 0;return Ie.create(De,{originalErrorMessage:Tt&&(null===(st=Tt)||void 0===st?void 0:st.message)})}const Ht="app_namespace_store";class Qn{constructor(De,st,Tt,jt=function Gn(){return new Promise((pe,De)=>{var st;try{const Tt=indexedDB.open("firebase_remote_config",1);Tt.onerror=jt=>{De(At(jt,"storage-open"))},Tt.onsuccess=jt=>{pe(jt.target.result)},Tt.onupgradeneeded=jt=>{0===jt.oldVersion&&jt.target.result.createObjectStore(Ht,{keyPath:"compositeKey"})}}catch(Tt){De(Ie.create("storage-open",{originalErrorMessage:null===(st=Tt)||void 0===st?void 0:st.message}))}})}()){this.appId=De,this.appName=st,this.namespace=Tt,this.openDbPromise=jt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(De){return this.set("last_fetch_status",De)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(De){return this.set("last_successful_fetch_timestamp_millis",De)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(De){return this.set("last_successful_fetch_response",De)}getActiveConfig(){return this.get("active_config")}setActiveConfig(De){return this.set("active_config",De)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(De){return this.set("active_config_etag",De)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(De){return this.set("throttle_metadata",De)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(De){var st=this;return(0,S.Z)(function*(){const Tt=yield st.openDbPromise;return new Promise((jt,mn)=>{var Pn;const Lr=Tt.transaction([Ht],"readonly").objectStore(Ht),Jr=st.createCompositeKey(De);try{const ti=Lr.get(Jr);ti.onerror=Sr=>{mn(At(Sr,"storage-get"))},ti.onsuccess=Sr=>{const Gi=Sr.target.result;jt(Gi?Gi.value:void 0)}}catch(ti){mn(Ie.create("storage-get",{originalErrorMessage:null===(Pn=ti)||void 0===Pn?void 0:Pn.message}))}})})()}set(De,st){var Tt=this;return(0,S.Z)(function*(){const jt=yield Tt.openDbPromise;return new Promise((mn,Pn)=>{var sr;const Jr=jt.transaction([Ht],"readwrite").objectStore(Ht),ti=Tt.createCompositeKey(De);try{const Sr=Jr.put({compositeKey:ti,value:st});Sr.onerror=Gi=>{Pn(At(Gi,"storage-set"))},Sr.onsuccess=()=>{mn()}}catch(Sr){Pn(Ie.create("storage-set",{originalErrorMessage:null===(sr=Sr)||void 0===sr?void 0:sr.message}))}})})()}delete(De){var st=this;return(0,S.Z)(function*(){const Tt=yield st.openDbPromise;return new Promise((jt,mn)=>{var Pn;const Lr=Tt.transaction([Ht],"readwrite").objectStore(Ht),Jr=st.createCompositeKey(De);try{const ti=Lr.delete(Jr);ti.onerror=Sr=>{mn(At(Sr,"storage-delete"))},ti.onsuccess=()=>{jt()}}catch(ti){mn(Ie.create("storage-delete",{originalErrorMessage:null===(Pn=ti)||void 0===Pn?void 0:Pn.message}))}})})()}createCompositeKey(De){return[this.appId,this.appName,this.namespace,De].join()}}class Kn{constructor(De){this.storage=De}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var De=this;return(0,S.Z)(function*(){const st=De.storage.getLastFetchStatus(),Tt=De.storage.getLastSuccessfulFetchTimestampMillis(),jt=De.storage.getActiveConfig(),mn=yield st;mn&&(De.lastFetchStatus=mn);const Pn=yield Tt;Pn&&(De.lastSuccessfulFetchTimestampMillis=Pn);const sr=yield jt;sr&&(De.activeConfig=sr)})()}setLastFetchStatus(De){return this.lastFetchStatus=De,this.storage.setLastFetchStatus(De)}setLastSuccessfulFetchTimestampMillis(De){return this.lastSuccessfulFetchTimestampMillis=De,this.storage.setLastSuccessfulFetchTimestampMillis(De)}setActiveConfig(De){return this.activeConfig=De,this.storage.setActiveConfig(De)}}function cn(){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,S.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(pe){return!1}})).apply(this,arguments)}!function ar(){(0,ee._registerComponent)(new me.wA("remote-config",function pe(De,{instanceIdentifier:st}){const Tt=De.getProvider("app").getImmediate(),jt=De.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ie.create("registration-window");if(!(0,ce.hl)())throw Ie.create("indexed-db-unavailable");const{projectId:mn,apiKey:Pn,appId:sr}=Tt.options;if(!mn)throw Ie.create("registration-project-id");if(!Pn)throw Ie.create("registration-api-key");if(!sr)throw Ie.create("registration-app-id");const Lr=new Qn(sr,Tt.name,st=st||"firebase"),Jr=new Kn(Lr),ti=new Pe.Yd(_e);ti.logLevel=Pe.in.ERROR;const Sr=new ln(jt,ee.SDK_VERSION,st,mn,Pn,sr),Gi=new Qt(Sr,Lr),zs=new rn(Gi,Lr,Jr,ti),Ci=new Mt(Tt,zs,Jr,Lr,ti);return function rt(pe){const De=(0,ce.m9)(pe);De._initializePromise||(De._initializePromise=De._storageCache.loadFromStorage().then(()=>{De._isInitializationComplete=!0}))}(Ci),Ci},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(_e,$),(0,ee.registerVersion)(_e,$,"esm2017")}();var dr=y(8766);const yr="/firebase-messaging-sw.js",on="/firebase-cloud-messaging-push-scope",Ft="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ke="google.c.a.c_id",Bt="google.c.a.c_l",Vt="google.c.a.ts",Yt="google.c.a.e";var Cn=(()=>{return(pe=Cn||(Cn={})).PUSH_RECEIVED="push-received",pe.NOTIFICATION_CLICKED="notification-clicked",Cn;var pe})();function Tn(pe){const De=new Uint8Array(pe);return btoa(String.fromCharCode(...De)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rn(pe){const st=(pe+"=".repeat((4-pe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Tt=atob(st),jt=new Uint8Array(Tt.length);for(let mn=0;mn<Tt.length;++mn)jt[mn]=Tt.charCodeAt(mn);return jt}const Wn="fcm_token_details_db",Sn="fcm_token_object_Store";function Hn(pe){return bn.apply(this,arguments)}function bn(){return bn=(0,S.Z)(function*(pe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(mn=>mn.name).includes(Wn))return null;let De=null;return(yield(0,dr.X3)(Wn,5,{upgrade:(Tt=(0,S.Z)(function*(jt,mn,Pn,sr){var Lr;if(mn<2||!jt.objectStoreNames.contains(Sn))return;const Jr=sr.objectStore(Sn),ti=yield Jr.index("fcmSenderId").get(pe);if(yield Jr.clear(),ti)if(2===mn){const Sr=ti;if(!Sr.auth||!Sr.p256dh||!Sr.endpoint)return;De={token:Sr.fcmToken,createTime:null!==(Lr=Sr.createTime)&&void 0!==Lr?Lr:Date.now(),subscriptionOptions:{auth:Sr.auth,p256dh:Sr.p256dh,endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:"string"==typeof Sr.vapidKey?Sr.vapidKey:Tn(Sr.vapidKey)}}}else if(3===mn){const Sr=ti;De={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Tn(Sr.auth),p256dh:Tn(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Tn(Sr.vapidKey)}}}else if(4===mn){const Sr=ti;De={token:Sr.fcmToken,createTime:Sr.createTime,subscriptionOptions:{auth:Tn(Sr.auth),p256dh:Tn(Sr.p256dh),endpoint:Sr.endpoint,swScope:Sr.swScope,vapidKey:Tn(Sr.vapidKey)}}}}),function(mn,Pn,sr,Lr){return Tt.apply(this,arguments)})})).close(),yield(0,dr.Lj)(Wn),yield(0,dr.Lj)("fcm_vapid_details_db"),yield(0,dr.Lj)("undefined"),Rr(De)?De:null;var Tt}),bn.apply(this,arguments)}function Rr(pe){if(!pe||!pe.subscriptionOptions)return!1;const{subscriptionOptions:De}=pe;return"number"==typeof pe.createTime&&pe.createTime>0&&"string"==typeof pe.token&&pe.token.length>0&&"string"==typeof De.auth&&De.auth.length>0&&"string"==typeof De.p256dh&&De.p256dh.length>0&&"string"==typeof De.endpoint&&De.endpoint.length>0&&"string"==typeof De.swScope&&De.swScope.length>0&&"string"==typeof De.vapidKey&&De.vapidKey.length>0}const W="firebase-messaging-store";let N=null;function U(){return N||(N=(0,dr.X3)("firebase-messaging-database",1,{upgrade:(pe,De)=>{0===De&&pe.createObjectStore(W)}})),N}function Se(pe){return ht.apply(this,arguments)}function ht(){return(ht=(0,S.Z)(function*(pe){const De=Z(pe),Tt=yield(yield U()).transaction(W).objectStore(W).get(De);if(Tt)return Tt;{const jt=yield Hn(pe.appConfig.senderId);if(jt)return yield Gt(pe,jt),jt}})).apply(this,arguments)}function Gt(pe,De){return de.apply(this,arguments)}function de(){return(de=(0,S.Z)(function*(pe,De){const st=Z(pe),jt=(yield U()).transaction(W,"readwrite");return yield jt.objectStore(W).put(De,st),yield jt.done,De})).apply(this,arguments)}function Nt(pe){return M.apply(this,arguments)}function M(){return(M=(0,S.Z)(function*(pe){const De=Z(pe),Tt=(yield U()).transaction(W,"readwrite");yield Tt.objectStore(W).delete(De),yield Tt.done})).apply(this,arguments)}function Z({appConfig:pe}){return pe.appId}const Ye=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function je(pe,De){return nt.apply(this,arguments)}function nt(){return(nt=(0,S.Z)(function*(pe,De){var st;const Tt=yield Kr(pe),jt=Br(De),mn={method:"POST",headers:Tt,body:JSON.stringify(jt)};let Pn;try{Pn=yield(yield fetch(vr(pe.appConfig),mn)).json()}catch(sr){throw Ye.create("token-subscribe-failed",{errorInfo:null===(st=sr)||void 0===st?void 0:st.toString()})}if(Pn.error)throw Ye.create("token-subscribe-failed",{errorInfo:Pn.error.message});if(!Pn.token)throw Ye.create("token-subscribe-no-token");return Pn.token})).apply(this,arguments)}function yt(pe,De){return dt.apply(this,arguments)}function dt(){return(dt=(0,S.Z)(function*(pe,De){var st;const Tt=yield Kr(pe),jt=Br(De.subscriptionOptions),mn={method:"PATCH",headers:Tt,body:JSON.stringify(jt)};let Pn;try{Pn=yield(yield fetch(`${vr(pe.appConfig)}/${De.token}`,mn)).json()}catch(sr){throw Ye.create("token-update-failed",{errorInfo:null===(st=sr)||void 0===st?void 0:st.toString()})}if(Pn.error)throw Ye.create("token-update-failed",{errorInfo:Pn.error.message});if(!Pn.token)throw Ye.create("token-update-no-token");return Pn.token})).apply(this,arguments)}function Jn(pe,De){return Un.apply(this,arguments)}function Un(){return(Un=(0,S.Z)(function*(pe,De){var st;const jt={method:"DELETE",headers:yield Kr(pe)};try{const Pn=yield(yield fetch(`${vr(pe.appConfig)}/${De}`,jt)).json();if(Pn.error)throw Ye.create("token-unsubscribe-failed",{errorInfo:Pn.error.message})}catch(mn){throw Ye.create("token-unsubscribe-failed",{errorInfo:null===(st=mn)||void 0===st?void 0:st.toString()})}})).apply(this,arguments)}function vr({projectId:pe}){return`https://fcmregistrations.googleapis.com/v1/projects/${pe}/registrations`}function Kr(pe){return li.apply(this,arguments)}function li(){return(li=(0,S.Z)(function*({appConfig:pe,installations:De}){const st=yield De.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":pe.apiKey,"x-goog-firebase-installations-auth":`FIS ${st}`})})).apply(this,arguments)}function Br({p256dh:pe,auth:De,endpoint:st,vapidKey:Tt}){const jt={web:{endpoint:st,auth:De,p256dh:pe}};return Tt!==Ft&&(jt.web.applicationPubKey=Tt),jt}const Xr=6048e5;function _r(pe){return gi.apply(this,arguments)}function gi(){return(gi=(0,S.Z)(function*(pe){const De=yield gr(pe.swRegistration,pe.vapidKey),st={vapidKey:pe.vapidKey,swScope:pe.swRegistration.scope,endpoint:De.endpoint,auth:Tn(De.getKey("auth")),p256dh:Tn(De.getKey("p256dh"))},Tt=yield Se(pe.firebaseDependencies);if(Tt){if(gt(Tt.subscriptionOptions,st))return Date.now()>=Tt.createTime+Xr?ft(pe,{token:Tt.token,createTime:Date.now(),subscriptionOptions:st}):Tt.token;try{yield Jn(pe.firebaseDependencies,Tt.token)}catch(jt){console.warn(jt)}return yn(pe.firebaseDependencies,st)}return yn(pe.firebaseDependencies,st)})).apply(this,arguments)}function Nr(pe){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,S.Z)(function*(pe){const De=yield Se(pe.firebaseDependencies);De&&(yield Jn(pe.firebaseDependencies,De.token),yield Nt(pe.firebaseDependencies));const st=yield pe.swRegistration.pushManager.getSubscription();return!st||st.unsubscribe()})).apply(this,arguments)}function ft(pe,De){return $t.apply(this,arguments)}function $t(){return($t=(0,S.Z)(function*(pe,De){try{const st=yield yt(pe.firebaseDependencies,De),Tt=Object.assign(Object.assign({},De),{token:st,createTime:Date.now()});return yield Gt(pe.firebaseDependencies,Tt),st}catch(st){throw yield Nr(pe),st}})).apply(this,arguments)}function yn(pe,De){return $n.apply(this,arguments)}function $n(){return($n=(0,S.Z)(function*(pe,De){const Tt={token:yield je(pe,De),createTime:Date.now(),subscriptionOptions:De};return yield Gt(pe,Tt),Tt.token})).apply(this,arguments)}function gr(pe,De){return Et.apply(this,arguments)}function Et(){return(Et=(0,S.Z)(function*(pe,De){return(yield pe.pushManager.getSubscription())||pe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rn(De)})})).apply(this,arguments)}function gt(pe,De){return De.vapidKey===pe.vapidKey&&De.endpoint===pe.endpoint&&De.auth===pe.auth&&De.p256dh===pe.p256dh}function Ut(pe){const De={from:pe.from,collapseKey:pe.collapse_key,messageId:pe.fcmMessageId};return function Vn(pe,De){if(!De.notification)return;pe.notification={};const st=De.notification.title;st&&(pe.notification.title=st);const Tt=De.notification.body;Tt&&(pe.notification.body=Tt);const jt=De.notification.image;jt&&(pe.notification.image=jt)}(De,pe),function An(pe,De){!De.data||(pe.data=De.data)}(De,pe),function kr(pe,De){var st,Tt,jt,mn,Pn;if(!De.fcmOptions&&!(null===(st=De.notification)||void 0===st?void 0:st.click_action))return;pe.fcmOptions={};const sr=null!==(jt=null===(Tt=De.fcmOptions)||void 0===Tt?void 0:Tt.link)&&void 0!==jt?jt:null===(mn=De.notification)||void 0===mn?void 0:mn.click_action;sr&&(pe.fcmOptions.link=sr);const Lr=null===(Pn=De.fcmOptions)||void 0===Pn?void 0:Pn.analytics_label;Lr&&(pe.fcmOptions.analyticsLabel=Lr)}(De,pe),De}function ni(pe){return"object"==typeof pe&&!!pe&&Ke in pe}function Ai(pe,De){const st=[];for(let Tt=0;Tt<pe.length;Tt++)st.push(pe.charAt(Tt)),Tt<De.length&&st.push(De.charAt(Tt));return st.join("")}function Yr(pe){return Ye.create("missing-app-config-values",{valueName:pe})}Ai("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ai("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(De,st,Tt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const jt=function ui(pe){if(!pe||!pe.options)throw Yr("App Configuration Object");if(!pe.name)throw Yr("App Name");const De=["projectId","apiKey","appId","messagingSenderId"],{options:st}=pe;for(const Tt of De)if(!st[Tt])throw Yr(Tt);return{appName:pe.name,projectId:st.projectId,apiKey:st.apiKey,appId:st.appId,senderId:st.messagingSenderId}}(De);this.firebaseDependencies={app:De,appConfig:jt,installations:st,analyticsProvider:Tt}}_delete(){return Promise.resolve()}}function vi(pe){return ri.apply(this,arguments)}function ri(){return(ri=(0,S.Z)(function*(pe){var De;try{pe.swRegistration=yield navigator.serviceWorker.register(yr,{scope:on}),pe.swRegistration.update().catch(()=>{})}catch(st){throw Ye.create("failed-service-worker-registration",{browserErrorMessage:null===(De=st)||void 0===De?void 0:De.message})}})).apply(this,arguments)}function Ir(pe,De){return ki.apply(this,arguments)}function ki(){return(ki=(0,S.Z)(function*(pe,De){if(!De&&!pe.swRegistration&&(yield vi(pe)),De||!pe.swRegistration){if(!(De instanceof ServiceWorkerRegistration))throw Ye.create("invalid-sw-registration");pe.swRegistration=De}})).apply(this,arguments)}function Hi(pe,De){return ii.apply(this,arguments)}function ii(){return(ii=(0,S.Z)(function*(pe,De){De?pe.vapidKey=De:pe.vapidKey||(pe.vapidKey=Ft)})).apply(this,arguments)}function $i(){return($i=(0,S.Z)(function*(pe,De){if(!navigator)throw Ye.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ye.create("permission-blocked");return yield Hi(pe,null==De?void 0:De.vapidKey),yield Ir(pe,null==De?void 0:De.serviceWorkerRegistration),_r(pe)})).apply(this,arguments)}function Wi(pe,De,st){return _i.apply(this,arguments)}function _i(){return(_i=(0,S.Z)(function*(pe,De,st){const Tt=Ei(De);(yield pe.firebaseDependencies.analyticsProvider.get()).logEvent(Tt,{message_id:st[Ke],message_name:st[Bt],message_time:st[Vt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ei(pe){switch(pe){case Cn.NOTIFICATION_CLICKED:return"notification_open";case Cn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ss(){return(ss=(0,S.Z)(function*(pe,De){const st=De.data;if(!st.isFirebaseMessaging)return;pe.onMessageHandler&&st.messageType===Cn.PUSH_RECEIVED&&("function"==typeof pe.onMessageHandler?pe.onMessageHandler(Ut(st)):pe.onMessageHandler.next(Ut(st)));const Tt=st.data;ni(Tt)&&"1"===Tt[Yt]&&(yield Wi(pe,st.messageType,Tt))})).apply(this,arguments)}const bs="@firebase/messaging",Oi=pe=>{const De=new hi(pe.getProvider("app").getImmediate(),pe.getProvider("installations-internal").getImmediate(),pe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",st=>function gs(pe,De){return ss.apply(this,arguments)}(De,st)),De},Rt=pe=>{const De=pe.getProvider("messaging").getImmediate();return{getToken:Tt=>function Di(pe,De){return $i.apply(this,arguments)}(De,Tt)}};function Lt(){return hn.apply(this,arguments)}function hn(){return(hn=(0,S.Z)(function*(){try{yield(0,ce.eu)()}catch(pe){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ot(){(0,ee._registerComponent)(new me.wA("messaging",Oi,"PUBLIC")),(0,ee._registerComponent)(new me.wA("messaging-internal",Rt,"PRIVATE")),(0,ee.registerVersion)(bs,"0.9.16"),(0,ee.registerVersion)(bs,"0.9.16","esm2017")}();const pi="analytics",Ii="firebase_id",Js="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gs="https://www.googletagmanager.com/gtag/js",$r=new Pe.Yd("@firebase/analytics");function ns(pe){return Promise.all(pe.map(De=>De.catch(st=>st)))}function Ti(pe,De){const st=document.createElement("script");st.src=`${Gs}?l=${pe}&id=${De}`,st.async=!0,document.head.appendChild(st)}function Ps(pe,De,st,Tt,jt,mn){return vs.apply(this,arguments)}function vs(){return(vs=(0,S.Z)(function*(pe,De,st,Tt,jt,mn){const Pn=Tt[jt];try{if(Pn)yield De[Pn];else{const Lr=(yield ns(st)).find(Jr=>Jr.measurementId===jt);Lr&&(yield De[Lr.appId])}}catch(sr){$r.error(sr)}pe("config",jt,mn)})).apply(this,arguments)}function Fs(pe,De,st,Tt,jt){return zi.apply(this,arguments)}function zi(){return(zi=(0,S.Z)(function*(pe,De,st,Tt,jt){try{let mn=[];if(jt&&jt.send_to){let Pn=jt.send_to;Array.isArray(Pn)||(Pn=[Pn]);const sr=yield ns(st);for(const Lr of Pn){const Jr=sr.find(Sr=>Sr.measurementId===Lr),ti=Jr&&De[Jr.appId];if(!ti){mn=[];break}mn.push(ti)}}0===mn.length&&(mn=Object.values(De)),yield Promise.all(mn),pe("event",Tt,jt||{})}catch(mn){$r.error(mn)}})).apply(this,arguments)}function Q(){const pe=window.document.getElementsByTagName("script");for(const De of Object.values(pe))if(De.src&&De.src.includes(Gs))return De;return null}const C=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),K=new class V{constructor(De={},st=1e3){this.throttleMetadata=De,this.intervalMillis=st}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,st){this.throttleMetadata[De]=st}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function ye(pe){return new Headers({Accept:"application/json","x-goog-api-key":pe})}function et(pe){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,S.Z)(function*(pe){var De;const{appId:st,apiKey:Tt}=pe,jt={method:"GET",headers:ye(Tt)},mn=Js.replace("{app-id}",st),Pn=yield fetch(mn,jt);if(200!==Pn.status&&304!==Pn.status){let sr="";try{const Lr=yield Pn.json();(null===(De=Lr.error)||void 0===De?void 0:De.message)&&(sr=Lr.error.message)}catch(Lr){}throw C.create("config-fetch-failed",{httpStatus:Pn.status,responseMessage:sr})}return Pn.json()})).apply(this,arguments)}function Ct(pe){return It.apply(this,arguments)}function It(){return(It=(0,S.Z)(function*(pe,De=K,st){const{appId:Tt,apiKey:jt,measurementId:mn}=pe.options;if(!Tt)throw C.create("no-app-id");if(!jt){if(mn)return{measurementId:mn,appId:Tt};throw C.create("no-api-key")}const Pn=De.getThrottleMetadata(Tt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},sr=new We;return setTimeout((0,S.Z)(function*(){sr.abort()}),void 0!==st?st:6e4),F({appId:Tt,apiKey:jt,measurementId:mn},Pn,sr,De)})).apply(this,arguments)}function F(pe,De,st){return X.apply(this,arguments)}function X(){return(X=(0,S.Z)(function*(pe,{throttleEndTimeMillis:De,backoffCount:st},Tt,jt=K){var mn,Pn;const{appId:sr,measurementId:Lr}=pe;try{yield k(Tt,De)}catch(Jr){if(Lr)return $r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lr} provided in the "measurementId" field in the local Firebase config. [${null===(mn=Jr)||void 0===mn?void 0:mn.message}]`),{appId:sr,measurementId:Lr};throw Jr}try{const Jr=yield et(pe);return jt.deleteThrottleMetadata(sr),Jr}catch(Jr){const ti=Jr;if(!ge(ti)){if(jt.deleteThrottleMetadata(sr),Lr)return $r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lr} provided in the "measurementId" field in the local Firebase config. [${null==ti?void 0:ti.message}]`),{appId:sr,measurementId:Lr};throw Jr}const Sr=503===Number(null===(Pn=null==ti?void 0:ti.customData)||void 0===Pn?void 0:Pn.httpStatus)?(0,ce.$s)(st,jt.intervalMillis,30):(0,ce.$s)(st,jt.intervalMillis),Gi={throttleEndTimeMillis:Date.now()+Sr,backoffCount:st+1};return jt.setThrottleMetadata(sr,Gi),$r.debug(`Calling attemptFetch again in ${Sr} millis`),F(pe,Gi,Tt,jt)}})).apply(this,arguments)}function k(pe,De){return new Promise((st,Tt)=>{const jt=Math.max(De-Date.now(),0),mn=setTimeout(st,jt);pe.addEventListener(()=>{clearTimeout(mn),Tt(C.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}function ge(pe){if(!(pe instanceof ce.ZR&&pe.customData))return!1;const De=Number(pe.customData.httpStatus);return 429===De||500===De||503===De||504===De}class We{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}let pt,G;function dn(){return(dn=(0,S.Z)(function*(pe,De,st,Tt,jt){if(jt&&jt.global)pe("event",st,Tt);else{const mn=yield De;pe("event",st,Object.assign(Object.assign({},Tt),{send_to:mn}))}})).apply(this,arguments)}function L(pe){G=pe}function Re(pe){pt=pe}function sn(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,S.Z)(function*(){var pe;if(!(0,ce.hl)())return $r.warn(C.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(De){return $r.warn(C.create("indexeddb-unavailable",{errorInfo:null===(pe=De)||void 0===pe?void 0:pe.toString()}).message),!1}return!0})).apply(this,arguments)}function Xi(){return(Xi=(0,S.Z)(function*(pe,De,st,Tt,jt,mn,Pn){var sr;const Lr=Ct(pe);Lr.then(zs=>{st[zs.measurementId]=zs.appId,pe.options.measurementId&&zs.measurementId!==pe.options.measurementId&&$r.warn(`The measurement ID in the local Firebase config (${pe.options.measurementId}) does not match the measurement ID fetched from the server (${zs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zs=>$r.error(zs)),De.push(Lr);const Jr=sn().then(zs=>{if(zs)return Tt.getId()}),[ti,Sr]=yield Promise.all([Lr,Jr]);Q()||Ti(mn,ti.measurementId),G&&(jt("consent","default",G),L(void 0)),jt("js",new Date);const Gi=null!==(sr=null==Pn?void 0:Pn.config)&&void 0!==sr?sr:{};return Gi.origin="firebase",Gi.update=!0,null!=Sr&&(Gi[Ii]=Sr),jt("config",ti.measurementId,Gi),pt&&(jt("set",pt),Re(void 0)),ti.measurementId})).apply(this,arguments)}class Ui{constructor(De){this.app=De}_delete(){return delete es[this.app.options.appId],Promise.resolve()}}let es={},vn=[];const ei={};let So,ds,go="dataLayer",Ts=!1;function xa(pe,De,st){!function ko(){const pe=[];if((0,ce.ru)()&&pe.push("This is a browser extension environment."),(0,ce.zI)()||pe.push("Cookies are not available."),pe.length>0){const De=pe.map((Tt,jt)=>`(${jt+1}) ${Tt}`).join(" "),st=C.create("invalid-analytics-context",{errorInfo:De});$r.warn(st.message)}}();const Tt=pe.options.appId;if(!Tt)throw C.create("no-app-id");if(!pe.options.apiKey){if(!pe.options.measurementId)throw C.create("no-api-key");$r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${pe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=es[Tt])throw C.create("already-exists",{id:Tt});if(!Ts){!function Zi(pe){let De=[];Array.isArray(window[pe])?De=window[pe]:window[pe]=De}(go);const{wrappedGtag:mn,gtagCore:Pn}=function ne(pe,De,st,Tt,jt){let mn=function(...Pn){window[Tt].push(arguments)};return window[jt]&&"function"==typeof window[jt]&&(mn=window[jt]),window[jt]=function Me(pe,De,st,Tt){function mn(){return(mn=(0,S.Z)(function*(Pn,sr,Lr){try{"event"===Pn?yield Fs(pe,De,st,sr,Lr):"config"===Pn?yield Ps(pe,De,st,Tt,sr,Lr):"consent"===Pn?pe("consent","update",Lr):pe("set",sr)}catch(Jr){$r.error(Jr)}})).apply(this,arguments)}return function jt(Pn,sr,Lr){return mn.apply(this,arguments)}}(mn,pe,De,st),{gtagCore:mn,wrappedGtag:window[jt]}}(es,vn,ei,go,"gtag");ds=mn,So=Pn,Ts=!0}return es[Tt]=function ci(pe,De,st,Tt,jt,mn,Pn){return Xi.apply(this,arguments)}(pe,vn,ei,De,So,go,st),new Ui(pe)}function io(){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,S.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(pe){return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function bt(){(0,ee._registerComponent)(new me.wA(pi,(De,{options:st})=>xa(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),st),"PUBLIC")),(0,ee._registerComponent)(new me.wA("analytics-internal",function pe(De){try{const st=De.getProvider(pi).getImmediate();return{logEvent:(Tt,jt,mn)=>function H(pe,De,st,Tt){pe=(0,ce.m9)(pe),function Pt(pe,De,st,Tt,jt){return dn.apply(this,arguments)}(ds,es[pe.app.options.appId],De,st,Tt).catch(jt=>$r.error(jt))}(st,Tt,jt,mn)}}catch(st){throw C.create("interop-component-reg-failed",{reason:st})}},"PRIVATE")),(0,ee.registerVersion)(Xe,"0.8.0"),(0,ee.registerVersion)(Xe,"0.8.0","esm2017")}();var zt=y(233),pn=y(4986),nr=y(8505),mr=y(5363),Tr=y(9468);const Zr=new u.GfV("7.4.1"),pr="__angularfire_symbol__analyticsIsSupportedValue",xr="__angularfire_symbol__analyticsIsSupported",fi="__angularfire_symbol__remoteConfigIsSupportedValue",Ri="__angularfire_symbol__remoteConfigIsSupported",ji="__angularfire_symbol__messagingIsSupportedValue",as="__angularfire_symbol__messagingIsSupported";function $s(pe,De,st){if(De){if(1===De.length)return De[0];const mn=De.filter(Pn=>Pn.app===st);if(1===mn.length)return mn[0]}return st.container.getProvider(pe).getImmediate({optional:!0})}globalThis[xr]||(globalThis[xr]=io().then(pe=>globalThis[pr]=pe).catch(()=>globalThis[pr]=!1)),globalThis[as]||(globalThis[as]=Lt().then(pe=>globalThis[ji]=pe).catch(()=>globalThis[ji]=!1)),globalThis[Ri]||(globalThis[Ri]=cn().then(pe=>globalThis[fi]=pe).catch(()=>globalThis[fi]=!1));const Ys=(pe,De)=>{const st=De?[De]:(0,_.C6)(),Tt=[];return st.forEach(jt=>{jt.container.getProvider(pe).instances.forEach(Pn=>{Tt.includes(Pn)||Tt.push(Pn)})}),Tt};function hs(){}class Xs{constructor(De,st=zt.N){this.zone=De,this.delegate=st}now(){return this.delegate.now()}schedule(De,st,Tt){const jt=this.zone;return this.delegate.schedule(function(Pn){jt.runGuarded(()=>{De.apply(this,[Pn])})},st,Tt)}}class eo{constructor(De){this.zone=De,this.task=null}call(De,st){const Tt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hs,{},hs,hs)),st.pipe((0,nr.b)({next:Tt,complete:Tt,error:Tt})).subscribe(De).add(Tt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qs=(()=>{class pe{constructor(st){this.ngZone=st,this.outsideAngular=st.runOutsideAngular(()=>new Xs(Zone.current)),this.insideAngular=st.run(()=>new Xs(Zone.current,pn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return pe.\u0275fac=function(st){return new(st||pe)(u.LFG(u.R0b))},pe.\u0275prov=u.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})();function ws(){const pe=globalThis.\u0275AngularFireScheduler;if(!pe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return pe}function Er(pe){return pe.pipe((0,mr.Q)(ws().outsideAngular))}function jr(pe){return ws(),function xi(pe){return function(st){return(st=st.lift(new eo(pe.ngZone))).pipe((0,Tr.R)(pe.outsideAngular),(0,mr.Q)(pe.insideAngular))}}(ws())(pe)}},2090:(Xt,tt,y)=>{y.d(tt,{BH:()=>Fe,LL:()=>ot,ZR:()=>ut,zI:()=>Ce,US:()=>me,tV:()=>_e,L:()=>ve,$s:()=>Sn,r3:()=>Mt,Sg:()=>Ie,ne:()=>cn,vZ:()=>In,ZB:()=>ie,pd:()=>Wr,m9:()=>Rr,z$:()=>ue,jU:()=>Qe,ru:()=>Be,d:()=>qe,xb:()=>Ht,w1:()=>Te,hl:()=>J,uI:()=>$e,UG:()=>ke,b$:()=>xt,G6:()=>ze,Mn:()=>Ue,xO:()=>Kn,zd:()=>ar,eu:()=>re});const ee=function(ct){const Ae=[];let W=0;for(let N=0;N<ct.length;N++){let U=ct.charCodeAt(N);U<128?Ae[W++]=U:U<2048?(Ae[W++]=U>>6|192,Ae[W++]=63&U|128):55296==(64512&U)&&N+1<ct.length&&56320==(64512&ct.charCodeAt(N+1))?(U=65536+((1023&U)<<10)+(1023&ct.charCodeAt(++N)),Ae[W++]=U>>18|240,Ae[W++]=U>>12&63|128,Ae[W++]=U>>6&63|128,Ae[W++]=63&U|128):(Ae[W++]=U>>12|224,Ae[W++]=U>>6&63|128,Ae[W++]=63&U|128)}return Ae},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ct,Ae){if(!Array.isArray(ct))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let U=0;U<ct.length;U+=3){const Se=ct[U],ht=U+1<ct.length,Gt=ht?ct[U+1]:0,de=U+2<ct.length,Nt=de?ct[U+2]:0;let it=(15&Gt)<<2|Nt>>6,Ye=63&Nt;de||(Ye=64,ht||(it=64)),N.push(W[Se>>2],W[(3&Se)<<4|Gt>>4],W[it],W[Ye])}return N.join("")},encodeString(ct,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(ct):this.encodeByteArray(ee(ct),Ae)},decodeString(ct,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(ct):function(ct){const Ae=[];let W=0,N=0;for(;W<ct.length;){const U=ct[W++];if(U<128)Ae[N++]=String.fromCharCode(U);else if(U>191&&U<224){const Se=ct[W++];Ae[N++]=String.fromCharCode((31&U)<<6|63&Se)}else if(U>239&&U<365){const de=((7&U)<<18|(63&ct[W++])<<12|(63&ct[W++])<<6|63&ct[W++])-65536;Ae[N++]=String.fromCharCode(55296+(de>>10)),Ae[N++]=String.fromCharCode(56320+(1023&de))}else{const Se=ct[W++],ht=ct[W++];Ae[N++]=String.fromCharCode((15&U)<<12|(63&Se)<<6|63&ht)}}return Ae.join("")}(this.decodeStringToByteArray(ct,Ae))},decodeStringToByteArray(ct,Ae){this.init_();const W=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let U=0;U<ct.length;){const Se=W[ct.charAt(U++)],Gt=U<ct.length?W[ct.charAt(U)]:0;++U;const Nt=U<ct.length?W[ct.charAt(U)]:64;++U;const Z=U<ct.length?W[ct.charAt(U)]:64;if(++U,null==Se||null==Gt||null==Nt||null==Z)throw Error();N.push(Se<<2|Gt>>4),64!==Nt&&(N.push(Gt<<4&240|Nt>>2),64!==Z&&N.push(Nt<<6&192|Z))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ct=0;ct<this.ENCODED_VALS.length;ct++)this.byteToCharMap_[ct]=this.ENCODED_VALS.charAt(ct),this.charToByteMap_[this.byteToCharMap_[ct]]=ct,this.byteToCharMapWebSafe_[ct]=this.ENCODED_VALS_WEBSAFE.charAt(ct),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ct]]=ct,ct>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ct)]=ct,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ct)]=ct)}}},ve=function(ct){return function(ct){const Ae=ee(ct);return me.encodeByteArray(Ae,!0)}(ct).replace(/\./g,"")},_e=function(ct){try{return me.decodeString(ct,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function ie(ct,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===ct&&(ct={});break;case Array:ct=[];break;default:return Ae}for(const W in Ae)!Ae.hasOwnProperty(W)||!oe(W)||(ct[W]=ie(ct[W],Ae[W]));return ct}function oe(ct){return"__proto__"!==ct}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,W)=>{this.resolve=Ae,this.reject=W})}wrapCallback(Ae){return(W,N)=>{W?this.reject(W):this.resolve(N),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(W):Ae(W,N))}}}function Ie(ct,Ae){if(ct.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=Ae||"demo-project",U=ct.iat||0,Se=ct.sub||ct.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:U,exp:U+3600,auth_time:U,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},ct);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(ht)),""].join(".")}function ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ue())}function ke(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ct){return!1}}function Qe(){return"object"==typeof self&&self.self===self}function Be(){const ct="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ct&&void 0!==ct.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return ue().indexOf("Electron/")>=0}function Te(){const ct=ue();return ct.indexOf("MSIE ")>=0||ct.indexOf("Trident/")>=0}function Ue(){return ue().indexOf("MSAppHost/")>=0}function ze(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J(){return"object"==typeof indexedDB}function re(){return new Promise((ct,Ae)=>{try{let W=!0;const N="validate-browser-context-for-indexeddb-analytics-module",U=self.indexedDB.open(N);U.onsuccess=()=>{U.result.close(),W||self.indexedDB.deleteDatabase(N),ct(!0)},U.onupgradeneeded=()=>{W=!1},U.onerror=()=>{var Se;Ae((null===(Se=U.error)||void 0===Se?void 0:Se.message)||"")}}catch(W){Ae(W)}})}function Ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ut extends Error{constructor(Ae,W,N){super(W),this.code=Ae,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(Ae,W,N){this.service=Ae,this.serviceName=W,this.errors=N}create(Ae,...W){const N=W[0]||{},U=`${this.service}/${Ae}`,Se=this.errors[Ae],ht=Se?function Kt(ct,Ae){return ct.replace(rn,(W,N)=>{const U=Ae[N];return null!=U?String(U):`<${N}?>`})}(Se,N):"Error";return new ut(U,`${this.serviceName}: ${ht} (${U}).`,N)}}const rn=/\{\$([^}]+)}/g;function Mt(ct,Ae){return Object.prototype.hasOwnProperty.call(ct,Ae)}function Ht(ct){for(const Ae in ct)if(Object.prototype.hasOwnProperty.call(ct,Ae))return!1;return!0}function In(ct,Ae){if(ct===Ae)return!0;const W=Object.keys(ct),N=Object.keys(Ae);for(const U of W){if(!N.includes(U))return!1;const Se=ct[U],ht=Ae[U];if(Gn(Se)&&Gn(ht)){if(!In(Se,ht))return!1}else if(Se!==ht)return!1}for(const U of N)if(!W.includes(U))return!1;return!0}function Gn(ct){return null!==ct&&"object"==typeof ct}function Kn(ct){const Ae=[];for(const[W,N]of Object.entries(ct))Array.isArray(N)?N.forEach(U=>{Ae.push(encodeURIComponent(W)+"="+encodeURIComponent(U))}):Ae.push(encodeURIComponent(W)+"="+encodeURIComponent(N));return Ae.length?"&"+Ae.join("&"):""}function ar(ct){const Ae={};return ct.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[U,Se]=N.split("=");Ae[decodeURIComponent(U)]=decodeURIComponent(Se)}}),Ae}function Wr(ct){const Ae=ct.indexOf("?");if(!Ae)return"";const W=ct.indexOf("#",Ae);return ct.substring(Ae,W>0?W:void 0)}function cn(ct,Ae){const W=new Fr(ct,Ae);return W.subscribe.bind(W)}class Fr{constructor(Ae,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{Ae(this)}).catch(N=>{this.error(N)})}next(Ae){this.forEachObserver(W=>{W.next(Ae)})}error(Ae){this.forEachObserver(W=>{W.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,W,N){let U;if(void 0===Ae&&void 0===W&&void 0===N)throw new Error("Missing Observer.");U=function yr(ct,Ae){if("object"!=typeof ct||null===ct)return!1;for(const W of Ae)if(W in ct&&"function"==typeof ct[W])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:W,complete:N},void 0===U.next&&(U.next=on),void 0===U.error&&(U.error=on),void 0===U.complete&&(U.complete=on);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?U.error(this.finalError):U.complete()}catch(ht){}}),this.observers.push(U),Se}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,Ae)}sendOne(Ae,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{W(this.observers[Ae])}catch(N){"undefined"!=typeof console&&console.error&&console.error(N)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function on(){}function Sn(ct,Ae=1e3,W=2){const N=Ae*Math.pow(W,ct),U=Math.round(.5*N*(Math.random()-.5)*2);return Math.min(144e5,N+U)}function Rr(ct){return ct&&ct._delegate?ct._delegate:ct}},1246:(Xt,tt,y)=>{var u=y(2313),_=y(5e3),S=y(6360),ee=y(9808),ce=y(9770),me=y(2843),Pe=y(4968),ve=y(9646),_e=y(7272),$=y(7579),ie=y(8306),oe=y(5032);const Fe=new ie.y(oe.Z);var ue=y(6451),$e=y(4004),ke=y(9300),Qe=y(3900),Be=y(4033),xt=y(576),qe=y(8421),Te=y(4482);const rt={connector:()=>new $.x};function ze(Me,ne=rt){const{connector:Q}=ne;return(0,Te.e)((se,C)=>{const g=Q();(0,qe.Xf)(Me(function Ue(Me){return new ie.y(ne=>Me.subscribe(ne))}(g))).subscribe(C),C.add(se.subscribe(g))})}var Ce=y(5698),He=y(8505),Je=y(4825);const ut="Service workers are disabled or not supported by this browser";class Kt{constructor(ne){if(this.serviceWorker=ne,ne){const se=(0,Pe.R)(ne,"controllerchange").pipe((0,$e.U)(()=>ne.controller)),C=(0,ce.P)(()=>(0,ve.of)(ne.controller)),g=(0,_e.z)(C,se);this.worker=g.pipe((0,ke.h)(et=>!!et)),this.registration=this.worker.pipe((0,Qe.w)(()=>ne.getRegistration()));const ye=(0,Pe.R)(ne,"message").pipe((0,$e.U)(et=>et.data)).pipe((0,ke.h)(et=>et&&et.type)).pipe(function re(Me){return Me?ne=>ze(Me)(ne):ne=>function J(Me,ne){const Q=(0,xt.m)(Me)?Me:()=>Me;return(0,xt.m)(ne)?ze(ne,{connector:Q}):se=>new Be.c(se,Q)}(new $.x)(ne)}());ye.connect(),this.events=ye}else this.worker=this.events=this.registration=function ot(Me){return(0,ce.P)(()=>(0,me._)(new Error(Me)))}(ut)}postMessage(ne,Q){return this.worker.pipe((0,Ce.q)(1),(0,He.b)(se=>{se.postMessage(Object.assign({action:ne},Q))})).toPromise().then(()=>{})}postMessageWithOperation(ne,Q,se){const C=this.waitForOperationCompleted(se),g=this.postMessage(ne,Q);return Promise.all([g,C]).then(([,E])=>E)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(ne){let Q;return Q="string"==typeof ne?se=>se.type===ne:se=>ne.includes(se.type),this.events.pipe((0,ke.h)(Q))}nextEventOfType(ne){return this.eventsOfType(ne).pipe((0,Ce.q)(1))}waitForOperationCompleted(ne){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ke.h)(Q=>Q.nonce===ne),(0,Ce.q)(1),(0,$e.U)(Q=>{if(void 0!==Q.result)return Q.result;throw new Error(Q.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let rn=(()=>{class Me{constructor(Q){if(this.sw=Q,this.subscriptionChanges=new $.x,!Q.isEnabled)return this.messages=Fe,this.notificationClicks=Fe,void(this.subscription=Fe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,$e.U)(C=>C.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,$e.U)(C=>C.data)),this.pushManager=this.sw.registration.pipe((0,$e.U)(C=>C.pushManager));const se=this.pushManager.pipe((0,Qe.w)(C=>C.getSubscription()));this.subscription=(0,ue.T)(se,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Q){if(!this.sw.isEnabled)return Promise.reject(new Error(ut));const se={userVisibleOnly:!0};let C=this.decodeBase64(Q.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),g=new Uint8Array(new ArrayBuffer(C.length));for(let E=0;E<C.length;E++)g[E]=C.charCodeAt(E);return se.applicationServerKey=g,this.pushManager.pipe((0,Qe.w)(E=>E.subscribe(se)),(0,Ce.q)(1)).toPromise().then(E=>(this.subscriptionChanges.next(E),E))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Ce.q)(1),(0,Qe.w)(se=>{if(null===se)throw new Error("Not subscribed to push notifications.");return se.unsubscribe().then(C=>{if(!C)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ut))}decodeBase64(Q){return atob(Q)}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(Kt))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),En=(()=>{class Me{constructor(Q){if(this.sw=Q,!Q.isEnabled)return this.versionUpdates=Fe,this.available=Fe,this.activated=Fe,void(this.unrecoverable=Fe);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,ke.h)(se=>"VERSION_READY"===se.type),(0,$e.U)(se=>({type:"UPDATE_AVAILABLE",current:se.currentVersion,available:se.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ut));const Q=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Q},Q)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ut));const Q=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Q},Q)}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(Kt))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class ln{}const mt=new _.OlP("NGSW_REGISTER_SCRIPT");function qt(Me,ne,Q,se){return()=>{if(!(0,ee.NF)(se)||!("serviceWorker"in navigator)||!1===Q.enabled)return;let g;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Q.registrationStrategy)g=Q.registrationStrategy();else{const[V,...K]=(Q.registrationStrategy||"registerWhenStable:30000").split(":");switch(V){case"registerImmediately":g=(0,ve.of)(null);break;case"registerWithDelay":g=Qt(+K[0]||0);break;case"registerWhenStable":g=K[0]?(0,ue.T)(un(Me),Qt(+K[0])):un(Me);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Q.registrationStrategy}`)}}Me.get(_.R0b).runOutsideAngular(()=>g.pipe((0,Ce.q)(1)).subscribe(()=>navigator.serviceWorker.register(ne,{scope:Q.scope}).catch(V=>console.error("Service worker registration failed with:",V))))}}function Qt(Me){return(0,ve.of)(null).pipe((0,Je.g)(Me))}function un(Me){return Me.get(_.z2F).isStable.pipe((0,ke.h)(Q=>Q))}function _n(Me,ne){return new Kt((0,ee.NF)(ne)&&!1!==Me.enabled?navigator.serviceWorker:void 0)}let Mt=(()=>{class Me{static register(Q,se={}){return{ngModule:Me,providers:[{provide:mt,useValue:Q},{provide:ln,useValue:se},{provide:Kt,useFactory:_n,deps:[ln,_.Lbi]},{provide:_.ip1,useFactory:qt,deps:[_.zs3,mt,ln,_.Lbi],multi:!0}]}}}return Me.\u0275fac=function(Q){return new(Q||Me)},Me.\u0275mod=_.oAB({type:Me}),Me.\u0275inj=_.cJS({providers:[rn,En]}),Me})();var Ht=y(5357);const xn=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(341)]).then(y.bind(y,4341)).then(Me=>Me.ClientLoginFeatureModule),canActivate:[]},{path:"signup",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(391)]).then(y.bind(y,391)).then(Me=>Me.ClientSignupFeatureModule)},{path:"dashboard",loadChildren:()=>Promise.all([y.e(918),y.e(893),y.e(592),y.e(544)]).then(y.bind(y,8544)).then(Me=>Me.ClientDashboardFeatureModule),canActivate:[]},{path:"settings",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(709)]).then(y.bind(y,4709)).then(Me=>Me.ClientSettingsFeatureModule),canActivate:[]},{path:"editprofile",loadChildren:()=>Promise.all([y.e(918),y.e(893),y.e(592),y.e(259)]).then(y.bind(y,5259)).then(Me=>Me.ClientEditprofileFeatureModule),canActivate:[]},{path:"configureprofile",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(195)]).then(y.bind(y,8195)).then(Me=>Me.ClientAthleteProfileFeatureModule)},{path:"strava",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(984)]).then(y.bind(y,5984)).then(Me=>Me.ClientStravaFeatureModule)},{path:"exchange_token",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(984)]).then(y.bind(y,5984)).then(Me=>Me.ClientStravaFeatureModule)},{path:"scheduleworkout",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(895)]).then(y.bind(y,1895)).then(Me=>Me.ClientScheduleworkoutFeatureModule),canActivate:[]},{path:"addactivity",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(957)]).then(y.bind(y,1957)).then(Me=>Me.ClientAddmanualactivityFeatureModule),canActivate:[]},{path:"profile",loadChildren:()=>Promise.all([y.e(918),y.e(893),y.e(592),y.e(610)]).then(y.bind(y,1610)).then(Me=>Me.ClientViewprofileFeatureModule),canActivate:[]},{path:"uploadimage",loadChildren:()=>Promise.all([y.e(918),y.e(893),y.e(592),y.e(190)]).then(y.bind(y,4190)).then(Me=>Me.ClientUploadprofileimageFeatureModule)},{path:"changepassword",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(792)]).then(y.bind(y,8792)).then(Me=>Me.ClientChangepasswordFeatureModule),canActivate:[]},{path:"schedule",loadChildren:()=>Promise.all([y.e(918),y.e(893),y.e(592),y.e(93)]).then(y.bind(y,1093)).then(Me=>Me.ClientScheduleFeatureModule),canActivate:[]},{path:"landing",loadChildren:()=>Promise.all([y.e(918),y.e(974)]).then(y.bind(y,974)).then(Me=>Me.ClientLandingpageFeatureModule),canActivate:[]},{path:"**",loadChildren:()=>Promise.all([y.e(918),y.e(592),y.e(606)]).then(y.bind(y,2606)).then(Me=>Me.ClientPagenotfoundModule)}];let In=(()=>{class Me{}return Me.\u0275fac=function(Q){return new(Q||Me)},Me.\u0275mod=_.oAB({type:Me}),Me.\u0275inj=_.cJS({providers:[],imports:[[Ht.Bz.forRoot(xn)],Ht.Bz]}),Me})(),Gn=(()=>{class Me{constructor(Q){this.router=Q,this.state=!1,this.authStatus=new _.vpe}canActivate(){0==this.state&&this.router.navigate(["/login"])}logIn(){this.state=!0}logOut(){this.state=!1}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(Ht.F0))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})(),Qn=(()=>{class Me{constructor(Q,se,C){this.auth=Q,this.router=se,this.activated=C,this.title="client",Q.authStatus.subscribe(g=>{g||se.navigate(["/login"])})}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.Y36(Gn),_.Y36(Ht.F0),_.Y36(Ht.gz))},Me.\u0275cmp=_.Xpm({type:Me,selectors:[["training-buddy-root"]],decls:1,vars:0,template:function(Q,se){1&Q&&_._UZ(0,"router-outlet")},directives:[Ht.lC],styles:[""]}),Me})();var Kn=y(520),ar=y(9444),Wr=y(484),Ar=y(4302),cn=y(2465);class Ft extends Wr.i{constructor(ne,Q){super(),this.httpClient=ne,this.options=Q,this.print=cn.S,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=se=>new Ar.y(C=>{const g=se.getContext(),E=(We,pt)=>function yr(...Me){const ne=Me.find(Q=>void 0!==Q);return void 0===ne?Me[Me.length-1]:ne}(g[We],this.options[We],pt);let V=E("method","POST");const K=E("includeQuery",!0),ye=E("includeExtensions",!1),et=E("uri","graphql"),Dt=E("withCredentials"),Ct=E("useMultipart"),It=!0===this.options.useGETForQueries,F=se.query.definitions.some(We=>"OperationDefinition"===We.kind&&"query"===We.operation);It&&F&&(V="GET");const X={method:V,url:"function"==typeof et?et(se):et,body:{operationName:se.operationName,variables:se.variables},options:{withCredentials:Dt,useMultipart:Ct,headers:this.options.headers}};ye&&(X.body.extensions=se.extensions),K&&(X.body.query=this.print(se.query));const k=function on(Me){let ne=Me.headers&&Me.headers instanceof Kn.WM?Me.headers:new Kn.WM(Me.headers);if(Me.clientAwareness){const{name:Q,version:se}=Me.clientAwareness;Q&&!ne.has("apollographql-client-name")&&(ne=ne.set("apollographql-client-name",Q)),se&&!ne.has("apollographql-client-version")&&(ne=ne.set("apollographql-client-version",se))}return ne}(g);X.options.headers=((Me,ne)=>Me&&ne?ne.keys().reduce((se,C)=>se.set(C,ne.getAll(C)),Me):ne||Me)(X.options.headers,k);const ge=((Me,ne,Q)=>{const se=-1!==["POST","PUT","PATCH"].indexOf(Me.method.toUpperCase()),g=Me.body.length;let V,E=Me.options&&Me.options.useMultipart;if(E){if(g)return new ie.y(ye=>ye.error(new Error("File upload is not available when combined with Batching")));if(!se)return new ie.y(ye=>ye.error(new Error("File upload is not available when GET is used")));if(!Q)return new ie.y(ye=>ye.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));V=Q(Me.body),E=!!V.files.size}let K={};if(g){if(!se)return new ie.y(ye=>ye.error(new Error("Batching is not available for GET requests")));K={body:Me.body}}else{const ye=E?V.clone:Me.body;K=se?{body:ye}:{params:Object.keys(Me.body).reduce((Dt,Ct)=>{const It=Me.body[Ct];return Dt[Ct]=(ye=>-1!==["variables","extensions"].indexOf(ye.toLowerCase()))(Ct)?JSON.stringify(It):It,Dt},{})}}if(E&&se){const ye=new FormData;ye.append("operations",JSON.stringify(K.body));const et={},Dt=V.files;let Ct=0;Dt.forEach(It=>{et[++Ct]=It}),ye.append("map",JSON.stringify(et)),Ct=0,Dt.forEach((It,F)=>{ye.append(++Ct+"",F,F.name)}),K.body=ye}return ne.request(Me.method,Me.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},K),Me.options))})(X,this.httpClient,this.options.extractFiles).subscribe({next:We=>{se.setContext({response:We}),C.next(We.body)},error:We=>C.error(We),complete:()=>C.complete()});return()=>{ge.closed||ge.unsubscribe()}})}request(ne){return this.requester(ne)}}let Ne=(()=>{class Me{constructor(Q){this.httpClient=Q}create(Q){return new Ft(this.httpClient,Q)}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(Kn.eN))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();var Yt=y(655),en=y(6686),Cn=y(9769),Tn=y(7883),Rn=y(9661),Wn=function(){function Me(){this.getFragmentDoc=(0,Cn.re)(Rn.Yk)}return Me.prototype.batch=function(ne){var C,Q=this;return this.performTransaction(function(){return C=ne.update(Q)},"string"==typeof ne.optimistic?ne.optimistic:!1===ne.optimistic?null:void 0),C},Me.prototype.recordOptimisticTransaction=function(ne,Q){this.performTransaction(ne,Q)},Me.prototype.transformDocument=function(ne){return ne},Me.prototype.identify=function(ne){},Me.prototype.gc=function(){return[]},Me.prototype.modify=function(ne){return!1},Me.prototype.transformForLink=function(ne){return ne},Me.prototype.readQuery=function(ne,Q){return void 0===Q&&(Q=!!ne.optimistic),this.read((0,Yt.pi)((0,Yt.pi)({},ne),{rootId:ne.id||"ROOT_QUERY",optimistic:Q}))},Me.prototype.readFragment=function(ne,Q){return void 0===Q&&(Q=!!ne.optimistic),this.read((0,Yt.pi)((0,Yt.pi)({},ne),{query:this.getFragmentDoc(ne.fragment,ne.fragmentName),rootId:ne.id,optimistic:Q}))},Me.prototype.writeQuery=function(ne){var Q=ne.id,se=ne.data,C=(0,Yt._T)(ne,["id","data"]);return this.write(Object.assign(C,{dataId:Q||"ROOT_QUERY",result:se}))},Me.prototype.writeFragment=function(ne){var Q=ne.id,se=ne.data,C=ne.fragment,g=ne.fragmentName,E=(0,Yt._T)(ne,["id","data","fragment","fragmentName"]);return this.write(Object.assign(E,{query:this.getFragmentDoc(C,g),dataId:Q,result:se}))},Me.prototype.updateQuery=function(ne,Q){return this.batch({update:function(se){var C=se.readQuery(ne),g=Q(C);return null==g?C:(se.writeQuery((0,Yt.pi)((0,Yt.pi)({},ne),{data:g})),g)}})},Me.prototype.updateFragment=function(ne,Q){return this.batch({update:function(se){var C=se.readFragment(ne),g=Q(C);return null==g?C:(se.writeFragment((0,Yt.pi)((0,Yt.pi)({},ne),{data:g})),g)}})},Me}(),tr=function Me(ne,Q,se,C){this.message=ne,this.path=Q,this.query=se,this.variables=C},Sn=y(7634),Hn=y(3291),bn=y(9545),Rr=y(3950),ct=y(591),Ae=y(7773),W=y(9722),N=y(7062);function ht(Me){return __DEV__&&function U(Me){var ne=new Set([Me]);return ne.forEach(function(Q){(0,N.s)(Q)&&function Se(Me){if(__DEV__&&!Object.isFrozen(Me))try{Object.freeze(Me)}catch(ne){if(ne instanceof TypeError)return null;throw ne}return Me}(Q)===Q&&Object.getOwnPropertyNames(Q).forEach(function(se){(0,N.s)(Q[se])&&ne.add(Q[se])})}),Me}(Me),Me}var Me,ne,Gt=y(9428),de=y(4969),Nt=Object.create(null),M=function(){return Nt},Z=Object.create(null),it=function(){function Me(ne,Q){var se=this;this.policies=ne,this.group=Q,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(C,g){return ht((0,Sn.Yk)(C)?se.get(C.__ref,g):C&&C[g])},this.canRead=function(C){return(0,Sn.Yk)(C)?se.has(C.__ref):"object"==typeof C},this.toReference=function(C,g){if("string"==typeof C)return(0,Sn.kQ)(C);if((0,Sn.Yk)(C))return C;var E=se.policies.identify(C)[0];if(E){var V=(0,Sn.kQ)(E);return g&&se.merge(E,C),V}}}return Me.prototype.toObject=function(){return(0,Yt.pi)({},this.data)},Me.prototype.has=function(ne){return void 0!==this.lookup(ne,!0)},Me.prototype.get=function(ne,Q){if(this.group.depend(ne,Q),de.RI.call(this.data,ne)){var se=this.data[ne];if(se&&de.RI.call(se,Q))return se[Q]}return"__typename"===Q&&de.RI.call(this.policies.rootTypenamesById,ne)?this.policies.rootTypenamesById[ne]:this instanceof yt?this.parent.get(ne,Q):void 0},Me.prototype.lookup=function(ne,Q){return Q&&this.group.depend(ne,"__exists"),de.RI.call(this.data,ne)?this.data[ne]:this instanceof yt?this.parent.lookup(ne,Q):this.policies.rootTypenamesById[ne]?Object.create(null):void 0},Me.prototype.merge=function(ne,Q){var C,se=this;(0,Sn.Yk)(ne)&&(ne=ne.__ref),(0,Sn.Yk)(Q)&&(Q=Q.__ref);var g="string"==typeof ne?this.lookup(C=ne):ne,E="string"==typeof Q?this.lookup(C=Q):Q;if(E){__DEV__?(0,en.kG)("string"==typeof C,"store.merge expects a string ID"):(0,en.kG)("string"==typeof C,1);var V=new Ae.w0(Jn).merge(g,E);if(this.data[C]=V,V!==g&&(delete this.refs[C],this.group.caching)){var K=Object.create(null);g||(K.__exists=1),Object.keys(E).forEach(function(ye){if(!g||g[ye]!==V[ye]){K[ye]=1;var et=(0,de.E_)(ye);et!==ye&&!se.policies.hasKeyArgs(V.__typename,et)&&(K[et]=1),void 0===V[ye]&&!(se instanceof yt)&&delete V[ye]}}),K.__typename&&!(g&&g.__typename)&&this.policies.rootTypenamesById[C]===V.__typename&&delete K.__typename,Object.keys(K).forEach(function(ye){return se.group.dirty(C,ye)})}}},Me.prototype.modify=function(ne,Q){var se=this,C=this.lookup(ne);if(C){var g=Object.create(null),E=!1,V=!0,K={DELETE:Nt,INVALIDATE:Z,isReference:Sn.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(ye,et){return se.policies.readField("string"==typeof ye?{fieldName:ye,from:et||(0,Sn.kQ)(ne)}:ye,{store:se})}};if(Object.keys(C).forEach(function(ye){var et=(0,de.E_)(ye),Dt=C[ye];if(void 0!==Dt){var Ct="function"==typeof Q?Q:Q[ye]||Q[et];if(Ct){var It=Ct===M?Nt:Ct(ht(Dt),(0,Yt.pi)((0,Yt.pi)({},K),{fieldName:et,storeFieldName:ye,storage:se.getStorage(ne,ye)}));It===Z?se.group.dirty(ne,ye):(It===Nt&&(It=void 0),It!==Dt&&(g[ye]=It,E=!0,Dt=It))}void 0!==Dt&&(V=!1)}}),E)return this.merge(ne,g),V&&(this instanceof yt?this.data[ne]=void 0:delete this.data[ne],this.group.dirty(ne,"__exists")),!0}return!1},Me.prototype.delete=function(ne,Q,se){var C,g=this.lookup(ne);if(g){var E=this.getFieldValue(g,"__typename"),V=Q&&se?this.policies.getStoreFieldName({typename:E,fieldName:Q,args:se}):Q;return this.modify(ne,V?((C={})[V]=M,C):M)}return!1},Me.prototype.evict=function(ne,Q){var se=!1;return ne.id&&(de.RI.call(this.data,ne.id)&&(se=this.delete(ne.id,ne.fieldName,ne.args)),this instanceof yt&&this!==Q&&(se=this.parent.evict(ne,Q)||se),(ne.fieldName||se)&&this.group.dirty(ne.id,ne.fieldName||"__exists")),se},Me.prototype.clear=function(){this.replace(null)},Me.prototype.extract=function(){var ne=this,Q=this.toObject(),se=[];return this.getRootIdSet().forEach(function(C){de.RI.call(ne.policies.rootTypenamesById,C)||se.push(C)}),se.length&&(Q.__META={extraRootIds:se.sort()}),Q},Me.prototype.replace=function(ne){var Q=this;if(Object.keys(this.data).forEach(function(g){ne&&de.RI.call(ne,g)||Q.delete(g)}),ne){var se=ne.__META,C=(0,Yt._T)(ne,["__META"]);Object.keys(C).forEach(function(g){Q.merge(g,C[g])}),se&&se.extraRootIds.forEach(this.retain,this)}},Me.prototype.retain=function(ne){return this.rootIds[ne]=(this.rootIds[ne]||0)+1},Me.prototype.release=function(ne){if(this.rootIds[ne]>0){var Q=--this.rootIds[ne];return Q||delete this.rootIds[ne],Q}return 0},Me.prototype.getRootIdSet=function(ne){return void 0===ne&&(ne=new Set),Object.keys(this.rootIds).forEach(ne.add,ne),this instanceof yt?this.parent.getRootIdSet(ne):Object.keys(this.policies.rootTypenamesById).forEach(ne.add,ne),ne},Me.prototype.gc=function(){var ne=this,Q=this.getRootIdSet(),se=this.toObject();Q.forEach(function(E){de.RI.call(se,E)&&(Object.keys(ne.findChildRefIds(E)).forEach(Q.add,Q),delete se[E])});var C=Object.keys(se);if(C.length){for(var g=this;g instanceof yt;)g=g.parent;C.forEach(function(E){return g.delete(E)})}return C},Me.prototype.findChildRefIds=function(ne){if(!de.RI.call(this.refs,ne)){var Q=this.refs[ne]=Object.create(null),se=this.data[ne];if(!se)return Q;var C=new Set([se]);C.forEach(function(g){(0,Sn.Yk)(g)&&(Q[g.__ref]=!0),(0,N.s)(g)&&Object.keys(g).forEach(function(E){var V=g[E];(0,N.s)(V)&&C.add(V)})})}return this.refs[ne]},Me.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},Me}(),Ye=function(){function Me(ne,Q){void 0===Q&&(Q=null),this.caching=ne,this.parent=Q,this.d=null,this.resetCaching()}return Me.prototype.resetCaching=function(){this.d=this.caching?(0,Cn.dP)():null,this.keyMaker=new Gt.B(bn.mr)},Me.prototype.depend=function(ne,Q){if(this.d){this.d(je(ne,Q));var se=(0,de.E_)(Q);se!==Q&&this.d(je(ne,se)),this.parent&&this.parent.depend(ne,Q)}},Me.prototype.dirty=function(ne,Q){this.d&&this.d.dirty(je(ne,Q),"__exists"===Q?"forget":"setDirty")},Me}();function je(Me,ne){return ne+"#"+Me}function nt(Me,ne){Un(Me)&&Me.group.depend(ne,"__exists")}ne=function(Q){function se(C){var E=C.resultCaching,K=C.seed,ye=Q.call(this,C.policies,new Ye(void 0===E||E))||this;return ye.stump=new dt(ye),ye.storageTrie=new Gt.B(bn.mr),K&&ye.replace(K),ye}return(0,Yt.ZT)(se,Q),se.prototype.addLayer=function(C,g){return this.stump.addLayer(C,g)},se.prototype.removeLayer=function(){return this},se.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},se}(Me=it||(it={})),Me.Root=ne;var yt=function(Me){function ne(Q,se,C,g){var E=Me.call(this,se.policies,g)||this;return E.id=Q,E.parent=se,E.replay=C,E.group=g,C(E),E}return(0,Yt.ZT)(ne,Me),ne.prototype.addLayer=function(Q,se){return new ne(Q,this,se,this.group)},ne.prototype.removeLayer=function(Q){var se=this,C=this.parent.removeLayer(Q);return Q===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(g){var E=se.data[g],V=C.lookup(g);V?E?E!==V&&Object.keys(E).forEach(function(K){(0,Tn.D)(E[K],V[K])||se.group.dirty(g,K)}):(se.group.dirty(g,"__exists"),Object.keys(V).forEach(function(K){se.group.dirty(g,K)})):se.delete(g)}),C):C===this.parent?this:C.addLayer(this.id,this.replay)},ne.prototype.toObject=function(){return(0,Yt.pi)((0,Yt.pi)({},this.parent.toObject()),this.data)},ne.prototype.findChildRefIds=function(Q){var se=this.parent.findChildRefIds(Q);return de.RI.call(this.data,Q)?(0,Yt.pi)((0,Yt.pi)({},se),Me.prototype.findChildRefIds.call(this,Q)):se},ne.prototype.getStorage=function(){for(var Q=this.parent;Q.parent;)Q=Q.parent;return Q.getStorage.apply(Q,arguments)},ne}(it),dt=function(Me){function ne(Q){return Me.call(this,"EntityStore.Stump",Q,function(){},new Ye(Q.group.caching,Q.group))||this}return(0,Yt.ZT)(ne,Me),ne.prototype.removeLayer=function(){return this},ne.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},ne}(yt);function Jn(Me,ne,Q){var se=Me[Q],C=ne[Q];return(0,Tn.D)(se,C)?se:C}function Un(Me){return!!(Me instanceof it&&Me.group.caching)}var vr=y(3750);function Kr(Me){return[Me.selectionSet,Me.objectOrReference,Me.context,Me.context.canonizeResults]}var li=function(){function Me(ne){var Q=this;this.knownResults=new(bn.mr?WeakMap:Map),this.config=(0,Rr.o)(ne,{addTypename:!1!==ne.addTypename,canonizeResults:(0,de.lg)(ne)}),this.canon=ne.canon||new vr.h,this.executeSelectionSet=(0,Cn.re)(function(se){var C,g=se.context.canonizeResults,E=Kr(se);E[3]=!g;var V=(C=Q.executeSelectionSet).peek.apply(C,E);return V?g?(0,Yt.pi)((0,Yt.pi)({},V),{result:Q.canon.admit(V.result)}):V:(nt(se.context.store,se.enclosingRef.__ref),Q.execSelectionSetImpl(se))},{max:this.config.resultCacheMaxSize,keyArgs:Kr,makeCacheKey:function(se,C,g,E){if(Un(g.store))return g.store.makeCacheKey(se,(0,Sn.Yk)(C)?C.__ref:C,g.varString,E)}}),this.executeSubSelectedArray=(0,Cn.re)(function(se){return nt(se.context.store,se.enclosingRef.__ref),Q.execSubSelectedArrayImpl(se)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(se){var C=se.field,g=se.array,E=se.context;if(Un(E.store))return E.store.makeCacheKey(C,g,E.varString)}})}return Me.prototype.resetCanon=function(){this.canon=new vr.h},Me.prototype.diffQueryAgainstStore=function(ne){var Q=ne.store,se=ne.query,C=ne.rootId,g=void 0===C?"ROOT_QUERY":C,E=ne.variables,V=ne.returnPartialData,K=void 0===V||V,ye=ne.canonizeResults,et=void 0===ye?this.config.canonizeResults:ye,Dt=this.config.cache.policies;E=(0,Yt.pi)((0,Yt.pi)({},(0,ct.O4)((0,ct.iW)(se))),E);var X,Ct=(0,Sn.kQ)(g),It=new Ae.w0,F=this.executeSelectionSet({selectionSet:(0,ct.p$)(se).selectionSet,objectOrReference:Ct,enclosingRef:Ct,context:{store:Q,query:se,policies:Dt,variables:E,varString:(0,vr.B)(E),canonizeResults:et,fragmentMap:(0,Rn.F)((0,ct.kU)(se)),merge:function(k,ge){return It.merge(k,ge)}}});if(F.missing&&(X=[new tr(Br(F.missing),F.missing,se,E)],!K))throw X[0];return{result:F.result,complete:!X,missing:X}},Me.prototype.isFresh=function(ne,Q,se,C){if(Un(C.store)&&this.knownResults.get(ne)===se){var g=this.executeSelectionSet.peek(se,Q,C,this.canon.isKnown(ne));if(g&&ne===g.result)return!0}return!1},Me.prototype.execSelectionSetImpl=function(ne){var Q=this,se=ne.selectionSet,C=ne.objectOrReference,g=ne.enclosingRef,E=ne.context;if((0,Sn.Yk)(C)&&!E.policies.rootTypenamesById[C.__ref]&&!E.store.has(C.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(C.__ref," object")};var Ct,V=E.variables,K=E.policies,et=E.store.getFieldValue(C,"__typename"),Dt={};function It(ge,We){var pt;return ge.missing&&(Ct=E.merge(Ct,((pt={})[We]=ge.missing,pt))),ge.result}this.config.addTypename&&"string"==typeof et&&!K.rootIdsByTypename[et]&&(Dt={__typename:et});var F=new Set(se.selections);F.forEach(function(ge){var We,pt;if((0,W.LZ)(ge,V))if((0,Sn.My)(ge)){var Pt=K.readField({fieldName:ge.name.value,field:ge,variables:E.variables,from:C},E),dn=(0,Sn.u2)(ge);void 0===Pt?Hn.Gw.added(ge)||(Ct=E.merge(Ct,((We={})[dn]="Can't find field '".concat(ge.name.value,"' on ").concat((0,Sn.Yk)(C)?C.__ref+" object":"object "+JSON.stringify(C,null,2)),We))):(0,de.kJ)(Pt)?Pt=It(Q.executeSubSelectedArray({field:ge,array:Pt,enclosingRef:g,context:E}),dn):ge.selectionSet?null!=Pt&&(Pt=It(Q.executeSelectionSet({selectionSet:ge.selectionSet,objectOrReference:Pt,enclosingRef:(0,Sn.Yk)(Pt)?Pt:g,context:E}),dn)):E.canonizeResults&&(Pt=Q.canon.pass(Pt)),void 0!==Pt&&(Dt=E.merge(Dt,((pt={})[dn]=Pt,pt)))}else{var fr=(0,Rn.hi)(ge,E.fragmentMap);fr&&K.fragmentMatches(fr,et)&&fr.selectionSet.selections.forEach(F.add,F)}});var X={result:Dt,missing:Ct},k=E.canonizeResults?this.canon.admit(X):ht(X);return k.result&&this.knownResults.set(k.result,se),k},Me.prototype.execSubSelectedArrayImpl=function(ne){var V,Q=this,se=ne.field,C=ne.array,g=ne.enclosingRef,E=ne.context;function K(ye,et){var Dt;return ye.missing&&(V=E.merge(V,((Dt={})[et]=ye.missing,Dt))),ye.result}return se.selectionSet&&(C=C.filter(E.store.canRead)),C=C.map(function(ye,et){return null===ye?null:(0,de.kJ)(ye)?K(Q.executeSubSelectedArray({field:se,array:ye,enclosingRef:g,context:E}),et):se.selectionSet?K(Q.executeSelectionSet({selectionSet:se.selectionSet,objectOrReference:ye,enclosingRef:(0,Sn.Yk)(ye)?ye:g,context:E}),et):(__DEV__&&function Xr(Me,ne,Q){if(!ne.selectionSet){var se=new Set([Q]);se.forEach(function(C){(0,N.s)(C)&&(__DEV__?(0,en.kG)(!(0,Sn.Yk)(C),"Missing selection set for object of type ".concat((0,de.jp)(Me,C)," returned for query field ").concat(ne.name.value)):(0,en.kG)(!(0,Sn.Yk)(C),5),Object.values(C).forEach(se.add,se))})}}(E.store,se,ye),ye)}),{result:E.canonizeResults?this.canon.admit(C):C,missing:V}},Me}();function Br(Me){try{JSON.stringify(Me,function(ne,Q){if("string"==typeof Q)throw Q;return Q})}catch(ne){return ne}}var _r=y(396),gi=y(5355),Nr=y(8561),ft=y(6430),$t=Object.create(null);function yn(Me){var ne=JSON.stringify(Me);return $t[ne]||($t[ne]=Object.create(null))}function $n(Me){var ne=yn(Me);return ne.keyFieldsFn||(ne.keyFieldsFn=function(Q,se){var C=function(E,V){return se.readField(V,E)},g=se.keyObject=Et(Me,function(E){var V=Vn(se.storeObject,E,C);return void 0===V&&Q!==se.storeObject&&de.RI.call(Q,E[0])&&(V=Vn(Q,E,Ut)),__DEV__?(0,en.kG)(void 0!==V,"Missing field '".concat(E.join("."),"' while extracting keyFields from ").concat(JSON.stringify(Q))):(0,en.kG)(void 0!==V,2),V});return"".concat(se.typename,":").concat(JSON.stringify(g))})}function gr(Me){var ne=yn(Me);return ne.keyArgsFn||(ne.keyArgsFn=function(Q,se){var C=se.field,g=se.variables,E=se.fieldName,V=Et(Me,function(ye){var et=ye[0],Dt=et.charAt(0);if("@"!==Dt)if("$"!==Dt){if(Q)return Vn(Q,ye)}else{var X=et.slice(1);if(g&&de.RI.call(g,X)){var k=ye.slice(0);return k[0]=X,Vn(g,k)}}else if(C&&(0,gi.O)(C.directives)){var Ct=et.slice(1),It=C.directives.find(function(ge){return ge.name.value===Ct}),F=It&&(0,Sn.NC)(It,g);return F&&Vn(F,ye.slice(1))}}),K=JSON.stringify(V);return(Q||"{}"!==K)&&(E+=":"+K),E})}function Et(Me,ne){var Q=new Ae.w0;return gt(Me).reduce(function(se,C){var g,E=ne(C);if(void 0!==E){for(var V=C.length-1;V>=0;--V)(g={})[C[V]]=E,E=g;se=Q.merge(se,E)}return se},Object.create(null))}function gt(Me){var ne=yn(Me);if(!ne.paths){var Q=ne.paths=[],se=[];Me.forEach(function(C,g){(0,de.kJ)(C)?(gt(C).forEach(function(E){return Q.push(se.concat(E))}),se.length=0):(se.push(C),(0,de.kJ)(Me[g+1])||(Q.push(se.slice(0)),se.length=0))})}return ne.paths}function Ut(Me,ne){return Me[ne]}function Vn(Me,ne,Q){return Q=Q||Ut,An(ne.reduce(function se(C,g){return(0,de.kJ)(C)?C.map(function(E){return se(E,g)}):C&&Q(C,g)},Me))}function An(Me){return(0,N.s)(Me)?(0,de.kJ)(Me)?Me.map(An):Et(Object.keys(Me).sort(),function(ne){return Vn(Me,ne)}):Me}function kr(Me){return void 0!==Me.args?Me.args:Me.field?(0,Sn.NC)(Me.field,Me.variables):null}Sn.PT.setStringify(vr.B);var ni=function(){},Ai=function(Me,ne){return ne.fieldName},ui=function(Me,ne,Q){return(0,Q.mergeObjects)(Me,ne)},Yr=function(Me,ne){return ne},hi=function(){function Me(ne){this.config=ne,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,Yt.pi)({dataIdFromObject:de.uG},ne),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),ne.possibleTypes&&this.addPossibleTypes(ne.possibleTypes),ne.typePolicies&&this.addTypePolicies(ne.typePolicies)}return Me.prototype.identify=function(ne,Q){var se,C=this,g=Q&&(Q.typename||(null===(se=Q.storeObject)||void 0===se?void 0:se.__typename))||ne.__typename;if(g===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var K,E=Q&&Q.storeObject||ne,V=(0,Yt.pi)((0,Yt.pi)({},Q),{typename:g,storeObject:E,readField:Q&&Q.readField||function(){var Ct=ri(arguments,E);return C.readField(Ct,{store:C.cache.data,variables:Ct.variables})}}),ye=g&&this.getTypePolicy(g),et=ye&&ye.keyFn||this.config.dataIdFromObject;et;){var Dt=et(ne,V);if(!(0,de.kJ)(Dt)){K=Dt;break}et=$n(Dt)}return K=K?String(K):void 0,V.keyObject?[K,V.keyObject]:[K]},Me.prototype.addTypePolicies=function(ne){var Q=this;Object.keys(ne).forEach(function(se){var C=ne[se],g=C.queryType,E=C.mutationType,V=C.subscriptionType,K=(0,Yt._T)(C,["queryType","mutationType","subscriptionType"]);g&&Q.setRootTypename("Query",se),E&&Q.setRootTypename("Mutation",se),V&&Q.setRootTypename("Subscription",se),de.RI.call(Q.toBeAdded,se)?Q.toBeAdded[se].push(K):Q.toBeAdded[se]=[K]})},Me.prototype.updateTypePolicy=function(ne,Q){var se=this,C=this.getTypePolicy(ne),g=Q.keyFields,E=Q.fields;function V(K,ye){K.merge="function"==typeof ye?ye:!0===ye?ui:!1===ye?Yr:K.merge}V(C,Q.merge),C.keyFn=!1===g?ni:(0,de.kJ)(g)?$n(g):"function"==typeof g?g:C.keyFn,E&&Object.keys(E).forEach(function(K){var ye=se.getFieldPolicy(ne,K,!0),et=E[K];if("function"==typeof et)ye.read=et;else{var Dt=et.keyArgs,Ct=et.read,It=et.merge;ye.keyFn=!1===Dt?Ai:(0,de.kJ)(Dt)?gr(Dt):"function"==typeof Dt?Dt:ye.keyFn,"function"==typeof Ct&&(ye.read=Ct),V(ye,It)}ye.read&&ye.merge&&(ye.keyFn=ye.keyFn||Ai)})},Me.prototype.setRootTypename=function(ne,Q){void 0===Q&&(Q=ne);var se="ROOT_"+ne.toUpperCase(),C=this.rootTypenamesById[se];Q!==C&&(__DEV__?(0,en.kG)(!C||C===ne,"Cannot change root ".concat(ne," __typename more than once")):(0,en.kG)(!C||C===ne,3),C&&delete this.rootIdsByTypename[C],this.rootIdsByTypename[Q]=se,this.rootTypenamesById[se]=Q)},Me.prototype.addPossibleTypes=function(ne){var Q=this;this.usingPossibleTypes=!0,Object.keys(ne).forEach(function(se){Q.getSupertypeSet(se,!0),ne[se].forEach(function(C){Q.getSupertypeSet(C,!0).add(se);var g=C.match(de.$O);(!g||g[0]!==C)&&Q.fuzzySubtypes.set(C,new RegExp(C))})})},Me.prototype.getTypePolicy=function(ne){var Q=this;if(!de.RI.call(this.typePolicies,ne)){var se=this.typePolicies[ne]=Object.create(null);se.fields=Object.create(null);var C=this.supertypeMap.get(ne);C&&C.size&&C.forEach(function(E){var V=Q.getTypePolicy(E),K=V.fields,ye=(0,Yt._T)(V,["fields"]);Object.assign(se,ye),Object.assign(se.fields,K)})}var g=this.toBeAdded[ne];return g&&g.length&&g.splice(0).forEach(function(E){Q.updateTypePolicy(ne,E)}),this.typePolicies[ne]},Me.prototype.getFieldPolicy=function(ne,Q,se){if(ne){var C=this.getTypePolicy(ne).fields;return C[Q]||se&&(C[Q]=Object.create(null))}},Me.prototype.getSupertypeSet=function(ne,Q){var se=this.supertypeMap.get(ne);return!se&&Q&&this.supertypeMap.set(ne,se=new Set),se},Me.prototype.fragmentMatches=function(ne,Q,se,C){var g=this;if(!ne.typeCondition)return!0;if(!Q)return!1;var E=ne.typeCondition.name.value;if(Q===E)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(E))for(var V=this.getSupertypeSet(Q,!0),K=[V],ye=function(F){var X=g.getSupertypeSet(F,!1);X&&X.size&&K.indexOf(X)<0&&K.push(X)},et=!(!se||!this.fuzzySubtypes.size),Dt=!1,Ct=0;Ct<K.length;++Ct){var It=K[Ct];if(It.has(E))return V.has(E)||(Dt&&__DEV__&&en.kG.warn("Inferring subtype ".concat(Q," of supertype ").concat(E)),V.add(E)),!0;It.forEach(ye),et&&Ct===K.length-1&&(0,de.RC)(ne.selectionSet,se,C)&&(et=!1,Dt=!0,this.fuzzySubtypes.forEach(function(F,X){var k=Q.match(F);k&&k[0]===Q&&ye(X)}))}return!1},Me.prototype.hasKeyArgs=function(ne,Q){var se=this.getFieldPolicy(ne,Q,!1);return!(!se||!se.keyFn)},Me.prototype.getStoreFieldName=function(ne){var g,Q=ne.typename,se=ne.fieldName,C=this.getFieldPolicy(Q,se,!1),E=C&&C.keyFn;if(E&&Q)for(var V={typename:Q,fieldName:se,field:ne.field||null,variables:ne.variables},K=kr(ne);E;){var ye=E(K,V);if(!(0,de.kJ)(ye)){g=ye||se;break}E=gr(ye)}return void 0===g&&(g=ne.field?(0,Sn.vf)(ne.field,ne.variables):(0,Sn.PT)(se,kr(ne))),!1===g?se:se===(0,de.E_)(g)?g:se+":"+g},Me.prototype.readField=function(ne,Q){var se=ne.from;if(se&&(ne.field||ne.fieldName)){if(void 0===ne.typename){var g=Q.store.getFieldValue(se,"__typename");g&&(ne.typename=g)}var E=this.getStoreFieldName(ne),V=(0,de.E_)(E),K=Q.store.getFieldValue(se,E),ye=this.getFieldPolicy(ne.typename,V,!1),et=ye&&ye.read;if(et){var Dt=vi(this,se,ne,Q,Q.store.getStorage((0,Sn.Yk)(se)?se.__ref:se,E));return ft.ab.withValue(this.cache,et,[K,Dt])}return K}},Me.prototype.getReadFunction=function(ne,Q){var se=this.getFieldPolicy(ne,Q,!1);return se&&se.read},Me.prototype.getMergeFunction=function(ne,Q,se){var C=this.getFieldPolicy(ne,Q,!1),g=C&&C.merge;return!g&&se&&(g=(C=this.getTypePolicy(se))&&C.merge),g},Me.prototype.runMergeFunction=function(ne,Q,se,C,g){var E=se.field,V=se.typename,K=se.merge;return K===ui?Ir(C.store)(ne,Q):K===Yr?Q:(C.overwrite&&(ne=void 0),K(ne,Q,vi(this,void 0,{typename:V,fieldName:E.name.value,field:E,variables:C.variables},C,g||Object.create(null))))},Me}();function vi(Me,ne,Q,se,C){var g=Me.getStoreFieldName(Q),E=(0,de.E_)(g),V=Q.variables||se.variables,K=se.store,ye=K.toReference,et=K.canRead;return{args:kr(Q),field:Q.field||null,fieldName:E,storeFieldName:g,variables:V,isReference:Sn.Yk,toReference:ye,storage:C,cache:Me.cache,canRead:et,readField:function(){return Me.readField(ri(arguments,ne,se),se)},mergeObjects:Ir(se.store)}}function ri(Me,ne,Q){var E,se=Me[0];return"string"==typeof se?E={fieldName:se,from:Me.length>1?Me[1]:ne}:(E=(0,Yt.pi)({},se),de.RI.call(E,"from")||(E.from=ne)),__DEV__&&void 0===E.from&&__DEV__&&en.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function Mn(Me){var ne=(0,Nr.X)("stringifyForDisplay");return JSON.stringify(Me,function(Q,se){return void 0===se?ne:se}).split(JSON.stringify(ne)).join("<undefined>")}(Array.from(Me)))),void 0===E.variables&&(E.variables=Q),E}function Ir(Me){return function(Q,se){if((0,de.kJ)(Q)||(0,de.kJ)(se))throw __DEV__?new en.ej("Cannot automatically merge arrays"):new en.ej(4);if((0,N.s)(Q)&&(0,N.s)(se)){var C=Me.getFieldValue(Q,"__typename"),g=Me.getFieldValue(se,"__typename");if(C&&g&&C!==g)return se;if((0,Sn.Yk)(Q)&&(0,de.j)(se))return Me.merge(Q.__ref,se),Q;if((0,de.j)(Q)&&(0,Sn.Yk)(se))return Me.merge(Q,se.__ref),se;if((0,de.j)(Q)&&(0,de.j)(se))return(0,Yt.pi)((0,Yt.pi)({},Q),se)}return se}}function ki(Me,ne,Q){var se="".concat(ne).concat(Q),C=Me.flavors.get(se);return C||Me.flavors.set(se,C=Me.clientOnly===ne&&Me.deferred===Q?Me:(0,Yt.pi)((0,Yt.pi)({},Me),{clientOnly:ne,deferred:Q})),C}var Hi=function(){function Me(ne,Q){this.cache=ne,this.reader=Q}return Me.prototype.writeToStore=function(ne,Q){var se=this,C=Q.query,g=Q.result,E=Q.dataId,V=Q.variables,K=Q.overwrite,ye=(0,ct.$H)(C),et=(0,de.ig)();V=(0,Yt.pi)((0,Yt.pi)({},(0,ct.O4)(ye)),V);var Dt={store:ne,written:Object.create(null),merge:function(It,F){return et.merge(It,F)},variables:V,varString:(0,vr.B)(V),fragmentMap:(0,Rn.F)((0,ct.kU)(C)),overwrite:!!K,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Ct=this.processSelectionSet({result:g||Object.create(null),dataId:E,selectionSet:ye.selectionSet,mergeTree:{map:new Map},context:Dt});if(!(0,Sn.Yk)(Ct))throw __DEV__?new en.ej("Could not identify object ".concat(JSON.stringify(g))):new en.ej(6);return Dt.incomingById.forEach(function(It,F){var X=It.storeObject,k=It.mergeTree,ge=It.fieldNodeSet,We=(0,Sn.kQ)(F);if(k&&k.map.size){var pt=se.applyMerges(k,We,X,Dt);if((0,Sn.Yk)(pt))return;X=pt}if(__DEV__&&!Dt.overwrite){var Pt=Object.create(null);ge.forEach(function(Zn){Zn.selectionSet&&(Pt[Zn.name.value]=!0)}),Object.keys(X).forEach(function(Zn){(function(Zn){return!0===Pt[(0,de.E_)(Zn)]})(Zn)&&!function(Zn){var ir=k&&k.map.get(Zn);return Boolean(ir&&ir.info&&ir.info.merge)}(Zn)&&function gs(Me,ne,Q,se){var C=function(Dt){var Ct=se.getFieldValue(Dt,Q);return"object"==typeof Ct&&Ct},g=C(Me);if(g){var E=C(ne);if(E&&!(0,Sn.Yk)(g)&&!(0,Tn.D)(g,E)&&!Object.keys(g).every(function(Dt){return void 0!==se.getFieldValue(E,Dt)})){var V=se.getFieldValue(Me,"__typename")||se.getFieldValue(ne,"__typename"),K=(0,de.E_)(Q),ye="".concat(V,".").concat(K);if(!Ei.has(ye)){Ei.add(ye);var et=[];!(0,de.kJ)(g)&&!(0,de.kJ)(E)&&[g,E].forEach(function(Dt){var Ct=se.getFieldValue(Dt,"__typename");"string"==typeof Ct&&!et.includes(Ct)&&et.push(Ct)}),__DEV__&&en.kG.warn("Cache data may be lost when replacing the ".concat(K," field of a ").concat(V," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(et.length?"either ensure all objects of type "+et.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(ye," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(g).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(E).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(We,X,Zn,Dt.store)})}ne.merge(F,X)}),ne.retain(Ct.__ref),Ct},Me.prototype.processSelectionSet=function(ne){var Q=this,se=ne.dataId,C=ne.result,g=ne.selectionSet,E=ne.context,V=ne.mergeTree,K=this.cache.policies,ye=Object.create(null),et=se&&K.rootTypenamesById[se]||(0,Sn.qw)(C,g,E.fragmentMap)||se&&E.store.get(se,"__typename");"string"==typeof et&&(ye.__typename=et);var Dt=function(){var pt=ri(arguments,ye,E.variables);if((0,Sn.Yk)(pt.from)){var Pt=E.incomingById.get(pt.from.__ref);if(Pt){var dn=K.readField((0,Yt.pi)((0,Yt.pi)({},pt),{from:Pt.storeObject}),E);if(void 0!==dn)return dn}}return K.readField(pt,E)},Ct=new Set;this.flattenFields(g,C,E,et).forEach(function(pt,Pt){var dn,fr=(0,Sn.u2)(Pt),Zn=C[fr];if(Ct.add(Pt),void 0!==Zn){var ir=K.getStoreFieldName({typename:et,fieldName:Pt.name.value,field:Pt,variables:pt.variables}),lr=Di(V,ir),wr=Q.processFieldValue(Zn,Pt,Pt.selectionSet?ki(pt,!1,!1):pt,lr),Dr=void 0;Pt.selectionSet&&((0,Sn.Yk)(wr)||(0,de.j)(wr))&&(Dr=Dt("__typename",wr));var qr=K.getMergeFunction(et,Pt.name.value,Dr);qr?lr.info={field:Pt,typename:et,merge:qr}:_i(V,ir),ye=pt.merge(ye,((dn={})[ir]=wr,dn))}else __DEV__&&!pt.clientOnly&&!pt.deferred&&!Hn.Gw.added(Pt)&&!K.getReadFunction(et,Pt.name.value)&&__DEV__&&en.kG.error("Missing field '".concat((0,Sn.u2)(Pt),"' while writing result ").concat(JSON.stringify(C,null,2)).substring(0,1e3))});try{var It=K.identify(C,{typename:et,selectionSet:g,fragmentMap:E.fragmentMap,storeObject:ye,readField:Dt}),X=It[1];se=se||It[0],X&&(ye=E.merge(ye,X))}catch(pt){if(!se)throw pt}if("string"==typeof se){var k=(0,Sn.kQ)(se),ge=E.written[se]||(E.written[se]=[]);if(ge.indexOf(g)>=0||(ge.push(g),this.reader&&this.reader.isFresh(C,k,g,E)))return k;var We=E.incomingById.get(se);return We?(We.storeObject=E.merge(We.storeObject,ye),We.mergeTree=$i(We.mergeTree,V),Ct.forEach(function(pt){return We.fieldNodeSet.add(pt)})):E.incomingById.set(se,{storeObject:ye,mergeTree:Wi(V)?void 0:V,fieldNodeSet:Ct}),k}return ye},Me.prototype.processFieldValue=function(ne,Q,se,C){var g=this;return Q.selectionSet&&null!==ne?(0,de.kJ)(ne)?ne.map(function(E,V){var K=g.processFieldValue(E,Q,se,Di(C,V));return _i(C,V),K}):this.processSelectionSet({result:ne,selectionSet:Q.selectionSet,context:se,mergeTree:C}):__DEV__?(0,_r.X)(ne):ne},Me.prototype.flattenFields=function(ne,Q,se,C){void 0===C&&(C=(0,Sn.qw)(Q,ne,se.fragmentMap));var g=new Map,E=this.cache.policies,V=new Gt.B(!1);return function K(ye,et){var Dt=V.lookup(ye,et.clientOnly,et.deferred);Dt.visited||(Dt.visited=!0,ye.selections.forEach(function(Ct){if((0,W.LZ)(Ct,se.variables)){var It=et.clientOnly,F=et.deferred;if(!(It&&F)&&(0,gi.O)(Ct.directives)&&Ct.directives.forEach(function(ge){var We=ge.name.value;if("client"===We&&(It=!0),"defer"===We){var pt=(0,Sn.NC)(ge,se.variables);(!pt||!1!==pt.if)&&(F=!0)}}),(0,Sn.My)(Ct)){var X=g.get(Ct);X&&(It=It&&X.clientOnly,F=F&&X.deferred),g.set(Ct,ki(se,It,F))}else{var k=(0,Rn.hi)(Ct,se.fragmentMap);k&&E.fragmentMatches(k,C,Q,se.variables)&&K(k.selectionSet,ki(se,It,F))}}}))}(ne,se),g},Me.prototype.applyMerges=function(ne,Q,se,C,g){var E,V=this;if(ne.map.size&&!(0,Sn.Yk)(se)){var K=(0,de.kJ)(se)||!(0,Sn.Yk)(Q)&&!(0,de.j)(Q)?void 0:Q,ye=se;K&&!g&&(g=[(0,Sn.Yk)(K)?K.__ref:K]);var et,Dt=function(Ct,It){return(0,de.kJ)(Ct)?"number"==typeof It?Ct[It]:void 0:C.store.getFieldValue(Ct,String(It))};ne.map.forEach(function(Ct,It){var F=Dt(K,It),X=Dt(ye,It);if(void 0!==X){g&&g.push(It);var k=V.applyMerges(Ct,F,X,C,g);k!==X&&(et=et||new Map).set(It,k),g&&(0,en.kG)(g.pop()===It)}}),et&&(se=(0,de.kJ)(ye)?ye.slice(0):(0,Yt.pi)({},ye),et.forEach(function(Ct,It){se[It]=Ct}))}return ne.info?this.cache.policies.runMergeFunction(Q,se,ne.info,C,g&&(E=C.store).getStorage.apply(E,g)):se},Me}(),ii=[];function Di(Me,ne){var Q=Me.map;return Q.has(ne)||Q.set(ne,ii.pop()||{map:new Map}),Q.get(ne)}function $i(Me,ne){if(Me===ne||!ne||Wi(ne))return Me;if(!Me||Wi(Me))return ne;var Q=Me.info&&ne.info?(0,Yt.pi)((0,Yt.pi)({},Me.info),ne.info):Me.info||ne.info,se=Me.map.size&&ne.map.size,g={info:Q,map:se?new Map:Me.map.size?Me.map:ne.map};if(se){var E=new Set(ne.map.keys());Me.map.forEach(function(V,K){g.map.set(K,$i(V,ne.map.get(K))),E.delete(K)}),E.forEach(function(V){g.map.set(V,$i(ne.map.get(V),Me.map.get(V)))})}return g}function Wi(Me){return!Me||!(Me.info||Me.map.size)}function _i(Me,ne){var Q=Me.map,se=Q.get(ne);se&&Wi(se)&&(ii.push(se),Q.delete(ne))}var Ei=new Set,ss=function(Me){function ne(Q){void 0===Q&&(Q={});var se=Me.call(this)||this;return se.watches=new Set,se.typenameDocumentCache=new Map,se.makeVar=ft.QS,se.txCount=0,se.config=(0,de.jS)(Q),se.addTypename=!!se.config.addTypename,se.policies=new hi({cache:se,dataIdFromObject:se.config.dataIdFromObject,possibleTypes:se.config.possibleTypes,typePolicies:se.config.typePolicies}),se.init(),se}return(0,Yt.ZT)(ne,Me),ne.prototype.init=function(){var Q=this.data=new it.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=Q.stump,this.resetResultCache()},ne.prototype.resetResultCache=function(Q){var se=this,C=this.storeReader;this.storeWriter=new Hi(this,this.storeReader=new li({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,de.lg)(this.config),canon:Q?void 0:C&&C.canon})),this.maybeBroadcastWatch=(0,Cn.re)(function(g,E){return se.broadcastWatch(g,E)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(g){var E=g.optimistic?se.optimisticData:se.data;if(Un(E))return E.makeCacheKey(g.query,g.callback,(0,vr.B)({optimistic:g.optimistic,rootId:g.rootId,variables:g.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(g){return g.resetCaching()})},ne.prototype.restore=function(Q){return this.init(),Q&&this.data.replace(Q),this},ne.prototype.extract=function(Q){return void 0===Q&&(Q=!1),(Q?this.optimisticData:this.data).extract()},ne.prototype.read=function(Q){var se=Q.returnPartialData,C=void 0!==se&&se;try{return this.storeReader.diffQueryAgainstStore((0,Yt.pi)((0,Yt.pi)({},Q),{store:Q.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:C})).result||null}catch(g){if(g instanceof tr)return null;throw g}},ne.prototype.write=function(Q){try{return++this.txCount,this.storeWriter.writeToStore(this.data,Q)}finally{!--this.txCount&&!1!==Q.broadcast&&this.broadcastWatches()}},ne.prototype.modify=function(Q){if(de.RI.call(Q,"id")&&!Q.id)return!1;var se=Q.optimistic?this.optimisticData:this.data;try{return++this.txCount,se.modify(Q.id||"ROOT_QUERY",Q.fields)}finally{!--this.txCount&&!1!==Q.broadcast&&this.broadcastWatches()}},ne.prototype.diff=function(Q){return this.storeReader.diffQueryAgainstStore((0,Yt.pi)((0,Yt.pi)({},Q),{store:Q.optimistic?this.optimisticData:this.data,rootId:Q.id||"ROOT_QUERY",config:this.config}))},ne.prototype.watch=function(Q){var se=this;return this.watches.size||(0,ft._v)(this),this.watches.add(Q),Q.immediate&&this.maybeBroadcastWatch(Q),function(){se.watches.delete(Q)&&!se.watches.size&&(0,ft.li)(se),se.maybeBroadcastWatch.forget(Q)}},ne.prototype.gc=function(Q){vr.B.reset();var se=this.optimisticData.gc();return Q&&!this.txCount&&(Q.resetResultCache?this.resetResultCache(Q.resetResultIdentities):Q.resetResultIdentities&&this.storeReader.resetCanon()),se},ne.prototype.retain=function(Q,se){return(se?this.optimisticData:this.data).retain(Q)},ne.prototype.release=function(Q,se){return(se?this.optimisticData:this.data).release(Q)},ne.prototype.identify=function(Q){if((0,Sn.Yk)(Q))return Q.__ref;try{return this.policies.identify(Q)[0]}catch(se){__DEV__&&en.kG.warn(se)}},ne.prototype.evict=function(Q){if(!Q.id){if(de.RI.call(Q,"id"))return!1;Q=(0,Yt.pi)((0,Yt.pi)({},Q),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(Q,this.data)}finally{!--this.txCount&&!1!==Q.broadcast&&this.broadcastWatches()}},ne.prototype.reset=function(Q){var se=this;return this.init(),vr.B.reset(),Q&&Q.discardWatches?(this.watches.forEach(function(C){return se.maybeBroadcastWatch.forget(C)}),this.watches.clear(),(0,ft.li)(this)):this.broadcastWatches(),Promise.resolve()},ne.prototype.removeOptimistic=function(Q){var se=this.optimisticData.removeLayer(Q);se!==this.optimisticData&&(this.optimisticData=se,this.broadcastWatches())},ne.prototype.batch=function(Q){var ye,se=this,C=Q.update,g=Q.optimistic,E=void 0===g||g,V=Q.removeOptimistic,K=Q.onWatchUpdated,et=function(Ct){var F=se.data,X=se.optimisticData;++se.txCount,Ct&&(se.data=se.optimisticData=Ct);try{return ye=C(se)}finally{--se.txCount,se.data=F,se.optimisticData=X}},Dt=new Set;return K&&!this.txCount&&this.broadcastWatches((0,Yt.pi)((0,Yt.pi)({},Q),{onWatchUpdated:function(Ct){return Dt.add(Ct),!1}})),"string"==typeof E?this.optimisticData=this.optimisticData.addLayer(E,et):!1===E?et(this.data):et(),"string"==typeof V&&(this.optimisticData=this.optimisticData.removeLayer(V)),K&&Dt.size?(this.broadcastWatches((0,Yt.pi)((0,Yt.pi)({},Q),{onWatchUpdated:function(Ct,It){var F=K.call(this,Ct,It);return!1!==F&&Dt.delete(Ct),F}})),Dt.size&&Dt.forEach(function(Ct){return se.maybeBroadcastWatch.dirty(Ct)})):this.broadcastWatches(Q),ye},ne.prototype.performTransaction=function(Q,se){return this.batch({update:Q,optimistic:se||null!==se})},ne.prototype.transformDocument=function(Q){if(this.addTypename){var se=this.typenameDocumentCache.get(Q);return se||(se=(0,Hn.Gw)(Q),this.typenameDocumentCache.set(Q,se),this.typenameDocumentCache.set(se,se)),se}return Q},ne.prototype.broadcastWatches=function(Q){var se=this;this.txCount||this.watches.forEach(function(C){return se.maybeBroadcastWatch(C,Q)})},ne.prototype.broadcastWatch=function(Q,se){var C=Q.lastDiff,g=this.diff(Q);se&&(Q.optimistic&&"string"==typeof se.optimistic&&(g.fromOptimisticTransaction=!0),se.onWatchUpdated&&!1===se.onWatchUpdated.call(this,Q,g,C))||(!C||!(0,Tn.D)(C.result,g.result))&&Q.callback(Q.lastDiff=g,C)},ne}(Wn),bs=y(623),di=y(3583),Oi=y(2011),Rt=y(6271),Ot=y(4370),Lt=y(5867),hn=y(515),jn=y(4782),er=y(590),Ur=y(127),mi=y(8916);const Ni=new _.OlP("angularfire2.performance.instrumentationEnabled"),ms=new _.OlP("angularfire2.performance.dataCollectionEnabled");let os=(()=>{class Me{constructor(Q,se,C,g,E){return this.zone=g,this.performance=(0,ve.of)(void 0).pipe((0,Qe.w)(()=>(0,ee.NF)(E)?g.runOutsideAngular(()=>y.e(554).then(y.bind(y,3554))):hn.E),(0,$e.U)(()=>(0,Oi.cc)("performance","AngularFirePerformance",Q.name,()=>{const V=g.runOutsideAngular(()=>Q.performance());return!1===se&&(V.instrumentationEnabled=!1),!1===C&&(V.dataCollectionEnabled=!1),V},[se,C])),(0,jn.d)({bufferSize:1,refCount:!1})),(0,Oi.pX)(this,this.performance,g)}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(Oi.Ot),_.LFG(Ni,8),_.LFG(ms,8),_.LFG(_.R0b),_.LFG(_.Lbi))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"any"}),Me})();const ns="_isStableEnd";let Ti=(()=>{class Me{constructor(Q){var se;"undefined"!=typeof window&&(null===(se=window.performance)||void 0===se?void 0:se.mark)&&(this.disposable=Q.isStable.pipe((0,er.P)(C=>C),(0,He.b)(()=>{window.performance.mark(ns),window.performance.measure("isStable","Zone",ns)})).subscribe())}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(_.z2F))},Me.\u0275prov=_.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),Zi=(()=>{class Me{constructor(Q,se){Ur.Z.registerVersion("angularfire",mi.q4.full,"perf-compat"),Q.dataCollectionEnabled.then(()=>{})}}return Me.\u0275fac=function(Q){return new(Q||Me)(_.LFG(os),_.LFG(Ti,8))},Me.\u0275mod=_.oAB({type:Me}),Me.\u0275inj=_.cJS({providers:[os]}),Me})();const Ps={apiKey:"AIzaSyD_61N0OLPsfAKHoawzDtIExK_BU3GR6hM",authDomain:"training-buddy-2022.firebaseapp.com",databaseURL:"https://training-buddy-2022-default-rtdb.firebaseio.com",projectId:"training-buddy-2022",storageBucket:"training-buddy-2022.appspot.com",messagingSenderId:"<your-messaging-sender-id>",appId:"445917436",measurementId:"G-K7WPZTL3FJ"},vs=(0,Lt.ZF)(Ps);(0,Ot.r)(vs);let zi=(()=>{class Me{}return Me.\u0275fac=function(Q){return new(Q||Me)},Me.\u0275mod=_.oAB({type:Me,bootstrap:[Qn]}),Me.\u0275inj=_.cJS({providers:[{provide:ar.zu,useFactory:ne=>({cache:new ss,link:ne.create({uri:"https://us-central1-training-buddy-2022.cloudfunctions.net/api/graphql"}),fetchOptions:{mode:"no-cors"}}),deps:[Ne]},Kn.eN,Gn,Ti],imports:[[u.b2,S.PW,In,Kn.JF,ar.VG,Kn.JF,Mt.register("custom-service-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),di.su.forRoot({apiKey:"AIzaSyBxYaJFWxO0y8YjqvG8OOGuwqvDPwDaSMY",libraries:["places"]}),bs.Sr,In,Oi.hO.initializeApp(Ps),Rt.yb,Zi]]}),Me})();(0,_.G48)(),u.q6().bootstrapModule(zi).catch(Me=>console.error(Me))},3119:(Xt,tt,y)=>{y.d(tt,{g7:()=>Pe});var u=null,_={},S=1,ce="@wry/context:Slot",me=Array,Pe=me[ce]||function(){var ue=function(){function ue(){this.id=["slot",S++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return ue.prototype.hasValue=function(){for(var $e=u;$e;$e=$e.parent)if(this.id in $e.slots){var ke=$e.slots[this.id];if(ke===_)break;return $e!==u&&(u.slots[this.id]=ke),!0}return u&&(u.slots[this.id]=_),!1},ue.prototype.getValue=function(){if(this.hasValue())return u.slots[this.id]},ue.prototype.withValue=function($e,ke,Qe,Be){var xt,qe=((xt={__proto__:null})[this.id]=$e,xt),Te=u;u={parent:Te,slots:qe};try{return ke.apply(Be,Qe)}finally{u=Te}},ue.bind=function($e){var ke=u;return function(){var Qe=u;try{return u=ke,$e.apply(this,arguments)}finally{u=Qe}}},ue.noContext=function($e,ke,Qe){if(!u)return $e.apply(Qe,ke);var Be=u;try{return u=null,$e.apply(Qe,ke)}finally{u=Be}},ue}();try{Object.defineProperty(me,ce,{value:me[ce]=ue,enumerable:!1,writable:!1,configurable:!1})}finally{return ue}}()},7883:(Xt,tt,y)=>{y.d(tt,{D:()=>me});var u=Object.prototype,_=u.toString,S=u.hasOwnProperty,ee=Function.prototype.toString,ce=new Map;function me(Fe,Ie){try{return Pe(Fe,Ie)}finally{ce.clear()}}function Pe(Fe,Ie){if(Fe===Ie)return!0;var ue=_.call(Fe);if(ue!==_.call(Ie))return!1;switch(ue){case"[object Array]":if(Fe.length!==Ie.length)return!1;case"[object Object]":if(oe(Fe,Ie))return!0;var ke=ve(Fe),Qe=ve(Ie),Be=ke.length;if(Be!==Qe.length)return!1;for(var xt=0;xt<Be;++xt)if(!S.call(Ie,ke[xt]))return!1;for(xt=0;xt<Be;++xt){var qe=ke[xt];if(!Pe(Fe[qe],Ie[qe]))return!1}return!0;case"[object Error]":return Fe.name===Ie.name&&Fe.message===Ie.message;case"[object Number]":if(Fe!=Fe)return Ie!=Ie;case"[object Boolean]":case"[object Date]":return+Fe==+Ie;case"[object RegExp]":case"[object String]":return Fe==""+Ie;case"[object Map]":case"[object Set]":if(Fe.size!==Ie.size)return!1;if(oe(Fe,Ie))return!0;for(var Te=Fe.entries(),Ue="[object Map]"===ue;;){var rt=Te.next();if(rt.done)break;var ze=rt.value,J=ze[0],re=ze[1];if(!Ie.has(J)||Ue&&!Pe(re,Ie.get(J)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":Fe=new Uint8Array(Fe),Ie=new Uint8Array(Ie);case"[object DataView]":var Ce=Fe.byteLength;if(Ce===Ie.byteLength)for(;Ce--&&Fe[Ce]===Ie[Ce];);return-1===Ce;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var He=ee.call(Fe);return He===ee.call(Ie)&&!function ie(Fe,Ie){var ue=Fe.length-Ie.length;return ue>=0&&Fe.indexOf(Ie,ue)===ue}(He,$)}return!1}function ve(Fe){return Object.keys(Fe).filter(_e,Fe)}function _e(Fe){return void 0!==this[Fe]}var $="{ [native code] }";function oe(Fe,Ie){var ue=ce.get(Fe);if(ue){if(ue.has(Ie))return!0}else ce.set(Fe,ue=new Set);return ue.add(Ie),!1}},9428:(Xt,tt,y)=>{y.d(tt,{B:()=>ce});var u=function(){return Object.create(null)},_=Array.prototype,S=_.forEach,ee=_.slice,ce=function(){function Pe(ve,_e){void 0===ve&&(ve=!0),void 0===_e&&(_e=u),this.weakness=ve,this.makeData=_e}return Pe.prototype.lookup=function(){for(var ve=[],_e=0;_e<arguments.length;_e++)ve[_e]=arguments[_e];return this.lookupArray(ve)},Pe.prototype.lookupArray=function(ve){var _e=this;return S.call(ve,function($){return _e=_e.getChildTrie($)}),_e.data||(_e.data=this.makeData(ee.call(ve)))},Pe.prototype.getChildTrie=function(ve){var _e=this.weakness&&function me(Pe){switch(typeof Pe){case"object":if(null===Pe)break;case"function":return!0}return!1}(ve)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),$=_e.get(ve);return $||_e.set(ve,$=new Pe(this.weakness,this.makeData)),$},Pe}()},5867:(Xt,tt,y)=>{y.d(tt,{Mq:()=>u.getApp,C6:()=>u.getApps,ZF:()=>u.initializeApp});var u=y(9681);(0,u.registerVersion)("firebase","9.9.1","app")},127:(Xt,tt,y)=>{y.d(tt,{Z:()=>u.Z});var u=y(3942);u.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(Xt,tt,y)=>{y.r(tt);var u=y(9671),_=y(3942),S=y(2090),ee=y(9681),ce=y(655),me=y(1877),Pe=y(4859);const ue=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new S.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new me.Yd("@firebase/auth");function xt(v,...d){Be.logLevel<=me.in.ERROR&&Be.error(`Auth (${ee.SDK_VERSION}): ${v}`,...d)}function qe(v,...d){throw ze(v,...d)}function Te(v,...d){return ze(v,...d)}function Ue(v,d,f){const T=Object.assign(Object.assign({},$e()),{[d]:f});return new S.LL("auth","Firebase",T).create(d,{appName:v.name})}function rt(v,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&qe(v,"argument-error"),Ue(v,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...d){if("string"!=typeof v){const f=d[0],T=[...d.slice(1)];return T[0]&&(T[0].appName=v.name),v._errorFactory.create(f,...T)}return ke.create(v,...d)}function J(v,d,...f){if(!v)throw ze(d,...f)}function re(v){const d="INTERNAL ASSERTION FAILED: "+v;throw xt(d),new Error(d)}function Ce(v,d){v||re(d)}const He=new Map;function Je(v){Ce(v instanceof Function,"Expected a class definition");let d=He.get(v);return d?(Ce(d instanceof v,"Instance stored in cache mismatched with class"),d):(d=new v,He.set(v,d),d)}function Kt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function rn(){return"http:"===En()||"https:"===En()}function En(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class qt{constructor(d,f){this.shortDelay=d,this.longDelay=f,Ce(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,S.uI)()||(0,S.b$)()}get(){return function ln(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rn()||(0,S.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(v,d){Ce(v.emulator,"Emulator should always be set here");const{url:f}=v.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class un{static initialize(d,f,T){this.fetchImpl=d,f&&(this.headersImpl=f),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mt=new qt(3e4,6e4);function At(v,d){return v.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:v.tenantId}):d}function Ht(v,d,f,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(v,d,f,T,le={}){return In(v,le,(0,u.Z)(function*(){let Ge={},kt={};T&&("GET"===d?kt=T:Ge={body:JSON.stringify(T)});const an=(0,S.xO)(Object.assign({key:v.config.apiKey},kt)).slice(1),qn=yield v._getAdditionalHeaders();return qn["Content-Type"]="application/json",v.languageCode&&(qn["X-Firebase-Locale"]=v.languageCode),un.fetch()(ar(v,v.config.apiHost,f,an),Object.assign({method:d,headers:qn,referrerPolicy:"no-referrer"},Ge))}))})).apply(this,arguments)}function In(v,d,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(v,d,f){v._canInitEmulator=!1;const T=Object.assign(Object.assign({},_n),d);try{const le=new Wr(v),Ge=yield Promise.race([f(),le.promise]);le.clearNetworkTimeout();const kt=yield Ge.json();if("needConfirmation"in kt)throw Ar(v,"account-exists-with-different-credential",kt);if(Ge.ok&&!("errorMessage"in kt))return kt;{const an=Ge.ok?kt.errorMessage:kt.error.message,[qn,hr]=an.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qn)throw Ar(v,"credential-already-in-use",kt);if("EMAIL_EXISTS"===qn)throw Ar(v,"email-already-in-use",kt);if("USER_DISABLED"===qn)throw Ar(v,"user-disabled",kt);const Hr=T[qn]||qn.toLowerCase().replace(/[_\s]+/g,"-");if(hr)throw Ue(v,Hr,hr);qe(v,Hr)}}catch(le){if(le instanceof S.ZR)throw le;qe(v,"network-request-failed")}})).apply(this,arguments)}function Qn(v,d,f,T){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(v,d,f,T,le={}){const Ge=yield Ht(v,d,f,T,le);return"mfaPendingCredential"in Ge&&qe(v,"multi-factor-auth-required",{_serverResponse:Ge}),Ge})).apply(this,arguments)}function ar(v,d,f,T){const le=`${d}${f}?${T}`;return v.config.emulator?Qt(v.config,le):`${v.config.apiScheme}://${le}`}class Wr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,T)=>{this.timer=setTimeout(()=>T(Te(this.auth,"network-request-failed")),Mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ar(v,d,f){const T={appName:v.name};f.email&&(T.email=f.email),f.phoneNumber&&(T.phoneNumber=f.phoneNumber);const le=Te(v,d,T);return le.customData._tokenResponse=f,le}function Fr(){return(Fr=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function dr(v,d){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function on(v,d){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Ne(v){if(v)try{const d=new Date(Number(v));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Vt(){return(Vt=(0,u.Z)(function*(v,d=!1){const f=(0,S.m9)(v),T=yield f.getIdToken(d),le=en(T);J(le&&le.exp&&le.auth_time&&le.iat,f.auth,"internal-error");const Ge="object"==typeof le.firebase?le.firebase:void 0,kt=null==Ge?void 0:Ge.sign_in_provider;return{claims:le,token:T,authTime:Ne(Yt(le.auth_time)),issuedAtTime:Ne(Yt(le.iat)),expirationTime:Ne(Yt(le.exp)),signInProvider:kt||null,signInSecondFactor:(null==Ge?void 0:Ge.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(v){return 1e3*Number(v)}function en(v){var d;const[f,T,le]=v.split(".");if(void 0===f||void 0===T||void 0===le)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const Ge=(0,S.tV)(T);return Ge?JSON.parse(Ge):(xt("Failed to decode base64 JWT payload"),null)}catch(Ge){return xt("Caught error parsing JWT payload as JSON",null===(d=Ge)||void 0===d?void 0:d.toString()),null}}function Tn(v,d){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(v,d,f=!1){if(f)return d;try{return yield d}catch(T){throw T instanceof S.ZR&&Wn(T)&&v.auth.currentUser===v&&(yield v.auth.signOut()),T}})).apply(this,arguments)}function Wn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class tr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const le=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const T=this.getInterval(d);this.timerId=setTimeout((0,u.Z)(function*(){yield f.iteration()}),T)}iteration(){var d=this;return(0,u.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(f=T)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Sn{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ne(this.lastLoginAt),this.creationTime=Ne(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(v){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v){var d;const f=v.auth,T=yield v.getIdToken(),le=yield Tn(v,on(f,{idToken:T}));J(null==le?void 0:le.users.length,f,"internal-error");const Ge=le.users[0];v._notifyReloadListener(Ge);const kt=(null===(d=Ge.providerUserInfo)||void 0===d?void 0:d.length)?W(Ge.providerUserInfo):[],an=Ae(v.providerData,kt),Hr=!!v.isAnonymous&&!(v.email&&Ge.passwordHash||(null==an?void 0:an.length)),Or={uid:Ge.localId,displayName:Ge.displayName||null,photoURL:Ge.photoUrl||null,email:Ge.email||null,emailVerified:Ge.emailVerified||!1,phoneNumber:Ge.phoneNumber||null,tenantId:Ge.tenantId||null,providerData:an,metadata:new Sn(Ge.createdAt,Ge.lastLoginAt),isAnonymous:Hr};Object.assign(v,Or)})).apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(v){const d=(0,S.m9)(v);yield Hn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ae(v,d){return[...v.filter(T=>!d.some(le=>le.providerId===T.providerId)),...d]}function W(v){return v.map(d=>{var{providerId:f}=d,T=(0,ce._T)(d,["providerId"]);return{providerId:f,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function U(){return(U=(0,u.Z)(function*(v,d){const f=yield In(v,{},(0,u.Z)(function*(){const T=(0,S.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:le,apiKey:Ge}=v.config,kt=ar(v,le,"/v1/token",`key=${Ge}`),an=yield v._getAdditionalHeaders();return an["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(kt,{method:"POST",headers:an,body:T})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){J(d.idToken,"internal-error"),J(void 0!==d.idToken,"internal-error"),J(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function Cn(v){const d=en(v);return J(d,"internal-error"),J(void 0!==d.exp,"internal-error"),J(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var T=this;return(0,u.Z)(function*(){return J(!T.accessToken||T.refreshToken,d,"user-token-expired"),f||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(d,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var T=this;return(0,u.Z)(function*(){const{accessToken:le,refreshToken:Ge,expiresIn:kt}=yield function N(v,d){return U.apply(this,arguments)}(d,f);T.updateTokensAndExpiration(le,Ge,Number(kt))})()}updateTokensAndExpiration(d,f,T){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(d,f){const{refreshToken:T,accessToken:le,expirationTime:Ge}=f,kt=new Se;return T&&(J("string"==typeof T,"internal-error",{appName:d}),kt.refreshToken=T),le&&(J("string"==typeof le,"internal-error",{appName:d}),kt.accessToken=le),Ge&&(J("number"==typeof Ge,"internal-error",{appName:d}),kt.expirationTime=Ge),kt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return re("not implemented")}}function ht(v,d){J("string"==typeof v||void 0===v,"internal-error",{appName:d})}class Gt{constructor(d){var{uid:f,auth:T,stsTokenManager:le}=d,Ge=(0,ce._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=T,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Ge.displayName||null,this.email=Ge.email||null,this.emailVerified=Ge.emailVerified||!1,this.phoneNumber=Ge.phoneNumber||null,this.photoURL=Ge.photoURL||null,this.isAnonymous=Ge.isAnonymous||!1,this.tenantId=Ge.tenantId||null,this.providerData=Ge.providerData?[...Ge.providerData]:[],this.metadata=new Sn(Ge.createdAt||void 0,Ge.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,u.Z)(function*(){const T=yield Tn(f,f.stsTokenManager.getToken(f.auth,d));return J(T,f.auth,"internal-error"),f.accessToken!==T&&(f.accessToken=T,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),T})()}getIdTokenResult(d){return function Bt(v){return Vt.apply(this,arguments)}(this,d)}reload(){return function Rr(v){return ct.apply(this,arguments)}(this)}_assign(d){this!==d&&(J(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Gt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var T=this;return(0,u.Z)(function*(){let le=!1;d.idToken&&d.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(d),le=!0),f&&(yield Hn(T)),yield T.auth._persistUserIfCurrent(T),le&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var d=this;return(0,u.Z)(function*(){const f=yield d.getIdToken();return yield Tn(d,function cn(v,d){return Fr.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var T,le,Ge,kt,an,qn,hr,Hr;const Or=null!==(T=f.displayName)&&void 0!==T?T:void 0,Rs=null!==(le=f.email)&&void 0!==le?le:void 0,Ao=null!==(Ge=f.phoneNumber)&&void 0!==Ge?Ge:void 0,_u=null!==(kt=f.photoURL)&&void 0!==kt?kt:void 0,ah=null!==(an=f.tenantId)&&void 0!==an?an:void 0,Ua=null!==(qn=f._redirectEventId)&&void 0!==qn?qn:void 0,oc=null!==(hr=f.createdAt)&&void 0!==hr?hr:void 0,ja=null!==(Hr=f.lastLoginAt)&&void 0!==Hr?Hr:void 0,{uid:Ga,emailVerified:ac,isAnonymous:lh,providerData:Qc,stsTokenManager:Zc}=f;J(Ga&&Zc,d,"internal-error");const ho=Se.fromJSON(this.name,Zc);J("string"==typeof Ga,d,"internal-error"),ht(Or,d.name),ht(Rs,d.name),J("boolean"==typeof ac,d,"internal-error"),J("boolean"==typeof lh,d,"internal-error"),ht(Ao,d.name),ht(_u,d.name),ht(ah,d.name),ht(Ua,d.name),ht(oc,d.name),ht(ja,d.name);const Jc=new Gt({uid:Ga,auth:d,email:Rs,emailVerified:ac,displayName:Or,isAnonymous:lh,photoURL:_u,phoneNumber:Ao,tenantId:ah,stsTokenManager:ho,createdAt:oc,lastLoginAt:ja});return Qc&&Array.isArray(Qc)&&(Jc.providerData=Qc.map(uh=>Object.assign({},uh))),Ua&&(Jc._redirectEventId=Ua),Jc}static _fromIdTokenResponse(d,f,T=!1){return(0,u.Z)(function*(){const le=new Se;le.updateFromServerResponse(f);const Ge=new Gt({uid:f.localId,auth:d,stsTokenManager:le,isAnonymous:T});return yield Hn(Ge),Ge})()}}const Nt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(f,T){var le=this;return(0,u.Z)(function*(){le.storage[f]=T})()}_get(f){var T=this;return(0,u.Z)(function*(){const le=T.storage[f];return void 0===le?null:le})()}_remove(f){var T=this;return(0,u.Z)(function*(){delete T.storage[f]})()}_addListener(f,T){}_removeListener(f,T){}}return v.type="NONE",v})();function M(v,d,f){return`firebase:${v}:${d}:${f}`}class Z{constructor(d,f,T){this.persistence=d,this.auth=f,this.userKey=T;const{config:le,name:Ge}=this.auth;this.fullUserKey=M(this.userKey,le.apiKey,Ge),this.fullPersistenceKey=M("persistence",le.apiKey,Ge),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,u.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Gt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,u.Z)(function*(){if(f.persistence===d)return;const T=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,T?f.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,T="authUser"){return(0,u.Z)(function*(){if(!f.length)return new Z(Je(Nt),d,T);const le=(yield Promise.all(f.map(function(){var hr=(0,u.Z)(function*(Hr){if(yield Hr._isAvailable())return Hr});return function(Hr){return hr.apply(this,arguments)}}()))).filter(hr=>hr);let Ge=le[0]||Je(Nt);const kt=M(T,d.config.apiKey,d.name);let an=null;for(const hr of f)try{const Hr=yield hr._get(kt);if(Hr){const Or=Gt._fromJSON(d,Hr);hr!==Ge&&(an=Or),Ge=hr;break}}catch(Hr){}const qn=le.filter(hr=>hr._shouldAllowMigration);return Ge._shouldAllowMigration&&qn.length?(Ge=qn[0],an&&(yield Ge._set(kt,an.toJSON())),yield Promise.all(f.map(function(){var hr=(0,u.Z)(function*(Hr){if(Hr!==Ge)try{yield Hr._remove(kt)}catch(Or){}});return function(Hr){return hr.apply(this,arguments)}}())),new Z(Ge,d,T)):new Z(Ge,d,T)})()}}function it(v){const d=v.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(yt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ye(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Jn(d))return"Blackberry";if(Un(d))return"Webos";if(je(d))return"Safari";if((d.includes("chrome/")||nt(d))&&!d.includes("edge/"))return"Chrome";if(dt(d))return"Android";{const T=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Ye(v=(0,S.z$)()){return/firefox\//i.test(v)}function je(v=(0,S.z$)()){const d=v.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function nt(v=(0,S.z$)()){return/crios\//i.test(v)}function yt(v=(0,S.z$)()){return/iemobile/i.test(v)}function dt(v=(0,S.z$)()){return/android/i.test(v)}function Jn(v=(0,S.z$)()){return/blackberry/i.test(v)}function Un(v=(0,S.z$)()){return/webos/i.test(v)}function vr(v=(0,S.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Xr(v=(0,S.z$)()){return vr(v)||dt(v)||Un(v)||Jn(v)||/windows phone/i.test(v)||yt(v)}function gi(v,d=[]){let f;switch(v){case"Browser":f=it((0,S.z$)());break;case"Worker":f=`${it((0,S.z$)())}-${v}`;break;default:f=v}const T=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${ee.SDK_VERSION}/${T}`}class Nr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const T=Ge=>new Promise((kt,an)=>{try{kt(d(Ge))}catch(qn){an(qn)}});T.onAbort=f,this.queue.push(T);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,u.Z)(function*(){var T;if(f.auth.currentUser===d)return;const le=[];try{for(const Ge of f.queue)yield Ge(d),Ge.onAbort&&le.push(Ge.onAbort)}catch(Ge){le.reverse();for(const kt of le)try{kt()}catch(an){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=Ge)||void 0===T?void 0:T.message})}})()}}class Mn{constructor(d,f,T){this.app=d,this.heartbeatServiceProvider=f,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $t(this),this.idTokenSubscription=new $t(this),this.beforeStateQueue=new Nr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(d,f){var T=this;return f&&(this._popupRedirectResolver=Je(f)),this._initializationPromise=this.queue((0,u.Z)(function*(){var le,Ge;if(!T._deleted&&(T.persistenceManager=yield Z.create(T,d),!T._deleted)){if(null===(le=T._popupRedirectResolver)||void 0===le?void 0:le._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(kt){}yield T.initializeCurrentUser(f),T.lastNotifiedUid=(null===(Ge=T.currentUser)||void 0===Ge?void 0:Ge.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,u.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,u.Z)(function*(){var T;const le=yield f.assertedPersistence.getCurrentUser();let Ge=le,kt=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const an=null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId,qn=null==Ge?void 0:Ge._redirectEventId,hr=yield f.tryRedirectSignIn(d);(!an||an===qn)&&(null==hr?void 0:hr.user)&&(Ge=hr.user,kt=!0)}if(!Ge)return f.directlySetCurrentUser(null);if(!Ge._redirectEventId){if(kt)try{yield f.beforeStateQueue.runMiddleware(Ge)}catch(an){Ge=le,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(an))}return Ge?f.reloadAndSetCurrentUserOrClear(Ge):f.directlySetCurrentUser(null)}return J(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===Ge._redirectEventId?f.directlySetCurrentUser(Ge):f.reloadAndSetCurrentUserOrClear(Ge)})()}tryRedirectSignIn(d){var f=this;return(0,u.Z)(function*(){let T=null;try{T=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(le){yield f._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,u.Z)(function*(){var T;try{yield Hn(d)}catch(le){if("auth/network-request-failed"!==(null===(T=le)||void 0===T?void 0:T.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function mt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var d=this;return(0,u.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,u.Z)(function*(){const T=d?(0,S.m9)(d):null;return T&&J(T.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(T&&T._clone(f))})()}_updateCurrentUser(d,f=!1){var T=this;return(0,u.Z)(function*(){if(!T._deleted)return d&&J(T.tenantId===d.tenantId,T,"tenant-id-mismatch"),f||(yield T.beforeStateQueue.runMiddleware(d)),T.queue((0,u.Z)(function*(){yield T.directlySetCurrentUser(d),T.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,u.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,u.Z)(function*(){yield f.assertedPersistence.setPersistence(Je(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new S.LL("auth","Firebase",d())}onAuthStateChanged(d,f,T){return this.registerStateListener(this.authStateSubscription,d,f,T)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,T){return this.registerStateListener(this.idTokenSubscription,d,f,T)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var T=this;return(0,u.Z)(function*(){const le=yield T.getOrInitRedirectPersistenceManager(f);return null===d?le.removeCurrentUser():le.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,u.Z)(function*(){if(!f.redirectPersistenceManager){const T=d&&Je(d)||f._popupRedirectResolver;J(T,f,"argument-error"),f.redirectPersistenceManager=yield Z.create(f,[Je(T._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,u.Z)(function*(){var T,le;return f._isInitialized&&(yield f.queue((0,u.Z)(function*(){}))),(null===(T=f._currentUser)||void 0===T?void 0:T._redirectEventId)===d?f._currentUser:(null===(le=f.redirectUser)||void 0===le?void 0:le._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,u.Z)(function*(){if(d===f.currentUser)return f.queue((0,u.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,T,le){if(this._deleted)return()=>{};const Ge="function"==typeof f?f:f.next.bind(f),kt=this._isInitialized?Promise.resolve():this._initializationPromise;return J(kt,this,"internal-error"),kt.then(()=>Ge(this.currentUser)),"function"==typeof f?d.addObserver(f,T,le):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,u.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,u.Z)(function*(){var f;const T={"X-Client-Version":d.clientVersion};d.app.options.appId&&(T["X-Firebase-gmpid"]=d.app.options.appId);const le=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return le&&(T["X-Firebase-Client"]=le),T})()}}function ft(v){return(0,S.m9)(v)}class $t{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,S.ne)(f=>this.observer=f)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $n(v){const d=v.indexOf(":");return d<0?"":v.substr(0,d+1)}function Et(v){if(!v)return null;const d=Number(v);return isNaN(d)?null:d}class Ut{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return re("not implemented")}_getIdTokenResponse(d){return re("not implemented")}_linkToIdToken(d,f){return re("not implemented")}_getReauthenticationResolver(d){return re("not implemented")}}function Vn(v,d){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:resetPassword",At(v,d))})).apply(this,arguments)}function kr(v,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ai(v,d){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:update",At(v,d))})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithPassword",At(v,d))})).apply(this,arguments)}function vi(v,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:sendOobCode",At(v,d))})).apply(this,arguments)}function Ir(v,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(v,d){return vi(v,d)})).apply(this,arguments)}function Hi(v,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(v,d){return vi(v,d)})).apply(this,arguments)}function Di(v,d){return $i.apply(this,arguments)}function $i(){return($i=(0,u.Z)(function*(v,d){return vi(v,d)})).apply(this,arguments)}function Wi(v,d){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(v,d){return vi(v,d)})).apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithEmailLink",At(v,d))})).apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithEmailLink",At(v,d))})).apply(this,arguments)}class di extends Ut{constructor(d,f,T,le=null){super("password",T),this._email=d,this._password=f,this._tenantId=le}static _fromEmailAndPassword(d,f){return new di(d,f,"password")}static _fromEmailAndCode(d,f,T=null){return new di(d,f,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,u.Z)(function*(){switch(f.signInMethod){case"password":return function Yr(v,d){return hi.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Ei(v,d){return gs.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:qe(d,"internal-error")}})()}_linkToIdToken(d,f){var T=this;return(0,u.Z)(function*(){switch(T.signInMethod){case"password":return kr(d,{idToken:f,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function ss(v,d){return bs.apply(this,arguments)}(d,{idToken:f,email:T._email,oobCode:T._password});default:qe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Oi(v,d){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithIdp",At(v,d))})).apply(this,arguments)}class Lt extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new Lt(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):qe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:le}=f,Ge=(0,ce._T)(f,["providerId","signInMethod"]);if(!T||!le)return null;const kt=new Lt(T,le);return kt.idToken=Ge.idToken||void 0,kt.accessToken=Ge.accessToken||void 0,kt.secret=Ge.secret,kt.nonce=Ge.nonce,kt.pendingToken=Ge.pendingToken||null,kt}_getIdTokenResponse(d){return Oi(d,this.buildRequest())}_linkToIdToken(d,f){const T=this.buildRequest();return T.idToken=f,Oi(d,T)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Oi(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,S.xO)(f)}return d}}function hn(v,d){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:sendVerificationCode",At(v,d))})).apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithPhoneNumber",At(v,d))})).apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(v,d){const f=yield Qn(v,"POST","/v1/accounts:signInWithPhoneNumber",At(v,d));if(f.temporaryProof)throw Ar(v,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ni={USER_NOT_FOUND:"user-not-found"};function os(){return(os=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithPhoneNumber",At(v,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ni)})).apply(this,arguments)}class pi extends Ut{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new pi({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new pi({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function er(v,d){return Ur.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function mi(v,d){return Qr.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ms(v,d){return os.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:T,verificationCode:le}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:T,code:le}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:T,phoneNumber:le,temporaryProof:Ge}=d;return T||f||le||Ge?new pi({verificationId:f,verificationCode:T,phoneNumber:le,temporaryProof:Ge}):null}}class Qi{constructor(d){var f,T,le,Ge,kt,an;const qn=(0,S.zd)((0,S.pd)(d)),hr=null!==(f=qn.apiKey)&&void 0!==f?f:null,Hr=null!==(T=qn.oobCode)&&void 0!==T?T:null,Or=function Ii(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=qn.mode)&&void 0!==le?le:null);J(hr&&Hr&&Or,"argument-error"),this.apiKey=hr,this.operation=Or,this.code=Hr,this.continueUrl=null!==(Ge=qn.continueUrl)&&void 0!==Ge?Ge:null,this.languageCode=null!==(kt=qn.languageCode)&&void 0!==kt?kt:null,this.tenantId=null!==(an=qn.tenantId)&&void 0!==an?an:null}static parseLink(d){const f=function ys(v){const d=(0,S.zd)((0,S.pd)(v)).link,f=d?(0,S.zd)((0,S.pd)(d)).deep_link_id:null,T=(0,S.zd)((0,S.pd)(v)).deep_link_id;return(T?(0,S.zd)((0,S.pd)(T)).link:null)||T||f||d||v}(d);try{return new Qi(f)}catch(T){return null}}}let Gs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(f,T){return di._fromEmailAndPassword(f,T)}static credentialWithLink(f,T){const le=Qi.parseLink(T);return J(le,"argument-error"),di._fromEmailAndCode(f,le.code,le.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class $r{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ns extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ti extends ns{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return J("providerId"in f&&"signInMethod"in f,"argument-error"),Lt._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return J(d.idToken||d.accessToken,"argument-error"),Lt._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ti.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ti.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:T,oauthTokenSecret:le,pendingToken:Ge,nonce:kt,providerId:an}=d;if(!T&&!le&&!f&&!Ge||!an)return null;try{return new Ti(an)._credential({idToken:f,accessToken:T,nonce:kt,pendingToken:Ge})}catch(qn){return null}}}let Zi=(()=>{class v extends ns{constructor(){super("facebook.com")}static credential(f){return Lt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch(T){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Ps=(()=>{class v extends ns{constructor(){super("google.com"),this.addScope("profile")}static credential(f,T){return Lt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:T})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:T,oauthAccessToken:le}=f;if(!T&&!le)return null;try{return v.credential(T,le)}catch(Ge){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),vs=(()=>{class v extends ns{constructor(){super("github.com")}static credential(f){return Lt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return v.credential(f.oauthAccessToken)}catch(T){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class zi extends Ut{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return Oi(d,this.buildRequest())}_linkToIdToken(d,f){const T=this.buildRequest();return T.idToken=f,Oi(d,T)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,Oi(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:T,signInMethod:le,pendingToken:Ge}=f;return T&&le&&Ge&&T===le?new zi(T,Ge):null}static _create(d,f){return new zi(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ne extends $r{constructor(d){J(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return ne.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return ne.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=zi.fromJSON(d);return J(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:T}=d;if(!f||!T)return null;try{return zi._create(T,f)}catch(le){return null}}}let Q=(()=>{class v extends ns{constructor(){super("twitter.com")}static credential(f,T){return Lt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:T})}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:T,oauthTokenSecret:le}=f;if(!T||!le)return null;try{return v.credential(T,le)}catch(Ge){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function se(v,d){return C.apply(this,arguments)}function C(){return(C=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signUp",At(v,d))})).apply(this,arguments)}class g{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,T,le=!1){return(0,u.Z)(function*(){const Ge=yield Gt._fromIdTokenResponse(d,T,le),kt=E(T);return new g({user:Ge,providerId:kt,_tokenResponse:T,operationType:f})})()}static _forOperation(d,f,T){return(0,u.Z)(function*(){yield d._updateTokensIfNecessary(T,!0);const le=E(T);return new g({user:d,providerId:le,_tokenResponse:T,operationType:f})})()}}function E(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function K(){return(K=(0,u.Z)(function*(v){var d;const f=ft(v);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new g({user:f.currentUser,providerId:null,operationType:"signIn"});const T=yield se(f,{returnSecureToken:!0}),le=yield g._fromIdTokenResponse(f,"signIn",T,!0);return yield f._updateCurrentUser(le.user),le})).apply(this,arguments)}class ye extends S.ZR{constructor(d,f,T,le){var Ge;super(f.code,f.message),this.operationType=T,this.user=le,Object.setPrototypeOf(this,ye.prototype),this.customData={appName:d.name,tenantId:null!==(Ge=d.tenantId)&&void 0!==Ge?Ge:void 0,_serverResponse:f.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(d,f,T,le){return new ye(d,f,T,le)}}function et(v,d,f,T){return("reauthenticate"===d?f._getReauthenticationResolver(v):f._getIdTokenResponse(v)).catch(Ge=>{throw"auth/multi-factor-auth-required"===Ge.code?ye._fromErrorAndOperation(v,Ge,d,T):Ge})}function Dt(v){return new Set(v.map(({providerId:d})=>d).filter(d=>!!d))}function It(){return(It=(0,u.Z)(function*(v,d){const f=(0,S.m9)(v);yield k(!0,f,d);const{providerUserInfo:T}=yield dr(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),le=Dt(T||[]);return f.providerData=f.providerData.filter(Ge=>le.has(Ge.providerId)),le.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function F(v,d){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*(v,d,f=!1){const T=yield Tn(v,d._linkToIdToken(v.auth,yield v.getIdToken()),f);return g._forOperation(v,"link",T)})).apply(this,arguments)}function k(v,d,f){return ge.apply(this,arguments)}function ge(){return(ge=(0,u.Z)(function*(v,d,f){yield Hn(d);const le=!1===v?"provider-already-linked":"no-such-provider";J(Dt(d.providerData).has(f)===v,d.auth,le)})).apply(this,arguments)}function We(v,d){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(v,d,f=!1){var T;const{auth:le}=v,Ge="reauthenticate";try{const kt=yield Tn(v,et(le,Ge,d,v),f);J(kt.idToken,le,"internal-error");const an=en(kt.idToken);J(an,le,"internal-error");const{sub:qn}=an;return J(v.uid===qn,le,"user-mismatch"),g._forOperation(v,Ge,kt)}catch(kt){throw"auth/user-not-found"===(null===(T=kt)||void 0===T?void 0:T.code)&&qe(le,"user-mismatch"),kt}})).apply(this,arguments)}function Pt(v,d){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(v,d,f=!1){const T="signIn",le=yield et(v,T,d),Ge=yield g._fromIdTokenResponse(v,T,le);return f||(yield v._updateCurrentUser(Ge.user)),Ge})).apply(this,arguments)}function fr(v,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(v,d){return Pt(ft(v),d)})).apply(this,arguments)}function ir(v,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,d){const f=(0,S.m9)(v);return yield k(!1,f,d.providerId),F(f,d)})).apply(this,arguments)}function wr(v,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(v,d){return We((0,S.m9)(v),d)})).apply(this,arguments)}function qr(v,d){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*(v,d){return Qn(v,"POST","/v1/accounts:signInWithCustomToken",At(v,d))})).apply(this,arguments)}function L(){return(L=(0,u.Z)(function*(v,d){const f=ft(v),T=yield qr(f,{token:d,returnSecureToken:!0}),le=yield g._fromIdTokenResponse(f,"signIn",T);return yield f._updateCurrentUser(le.user),le})).apply(this,arguments)}class Re{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?sn._fromServerResponse(d,f):qe(d,"internal-error")}}class sn extends Re{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new sn(f)}}function Yn(v,d,f){var T;J((null===(T=f.url)||void 0===T?void 0:T.length)>0,v,"invalid-continue-uri"),J(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(J(f.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(J(f.android.packageName.length>0,v,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function Xi(){return(Xi=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v),le={requestType:"PASSWORD_RESET",email:d};f&&Yn(T,le,f),yield Hi(T,le)})).apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(v,d,f){yield Vn((0,S.m9)(v),{oobCode:d,newPassword:f})})).apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(v,d){yield Ai((0,S.m9)(v),{oobCode:d})})).apply(this,arguments)}function go(v,d){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(v,d){const f=(0,S.m9)(v),T=yield Vn(f,{oobCode:d}),le=T.requestType;switch(J(le,f,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(T.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(T.mfaInfo,f,"internal-error");default:J(T.email,f,"internal-error")}let Ge=null;return T.mfaInfo&&(Ge=Re._fromServerResponse(ft(f),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Ge},operation:le}})).apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(v,d){const{data:f}=yield go((0,S.m9)(v),d);return f.email})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(v,d,f){const T=ft(v),le=yield se(T,{returnSecureToken:!0,email:d,password:f}),Ge=yield g._fromIdTokenResponse(T,"signIn",le);return yield T._updateCurrentUser(Ge.user),Ge})).apply(this,arguments)}function No(){return(No=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v),le={requestType:"EMAIL_SIGNIN",email:d};J(f.handleCodeInApp,T,"argument-error"),f&&Yn(T,le,f),yield Di(T,le)})).apply(this,arguments)}function Ki(){return(Ki=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v),le=Gs.credentialWithLink(d,f||Kt());return J(le._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),fr(T,le)})).apply(this,arguments)}function Hs(v,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:createAuthUri",At(v,d))})).apply(this,arguments)}function b(){return(b=(0,u.Z)(function*(v,d){const T={identifier:d,continueUri:rn()?Kt():"http://localhost"},{signinMethods:le}=yield Hs((0,S.m9)(v),T);return le||[]})).apply(this,arguments)}function H(){return(H=(0,u.Z)(function*(v,d){const f=(0,S.m9)(v),le={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};d&&Yn(f.auth,le,d);const{email:Ge}=yield Ir(f.auth,le);Ge!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v),Ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:d};f&&Yn(T.auth,Ge,f);const{email:kt}=yield Wi(T.auth,Ge);kt!==v.email&&(yield v.reload())})).apply(this,arguments)}function _t(v,d){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(v,d){return Ht(v,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(v,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const T=(0,S.m9)(v),Ge={idToken:yield T.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},kt=yield Tn(T,_t(T.auth,Ge));T.displayName=kt.displayName||null,T.photoURL=kt.photoUrl||null;const an=T.providerData.find(({providerId:qn})=>"password"===qn);an&&(an.displayName=T.displayName,an.photoURL=T.photoURL),yield T._updateTokensIfNecessary(kt)})).apply(this,arguments)}function Tr(v,d,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(v,d,f){const{auth:T}=v,Ge={idToken:yield v.getIdToken(),returnSecureToken:!0};d&&(Ge.email=d),f&&(Ge.password=f);const kt=yield Tn(v,kr(T,Ge));yield v._updateTokensIfNecessary(kt,!0)})).apply(this,arguments)}class xr{constructor(d,f,T={}){this.isNewUser=d,this.providerId=f,this.profile=T}}class fi extends xr{constructor(d,f,T,le){super(d,f,T),this.username=le}}class Ri extends xr{constructor(d,f){super(d,"facebook.com",f)}}class ji extends fi{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class as extends xr{constructor(d,f){super(d,"google.com",f)}}class si extends fi{constructor(d,f,T){super(d,"twitter.com",f,T)}}function xs(v){const{user:d,_tokenResponse:f}=v;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function pr(v){var d,f;if(!v)return null;const{providerId:T}=v,le=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},Ge=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!T&&(null==v?void 0:v.idToken)){const kt=null===(f=null===(d=en(v.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(kt)return new xr(Ge,"anonymous"!==kt&&"custom"!==kt?kt:null)}if(!T)return null;switch(T){case"facebook.com":return new Ri(Ge,le);case"github.com":return new ji(Ge,le);case"google.com":return new as(Ge,le);case"twitter.com":return new si(Ge,le,v.screenName||null);case"custom":case"anonymous":return new xr(Ge,null);default:return new xr(Ge,T,le)}}(f)}class Ds{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new Ds("enroll",d)}static _fromMfaPendingCredential(d){return new Ds("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,T;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Ds._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(T=d.multiFactorSession)||void 0===T?void 0:T.idToken)return Ds._fromIdtoken(d.multiFactorSession.idToken)}return null}}class rr{constructor(d,f,T){this.session=d,this.hints=f,this.signInResolver=T}static _fromError(d,f){const T=ft(d),le=f.customData._serverResponse,Ge=(le.mfaInfo||[]).map(an=>Re._fromServerResponse(T,an));J(le.mfaPendingCredential,T,"internal-error");const kt=Ds._fromMfaPendingCredential(le.mfaPendingCredential);return new rr(kt,Ge,function(){var an=(0,u.Z)(function*(qn){const hr=yield qn._process(T,kt);delete le.mfaInfo,delete le.mfaPendingCredential;const Hr=Object.assign(Object.assign({},le),{idToken:hr.idToken,refreshToken:hr.refreshToken});switch(f.operationType){case"signIn":const Or=yield g._fromIdTokenResponse(T,f.operationType,Hr);return yield T._updateCurrentUser(Or.user),Or;case"reauthenticate":return J(f.user,T,"internal-error"),g._forOperation(f.user,f.operationType,Hr);default:qe(T,"internal-error")}});return function(qn){return an.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,u.Z)(function*(){return f.signInResolver(d)})()}}function Mr(v,d){return Ht(v,"POST","/v2/accounts/mfaEnrollment:start",At(v,d))}class ls{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(T=>Re._fromServerResponse(d.auth,T)))})}static _fromUser(d){return new ls(d)}getSession(){var d=this;return(0,u.Z)(function*(){return Ds._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var T=this;return(0,u.Z)(function*(){const le=d,Ge=yield T.getSession(),kt=yield Tn(T.user,le._process(T.user.auth,Ge,f));return yield T.user._updateTokensIfNecessary(kt),T.user.reload()})()}unenroll(d){var f=this;return(0,u.Z)(function*(){var T;const le="string"==typeof d?d:d.uid,Ge=yield f.user.getIdToken(),kt=yield Tn(f.user,function xi(v,d){return Ht(v,"POST","/v2/accounts/mfaEnrollment:withdraw",At(v,d))}(f.user.auth,{idToken:Ge,mfaEnrollmentId:le}));f.enrolledFactors=f.enrolledFactors.filter(({uid:an})=>an!==le),yield f.user._updateTokensIfNecessary(kt);try{yield f.user.reload()}catch(an){if("auth/user-token-expired"!==(null===(T=an)||void 0===T?void 0:T.code))throw an}})()}}const _s=new WeakMap,De="__sak";class st{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(De,"1"),this.storage.removeItem(De),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const sr=(()=>{class v extends st{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,T)=>this.onStorageEvent(f,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tt(){const v=(0,S.z$)();return je(v)||vr(v)}()&&function _r(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Xr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const T of Object.keys(this.listeners)){const le=this.storage.getItem(T),Ge=this.localCache[T];le!==Ge&&f(T,Ge,le)}}onStorageEvent(f,T=!1){if(!f.key)return void this.forAllChangedKeys((an,qn,hr)=>{this.notifyListeners(an,hr)});const le=f.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const an=this.storage.getItem(le);if(f.newValue!==an)null!==f.newValue?this.storage.setItem(le,f.newValue):this.storage.removeItem(le);else if(this.localCache[le]===f.newValue&&!T)return}const Ge=()=>{const an=this.storage.getItem(le);!T&&this.localCache[le]===an||this.notifyListeners(le,an)},kt=this.storage.getItem(le);!function Br(){return(0,S.w1)()&&10===document.documentMode}()||kt===f.newValue||f.newValue===f.oldValue?Ge():setTimeout(Ge,10)}notifyListeners(f,T){this.localCache[f]=T;const le=this.listeners[f];if(le)for(const Ge of Array.from(le))Ge(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,T,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:T,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,T){var le=()=>super._set,Ge=this;return(0,u.Z)(function*(){yield le().call(Ge,f,T),Ge.localCache[f]=JSON.stringify(T)})()}_get(f){var T=()=>super._get,le=this;return(0,u.Z)(function*(){const Ge=yield T().call(le,f);return le.localCache[f]=JSON.stringify(Ge),Ge})()}_remove(f){var T=()=>super._remove,le=this;return(0,u.Z)(function*(){yield T().call(le,f),delete le.localCache[f]})()}}return v.type="LOCAL",v})(),Jr=(()=>{class v extends st{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,T){}_removeListener(f,T){}}return v.type="SESSION",v})();let Sr=(()=>{class v{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const T=this.receivers.find(Ge=>Ge.isListeningto(f));if(T)return T;const le=new v(f);return this.receivers.push(le),le}isListeningto(f){return this.eventTarget===f}handleEvent(f){var T=this;return(0,u.Z)(function*(){const le=f,{eventId:Ge,eventType:kt,data:an}=le.data,qn=T.handlersMap[kt];if(!(null==qn?void 0:qn.size))return;le.ports[0].postMessage({status:"ack",eventId:Ge,eventType:kt});const hr=Array.from(qn).map(function(){var Or=(0,u.Z)(function*(Rs){return Rs(le.origin,an)});return function(Rs){return Or.apply(this,arguments)}}()),Hr=yield function ti(v){return Promise.all(v.map(function(){var d=(0,u.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(T){return{fulfilled:!1,reason:T}}});return function(f){return d.apply(this,arguments)}}()))}(hr);le.ports[0].postMessage({status:"done",eventId:Ge,eventType:kt,response:Hr})})()}_subscribe(f,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(T)}_unsubscribe(f,T){this.handlersMap[f]&&T&&this.handlersMap[f].delete(T),(!T||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Gi(v="",d=10){let f="";for(let T=0;T<d;T++)f+=Math.floor(10*Math.random());return v+f}class zs{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,T=50){var le=this;return(0,u.Z)(function*(){const Ge="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ge)throw new Error("connection_unavailable");let kt,an;return new Promise((qn,hr)=>{const Hr=Gi("",20);Ge.port1.start();const Or=setTimeout(()=>{hr(new Error("unsupported_event"))},T);an={messageChannel:Ge,onMessage(Rs){const Ao=Rs;if(Ao.data.eventId===Hr)switch(Ao.data.status){case"ack":clearTimeout(Or),kt=setTimeout(()=>{hr(new Error("timeout"))},3e3);break;case"done":clearTimeout(kt),qn(Ao.data.response);break;default:clearTimeout(Or),clearTimeout(kt),hr(new Error("invalid_response"))}}},le.handlers.add(an),Ge.port1.addEventListener("message",an.onMessage),le.target.postMessage({eventType:d,eventId:Hr,data:f},[Ge.port2])}).finally(()=>{an&&le.removeMessageHandler(an)})})()}}function Ci(){return window}function B(){return void 0!==Ci().WorkerGlobalScope&&"function"==typeof Ci().importScripts}function I(){return(I=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Le="firebaseLocalStorageDb",vt="firebaseLocalStorage",fn="fbase_key";class or{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Fn(v,d){return v.transaction([vt],d?"readwrite":"readonly").objectStore(vt)}function Si(){const v=indexedDB.open(Le,1);return new Promise((d,f)=>{v.addEventListener("error",()=>{f(v.error)}),v.addEventListener("upgradeneeded",()=>{const T=v.result;try{T.createObjectStore(vt,{keyPath:fn})}catch(le){f(le)}}),v.addEventListener("success",(0,u.Z)(function*(){const T=v.result;T.objectStoreNames.contains(vt)?d(T):(T.close(),yield function Ln(){const v=indexedDB.deleteDatabase(Le);return new or(v).toPromise()}(),d(yield Si()))}))})}function kn(v,d,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(v,d,f){const T=Fn(v,!0).put({[fn]:d,value:f});return new or(T).toPromise()})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(v,d){const f=Fn(v,!1).get(d),T=yield new or(f).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function za(v,d){const f=Fn(v,!0).delete(d);return new or(f).toPromise()}const Ma=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,u.Z)(function*(){return f.db||(f.db=yield Si()),f.db})()}_withRetries(f){var T=this;return(0,u.Z)(function*(){let le=0;for(;;)try{const Ge=yield T._openDb();return yield f(Ge)}catch(Ge){if(le++>3)throw Ge;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,u.Z)(function*(){return B()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,u.Z)(function*(){f.receiver=Sr._getInstance(function ae(){return B()?self:null}()),f.receiver._subscribe("keyChanged",function(){var T=(0,u.Z)(function*(le,Ge){return{keyProcessed:(yield f._poll()).includes(Ge.key)}});return function(le,Ge){return T.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var T=(0,u.Z)(function*(le,Ge){return["keyChanged"]});return function(le,Ge){return T.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,u.Z)(function*(){var T,le;if(f.activeServiceWorker=yield function O(){return I.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new zs(f.activeServiceWorker);const Ge=yield f.sender._send("ping",{},800);!Ge||(null===(T=Ge[0])||void 0===T?void 0:T.fulfilled)&&(null===(le=Ge[0])||void 0===le?void 0:le.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var T=this;return(0,u.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function q(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:f},T.serviceWorkerReceiverAvailable?800:50)}catch(le){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Si();return yield kn(f,De,"1"),yield za(f,De),!0}catch(f){}return!1})()}_withPendingWrite(f){var T=this;return(0,u.Z)(function*(){T.pendingWrites++;try{yield f()}finally{T.pendingWrites--}})()}_set(f,T){var le=this;return(0,u.Z)(function*(){return le._withPendingWrite((0,u.Z)(function*(){return yield le._withRetries(Ge=>kn(Ge,f,T)),le.localCache[f]=T,le.notifyServiceWorker(f)}))})()}_get(f){var T=this;return(0,u.Z)(function*(){const le=yield T._withRetries(Ge=>function On(v,d){return rs.apply(this,arguments)}(Ge,f));return T.localCache[f]=le,le})()}_remove(f){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(le=>za(le,f)),delete T.localCache[f],T.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,u.Z)(function*(){const T=yield f._withRetries(kt=>{const an=Fn(kt,!1).getAll();return new or(an).toPromise()});if(!T)return[];if(0!==f.pendingWrites)return[];const le=[],Ge=new Set;for(const{fbase_key:kt,value:an}of T)Ge.add(kt),JSON.stringify(f.localCache[kt])!==JSON.stringify(an)&&(f.notifyListeners(kt,an),le.push(kt));for(const kt of Object.keys(f.localCache))f.localCache[kt]&&!Ge.has(kt)&&(f.notifyListeners(kt,null),le.push(kt));return le})()}notifyListeners(f,T){this.localCache[f]=T;const le=this.listeners[f];if(le)for(const Ge of Array.from(le))Ge(T)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Fc(v,d){return Ht(v,"POST","/v2/accounts/mfaSignIn:start",At(v,d))}function pl(){return(pl=(0,u.Z)(function*(v){return(yield Ht(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sa(v){return new Promise((d,f)=>{const T=document.createElement("script");T.setAttribute("src",v),T.onload=d,T.onerror=le=>{const Ge=Te("internal-error");Ge.customData=le,f(Ge)},T.type="text/javascript",T.charset="UTF-8",function Bu(){var v,d;return null!==(d=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==d?d:document}().appendChild(T)})}function x(v){return`__${v}${Math.floor(1e6*Math.random())}`}const z=1e12;class fe{constructor(d){this.auth=d,this.counter=z,this._widgets=new Map}render(d,f){const T=this.counter;return this._widgets.set(T,new at(d,this.auth.name,f||{})),this.counter++,T}reset(d){var f;const T=d||z;null===(f=this._widgets.get(T))||void 0===f||f.delete(),this._widgets.delete(T)}getResponse(d){var f;return(null===(f=this._widgets.get(d||z))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,u.Z)(function*(){var T;return null===(T=f._widgets.get(d||z))||void 0===T||T.execute(),""})()}}class at{constructor(d,f,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof d?document.getElementById(d):d;J(le,"argument-error",{appName:f}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zt(v){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<v;T++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gn=x("rcb"),Gr=new qt(3e4,6e4);class Bo{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=Ci().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return J(function ks(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Ci().grecaptcha):new Promise((T,le)=>{const Ge=Ci().setTimeout(()=>{le(Te(d,"network-request-failed"))},Gr.get());Ci()[gn]=()=>{Ci().clearTimeout(Ge),delete Ci()[gn];const an=Ci().grecaptcha;if(!an)return void le(Te(d,"internal-error"));const qn=an.render;an.render=(hr,Hr)=>{const Or=qn(hr,Hr);return this.counter++,Or},this.hostLanguage=f,T(an)},sa(`https://www.google.com/recaptcha/api.js??${(0,S.xO)({onload:gn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(Ge),le(Te(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=Ci().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qo{load(d){return(0,u.Z)(function*(){return new fe(d)})()}clearedOneInstance(){}}const Wa="recaptcha",Ka={theme:"light",type:"image"};class Vo{constructor(d,f=Object.assign({},Ka),T){this.parameters=f,this.type=Wa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(T),this.isInvisible="invisible"===this.parameters.size,J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof d?document.getElementById(d):d;J(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qo:new Bo,this.validateStartingState()}verify(){var d=this;return(0,u.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),T=d.getAssertedRecaptcha();return T.getResponse(f)||new Promise(Ge=>{const kt=an=>{!an||(d.tokenChangeListeners.delete(kt),Ge(an))};d.tokenChangeListeners.add(kt),d.isInvisible&&T.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(T=>T(f)),"function"==typeof d)d(f);else if("string"==typeof d){const T=Ci()[d];"function"==typeof T&&T(f)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,u.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const T=document.createElement("div");f.appendChild(T),f=T}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,u.Z)(function*(){J(rn()&&!B(),d.auth,"internal-error"),yield function Vu(){let v=null;return new Promise(d=>{"complete"!==document.readyState?(v=()=>d(),window.addEventListener("load",v)):d()}).catch(d=>{throw v&&window.removeEventListener("load",v),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function kc(v){return pl.apply(this,arguments)}(d.auth);J(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=pi._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function oa(){return(oa=(0,u.Z)(function*(v,d,f){const T=ft(v),le=yield Oa(T,d,(0,S.m9)(f));return new Vr(le,Ge=>fr(T,Ge))})).apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v);yield k(!1,T,"phone");const le=yield Oa(T.auth,d,(0,S.m9)(f));return new Vr(le,Ge=>ir(T,Ge))})).apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v),le=yield Oa(T.auth,d,(0,S.m9)(f));return new Vr(le,Ge=>wr(T,Ge))})).apply(this,arguments)}function Oa(v,d,f){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(v,d,f){var T;const le=yield f.verify();try{let Ge;if(J("string"==typeof le,v,"argument-error"),J(f.type===Wa,v,"argument-error"),Ge="string"==typeof d?{phoneNumber:d}:d,"session"in Ge){const kt=Ge.session;if("phoneNumber"in Ge)return J("enroll"===kt.type,v,"internal-error"),(yield Mr(v,{idToken:kt.credential,phoneEnrollmentInfo:{phoneNumber:Ge.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{J("signin"===kt.type,v,"internal-error");const an=(null===(T=Ge.multiFactorHint)||void 0===T?void 0:T.uid)||Ge.multiFactorUid;return J(an,v,"missing-multi-factor-info"),(yield Fc(v,{mfaPendingCredential:kt.credential,mfaEnrollmentId:an,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:kt}=yield hn(v,{phoneNumber:Ge.phoneNumber,recaptchaToken:le});return kt}}finally{f._reset()}})).apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,d){yield F((0,S.m9)(v),d)})).apply(this,arguments)}let jo=(()=>{class v{constructor(f){this.providerId=v.PROVIDER_ID,this.auth=ft(f)}verifyPhoneNumber(f,T){return Oa(this.auth,f,(0,S.m9)(T))}static credential(f,T){return pi._fromVerification(f,T)}static credentialFromResult(f){return v.credentialFromTaggedObject(f)}static credentialFromError(f){return v.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:T,temporaryProof:le}=f;return T&&le?pi._fromTokenResponse(T,le):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function qa(v,d){return d?Je(d):(J(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Pa extends Ut{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Oi(d,this._buildIdpRequest())}_linkToIdToken(d,f){return Oi(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return Oi(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function xf(v){return Pt(v.auth,new Pa(v),v.bypassAuthState)}function Uu(v){const{auth:d,user:f}=v;return J(f,d,"internal-error"),We(f,new Pa(v),v.bypassAuthState)}function Mo(v){return ru.apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(v){const{auth:d,user:f}=v;return J(f,d,"internal-error"),F(f,new Pa(v),v.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(d,f,T,le,Ge=!1){this.auth=d,this.resolver=T,this.user=le,this.bypassAuthState=Ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,u.Z)(function*(T,le){d.pendingPromise={resolve:T,reject:le};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Ge){d.reject(Ge)}});return function(T,le){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,u.Z)(function*(){const{urlResponse:T,sessionId:le,postBody:Ge,tenantId:kt,error:an,type:qn}=d;if(an)return void f.reject(an);const hr={auth:f.auth,requestUri:T,sessionId:le,tenantId:kt||void 0,postBody:Ge||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(qn)(hr))}catch(Hr){f.reject(Hr)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return xf;case"linkViaPopup":case"linkViaRedirect":return Mo;case"reauthViaPopup":case"reauthViaRedirect":return Uu;default:qe(this.auth,"internal-error")}}resolve(d){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sf=new qt(2e3,1e4);function ju(){return(ju=(0,u.Z)(function*(v,d,f){const T=ft(v);rt(v,d,$r);const le=qa(T,f);return new iu(T,"signInViaPopup",d,le).executeNotNull()})).apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v);rt(T.auth,d,$r);const le=qa(T.auth,f);return new iu(T.auth,"reauthViaPopup",d,le,T).executeNotNull()})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v);rt(T.auth,d,$r);const le=qa(T.auth,f);return new iu(T.auth,"linkViaPopup",d,le,T).executeNotNull()})).apply(this,arguments)}let iu=(()=>{class v extends Ns{constructor(f,T,le,Ge,kt){super(f,T,Ge,kt),this.provider=le,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var f=this;return(0,u.Z)(function*(){const T=yield f.execute();return J(T,f.auth,"internal-error"),T})()}onExecution(){var f=this;return(0,u.Z)(function*(){Ce(1===f.filter.length,"Popup operations only handle one event");const T=Gi();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],T),f.authWindow.associatedEvent=T,f.resolver._originValidation(f.auth).catch(le=>{f.reject(le)}),f.resolver._isIframeWebStorageSupported(f.auth,le=>{le||f.reject(Te(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const f=()=>{var T,le;this.pollId=(null===(le=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===le?void 0:le.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,Sf.get())};f()}}return v.currentPopupAction=null,v})();const Ls=new Map;class Bg extends Ns{constructor(d,f,T=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,T),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,u.Z)(function*(){let T=Ls.get(f.auth._key());if(!T){try{const Ge=(yield function Cs(v,d){return su.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;T=()=>Promise.resolve(Ge)}catch(le){T=()=>Promise.reject(le)}Ls.set(f.auth._key(),T)}return f.bypassAuthState||Ls.set(f.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,T=this;return(0,u.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(T,d);if("unknown"!==d.type){if(d.eventId){const le=yield T.auth._redirectUserForId(d.eventId);if(le)return T.user=le,f().call(T,d);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function su(){return(su=(0,u.Z)(function*(v,d){const f=ml(d),T=Gu(v);if(!(yield T._isAvailable()))return!1;const le="true"===(yield T._get(f));return yield T._remove(f),le})).apply(this,arguments)}function Oo(v,d){return Es.apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(v,d){return Gu(v)._set(ml(d),"true")})).apply(this,arguments)}function ou(v,d){Ls.set(v._key(),d)}function Gu(v){return Je(v._redirectPersistence)}function ml(v){return M("pendingRedirect",v.config.apiKey,v.name)}function Qa(){return(Qa=(0,u.Z)(function*(v,d,f){const T=ft(v);rt(v,d,$r);const le=qa(T,f);return yield Oo(le,T),le._openRedirect(T,d,"signInViaRedirect")})).apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v);rt(T.auth,d,$r);const le=qa(T.auth,f);yield Oo(le,T.auth);const Ge=yield uu(T);return le._openRedirect(T.auth,d,"reauthViaRedirect",Ge)})).apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(v,d,f){const T=(0,S.m9)(v);rt(T.auth,d,$r);const le=qa(T.auth,f);yield k(!1,T,d.providerId),yield Oo(le,T.auth);const Ge=yield uu(T);return le._openRedirect(T.auth,d,"linkViaRedirect",Ge)})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(v,d){return yield ft(v)._initializationPromise,ya(v,d,!1)})).apply(this,arguments)}function ya(v,d){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,d,f=!1){const T=ft(v),le=qa(T,d),kt=yield new Bg(T,le,f).execute();return kt&&!f&&(delete kt.user._redirectEventId,yield T._persistUserIfCurrent(kt.user),yield T._setRedirectUser(null,d)),kt})).apply(this,arguments)}function uu(v){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(v){const d=Gi(`${v.uid}:::`);return v._redirectEventId=d,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),d})).apply(this,arguments)}class Za{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(d,T)&&(f=!0,this.sendToConsumer(d,T),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function du(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vl(v);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var T;if(d.error&&!vl(d)){const le=(null===(T=d.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";f.onError(Te(this.auth,le))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const T=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&T}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cu(d))}saveEventToCache(d){this.cachedEventUids.add(cu(d)),this.lastProcessedEventTime=Date.now()}}function cu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(d=>d).join("-")}function vl({type:v,error:d}){return"unknown"===v&&"auth/no-auth-event"===(null==d?void 0:d.code)}function _l(v){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,u.Z)(function*(v,d={}){return Ht(v,"GET","/v1/projects",d)})).apply(this,arguments)}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hu=/^https?/;function Bc(){return(Bc=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:d}=yield _l(v);for(const f of d)try{if(Zs(f))return}catch(T){}qe(v,"unauthorized-domain")})).apply(this,arguments)}function Zs(v){const d=Kt(),{protocol:f,hostname:T}=new URL(d);if(v.startsWith("chrome-extension://")){const kt=new URL(v);return""===kt.hostname&&""===T?"chrome-extension:"===f&&v.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&kt.hostname===T}if(!hu.test(f))return!1;if(El.test(v))return T===v;const le=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(T)}const Hd=new qt(3e4,6e4);function us(){const v=Ci().___jsl;if(null==v?void 0:v.H)for(const d of Object.keys(v.H))if(v.H[d].r=v.H[d].r||[],v.H[d].L=v.H[d].L||[],v.H[d].r=[...v.H[d].L],v.CP)for(let f=0;f<v.CP.length;f++)v.CP[f]=null}let fu=null;function Ja(v){return fu=fu||function Mf(v){return new Promise((d,f)=>{var T,le,Ge;function kt(){us(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{us(),f(Te(v,"network-request-failed"))},timeout:Hd.get()})}if(null===(le=null===(T=Ci().gapi)||void 0===T?void 0:T.iframes)||void 0===le?void 0:le.Iframe)d(gapi.iframes.getContext());else{if(!(null===(Ge=Ci().gapi)||void 0===Ge?void 0:Ge.load)){const an=x("iframefcb");return Ci()[an]=()=>{gapi.load?kt():f(Te(v,"network-request-failed"))},sa(`https://apis.google.com/js/api.js?onload=${an}`).catch(qn=>f(qn))}kt()}}).catch(d=>{throw fu=null,d})}(v),fu}const $u=new qt(5e3,15e3),zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$d=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Of(v){const d=v.config;J(d.authDomain,v,"auth-domain-config-required");const f=d.emulator?Qt(d,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,T={apiKey:d.apiKey,appName:v.name,v:ee.SDK_VERSION},le=$d.get(v.config.apiHost);le&&(T.eid=le);const Ge=v._getFrameworks();return Ge.length&&(T.fw=Ge.join(",")),`${f}?${(0,S.xO)(T).slice(1)}`}function pu(){return pu=(0,u.Z)(function*(v){const d=yield Ja(v),f=Ci().gapi;return J(f,v,"internal-error"),d.open({where:document.body,url:Of(v),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zu,dontclear:!0},T=>new Promise(function(){var le=(0,u.Z)(function*(Ge,kt){yield T.restyle({setHideOnLeave:!1});const an=Te(v,"network-request-failed"),qn=Ci().setTimeout(()=>{kt(an)},$u.get());function hr(){Ci().clearTimeout(qn),Ge(T)}T.ping(hr).then(hr,()=>{kt(an)})});return function(Ge,kt){return le.apply(this,arguments)}}()))}),pu.apply(this,arguments)}const zd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kd{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function Ea(v,d,f,T,le,Ge){J(v.config.authDomain,v,"auth-domain-config-required"),J(v.config.apiKey,v,"invalid-api-key");const kt={apiKey:v.config.apiKey,appName:v.name,authType:f,redirectUrl:T,v:ee.SDK_VERSION,eventId:le};if(d instanceof $r){d.setDefaultLanguage(v.languageCode),kt.providerId=d.providerId||"",(0,S.xb)(d.getCustomParameters())||(kt.customParameters=JSON.stringify(d.getCustomParameters()));for(const[qn,hr]of Object.entries(Ge||{}))kt[qn]=hr}if(d instanceof ns){const qn=d.getScopes().filter(hr=>""!==hr);qn.length>0&&(kt.scopes=qn.join(","))}v.tenantId&&(kt.tid=v.tenantId);const an=kt;for(const qn of Object.keys(an))void 0===an[qn]&&delete an[qn];return`${function Uc({config:v}){return v.emulator?Qt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,S.xO)(an).slice(1)}`}const Qo="webStorageSupport";class gu extends class Ff{constructor(d){this.factorId=d}_process(d,f,T){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,T);case"signin":return this._finalizeSignIn(d,f.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new gu(d)}_finalizeEnroll(d,f,T){return function jr(v,d){return Ht(v,"POST","/v2/accounts/mfaEnrollment:finalize",At(v,d))}(d,{idToken:f,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function ma(v,d){return Ht(v,"POST","/v2/accounts/mfaSignIn:finalize",At(v,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wu=(()=>{class v{constructor(){}static assertion(f){return gu._fromCredential(f)}}return v.FACTOR_ID="phone",v})();var Ku="@firebase/auth";class Ho{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,u.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(T=>{var le;d((null===(le=T)||void 0===le?void 0:le.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ro(){return window}function La(){return(La=(0,u.Z)(function*(v,d,f){var T;const{BuildInfo:le}=Ro();Ce(d.sessionId,"AuthEvent did not contain a session ID");const Ge=yield Gc(d.sessionId),kt={};return vr()?kt.ibi=le.packageName:dt()?kt.apn=le.packageName:qe(v,"operation-not-supported-in-this-environment"),le.displayName&&(kt.appDisplayName=le.displayName),kt.sessionId=Ge,Ea(v,f,d.type,void 0,null!==(T=d.eventId)&&void 0!==T?T:void 0,kt)})).apply(this,arguments)}function mu(){return(mu=(0,u.Z)(function*(v){const{BuildInfo:d}=Ro(),f={};vr()?f.iosBundleId=d.packageName:dt()?f.androidPackageName=d.packageName:qe(v,"operation-not-supported-in-this-environment"),yield _l(v,f)})).apply(this,arguments)}function yu(){return(yu=(0,u.Z)(function*(v,d,f){const{cordova:T}=Ro();let le=()=>{};try{yield new Promise((Ge,kt)=>{let an=null;function qn(){var Or;Ge();const Rs=null===(Or=T.plugins.browsertab)||void 0===Or?void 0:Or.close;"function"==typeof Rs&&Rs(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function hr(){an||(an=window.setTimeout(()=>{kt(Te(v,"redirect-cancelled-by-user"))},2e3))}function Hr(){"visible"===(null==document?void 0:document.visibilityState)&&hr()}d.addPassiveListener(qn),document.addEventListener("resume",hr,!1),dt()&&document.addEventListener("visibilitychange",Hr,!1),le=()=>{d.removePassiveListener(qn),document.removeEventListener("resume",hr,!1),document.removeEventListener("visibilitychange",Hr,!1),an&&window.clearTimeout(an)}})}finally{le()}})).apply(this,arguments)}function Gc(v){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(v){const d=Ba(v),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(le=>le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ba(v){if(Ce(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const d=new ArrayBuffer(v.length),f=new Uint8Array(d);for(let T=0;T<v.length;T++)f[T]=v.charCodeAt(T);return f}!function qu(v){(0,ee._registerComponent)(new Pe.wA("auth",(d,{options:f})=>{const T=d.getProvider("app").getImmediate(),le=d.getProvider("heartbeat"),{apiKey:Ge,authDomain:kt}=T.options;return((an,qn)=>{J(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:an.name}),J(!(null==kt?void 0:kt.includes(":")),"argument-error",{appName:an.name});const hr={apiKey:Ge,authDomain:kt,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gi(v)},Hr=new Mn(an,qn,hr);return function ot(v,d){const f=(null==d?void 0:d.persistence)||[],T=(Array.isArray(f)?f:[f]).map(Je);(null==d?void 0:d.errorMap)&&v._updateErrorMap(d.errorMap),v._initializeWithPersistence(T,null==d?void 0:d.popupRedirectResolver)}(Hr,f),Hr})(T,le)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,T)=>{d.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new Pe.wA("auth-internal",d=>{const f=ft(d.getProvider("auth").getImmediate());return new Ho(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Ku,"0.20.5",function Yd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ee.registerVersion)(Ku,"0.20.5","esm2017")}("Browser");class Lf extends Za{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,u.Z)(function*(){yield d.initPromise})()}}function rl(v){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(v){const d=yield Al()._get(Zu(v));return d&&(yield Al()._remove(Zu(v))),d})).apply(this,arguments)}function Cl(){const v=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const T=Math.floor(Math.random()*d.length);v.push(d.charAt(T))}return v.join("")}function Al(){return Je(sr)}function Zu(v){return M("authEvent",v.config.apiKey,v.name)}function is(v){if(!(null==v?void 0:v.includes("?")))return{};const[d,...f]=v.split("?");return(0,S.zd)(f.join("?"))}function Hc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Te("no-auth-event")}}function Tl(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function xl(v=(0,S.z$)()){return!("file:"!==Tl()&&"ionic:"!==Tl()&&"capacitor:"!==Tl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xu(){try{const v=self.localStorage,d=Gi();if(v)return v.setItem(d,"1"),v.removeItem(d),!function Mi(v=(0,S.z$)()){return function uo(){return(0,S.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Os(v=(0,S.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,S.hl)()}catch(v){return Ws()&&(0,S.hl)()}return!1}function Ws(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Eo(){return(function Vf(){return"http:"===Tl()||"https:"===Tl()}()||(0,S.ru)()||xl())&&!function sl(){return(0,S.b$)()||(0,S.UG)()}()&&Xu()&&!Ws()}function ec(){return xl()&&"undefined"!=typeof document}function tc(){return(tc=(0,u.Z)(function*(){return!!ec()&&new Promise(v=>{const d=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),v(!0)})})})).apply(this,arguments)}const wo={LOCAL:"local",NONE:"none",SESSION:"session"},co=J,$c="persistence";function zc(v){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,u.Z)(function*(v){yield v._initializationPromise;const d=nh(),f=M($c,v.config.apiKey,v.name);d&&d.setItem(f,v._getPersistence())})).apply(this,arguments)}function nh(){var v;try{return(null===(v=function Sl(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(d){return null}}const nc=J;class Do{constructor(){this.browserResolver=Je(class qd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jr,this._completeRedirectFn=ya,this._overrideRedirectResult=ou}_openPopup(d,f,T,le){var Ge=this;return(0,u.Z)(function*(){var kt;Ce(null===(kt=Ge.eventManagers[d._key()])||void 0===kt?void 0:kt.manager,"_initialize() not called before _openPopup()");const an=Ea(d,f,T,Kt(),le);return function Pf(v,d,f,T=500,le=600){const Ge=Math.max((window.screen.availHeight-le)/2,0).toString(),kt=Math.max((window.screen.availWidth-T)/2,0).toString();let an="";const qn=Object.assign(Object.assign({},zd),{width:T.toString(),height:le.toString(),top:Ge,left:kt}),hr=(0,S.z$)().toLowerCase();f&&(an=nt(hr)?"_blank":f),Ye(hr)&&(d=d||"http://localhost",qn.scrollbars="yes");const Hr=Object.entries(qn).reduce((Rs,[Ao,_u])=>`${Rs}${Ao}=${_u},`,"");if(function li(v=(0,S.z$)()){var d;return vr(v)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(hr)&&"_self"!==an)return function Na(v,d){const f=document.createElement("a");f.href=v,f.target=d;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(T)}(d||"",an),new Kd(null);const Or=window.open(d||"",an,Hr);J(Or,v,"popup-blocked");try{Or.focus()}catch(Rs){}return new Kd(Or)}(d,an,Gi())})()}_openRedirect(d,f,T,le){var Ge=this;return(0,u.Z)(function*(){return yield Ge._originValidation(d),function Lo(v){Ci().location.href=v}(Ea(d,f,T,Kt(),le)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:le,promise:Ge}=this.eventManagers[f];return le?Promise.resolve(le):(Ce(Ge,"If manager is not set, promise should be"),Ge)}const T=this.initAndGetManager(d);return this.eventManagers[f]={promise:T},T.catch(()=>{delete this.eventManagers[f]}),T}initAndGetManager(d){var f=this;return(0,u.Z)(function*(){const T=yield function Bs(v){return pu.apply(this,arguments)}(d),le=new Za(d);return T.register("authEvent",Ge=>(J(null==Ge?void 0:Ge.authEvent,d,"invalid-auth-event"),{status:le.onEvent(Ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:le},f.iframes[d._key()]=T,le})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Qo,{type:Qo},le=>{var Ge;const kt=null===(Ge=null==le?void 0:le[0])||void 0===Ge?void 0:Ge[Qo];void 0!==kt&&f(!!kt),qe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Gd(v){return Bc.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return Xr()||je()||vr()}}),this.cordovaResolver=Je(class Bf{constructor(){this._redirectPersistence=Jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ya,this._overrideRedirectResult=ou}_initialize(d){var f=this;return(0,u.Z)(function*(){const T=d._key();let le=f.eventManagers.get(T);return le||(le=new Lf(d),f.eventManagers.set(T,le),f.attachCallbackListeners(d,le)),le})()}_openPopup(d){qe(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,T,le){var Ge=this;return(0,u.Z)(function*(){!function Vg(v){var d,f,T,le,Ge,kt,an,qn,hr,Hr;const Or=Ro();J("function"==typeof(null===(d=null==Or?void 0:Or.universalLinks)||void 0===d?void 0:d.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(void 0!==(null===(f=null==Or?void 0:Or.BuildInfo)||void 0===f?void 0:f.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(Ge=null===(le=null===(T=null==Or?void 0:Or.cordova)||void 0===T?void 0:T.plugins)||void 0===le?void 0:le.browsertab)||void 0===Ge?void 0:Ge.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(qn=null===(an=null===(kt=null==Or?void 0:Or.cordova)||void 0===kt?void 0:kt.plugins)||void 0===an?void 0:an.browsertab)||void 0===qn?void 0:qn.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Hr=null===(hr=null==Or?void 0:Or.cordova)||void 0===hr?void 0:hr.InAppBrowser)||void 0===Hr?void 0:Hr.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const kt=yield Ge._initialize(d);yield kt.initialized(),kt.resetRedirect(),function Ya(){Ls.clear()}(),yield Ge._originValidation(d);const an=function Va(v,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Cl(),postBody:null,tenantId:v.tenantId,error:Te(v,"no-auth-event")}}(d,T,le);yield function Zd(v,d){return Al()._set(Zu(v),d)}(d,an);const qn=yield function Zo(v,d,f){return La.apply(this,arguments)}(d,an,f),hr=yield function jc(v){const{cordova:d}=Ro();return new Promise(f=>{d.plugins.browsertab.isAvailable(T=>{let le=null;T?d.plugins.browsertab.openUrl(v):le=d.InAppBrowser.open(v,function Kr(v=(0,S.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),f(le)})})}(qn);return function Nf(v,d,f){return yu.apply(this,arguments)}(d,kt,hr)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qd(v){return mu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:T,handleOpenURL:le,BuildInfo:Ge}=Ro(),kt=setTimeout((0,u.Z)(function*(){yield rl(d),f.onEvent(Hc())}),500),an=function(){var Hr=(0,u.Z)(function*(Or){clearTimeout(kt);const Rs=yield rl(d);let Ao=null;Rs&&(null==Or?void 0:Or.url)&&(Ao=function Jd(v,d){var f,T;const le=function Ju(v){const d=is(v),f=d.link?decodeURIComponent(d.link):void 0,T=is(f).link,le=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return is(le).link||le||T||f||v}(d);if(le.includes("/__/auth/callback")){const Ge=is(le),kt=Ge.firebaseError?function fs(v){try{return JSON.parse(v)}catch(d){return null}}(decodeURIComponent(Ge.firebaseError)):null,an=null===(T=null===(f=null==kt?void 0:kt.code)||void 0===f?void 0:f.split("auth/"))||void 0===T?void 0:T[1],qn=an?Te(an):null;return qn?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:qn,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:le,postBody:null}}return null}(Rs,Or.url)),f.onEvent(Ao||Hc())});return function(Rs){return Hr.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,an);const qn=le,hr=`${Ge.packageName.toLowerCase()}://`;Ro().handleOpenURL=function(){var Hr=(0,u.Z)(function*(Or){if(Or.toLowerCase().startsWith(hr)&&an({url:Or}),"function"==typeof qn)try{qn(Or)}catch(Rs){console.error(Rs)}});return function(Or){return Hr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Jr,this._completeRedirectFn=ya,this._overrideRedirectResult=ou}_initialize(d){var f=this;return(0,u.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,T,le){var Ge=this;return(0,u.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openPopup(d,f,T,le)})()}_openRedirect(d,f,T,le){var Ge=this;return(0,u.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openRedirect(d,f,T,le)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return ec()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,u.Z)(function*(){if(d.underlyingResolver)return;const f=yield function bo(){return tc.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Ol(v){return v.unwrap()}function Rl(v){return Kc(v)}function Kc(v){const{_tokenResponse:d}=v instanceof S.ZR?v.customData:v;if(!d)return null;if(!(v instanceof S.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return jo.credentialFromResult(v);const f=d.providerId;if(!f||"password"===f)return null;let T;switch(f){case"google.com":T=Ps;break;case"facebook.com":T=Zi;break;case"github.com":T=vs;break;case"twitter.com":T=Q;break;default:const{oauthIdToken:le,oauthAccessToken:Ge,oauthTokenSecret:kt,pendingToken:an,nonce:qn}=d;return Ge||kt||le||an?an?f.startsWith("saml.")?zi._create(f,an):Lt._fromParams({providerId:f,signInMethod:f,pendingToken:an,idToken:le,accessToken:Ge}):new Ti(f).credential({idToken:le,accessToken:Ge,rawNonce:qn}):null}return v instanceof S.ZR?T.credentialFromError(v):T.credentialFromResult(v)}function Co(v,d){return d.catch(f=>{throw f instanceof S.ZR&&function rh(v,d){var f,T;const le=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(T=d)||void 0===T?void 0:T.code))d.resolver=new ih(v,function Er(v,d){var f;const T=(0,S.m9)(v),le=d;return J(d.customData.operationType,T,"argument-error"),J(null===(f=le.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,T,"argument-error"),rr._fromError(T,le)}(v,d));else if(le){const Ge=Kc(d),kt=d;Ge&&(kt.credential=Ge,kt.tenantId=le.tenantId||void 0,kt.email=le.email||void 0,kt.phoneNumber=le.phoneNumber||void 0)}}(v,f),f}).then(f=>{const le=f.user;return{operationType:f.operationType,credential:Rl(f),additionalUserInfo:xs(f),user:wa.getOrCreate(le)}})}function ic(v,d){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.Z)(function*(v,d){const f=yield d;return{verificationId:f.verificationId,confirm:T=>Co(v,f.confirm(T))}})).apply(this,arguments)}class ih{constructor(d,f){this.resolver=f,this.auth=function rc(v){return v.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return Co(Ol(this.auth),this.resolver.resolveSignIn(d))}}class wa{constructor(d){this._delegate=d,this.multiFactor=function pe(v){const d=(0,S.m9)(v);return _s.has(d)||_s.set(d,ls._fromUser(d)),_s.get(d)}(d)}static getOrCreate(d){return wa.USER_MAP.has(d)||wa.USER_MAP.set(d,new wa(d)),wa.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,u.Z)(function*(){return Co(f.auth,ir(f._delegate,d))})()}linkWithPhoneNumber(d,f){var T=this;return(0,u.Z)(function*(){return ic(T.auth,function Tf(v,d,f){return aa.apply(this,arguments)}(T._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,u.Z)(function*(){return Co(f.auth,function to(v,d,f){return qi.apply(this,arguments)}(f._delegate,d,Do))})()}linkWithRedirect(d){var f=this;return(0,u.Z)(function*(){return yield zc(ft(f.auth)),function yl(v,d,f){return function Yo(v,d,f){return Go.apply(this,arguments)}(v,d,f)}(f._delegate,d,Do)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,u.Z)(function*(){return Co(f.auth,wr(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return ic(this.auth,function yo(v,d,f){return Jt.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return Co(this.auth,function Ss(v,d,f){return gl.apply(this,arguments)}(this._delegate,d,Do))}reauthenticateWithRedirect(d){var f=this;return(0,u.Z)(function*(){return yield zc(ft(f.auth)),function Ms(v,d,f){return function Nc(v,d,f){return ua.apply(this,arguments)}(v,d,f)}(f._delegate,d,Do)})()}sendEmailVerification(d){return function A(v,d){return H.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,u.Z)(function*(){return yield function Ct(v,d){return It.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function nr(v,d){return Tr((0,S.m9)(v),d,null)}(this._delegate,d)}updatePassword(d){return function mr(v,d){return Tr((0,S.m9)(v),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function nu(v,d){return Ra.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function zt(v,d){return pn.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function xe(v,d,f){return Xe.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wa.USER_MAP=new WeakMap;const vu=J;let Pl=(()=>{class v{constructor(f,T){if(this.app=f,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:le}=f.options;vu(le,"invalid-api-key",{appName:f.name}),vu(le,"invalid-api-key",{appName:f.name});const Ge="undefined"!=typeof window?Do:void 0;this._delegate=T.initialize({options:{persistence:sh(le,f.name),popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(ue),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,T){!function yn(v,d,f){const T=ft(v);J(T._canInitEmulator,T,"emulator-config-failed"),J(/^https?:\/\//.test(d),T,"invalid-emulator-scheme");const le=!!(null==f?void 0:f.disableWarnings),Ge=$n(d),{host:kt,port:an}=function gr(v){const d=$n(v),f=/(\/\/)?([^?#/]+)/.exec(v.substr(d.length));if(!f)return{host:"",port:null};const T=f[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(T);if(le){const Ge=le[1];return{host:Ge,port:Et(T.substr(Ge.length+1))}}{const[Ge,kt]=T.split(":");return{host:Ge,port:Et(kt)}}}(d);T.config.emulator={url:`${Ge}//${kt}${null===an?"":`:${an}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:kt,port:an,protocol:Ge.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function gt(){function v(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,f,T)}applyActionCode(f){return function vn(v,d){return ei.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return go(this._delegate,f)}confirmPasswordReset(f,T){return function Ui(v,d,f){return es.apply(this,arguments)}(this._delegate,f,T)}createUserWithEmailAndPassword(f,T){var le=this;return(0,u.Z)(function*(){return Co(le._delegate,function Ts(v,d,f){return mo.apply(this,arguments)}(le._delegate,f,T))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function be(v,d){return b.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function ro(v,d){const f=Qi.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,u.Z)(function*(){vu(Eo(),f._delegate,"operation-not-supported-in-this-environment");const T=yield function lu(v,d){return ca.apply(this,arguments)}(f._delegate,Do);return T?Co(f._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function eh(v,d){ft(v)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,T,le){const{next:Ge,error:kt,complete:an}=qc(f,T,le);return this._delegate.onAuthStateChanged(Ge,kt,an)}onIdTokenChanged(f,T,le){const{next:Ge,error:kt,complete:an}=qc(f,T,le);return this._delegate.onIdTokenChanged(Ge,kt,an)}sendSignInLinkToEmail(f,T){return function xa(v,d,f){return No.apply(this,arguments)}(this._delegate,f,T)}sendPasswordResetEmail(f,T){return function ci(v,d,f){return Xi.apply(this,arguments)}(this._delegate,f,T||void 0)}setPersistence(f){var T=this;return(0,u.Z)(function*(){let le;switch(function Ml(v,d){co(Object.values(wo).includes(d),v,"invalid-persistence-type"),(0,S.b$)()?co(d!==wo.SESSION,v,"unsupported-persistence-type"):(0,S.UG)()?co(d===wo.NONE,v,"unsupported-persistence-type"):Ws()?co(d===wo.NONE||d===wo.LOCAL&&(0,S.hl)(),v,"unsupported-persistence-type"):co(d===wo.NONE||Xu(),v,"unsupported-persistence-type")}(T._delegate,f),f){case wo.SESSION:le=Jr;break;case wo.LOCAL:le=(yield Je(Ma)._isAvailable())?Ma:sr;break;case wo.NONE:le=Nt;break;default:return qe("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(le)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Co(this._delegate,function V(v){return K.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Co(this._delegate,fr(this._delegate,f))}signInWithCustomToken(f){return Co(this._delegate,function G(v,d){return L.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,T){return Co(this._delegate,function ko(v,d,f){return fr((0,S.m9)(v),Gs.credential(d,f))}(this._delegate,f,T))}signInWithEmailLink(f,T){return Co(this._delegate,function io(v,d,f){return Ki.apply(this,arguments)}(this._delegate,f,T))}signInWithPhoneNumber(f,T){return ic(this._delegate,function Uo(v,d,f){return oa.apply(this,arguments)}(this._delegate,f,T))}signInWithPopup(f){var T=this;return(0,u.Z)(function*(){return vu(Eo(),T._delegate,"operation-not-supported-in-this-environment"),Co(T._delegate,function Fa(v,d,f){return ju.apply(this,arguments)}(T._delegate,f,Do))})()}signInWithRedirect(f){var T=this;return(0,u.Z)(function*(){return vu(Eo(),T._delegate,"operation-not-supported-in-this-environment"),yield zc(T._delegate),function au(v,d,f){return function la(v,d,f){return Qa.apply(this,arguments)}(v,d,f)}(T._delegate,f,Do)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function So(v,d){return ds.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=wo,v})();function qc(v,d,f){let T=v;"function"!=typeof v&&({next:T,error:d,complete:f}=v);const le=T;return{next:kt=>le(kt&&wa.getOrCreate(kt)),error:d,complete:f}}function sh(v,d){const f=function oi(v,d){const f=nh();if(!f)return[];const T=M($c,v,d);switch(f.getItem(T)){case wo.NONE:return[Nt];case wo.LOCAL:return[Ma,Jr];case wo.SESSION:return[Jr];default:return[]}}(v,d);if("undefined"!=typeof self&&!f.includes(Ma)&&f.push(Ma),"undefined"!=typeof window)for(const T of[sr,Jr])f.includes(T)||f.push(T);return f.includes(Nt)||f.push(Nt),f}class Vs{constructor(){this.providerId="phone",this._delegate=new jo(Ol(_.Z.auth()))}static credential(d,f){return jo.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}Vs.PHONE_SIGN_IN_METHOD=jo.PHONE_SIGN_IN_METHOD,Vs.PROVIDER_ID=jo.PROVIDER_ID;const Yc=J;class oh{constructor(d,f,T=_.Z.app()){var le;Yc(null===(le=T.options)||void 0===le?void 0:le.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new Vo(d,f,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ks(v){v.INTERNAL.registerComponent(new Pe.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),T=d.getProvider("auth");return new Pl(f,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gs,FacebookAuthProvider:Zi,GithubAuthProvider:vs,GoogleAuthProvider:Ps,OAuthProvider:Ti,SAMLAuthProvider:ne,PhoneAuthProvider:Vs,PhoneMultiFactorGenerator:Wu,RecaptchaVerifier:oh,TwitterAuthProvider:Q,Auth:Pl,AuthCredential:Ut,Error:S.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.18")}(_.Z)},9769:(Xt,tt,y)=>{y.d(tt,{dP:()=>ot,re:()=>ln});var u=y(9428),_=y(3119);function S(){}var me,ee=function(){function mt(qt,Qt){void 0===qt&&(qt=1/0),void 0===Qt&&(Qt=S),this.max=qt,this.dispose=Qt,this.map=new Map,this.newest=null,this.oldest=null}return mt.prototype.has=function(qt){return this.map.has(qt)},mt.prototype.get=function(qt){var Qt=this.getNode(qt);return Qt&&Qt.value},mt.prototype.getNode=function(qt){var Qt=this.map.get(qt);if(Qt&&Qt!==this.newest){var un=Qt.older,_n=Qt.newer;_n&&(_n.older=un),un&&(un.newer=_n),Qt.older=this.newest,Qt.older.newer=Qt,Qt.newer=null,this.newest=Qt,Qt===this.oldest&&(this.oldest=_n)}return Qt},mt.prototype.set=function(qt,Qt){var un=this.getNode(qt);return un?un.value=Qt:(un={key:qt,value:Qt,newer:null,older:this.newest},this.newest&&(this.newest.newer=un),this.newest=un,this.oldest=this.oldest||un,this.map.set(qt,un),un.value)},mt.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},mt.prototype.delete=function(qt){var Qt=this.map.get(qt);return!!Qt&&(Qt===this.newest&&(this.newest=Qt.older),Qt===this.oldest&&(this.oldest=Qt.newer),Qt.newer&&(Qt.newer.older=Qt.older),Qt.older&&(Qt.older.newer=Qt.newer),this.map.delete(qt),this.dispose(Qt.value,qt),!0)},mt}(),ce=new _.g7,Pe=Object.prototype.hasOwnProperty,ve=void 0===(me=Array.from)?function(mt){var qt=[];return mt.forEach(function(Qt){return qt.push(Qt)}),qt}:me;function _e(mt){var qt=mt.unsubscribe;"function"==typeof qt&&(mt.unsubscribe=void 0,qt())}var $=[];function oe(mt,qt){if(!mt)throw new Error(qt||"assertion failure")}function Ie(mt){switch(mt.length){case 0:throw new Error("unknown value");case 1:return mt[0];case 2:throw mt[1]}}var $e=function(){function mt(qt){this.fn=qt,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++mt.count}return mt.prototype.peek=function(){if(1===this.value.length&&!xt(this))return ke(this),this.value[0]},mt.prototype.recompute=function(qt){return oe(!this.recomputing,"already recomputing"),ke(this),xt(this)?function Qe(mt,qt){return Ce(mt),ce.withValue(mt,Be,[mt,qt]),function Je(mt,qt){if("function"==typeof mt.subscribe)try{_e(mt),mt.unsubscribe=mt.subscribe.apply(null,qt)}catch(Qt){return mt.setDirty(),!1}return!0}(mt,qt)&&function qe(mt){mt.dirty=!1,!xt(mt)&&Ue(mt)}(mt),Ie(mt.value)}(this,qt):Ie(this.value)},mt.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Te(this),_e(this))},mt.prototype.dispose=function(){var qt=this;this.setDirty(),Ce(this),rt(this,function(Qt,un){Qt.setDirty(),He(Qt,qt)})},mt.prototype.forget=function(){this.dispose()},mt.prototype.dependOn=function(qt){qt.add(this),this.deps||(this.deps=$.pop()||new Set),this.deps.add(qt)},mt.prototype.forgetDeps=function(){var qt=this;this.deps&&(ve(this.deps).forEach(function(Qt){return Qt.delete(qt)}),this.deps.clear(),$.push(this.deps),this.deps=null)},mt.count=0,mt}();function ke(mt){var qt=ce.getValue();if(qt)return mt.parents.add(qt),qt.childValues.has(mt)||qt.childValues.set(mt,[]),xt(mt)?ze(qt,mt):J(qt,mt),qt}function Be(mt,qt){mt.recomputing=!0,mt.value.length=0;try{mt.value[0]=mt.fn.apply(null,qt)}catch(Qt){mt.value[1]=Qt}mt.recomputing=!1}function xt(mt){return mt.dirty||!(!mt.dirtyChildren||!mt.dirtyChildren.size)}function Te(mt){rt(mt,ze)}function Ue(mt){rt(mt,J)}function rt(mt,qt){var Qt=mt.parents.size;if(Qt)for(var un=ve(mt.parents),_n=0;_n<Qt;++_n)qt(un[_n],mt)}function ze(mt,qt){oe(mt.childValues.has(qt)),oe(xt(qt));var Qt=!xt(mt);if(mt.dirtyChildren){if(mt.dirtyChildren.has(qt))return}else mt.dirtyChildren=$.pop()||new Set;mt.dirtyChildren.add(qt),Qt&&Te(mt)}function J(mt,qt){oe(mt.childValues.has(qt)),oe(!xt(qt));var Qt=mt.childValues.get(qt);0===Qt.length?mt.childValues.set(qt,function ue(mt){return mt.slice(0)}(qt.value)):function Fe(mt,qt){var Qt=mt.length;return Qt>0&&Qt===qt.length&&mt[Qt-1]===qt[Qt-1]}(Qt,qt.value)||mt.setDirty(),re(mt,qt),!xt(mt)&&Ue(mt)}function re(mt,qt){var Qt=mt.dirtyChildren;Qt&&(Qt.delete(qt),0===Qt.size&&($.length<100&&$.push(Qt),mt.dirtyChildren=null))}function Ce(mt){mt.childValues.size>0&&mt.childValues.forEach(function(qt,Qt){He(mt,Qt)}),mt.forgetDeps(),oe(null===mt.dirtyChildren)}function He(mt,qt){qt.parents.delete(mt),mt.childValues.delete(qt),re(mt,qt)}var ut={setDirty:!0,dispose:!0,forget:!0};function ot(mt){var qt=new Map,Qt=mt&&mt.subscribe;function un(_n){var Mt=ce.getValue();if(Mt){var At=qt.get(_n);At||qt.set(_n,At=new Set),Mt.dependOn(At),"function"==typeof Qt&&(_e(At),At.unsubscribe=Qt(_n))}}return un.dirty=function(Mt,At){var Ht=qt.get(Mt);if(Ht){var xn=At&&Pe.call(ut,At)?At:"setDirty";ve(Ht).forEach(function(In){return In[xn]()}),qt.delete(Mt),_e(Ht)}},un}function Kt(){var mt=new u.B("function"==typeof WeakMap);return function(){return mt.lookupArray(arguments)}}Kt();var En=new Set;function ln(mt,qt){void 0===qt&&(qt=Object.create(null));var Qt=new ee(qt.max||Math.pow(2,16),function(In){return In.dispose()}),un=qt.keyArgs,_n=qt.makeCacheKey||Kt(),Mt=function(){var In=_n.apply(null,un?un.apply(null,arguments):arguments);if(void 0===In)return mt.apply(null,arguments);var Gn=Qt.get(In);Gn||(Qt.set(In,Gn=new $e(mt)),Gn.subscribe=qt.subscribe,Gn.forget=function(){return Qt.delete(In)});var Qn=Gn.recompute(Array.prototype.slice.call(arguments));return Qt.set(In,Gn),En.add(Qt),ce.hasValue()||(En.forEach(function(Kn){return Kn.clean()}),En.clear()),Qn};function At(In){var Gn=Qt.get(In);Gn&&Gn.setDirty()}function Ht(In){var Gn=Qt.get(In);if(Gn)return Gn.peek()}function xn(In){return Qt.delete(In)}return Object.defineProperty(Mt,"size",{get:function(){return Qt.map.size},configurable:!1,enumerable:!1}),Mt.dirtyKey=At,Mt.dirty=function(){At(_n.apply(null,arguments))},Mt.peekKey=Ht,Mt.peek=function(){return Ht(_n.apply(null,arguments))},Mt.forgetKey=xn,Mt.forget=function(){return xn(_n.apply(null,arguments))},Mt.makeCacheKey=_n,Mt.getKey=un?function(){return _n.apply(null,un.apply(null,arguments))}:_n,Object.freeze(Mt)}},1135:(Xt,tt,y)=>{y.d(tt,{X:()=>_});var u=y(7579);class _ extends u.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ce=super._subscribe(ee);return!ce.closed&&ee.next(this._value),ce}getValue(){const{hasError:ee,thrownError:ce,_value:me}=this;if(ee)throw ce;return this._throwIfClosed(),me}next(ee){super.next(this._value=ee)}}},8306:(Xt,tt,y)=>{y.d(tt,{y:()=>$});var u=y(930),_=y(727),S=y(8822),ee=y(4671);var Pe=y(2416),ve=y(576),_e=y(2806);let $=(()=>{class Ie{constructor($e){$e&&(this._subscribe=$e)}lift($e){const ke=new Ie;return ke.source=this,ke.operator=$e,ke}subscribe($e,ke,Qe){const Be=function Fe(Ie){return Ie&&Ie instanceof u.Lv||function oe(Ie){return Ie&&(0,ve.m)(Ie.next)&&(0,ve.m)(Ie.error)&&(0,ve.m)(Ie.complete)}(Ie)&&(0,_.Nn)(Ie)}($e)?$e:new u.Hp($e,ke,Qe);return(0,_e.x)(()=>{const{operator:xt,source:qe}=this;Be.add(xt?xt.call(Be,qe):qe?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe($e){try{return this._subscribe($e)}catch(ke){$e.error(ke)}}forEach($e,ke){return new(ke=ie(ke))((Qe,Be)=>{const xt=new u.Hp({next:qe=>{try{$e(qe)}catch(Te){Be(Te),xt.unsubscribe()}},error:Be,complete:Qe});this.subscribe(xt)})}_subscribe($e){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe($e)}[S.L](){return this}pipe(...$e){return function me(Ie){return 0===Ie.length?ee.y:1===Ie.length?Ie[0]:function($e){return Ie.reduce((ke,Qe)=>Qe(ke),$e)}}($e)(this)}toPromise($e){return new($e=ie($e))((ke,Qe)=>{let Be;this.subscribe(xt=>Be=xt,xt=>Qe(xt),()=>ke(Be))})}}return Ie.create=ue=>new Ie(ue),Ie})();function ie(Ie){var ue;return null!==(ue=null!=Ie?Ie:Pe.v.Promise)&&void 0!==ue?ue:Promise}},4707:(Xt,tt,y)=>{y.d(tt,{t:()=>S});var u=y(7579),_=y(6063);class S extends u.x{constructor(ce=1/0,me=1/0,Pe=_.l){super(),this._bufferSize=ce,this._windowTime=me,this._timestampProvider=Pe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=me===1/0,this._bufferSize=Math.max(1,ce),this._windowTime=Math.max(1,me)}next(ce){const{isStopped:me,_buffer:Pe,_infiniteTimeWindow:ve,_timestampProvider:_e,_windowTime:$}=this;me||(Pe.push(ce),!ve&&Pe.push(_e.now()+$)),this._trimBuffer(),super.next(ce)}_subscribe(ce){this._throwIfClosed(),this._trimBuffer();const me=this._innerSubscribe(ce),{_infiniteTimeWindow:Pe,_buffer:ve}=this,_e=ve.slice();for(let $=0;$<_e.length&&!ce.closed;$+=Pe?1:2)ce.next(_e[$]);return this._checkFinalizedStatuses(ce),me}_trimBuffer(){const{_bufferSize:ce,_timestampProvider:me,_buffer:Pe,_infiniteTimeWindow:ve}=this,_e=(ve?1:2)*ce;if(ce<1/0&&_e<Pe.length&&Pe.splice(0,Pe.length-_e),!ve){const $=me.now();let ie=0;for(let oe=1;oe<Pe.length&&Pe[oe]<=$;oe+=2)ie=oe;ie&&Pe.splice(0,ie+1)}}}},7579:(Xt,tt,y)=>{y.d(tt,{x:()=>Pe});var u=y(8306),_=y(727);const ee=(0,y(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=y(8737),me=y(2806);let Pe=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const oe=new ve(this,this);return oe.operator=ie,oe}_throwIfClosed(){if(this.closed)throw new ee}next(ie){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(ie)}})}error(ie){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:oe}=this;for(;oe.length;)oe.shift().error(ie)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:oe,isStopped:Fe,observers:Ie}=this;return oe||Fe?_.Lc:(this.currentObservers=null,Ie.push(ie),new _.w0(()=>{this.currentObservers=null,(0,ce.P)(Ie,ie)}))}_checkFinalizedStatuses(ie){const{hasError:oe,thrownError:Fe,isStopped:Ie}=this;oe?ie.error(Fe):Ie&&ie.complete()}asObservable(){const ie=new u.y;return ie.source=this,ie}}return _e.create=($,ie)=>new ve($,ie),_e})();class ve extends Pe{constructor($,ie){super(),this.destination=$,this.source=ie}next($){var ie,oe;null===(oe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===oe||oe.call(ie,$)}error($){var ie,oe;null===(oe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===oe||oe.call(ie,$)}complete(){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===ie||ie.call($)}_subscribe($){var ie,oe;return null!==(oe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe($))&&void 0!==oe?oe:_.Lc}}},930:(Xt,tt,y)=>{y.d(tt,{Hp:()=>$e,Lv:()=>oe});var u=y(576),_=y(727),S=y(2416),ee=y(7849),ce=y(5032);const me=_e("C",void 0,void 0);function _e(qe,Te,Ue){return{kind:qe,value:Te,error:Ue}}var $=y(3410),ie=y(2806);class oe extends _.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,_.Nn)(Te)&&Te.add(this)):this.destination=xt}static create(Te,Ue,rt){return new $e(Te,Ue,rt)}next(Te){this.isStopped?Be(function ve(qe){return _e("N",qe,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Be(function Pe(qe){return _e("E",void 0,qe)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Be(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Ie(qe,Te){return Fe.call(qe,Te)}class ue{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(Te)}catch(rt){ke(rt)}}error(Te){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(Te)}catch(rt){ke(rt)}else ke(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ue){ke(Ue)}}}class $e extends oe{constructor(Te,Ue,rt){let ze;if(super(),(0,u.m)(Te)||!Te)ze={next:null!=Te?Te:void 0,error:null!=Ue?Ue:void 0,complete:null!=rt?rt:void 0};else{let J;this&&S.v.useDeprecatedNextContext?(J=Object.create(Te),J.unsubscribe=()=>this.unsubscribe(),ze={next:Te.next&&Ie(Te.next,J),error:Te.error&&Ie(Te.error,J),complete:Te.complete&&Ie(Te.complete,J)}):ze=Te}this.destination=new ue(ze)}}function ke(qe){S.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(qe):(0,ee.h)(qe)}function Be(qe,Te){const{onStoppedNotification:Ue}=S.v;Ue&&$.z.setTimeout(()=>Ue(qe,Te))}const xt={closed:!0,next:ce.Z,error:function Qe(qe){throw qe},complete:ce.Z}},727:(Xt,tt,y)=>{y.d(tt,{Lc:()=>me,w0:()=>ce,Nn:()=>Pe});var u=y(576);const S=(0,y(3888).d)(_e=>function(ie){_e(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((oe,Fe)=>`${Fe+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var ee=y(8737);class ce{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ie of ie)Ie.remove(this);else ie.remove(this);const{initialTeardown:oe}=this;if((0,u.m)(oe))try{oe()}catch(Ie){$=Ie instanceof S?Ie.errors:[Ie]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Ie of Fe)try{ve(Ie)}catch(ue){$=null!=$?$:[],ue instanceof S?$=[...$,...ue.errors]:$.push(ue)}}if($)throw new S($)}}add($){var ie;if($&&$!==this)if(this.closed)ve($);else{if($ instanceof ce){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push($)}}_hasParent($){const{_parentage:ie}=this;return ie===$||Array.isArray(ie)&&ie.includes($)}_addParent($){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push($),ie):ie?[ie,$]:$}_removeParent($){const{_parentage:ie}=this;ie===$?this._parentage=null:Array.isArray(ie)&&(0,ee.P)(ie,$)}remove($){const{_finalizers:ie}=this;ie&&(0,ee.P)(ie,$),$ instanceof ce&&$._removeParent(this)}}ce.EMPTY=(()=>{const _e=new ce;return _e.closed=!0,_e})();const me=ce.EMPTY;function Pe(_e){return _e instanceof ce||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function ve(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(Xt,tt,y)=>{y.d(tt,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Xt,tt,y)=>{y.d(tt,{c:()=>me});var u=y(8306),_=y(727),S=y(8343),ee=y(5403),ce=y(4482);class me extends u.y{constructor(ve,_e){super(),this.source=ve,this.subjectFactory=_e,this._subject=null,this._refCount=0,this._connection=null,(0,ce.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new _.w0;const _e=this.getSubject();ve.add(this.source.subscribe((0,ee.x)(_e,void 0,()=>{this._teardown(),_e.complete()},$=>{this._teardown(),_e.error($)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=_.w0.EMPTY)}return ve}refCount(){return(0,S.x)()(this)}}},9841:(Xt,tt,y)=>{y.d(tt,{a:()=>$});var u=y(8306),_=y(4742),S=y(8996),ee=y(4671),ce=y(3268),me=y(3269),Pe=y(1810),ve=y(5403),_e=y(9672);function $(...Fe){const Ie=(0,me.yG)(Fe),ue=(0,me.jO)(Fe),{args:$e,keys:ke}=(0,_.D)(Fe);if(0===$e.length)return(0,S.D)([],Ie);const Qe=new u.y(function ie(Fe,Ie,ue=ee.y){return $e=>{oe(Ie,()=>{const{length:ke}=Fe,Qe=new Array(ke);let Be=ke,xt=ke;for(let qe=0;qe<ke;qe++)oe(Ie,()=>{const Te=(0,S.D)(Fe[qe],Ie);let Ue=!1;Te.subscribe((0,ve.x)($e,rt=>{Qe[qe]=rt,Ue||(Ue=!0,xt--),xt||$e.next(ue(Qe.slice()))},()=>{--Be||$e.complete()}))},$e)},$e)}}($e,Ie,ke?Be=>(0,Pe.n)(ke,Be):ee.y));return ue?Qe.pipe((0,ce.Z)(ue)):Qe}function oe(Fe,Ie,ue){Fe?(0,_e.f)(ue,Fe,Ie):Ie()}},7272:(Xt,tt,y)=>{y.d(tt,{z:()=>ce});var u=y(8189),S=y(3269),ee=y(8996);function ce(...me){return function _(){return(0,u.J)(1)}()((0,ee.D)(me,(0,S.yG)(me)))}},9770:(Xt,tt,y)=>{y.d(tt,{P:()=>S});var u=y(8306),_=y(8421);function S(ee){return new u.y(ce=>{(0,_.Xf)(ee()).subscribe(ce)})}},515:(Xt,tt,y)=>{y.d(tt,{E:()=>_});const _=new(y(8306).y)(ce=>ce.complete())},4128:(Xt,tt,y)=>{y.d(tt,{D:()=>ve});var u=y(8306),_=y(4742),S=y(8421),ee=y(3269),ce=y(5403),me=y(3268),Pe=y(1810);function ve(..._e){const $=(0,ee.jO)(_e),{args:ie,keys:oe}=(0,_.D)(_e),Fe=new u.y(Ie=>{const{length:ue}=ie;if(!ue)return void Ie.complete();const $e=new Array(ue);let ke=ue,Qe=ue;for(let Be=0;Be<ue;Be++){let xt=!1;(0,S.Xf)(ie[Be]).subscribe((0,ce.x)(Ie,qe=>{xt||(xt=!0,Qe--),$e[Be]=qe},()=>ke--,void 0,()=>{(!ke||!xt)&&(Qe||Ie.next(oe?(0,Pe.n)(oe,$e):$e),Ie.complete())}))}});return $?Fe.pipe((0,me.Z)($)):Fe}},8996:(Xt,tt,y)=>{y.d(tt,{D:()=>Te});var u=y(8421),_=y(5363),S=y(9468),me=y(8306),ve=y(2202),_e=y(576),$=y(9672);function oe(Ue,rt){if(!Ue)throw new Error("Iterable cannot be null");return new me.y(ze=>{(0,$.f)(ze,rt,()=>{const J=Ue[Symbol.asyncIterator]();(0,$.f)(ze,rt,()=>{J.next().then(re=>{re.done?ze.complete():ze.next(re.value)})},0,!0)})})}var Fe=y(3670),Ie=y(8239),ue=y(1144),$e=y(6495),ke=y(2206),Qe=y(4532),Be=y(3260);function Te(Ue,rt){return rt?function qe(Ue,rt){if(null!=Ue){if((0,Fe.c)(Ue))return function ee(Ue,rt){return(0,u.Xf)(Ue).pipe((0,S.R)(rt),(0,_.Q)(rt))}(Ue,rt);if((0,ue.z)(Ue))return function Pe(Ue,rt){return new me.y(ze=>{let J=0;return rt.schedule(function(){J===Ue.length?ze.complete():(ze.next(Ue[J++]),ze.closed||this.schedule())})})}(Ue,rt);if((0,Ie.t)(Ue))return function ce(Ue,rt){return(0,u.Xf)(Ue).pipe((0,S.R)(rt),(0,_.Q)(rt))}(Ue,rt);if((0,ke.D)(Ue))return oe(Ue,rt);if((0,$e.T)(Ue))return function ie(Ue,rt){return new me.y(ze=>{let J;return(0,$.f)(ze,rt,()=>{J=Ue[ve.h](),(0,$.f)(ze,rt,()=>{let re,Ce;try{({value:re,done:Ce}=J.next())}catch(He){return void ze.error(He)}Ce?ze.complete():ze.next(re)},0,!0)}),()=>(0,_e.m)(null==J?void 0:J.return)&&J.return()})}(Ue,rt);if((0,Be.L)(Ue))return function xt(Ue,rt){return oe((0,Be.Q)(Ue),rt)}(Ue,rt)}throw(0,Qe.z)(Ue)}(Ue,rt):(0,u.Xf)(Ue)}},4968:(Xt,tt,y)=>{y.d(tt,{R:()=>$});var u=y(8421),_=y(8306),S=y(5577),ee=y(1144),ce=y(576),me=y(3268);const Pe=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],_e=["on","off"];function $(ue,$e,ke,Qe){if((0,ce.m)(ke)&&(Qe=ke,ke=void 0),Qe)return $(ue,$e,ke).pipe((0,me.Z)(Qe));const[Be,xt]=function Ie(ue){return(0,ce.m)(ue.addEventListener)&&(0,ce.m)(ue.removeEventListener)}(ue)?ve.map(qe=>Te=>ue[qe]($e,Te,ke)):function oe(ue){return(0,ce.m)(ue.addListener)&&(0,ce.m)(ue.removeListener)}(ue)?Pe.map(ie(ue,$e)):function Fe(ue){return(0,ce.m)(ue.on)&&(0,ce.m)(ue.off)}(ue)?_e.map(ie(ue,$e)):[];if(!Be&&(0,ee.z)(ue))return(0,S.z)(qe=>$(qe,$e,ke))((0,u.Xf)(ue));if(!Be)throw new TypeError("Invalid event target");return new _.y(qe=>{const Te=(...Ue)=>qe.next(1<Ue.length?Ue:Ue[0]);return Be(Te),()=>xt(Te)})}function ie(ue,$e){return ke=>Qe=>ue[ke]($e,Qe)}},8421:(Xt,tt,y)=>{y.d(tt,{Xf:()=>Fe});var u=y(655),_=y(1144),S=y(8239),ee=y(8306),ce=y(3670),me=y(2206),Pe=y(4532),ve=y(6495),_e=y(3260),$=y(576),ie=y(7849),oe=y(8822);function Fe(qe){if(qe instanceof ee.y)return qe;if(null!=qe){if((0,ce.c)(qe))return function Ie(qe){return new ee.y(Te=>{const Ue=qe[oe.L]();if((0,$.m)(Ue.subscribe))return Ue.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,_.z)(qe))return function ue(qe){return new ee.y(Te=>{for(let Ue=0;Ue<qe.length&&!Te.closed;Ue++)Te.next(qe[Ue]);Te.complete()})}(qe);if((0,S.t)(qe))return function $e(qe){return new ee.y(Te=>{qe.then(Ue=>{Te.closed||(Te.next(Ue),Te.complete())},Ue=>Te.error(Ue)).then(null,ie.h)})}(qe);if((0,me.D)(qe))return Qe(qe);if((0,ve.T)(qe))return function ke(qe){return new ee.y(Te=>{for(const Ue of qe)if(Te.next(Ue),Te.closed)return;Te.complete()})}(qe);if((0,_e.L)(qe))return function Be(qe){return Qe((0,_e.Q)(qe))}(qe)}throw(0,Pe.z)(qe)}function Qe(qe){return new ee.y(Te=>{(function xt(qe,Te){var Ue,rt,ze,J;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,u.KL)(qe);!(rt=yield Ue.next()).done;)if(Te.next(rt.value),Te.closed)return}catch(re){ze={error:re}}finally{try{rt&&!rt.done&&(J=Ue.return)&&(yield J.call(Ue))}finally{if(ze)throw ze.error}}Te.complete()})})(qe,Te).catch(Ue=>Te.error(Ue))})}},6451:(Xt,tt,y)=>{y.d(tt,{T:()=>me});var u=y(8189),_=y(8421),S=y(515),ee=y(3269),ce=y(8996);function me(...Pe){const ve=(0,ee.yG)(Pe),_e=(0,ee._6)(Pe,1/0),$=Pe;return $.length?1===$.length?(0,_.Xf)($[0]):(0,u.J)(_e)((0,ce.D)($,ve)):S.E}},9646:(Xt,tt,y)=>{y.d(tt,{of:()=>S});var u=y(3269),_=y(8996);function S(...ee){const ce=(0,u.yG)(ee);return(0,_.D)(ee,ce)}},2843:(Xt,tt,y)=>{y.d(tt,{_:()=>S});var u=y(8306),_=y(576);function S(ee,ce){const me=(0,_.m)(ee)?ee:()=>ee,Pe=ve=>ve.error(me());return new u.y(ce?ve=>ce.schedule(Pe,0,ve):Pe)}},5963:(Xt,tt,y)=>{y.d(tt,{H:()=>ce});var u=y(8306),_=y(4986),S=y(3532);function ce(me=0,Pe,ve=_.P){let _e=-1;return null!=Pe&&((0,S.K)(Pe)?ve=Pe:_e=Pe),new u.y($=>{let ie=function ee(me){return me instanceof Date&&!isNaN(me)}(me)?+me-ve.now():me;ie<0&&(ie=0);let oe=0;return ve.schedule(function(){$.closed||($.next(oe++),0<=_e?this.schedule(void 0,_e):$.complete())},ie)})}},5403:(Xt,tt,y)=>{y.d(tt,{x:()=>_});var u=y(930);function _(ee,ce,me,Pe,ve){return new S(ee,ce,me,Pe,ve)}class S extends u.Lv{constructor(ce,me,Pe,ve,_e,$){super(ce),this.onFinalize=_e,this.shouldUnsubscribe=$,this._next=me?function(ie){try{me(ie)}catch(oe){ce.error(oe)}}:super._next,this._error=ve?function(ie){try{ve(ie)}catch(oe){ce.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ie){ce.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},262:(Xt,tt,y)=>{y.d(tt,{K:()=>ee});var u=y(8421),_=y(5403),S=y(4482);function ee(ce){return(0,S.e)((me,Pe)=>{let $,ve=null,_e=!1;ve=me.subscribe((0,_.x)(Pe,void 0,void 0,ie=>{$=(0,u.Xf)(ce(ie,ee(ce)(me))),ve?(ve.unsubscribe(),ve=null,$.subscribe(Pe)):_e=!0})),_e&&(ve.unsubscribe(),ve=null,$.subscribe(Pe))})}},4351:(Xt,tt,y)=>{y.d(tt,{b:()=>S});var u=y(5577),_=y(576);function S(ee,ce){return(0,_.m)(ce)?(0,u.z)(ee,ce,1):(0,u.z)(ee,1)}},8372:(Xt,tt,y)=>{y.d(tt,{b:()=>ee});var u=y(4986),_=y(4482),S=y(5403);function ee(ce,me=u.z){return(0,_.e)((Pe,ve)=>{let _e=null,$=null,ie=null;const oe=()=>{if(_e){_e.unsubscribe(),_e=null;const Ie=$;$=null,ve.next(Ie)}};function Fe(){const Ie=ie+ce,ue=me.now();if(ue<Ie)return _e=this.schedule(void 0,Ie-ue),void ve.add(_e);oe()}Pe.subscribe((0,S.x)(ve,Ie=>{$=Ie,ie=me.now(),_e||(_e=me.schedule(Fe,ce),ve.add(_e))},()=>{oe(),ve.complete()},void 0,()=>{$=_e=null}))})}},6590:(Xt,tt,y)=>{y.d(tt,{d:()=>S});var u=y(4482),_=y(5403);function S(ee){return(0,u.e)((ce,me)=>{let Pe=!1;ce.subscribe((0,_.x)(me,ve=>{Pe=!0,me.next(ve)},()=>{Pe||me.next(ee),me.complete()}))})}},4825:(Xt,tt,y)=>{y.d(tt,{g:()=>Fe});var u=y(4986),_=y(7272),S=y(5698),ee=y(4482),ce=y(5403),me=y(5032),ve=y(4004),$=y(5577);function ie(Ie,ue){return ue?$e=>(0,_.z)(ue.pipe((0,S.q)(1),function Pe(){return(0,ee.e)((Ie,ue)=>{Ie.subscribe((0,ce.x)(ue,me.Z))})}()),$e.pipe(ie(Ie))):(0,$.z)(($e,ke)=>Ie($e,ke).pipe((0,S.q)(1),function _e(Ie){return(0,ve.U)(()=>Ie)}($e)))}var oe=y(5963);function Fe(Ie,ue=u.z){const $e=(0,oe.H)(Ie,ue);return ie(()=>$e)}},1884:(Xt,tt,y)=>{y.d(tt,{x:()=>ee});var u=y(4671),_=y(4482),S=y(5403);function ee(me,Pe=u.y){return me=null!=me?me:ce,(0,_.e)((ve,_e)=>{let $,ie=!0;ve.subscribe((0,S.x)(_e,oe=>{const Fe=Pe(oe);(ie||!me($,Fe))&&(ie=!1,$=Fe,_e.next(oe))}))})}function ce(me,Pe){return me===Pe}},9300:(Xt,tt,y)=>{y.d(tt,{h:()=>S});var u=y(4482),_=y(5403);function S(ee,ce){return(0,u.e)((me,Pe)=>{let ve=0;me.subscribe((0,_.x)(Pe,_e=>ee.call(ce,_e,ve++)&&Pe.next(_e)))})}},8746:(Xt,tt,y)=>{y.d(tt,{x:()=>_});var u=y(4482);function _(S){return(0,u.e)((ee,ce)=>{try{ee.subscribe(ce)}finally{ce.add(S)}})}},590:(Xt,tt,y)=>{y.d(tt,{P:()=>Pe});var u=y(6805),_=y(9300),S=y(5698),ee=y(6590),ce=y(8068),me=y(4671);function Pe(ve,_e){const $=arguments.length>=2;return ie=>ie.pipe(ve?(0,_.h)((oe,Fe)=>ve(oe,Fe,ie)):me.y,(0,S.q)(1),$?(0,ee.d)(_e):(0,ce.T)(()=>new u.K))}},4004:(Xt,tt,y)=>{y.d(tt,{U:()=>S});var u=y(4482),_=y(5403);function S(ee,ce){return(0,u.e)((me,Pe)=>{let ve=0;me.subscribe((0,_.x)(Pe,_e=>{Pe.next(ee.call(ce,_e,ve++))}))})}},8189:(Xt,tt,y)=>{y.d(tt,{J:()=>S});var u=y(5577),_=y(4671);function S(ee=1/0){return(0,u.z)(_.y,ee)}},5577:(Xt,tt,y)=>{y.d(tt,{z:()=>ve});var u=y(4004),_=y(8421),S=y(4482),ee=y(9672),ce=y(5403),Pe=y(576);function ve(_e,$,ie=1/0){return(0,Pe.m)($)?ve((oe,Fe)=>(0,u.U)((Ie,ue)=>$(oe,Ie,Fe,ue))((0,_.Xf)(_e(oe,Fe))),ie):("number"==typeof $&&(ie=$),(0,S.e)((oe,Fe)=>function me(_e,$,ie,oe,Fe,Ie,ue,$e){const ke=[];let Qe=0,Be=0,xt=!1;const qe=()=>{xt&&!ke.length&&!Qe&&$.complete()},Te=rt=>Qe<oe?Ue(rt):ke.push(rt),Ue=rt=>{Ie&&$.next(rt),Qe++;let ze=!1;(0,_.Xf)(ie(rt,Be++)).subscribe((0,ce.x)($,J=>{null==Fe||Fe(J),Ie?Te(J):$.next(J)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Qe--;ke.length&&Qe<oe;){const J=ke.shift();ue?(0,ee.f)($,ue,()=>Ue(J)):Ue(J)}qe()}catch(J){$.error(J)}}))};return _e.subscribe((0,ce.x)($,Te,()=>{xt=!0,qe()})),()=>{null==$e||$e()}}(oe,Fe,_e,ie)))}},5363:(Xt,tt,y)=>{y.d(tt,{Q:()=>ee});var u=y(9672),_=y(4482),S=y(5403);function ee(ce,me=0){return(0,_.e)((Pe,ve)=>{Pe.subscribe((0,S.x)(ve,_e=>(0,u.f)(ve,ce,()=>ve.next(_e),me),()=>(0,u.f)(ve,ce,()=>ve.complete(),me),_e=>(0,u.f)(ve,ce,()=>ve.error(_e),me)))})}},8343:(Xt,tt,y)=>{y.d(tt,{x:()=>S});var u=y(4482),_=y(5403);function S(){return(0,u.e)((ee,ce)=>{let me=null;ee._refCount++;const Pe=(0,_.x)(ce,void 0,void 0,void 0,()=>{if(!ee||ee._refCount<=0||0<--ee._refCount)return void(me=null);const ve=ee._connection,_e=me;me=null,ve&&(!_e||ve===_e)&&ve.unsubscribe(),ce.unsubscribe()});ee.subscribe(Pe),Pe.closed||(me=ee.connect())})}},5026:(Xt,tt,y)=>{y.d(tt,{R:()=>ee});var u=y(4482),_=y(5403);function S(ce,me,Pe,ve,_e){return($,ie)=>{let oe=Pe,Fe=me,Ie=0;$.subscribe((0,_.x)(ie,ue=>{const $e=Ie++;Fe=oe?ce(Fe,ue,$e):(oe=!0,ue),ve&&ie.next(Fe)},_e&&(()=>{oe&&ie.next(Fe),ie.complete()})))}}function ee(ce,me){return(0,u.e)(S(ce,me,arguments.length>=2,!0))}},3099:(Xt,tt,y)=>{y.d(tt,{B:()=>ce});var u=y(8421),_=y(7579),S=y(930),ee=y(4482);function ce(Pe={}){const{connector:ve=(()=>new _.x),resetOnError:_e=!0,resetOnComplete:$=!0,resetOnRefCountZero:ie=!0}=Pe;return oe=>{let Fe,Ie,ue,$e=0,ke=!1,Qe=!1;const Be=()=>{null==Ie||Ie.unsubscribe(),Ie=void 0},xt=()=>{Be(),Fe=ue=void 0,ke=Qe=!1},qe=()=>{const Te=Fe;xt(),null==Te||Te.unsubscribe()};return(0,ee.e)((Te,Ue)=>{$e++,!Qe&&!ke&&Be();const rt=ue=null!=ue?ue:ve();Ue.add(()=>{$e--,0===$e&&!Qe&&!ke&&(Ie=me(qe,ie))}),rt.subscribe(Ue),!Fe&&$e>0&&(Fe=new S.Hp({next:ze=>rt.next(ze),error:ze=>{Qe=!0,Be(),Ie=me(xt,_e,ze),rt.error(ze)},complete:()=>{ke=!0,Be(),Ie=me(xt,$),rt.complete()}}),(0,u.Xf)(Te).subscribe(Fe))})(oe)}}function me(Pe,ve,..._e){if(!0===ve)return void Pe();if(!1===ve)return;const $=new S.Hp({next:()=>{$.unsubscribe(),Pe()}});return ve(..._e).subscribe($)}},4782:(Xt,tt,y)=>{y.d(tt,{d:()=>S});var u=y(4707),_=y(3099);function S(ee,ce,me){let Pe,ve=!1;return ee&&"object"==typeof ee?({bufferSize:Pe=1/0,windowTime:ce=1/0,refCount:ve=!1,scheduler:me}=ee):Pe=null!=ee?ee:1/0,(0,_.B)({connector:()=>new u.t(Pe,ce,me),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ve})}},5684:(Xt,tt,y)=>{y.d(tt,{T:()=>_});var u=y(9300);function _(S){return(0,u.h)((ee,ce)=>S<=ce)}},8675:(Xt,tt,y)=>{y.d(tt,{O:()=>ee});var u=y(7272),_=y(3269),S=y(4482);function ee(...ce){const me=(0,_.yG)(ce);return(0,S.e)((Pe,ve)=>{(me?(0,u.z)(ce,Pe,me):(0,u.z)(ce,Pe)).subscribe(ve)})}},9468:(Xt,tt,y)=>{y.d(tt,{R:()=>_});var u=y(4482);function _(S,ee=0){return(0,u.e)((ce,me)=>{me.add(S.schedule(()=>ce.subscribe(me),ee))})}},3900:(Xt,tt,y)=>{y.d(tt,{w:()=>ee});var u=y(8421),_=y(4482),S=y(5403);function ee(ce,me){return(0,_.e)((Pe,ve)=>{let _e=null,$=0,ie=!1;const oe=()=>ie&&!_e&&ve.complete();Pe.subscribe((0,S.x)(ve,Fe=>{null==_e||_e.unsubscribe();let Ie=0;const ue=$++;(0,u.Xf)(ce(Fe,ue)).subscribe(_e=(0,S.x)(ve,$e=>ve.next(me?me(Fe,$e,ue,Ie++):$e),()=>{_e=null,oe()}))},()=>{ie=!0,oe()}))})}},5698:(Xt,tt,y)=>{y.d(tt,{q:()=>ee});var u=y(515),_=y(4482),S=y(5403);function ee(ce){return ce<=0?()=>u.E:(0,_.e)((me,Pe)=>{let ve=0;me.subscribe((0,S.x)(Pe,_e=>{++ve<=ce&&(Pe.next(_e),ce<=ve&&Pe.complete())}))})}},2722:(Xt,tt,y)=>{y.d(tt,{R:()=>ce});var u=y(4482),_=y(5403),S=y(8421),ee=y(5032);function ce(me){return(0,u.e)((Pe,ve)=>{(0,S.Xf)(me).subscribe((0,_.x)(ve,()=>ve.complete(),ee.Z)),!ve.closed&&Pe.subscribe(ve)})}},8505:(Xt,tt,y)=>{y.d(tt,{b:()=>ce});var u=y(576),_=y(4482),S=y(5403),ee=y(4671);function ce(me,Pe,ve){const _e=(0,u.m)(me)||Pe||ve?{next:me,error:Pe,complete:ve}:me;return _e?(0,_.e)(($,ie)=>{var oe;null===(oe=_e.subscribe)||void 0===oe||oe.call(_e);let Fe=!0;$.subscribe((0,S.x)(ie,Ie=>{var ue;null===(ue=_e.next)||void 0===ue||ue.call(_e,Ie),ie.next(Ie)},()=>{var Ie;Fe=!1,null===(Ie=_e.complete)||void 0===Ie||Ie.call(_e),ie.complete()},Ie=>{var ue;Fe=!1,null===(ue=_e.error)||void 0===ue||ue.call(_e,Ie),ie.error(Ie)},()=>{var Ie,ue;Fe&&(null===(Ie=_e.unsubscribe)||void 0===Ie||Ie.call(_e)),null===(ue=_e.finalize)||void 0===ue||ue.call(_e)}))}):ee.y}},8068:(Xt,tt,y)=>{y.d(tt,{T:()=>ee});var u=y(6805),_=y(4482),S=y(5403);function ee(me=ce){return(0,_.e)((Pe,ve)=>{let _e=!1;Pe.subscribe((0,S.x)(ve,$=>{_e=!0,ve.next($)},()=>_e?ve.complete():ve.error(me())))})}function ce(){return new u.K}},4408:(Xt,tt,y)=>{y.d(tt,{o:()=>ce});var u=y(727);class _ extends u.w0{constructor(Pe,ve){super()}schedule(Pe,ve=0){return this}}const S={setInterval(me,Pe,...ve){const{delegate:_e}=S;return(null==_e?void 0:_e.setInterval)?_e.setInterval(me,Pe,...ve):setInterval(me,Pe,...ve)},clearInterval(me){const{delegate:Pe}=S;return((null==Pe?void 0:Pe.clearInterval)||clearInterval)(me)},delegate:void 0};var ee=y(8737);class ce extends _{constructor(Pe,ve){super(Pe,ve),this.scheduler=Pe,this.work=ve,this.pending=!1}schedule(Pe,ve=0){if(this.closed)return this;this.state=Pe;const _e=this.id,$=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId($,_e,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId($,this.id,ve),this}requestAsyncId(Pe,ve,_e=0){return S.setInterval(Pe.flush.bind(Pe,this),_e)}recycleAsyncId(Pe,ve,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ve;S.clearInterval(ve)}execute(Pe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(Pe,ve);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,ve){let $,_e=!1;try{this.work(Pe)}catch(ie){_e=!0,$=ie||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:ve}=this,{actions:_e}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(_e,this),null!=Pe&&(this.id=this.recycleAsyncId(ve,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xt,tt,y)=>{y.d(tt,{v:()=>S});var u=y(6063);class _{constructor(ce,me=_.now){this.schedulerActionCtor=ce,this.now=me}schedule(ce,me=0,Pe){return new this.schedulerActionCtor(this,ce).schedule(Pe,me)}}_.now=u.l.now;class S extends _{constructor(ce,me=_.now){super(ce,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:me}=this;if(this._active)return void me.push(ce);let Pe;this._active=!0;do{if(Pe=ce.execute(ce.state,ce.delay))break}while(ce=me.shift());if(this._active=!1,Pe){for(;ce=me.shift();)ce.unsubscribe();throw Pe}}}},4986:(Xt,tt,y)=>{y.d(tt,{z:()=>S,P:()=>ee});var u=y(4408);const S=new(y(7565).v)(u.o),ee=S},6063:(Xt,tt,y)=>{y.d(tt,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(Xt,tt,y)=>{y.d(tt,{N:()=>ce});var u=y(4408),S=y(7565);const ce=new class ee extends S.v{}(class _ extends u.o{constructor(ve,_e){super(ve,_e),this.scheduler=ve,this.work=_e}schedule(ve,_e=0){return _e>0?super.schedule(ve,_e):(this.delay=_e,this.state=ve,this.scheduler.flush(this),this)}execute(ve,_e){return _e>0||this.closed?super.execute(ve,_e):this._execute(ve,_e)}requestAsyncId(ve,_e,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(ve,_e,$):ve.flush(this)}})},3410:(Xt,tt,y)=>{y.d(tt,{z:()=>u});const u={setTimeout(_,S,...ee){const{delegate:ce}=u;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(_,S,...ee):setTimeout(_,S,...ee)},clearTimeout(_){const{delegate:S}=u;return((null==S?void 0:S.clearTimeout)||clearTimeout)(_)},delegate:void 0}},2202:(Xt,tt,y)=>{y.d(tt,{h:()=>_});const _=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xt,tt,y)=>{y.d(tt,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Xt,tt,y)=>{y.d(tt,{K:()=>_});const _=(0,y(3888).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Xt,tt,y)=>{y.d(tt,{jO:()=>ee,yG:()=>ce,_6:()=>me});var u=y(576),_=y(3532);function S(Pe){return Pe[Pe.length-1]}function ee(Pe){return(0,u.m)(S(Pe))?Pe.pop():void 0}function ce(Pe){return(0,_.K)(S(Pe))?Pe.pop():void 0}function me(Pe,ve){return"number"==typeof S(Pe)?Pe.pop():ve}},4742:(Xt,tt,y)=>{y.d(tt,{D:()=>ce});const{isArray:u}=Array,{getPrototypeOf:_,prototype:S,keys:ee}=Object;function ce(Pe){if(1===Pe.length){const ve=Pe[0];if(u(ve))return{args:ve,keys:null};if(function me(Pe){return Pe&&"object"==typeof Pe&&_(Pe)===S}(ve)){const _e=ee(ve);return{args:_e.map($=>ve[$]),keys:_e}}}return{args:Pe,keys:null}}},8737:(Xt,tt,y)=>{function u(_,S){if(_){const ee=_.indexOf(S);0<=ee&&_.splice(ee,1)}}y.d(tt,{P:()=>u})},3888:(Xt,tt,y)=>{function u(_){const ee=_(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}y.d(tt,{d:()=>u})},1810:(Xt,tt,y)=>{function u(_,S){return _.reduce((ee,ce,me)=>(ee[ce]=S[me],ee),{})}y.d(tt,{n:()=>u})},2806:(Xt,tt,y)=>{y.d(tt,{x:()=>S,O:()=>ee});var u=y(2416);let _=null;function S(ce){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!_;if(me&&(_={errorThrown:!1,error:null}),ce(),me){const{errorThrown:Pe,error:ve}=_;if(_=null,Pe)throw ve}}else ce()}function ee(ce){u.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=ce)}},9672:(Xt,tt,y)=>{function u(_,S,ee,ce=0,me=!1){const Pe=S.schedule(function(){ee(),me?_.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(_.add(Pe),!me)return Pe}y.d(tt,{f:()=>u})},4671:(Xt,tt,y)=>{function u(_){return _}y.d(tt,{y:()=>u})},1144:(Xt,tt,y)=>{y.d(tt,{z:()=>u});const u=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Xt,tt,y)=>{y.d(tt,{D:()=>_});var u=y(576);function _(S){return Symbol.asyncIterator&&(0,u.m)(null==S?void 0:S[Symbol.asyncIterator])}},576:(Xt,tt,y)=>{function u(_){return"function"==typeof _}y.d(tt,{m:()=>u})},3670:(Xt,tt,y)=>{y.d(tt,{c:()=>S});var u=y(8822),_=y(576);function S(ee){return(0,_.m)(ee[u.L])}},6495:(Xt,tt,y)=>{y.d(tt,{T:()=>S});var u=y(2202),_=y(576);function S(ee){return(0,_.m)(null==ee?void 0:ee[u.h])}},8239:(Xt,tt,y)=>{y.d(tt,{t:()=>_});var u=y(576);function _(S){return(0,u.m)(null==S?void 0:S.then)}},3260:(Xt,tt,y)=>{y.d(tt,{Q:()=>S,L:()=>ee});var u=y(655),_=y(576);function S(ce){return(0,u.FC)(this,arguments,function*(){const Pe=ce.getReader();try{for(;;){const{value:ve,done:_e}=yield(0,u.qq)(Pe.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ve)}}finally{Pe.releaseLock()}})}function ee(ce){return(0,_.m)(null==ce?void 0:ce.getReader)}},3532:(Xt,tt,y)=>{y.d(tt,{K:()=>_});var u=y(576);function _(S){return S&&(0,u.m)(S.schedule)}},4482:(Xt,tt,y)=>{y.d(tt,{A:()=>_,e:()=>S});var u=y(576);function _(ee){return(0,u.m)(null==ee?void 0:ee.lift)}function S(ee){return ce=>{if(_(ce))return ce.lift(function(me){try{return ee(me,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Xt,tt,y)=>{y.d(tt,{Z:()=>ee});var u=y(4004);const{isArray:_}=Array;function ee(ce){return(0,u.U)(me=>function S(ce,me){return _(me)?ce(...me):ce(me)}(ce,me))}},5032:(Xt,tt,y)=>{function u(){}y.d(tt,{Z:()=>u})},7849:(Xt,tt,y)=>{y.d(tt,{h:()=>S});var u=y(2416),_=y(3410);function S(ee){_.z.setTimeout(()=>{const{onUnhandledError:ce}=u.v;if(!ce)throw ee;ce(ee)})}},4532:(Xt,tt,y)=>{function u(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}y.d(tt,{z:()=>u})},655:(Xt,tt,y)=>{y.d(tt,{ZT:()=>_,pi:()=>S,_T:()=>ee,mG:()=>ve,Jh:()=>_e,ev:()=>$e,qq:()=>ke,FC:()=>Qe,KL:()=>xt});var u=function(re,Ce){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(He,Je){He.__proto__=Je}||function(He,Je){for(var ut in Je)Object.prototype.hasOwnProperty.call(Je,ut)&&(He[ut]=Je[ut])})(re,Ce)};function _(re,Ce){if("function"!=typeof Ce&&null!==Ce)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");function He(){this.constructor=re}u(re,Ce),re.prototype=null===Ce?Object.create(Ce):(He.prototype=Ce.prototype,new He)}var S=function(){return S=Object.assign||function(Ce){for(var He,Je=1,ut=arguments.length;Je<ut;Je++)for(var ot in He=arguments[Je])Object.prototype.hasOwnProperty.call(He,ot)&&(Ce[ot]=He[ot]);return Ce},S.apply(this,arguments)};function ee(re,Ce){var He={};for(var Je in re)Object.prototype.hasOwnProperty.call(re,Je)&&Ce.indexOf(Je)<0&&(He[Je]=re[Je]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Je=Object.getOwnPropertySymbols(re);ut<Je.length;ut++)Ce.indexOf(Je[ut])<0&&Object.prototype.propertyIsEnumerable.call(re,Je[ut])&&(He[Je[ut]]=re[Je[ut]])}return He}function ve(re,Ce,He,Je){return new(He||(He=Promise))(function(ot,Kt){function rn(mt){try{ln(Je.next(mt))}catch(qt){Kt(qt)}}function En(mt){try{ln(Je.throw(mt))}catch(qt){Kt(qt)}}function ln(mt){mt.done?ot(mt.value):function ut(ot){return ot instanceof He?ot:new He(function(Kt){Kt(ot)})}(mt.value).then(rn,En)}ln((Je=Je.apply(re,Ce||[])).next())})}function _e(re,Ce){var Je,ut,ot,Kt,He={label:0,sent:function(){if(1&ot[0])throw ot[1];return ot[1]},trys:[],ops:[]};return Kt={next:rn(0),throw:rn(1),return:rn(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function rn(ln){return function(mt){return function En(ln){if(Je)throw new TypeError("Generator is already executing.");for(;He;)try{if(Je=1,ut&&(ot=2&ln[0]?ut.return:ln[0]?ut.throw||((ot=ut.return)&&ot.call(ut),0):ut.next)&&!(ot=ot.call(ut,ln[1])).done)return ot;switch(ut=0,ot&&(ln=[2&ln[0],ot.value]),ln[0]){case 0:case 1:ot=ln;break;case 4:return He.label++,{value:ln[1],done:!1};case 5:He.label++,ut=ln[1],ln=[0];continue;case 7:ln=He.ops.pop(),He.trys.pop();continue;default:if(!(ot=(ot=He.trys).length>0&&ot[ot.length-1])&&(6===ln[0]||2===ln[0])){He=0;continue}if(3===ln[0]&&(!ot||ln[1]>ot[0]&&ln[1]<ot[3])){He.label=ln[1];break}if(6===ln[0]&&He.label<ot[1]){He.label=ot[1],ot=ln;break}if(ot&&He.label<ot[2]){He.label=ot[2],He.ops.push(ln);break}ot[2]&&He.ops.pop(),He.trys.pop();continue}ln=Ce.call(re,He)}catch(mt){ln=[6,mt],ut=0}finally{Je=ot=0}if(5&ln[0])throw ln[1];return{value:ln[0]?ln[1]:void 0,done:!0}}([ln,mt])}}}function $e(re,Ce,He){if(He||2===arguments.length)for(var ot,Je=0,ut=Ce.length;Je<ut;Je++)(ot||!(Je in Ce))&&(ot||(ot=Array.prototype.slice.call(Ce,0,Je)),ot[Je]=Ce[Je]);return re.concat(ot||Array.prototype.slice.call(Ce))}function ke(re){return this instanceof ke?(this.v=re,this):new ke(re)}function Qe(re,Ce,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Je=He.apply(re,Ce||[]),ot=[];return ut={},Kt("next"),Kt("throw"),Kt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Kt(Qt){Je[Qt]&&(ut[Qt]=function(un){return new Promise(function(_n,Mt){ot.push([Qt,un,_n,Mt])>1||rn(Qt,un)})})}function rn(Qt,un){try{!function En(Qt){Qt.value instanceof ke?Promise.resolve(Qt.value.v).then(ln,mt):qt(ot[0][2],Qt)}(Je[Qt](un))}catch(_n){qt(ot[0][3],_n)}}function ln(Qt){rn("next",Qt)}function mt(Qt){rn("throw",Qt)}function qt(Qt,un){Qt(un),ot.shift(),ot.length&&rn(ot[0][0],ot[0][1])}}function xt(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=re[Symbol.asyncIterator];return Ce?Ce.call(re):(re=function oe(re){var Ce="function"==typeof Symbol&&Symbol.iterator,He=Ce&&re[Ce],Je=0;if(He)return He.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Je>=re.length&&(re=void 0),{value:re&&re[Je++],done:!re}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),He={},Je("next"),Je("throw"),Je("return"),He[Symbol.asyncIterator]=function(){return this},He);function Je(ot){He[ot]=re[ot]&&function(Kt){return new Promise(function(rn,En){!function ut(ot,Kt,rn,En){Promise.resolve(En).then(function(ln){ot({value:ln,done:rn})},Kt)}(rn,En,(Kt=re[ot](Kt)).done,Kt.value)})}}}},9671:(Xt,tt,y)=>{function u(S,ee,ce,me,Pe,ve,_e){try{var $=S[ve](_e),ie=$.value}catch(oe){return void ce(oe)}$.done?ee(ie):Promise.resolve(ie).then(me,Pe)}function _(S){return function(){var ee=this,ce=arguments;return new Promise(function(me,Pe){var ve=S.apply(ee,ce);function _e(ie){u(ve,me,Pe,_e,$,"next",ie)}function $(ie){u(ve,me,Pe,_e,$,"throw",ie)}_e(void 0)})}}y.d(tt,{Z:()=>_})},623:(Xt,tt,y)=>{y.d(tt,{QT:()=>pl,Sr:()=>sa});var u=y(5e3),_=y(3075),S=y(3583),ee=y(7531),ce=y(9808),me=y(1777),Pe=y(5245);y(1135),y(8306),y(6451),y(7579),y(9300),y(8505);const rt={provide:u.tb,useFactory:function Ue(x,Ee){return()=>{if((0,ce.NF)(Ee)){const D=Array.from(x.querySelectorAll(`[class*=${ze}]`)),z=/\bflex-layout-.+?\b/g;D.forEach(fe=>{fe.classList.contains(`${ze}ssr`)&&fe.parentNode?fe.parentNode.removeChild(fe):fe.className.replace(z,"")})}}},deps:[ce.K0,u.Lbi],multi:!0},ze="flex-layout-";let J=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({providers:[rt]}),x})();const He={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Je=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>He}),ut=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ot=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});y(3191),y(2722),y(2313);let ni=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[[J]]}),x})();var Ai=y(226);let ir=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[[J,Ai.vT]]}),x})(),or=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[[J]]}),x})(),Ln=(()=>{class x{constructor(D,z){(0,ce.PM)(z)&&!D&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(D,z=[]){return{ngModule:x,providers:D.serverLoaded?[{provide:Je,useValue:Object.assign(Object.assign({},He),D)},{provide:ot,useValue:z,multi:!0},{provide:ut,useValue:!0}]:[{provide:Je,useValue:Object.assign(Object.assign({},He),D)},{provide:ot,useValue:z,multi:!0}]}}}return x.\u0275fac=function(D){return new(D||x)(u.LFG(ut),u.LFG(u.Lbi))},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[[ir,ni,or],ir,ni,or]}),x})();const ma=(0,me.oQ)([(0,me.oB)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),(0,me.jt)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",(0,me.oB)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}});(0,me.X$)("animate",[(0,me.eR)("void => *",[(0,me._7)(ma)])]),(0,me.X$)("animateStagger",[(0,me.SB)("50",(0,me.oB)("*")),(0,me.SB)("100",(0,me.oB)("*")),(0,me.SB)("200",(0,me.oB)("*")),(0,me.eR)("void => 50",(0,me.IO)("@*",[(0,me.EY)("50ms",[(0,me.pV)()])],{optional:!0})),(0,me.eR)("void => 100",(0,me.IO)("@*",[(0,me.EY)("100ms",[(0,me.pV)()])],{optional:!0})),(0,me.eR)("void => 200",(0,me.IO)("@*",[(0,me.EY)("200ms",[(0,me.pV)()])],{optional:!0}))]);let pl=(()=>{class x{constructor(D,z,fe,at,Zt){this.platformId=D,this.elemRef=z,this.mapsAPILoader=fe,this.cf=at,this.ngZone=Zt,this.autoCompleteOptions={},this.onChange=new u.vpe,this.onAutocompleteSelected=new u.vpe,this.onGermanAddressMapped=new u.vpe,this.onLocationSelected=new u.vpe,this.onNewPlaceResult=new u.vpe,this.propagateChange=gn=>{}}get value(){return this._value}set value(D){this._value=D,this.propagateChange(this.value),this.cf.markForCheck()}ngOnInit(){if((0,ce.NF)(this.platformId)){const D={placeIdOnly:this.placeIdOnly,strictBounds:this.strictBounds,type:this.type};this.country&&(D.componentRestrictions={country:this.country}),this.country&&(D.types=this.types),this.autoCompleteOptions=Object.assign(this.autoCompleteOptions,D),this.initGoogleMapsAutocomplete()}}onChangeInputValue(){var D;const z=null===(D=this.elemRef.nativeElement)||void 0===D?void 0:D.value;this.value=z}initGoogleMapsAutocomplete(){this.mapsAPILoader.load().then(()=>{const D=new google.maps.places.Autocomplete(this.elemRef.nativeElement,this.autoCompleteOptions);D.addListener("place_changed",()=>{this.ngZone.run(()=>{const z=D.getPlace(),fe={gmID:z.id,icon:z.icon,url:z.url,placeID:z.place_id,displayAddress:z.formatted_address,name:z.name,vicinity:z.vicinity,locality:{},state:{},country:{},geoLocation:{latitude:-1,longitude:-1}};z.geometry&&z.geometry.location&&(fe.geoLocation.latitude=z.geometry.location.lat(),fe.geoLocation.longitude=z.geometry.location.lng()),z.address_components.forEach(at=>{at.types.indexOf("street_number")>-1&&(fe.streetNumber=at.short_name),at.types.indexOf("route")>-1&&(fe.streetName=at.long_name),at.types.indexOf("postal_code")>-1&&(fe.postalCode=Number(at.short_name)),at.types.indexOf("sublocality")>-1&&(fe.sublocality=at.long_name),at.types.indexOf("locality")>-1&&(fe.locality.long=at.long_name,fe.locality.short=at.short_name),at.types.indexOf("administrative_area_level_1")>-1&&(fe.state.long=at.long_name,fe.state.short=at.short_name),at.types.indexOf("country")>-1&&(fe.country.long=at.long_name,fe.country.short=at.short_name),at.types.indexOf("administrative_area_level_3")>-1&&(fe.locality.short=at.short_name)}),this.onGermanAddressMapped.emit(fe),this.value=z.formatted_address,this.address=z.formatted_address,this.onAutocompleteSelected.emit(z),this.onLocationSelected.emit({latitude:z.geometry.location.lat(),longitude:z.geometry.location.lng()})})})}).catch(D=>console.log(D))}registerOnChange(D){this.propagateChange=D}registerOnTouched(D){}setDisabledState(D){this.disabled=D}writeValue(D){D&&(this.value=D)}}return x.\u0275fac=function(D){return new(D||x)(u.Y36(u.Lbi),u.Y36(u.SBq),u.Y36(S.W7),u.Y36(u.sBO),u.Y36(u.R0b))},x.\u0275dir=u.lG2({type:x,selectors:[["","matGoogleMapsAutocomplete",""]],hostBindings:function(D,z){1&D&&u.NdJ("change",function(){return z.onChangeInputValue()})},inputs:{address:"address",country:"country",placeIdOnly:"placeIdOnly",strictBounds:"strictBounds",types:"types",type:"type",autoCompleteOptions:"autoCompleteOptions",value:"value"},outputs:{onChange:"onChange",onAutocompleteSelected:"onAutocompleteSelected",onGermanAddressMapped:"onGermanAddressMapped",onLocationSelected:"onLocationSelected"},exportAs:["matGoogleMapsAutocomplete"],features:[u._Bn([{provide:_.JU,useExisting:(0,u.Gpc)(()=>x),multi:!0}])]}),x})(),sa=(()=>{class x{}return x.\u0275fac=function(D){return new(D||x)},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[[ce.ez,_.u5,_.UX,Ln,ee.c,Pe.Ps]]}),x})()},1777:(Xt,tt,y)=>{y.d(tt,{l3:()=>S,_j:()=>u,LC:()=>_,ZN:()=>Qe,jt:()=>ce,pV:()=>Fe,oQ:()=>oe,ru:()=>me,F4:()=>$,IO:()=>ue,vP:()=>Pe,EY:()=>$e,SB:()=>_e,oB:()=>ve,eR:()=>ie,X$:()=>ee,_7:()=>Ie,ZE:()=>Be,k1:()=>xt});class u{}class _{}const S="*";function ee(qe,Te){return{type:7,name:qe,definitions:Te,options:{}}}function ce(qe,Te=null){return{type:4,styles:Te,timings:qe}}function me(qe,Te=null){return{type:3,steps:qe,options:Te}}function Pe(qe,Te=null){return{type:2,steps:qe,options:Te}}function ve(qe){return{type:6,styles:qe,offset:null}}function _e(qe,Te,Ue){return{type:0,name:qe,styles:Te,options:Ue}}function $(qe){return{type:5,steps:qe}}function ie(qe,Te,Ue=null){return{type:1,expr:qe,animation:Te,options:Ue}}function oe(qe,Te=null){return{type:8,animation:qe,options:Te}}function Fe(qe=null){return{type:9,options:qe}}function Ie(qe,Te=null){return{type:10,animation:qe,options:Te}}function ue(qe,Te,Ue=null){return{type:11,selector:qe,animation:Te,options:Ue}}function $e(qe,Te){return{type:12,timings:qe,animation:Te}}function ke(qe){Promise.resolve(null).then(qe)}class Qe{constructor(Te=0,Ue=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Te+Ue}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}onStart(Te){this._onStartFns.push(Te)}onDone(Te){this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ke(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Te=>Te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Te){this._position=this.totalTime?Te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Te){const Ue="start"==Te?this._onStartFns:this._onDoneFns;Ue.forEach(rt=>rt()),Ue.length=0}}class Be{constructor(Te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Te;let Ue=0,rt=0,ze=0;const J=this.players.length;0==J?ke(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++Ue==J&&this._onFinish()}),re.onDestroy(()=>{++rt==J&&this._onDestroy()}),re.onStart(()=>{++ze==J&&this._onStart()})}),this.totalTime=this.players.reduce((re,Ce)=>Math.max(re,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}init(){this.players.forEach(Te=>Te.init())}onStart(Te){this._onStartFns.push(Te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Te=>Te()),this._onStartFns=[])}onDone(Te){this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Te=>Te.play())}pause(){this.players.forEach(Te=>Te.pause())}restart(){this.players.forEach(Te=>Te.restart())}finish(){this._onFinish(),this.players.forEach(Te=>Te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Te=>Te.destroy()),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this.players.forEach(Te=>Te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Te){const Ue=Te*this.totalTime;this.players.forEach(rt=>{const ze=rt.totalTime?Math.min(1,Ue/rt.totalTime):1;rt.setPosition(ze)})}getPosition(){const Te=this.players.reduce((Ue,rt)=>null===Ue||rt.totalTime>Ue.totalTime?rt:Ue,null);return null!=Te?Te.getPosition():0}beforeDestroy(){this.players.forEach(Te=>{Te.beforeDestroy&&Te.beforeDestroy()})}triggerCallback(Te){const Ue="start"==Te?this._onStartFns:this._onDoneFns;Ue.forEach(rt=>rt()),Ue.length=0}}const xt="!"},5664:(Xt,tt,y)=>{y.d(tt,{rt:()=>Ae,s1:()=>ut,kH:()=>Sn,mK:()=>Kn,Em:()=>ot,tE:()=>tr,qV:()=>Qn,qm:()=>ct,ic:()=>rn,Kd:()=>Cn,X6:()=>dr,yG:()=>yr});var u=y(9808),_=y(5e3),S=y(925),ee=y(7579),ce=y(727),me=y(1135),Pe=y(9646),ve=y(1159),_e=y(8505),$=y(8372),ie=y(9300),oe=y(4004),Fe=y(5698),Ie=y(5684),ue=y(1884),$e=y(2722),ke=y(3191),Qe=y(7144);class Je{constructor(N){this._items=N,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=ce.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=U=>U.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,N instanceof _.n_E&&N.changes.subscribe(U=>{if(this._activeItem){const ht=U.toArray().indexOf(this._activeItem);ht>-1&&ht!==this._activeItemIndex&&(this._activeItemIndex=ht)}})}skipPredicate(N){return this._skipPredicateFn=N,this}withWrap(N=!0){return this._wrap=N,this}withVerticalOrientation(N=!0){return this._vertical=N,this}withHorizontalOrientation(N){return this._horizontal=N,this}withAllowedModifierKeys(N){return this._allowedModifierKeys=N,this}withTypeAhead(N=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,_e.b)(U=>this._pressedLetters.push(U)),(0,$.b)(N),(0,ie.h)(()=>this._pressedLetters.length>0),(0,oe.U)(()=>this._pressedLetters.join(""))).subscribe(U=>{const Se=this._getItemsArray();for(let ht=1;ht<Se.length+1;ht++){const Gt=(this._activeItemIndex+ht)%Se.length,de=Se[Gt];if(!this._skipPredicateFn(de)&&0===de.getLabel().toUpperCase().trim().indexOf(U)){this.setActiveItem(Gt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(N=!0){return this._homeAndEnd=N,this}setActiveItem(N){const U=this._activeItem;this.updateActiveItem(N),this._activeItem!==U&&this.change.next(this._activeItemIndex)}onKeydown(N){const U=N.keyCode,ht=["altKey","ctrlKey","metaKey","shiftKey"].every(Gt=>!N[Gt]||this._allowedModifierKeys.indexOf(Gt)>-1);switch(U){case ve.Mf:return void this.tabOut.next();case ve.JH:if(this._vertical&&ht){this.setNextItemActive();break}return;case ve.LH:if(this._vertical&&ht){this.setPreviousItemActive();break}return;case ve.SV:if(this._horizontal&&ht){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ve.oh:if(this._horizontal&&ht){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ve.Sd:if(this._homeAndEnd&&ht){this.setFirstItemActive();break}return;case ve.uR:if(this._homeAndEnd&&ht){this.setLastItemActive();break}return;default:return void((ht||(0,ve.Vb)(N,"shiftKey"))&&(N.key&&1===N.key.length?this._letterKeyStream.next(N.key.toLocaleUpperCase()):(U>=ve.A&&U<=ve.Z||U>=ve.xE&&U<=ve.aO)&&this._letterKeyStream.next(String.fromCharCode(U))))}this._pressedLetters=[],N.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(N){const U=this._getItemsArray(),Se="number"==typeof N?N:U.indexOf(N),ht=U[Se];this._activeItem=null==ht?null:ht,this._activeItemIndex=Se}_setActiveItemByDelta(N){this._wrap?this._setActiveInWrapMode(N):this._setActiveInDefaultMode(N)}_setActiveInWrapMode(N){const U=this._getItemsArray();for(let Se=1;Se<=U.length;Se++){const ht=(this._activeItemIndex+N*Se+U.length)%U.length;if(!this._skipPredicateFn(U[ht]))return void this.setActiveItem(ht)}}_setActiveInDefaultMode(N){this._setActiveItemByIndex(this._activeItemIndex+N,N)}_setActiveItemByIndex(N,U){const Se=this._getItemsArray();if(Se[N]){for(;this._skipPredicateFn(Se[N]);)if(!Se[N+=U])return;this.setActiveItem(N)}}_getItemsArray(){return this._items instanceof _.n_E?this._items.toArray():this._items}}class ut extends Je{setActiveItem(N){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(N),this.activeItem&&this.activeItem.setActiveStyles()}}class ot extends Je{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(N){return this._origin=N,this}setActiveItem(N){super.setActiveItem(N),this.activeItem&&this.activeItem.focus(this._origin)}}let rn=(()=>{class W{constructor(U){this._platform=U}isDisabled(U){return U.hasAttribute("disabled")}isVisible(U){return function ln(W){return!!(W.offsetWidth||W.offsetHeight||"function"==typeof W.getClientRects&&W.getClientRects().length)}(U)&&"visible"===getComputedStyle(U).visibility}isTabbable(U){if(!this._platform.isBrowser)return!1;const Se=function En(W){try{return W.frameElement}catch(N){return null}}(function In(W){return W.ownerDocument&&W.ownerDocument.defaultView||window}(U));if(Se&&(-1===At(Se)||!this.isVisible(Se)))return!1;let ht=U.nodeName.toLowerCase(),Gt=At(U);return U.hasAttribute("contenteditable")?-1!==Gt:!("iframe"===ht||"object"===ht||this._platform.WEBKIT&&this._platform.IOS&&!function Ht(W){let N=W.nodeName.toLowerCase(),U="input"===N&&W.type;return"text"===U||"password"===U||"select"===N||"textarea"===N}(U))&&("audio"===ht?!!U.hasAttribute("controls")&&-1!==Gt:"video"===ht?-1!==Gt&&(null!==Gt||this._platform.FIREFOX||U.hasAttribute("controls")):U.tabIndex>=0)}isFocusable(U,Se){return function xn(W){return!function qt(W){return function un(W){return"input"==W.nodeName.toLowerCase()}(W)&&"hidden"==W.type}(W)&&(function mt(W){let N=W.nodeName.toLowerCase();return"input"===N||"select"===N||"button"===N||"textarea"===N}(W)||function Qt(W){return function _n(W){return"a"==W.nodeName.toLowerCase()}(W)&&W.hasAttribute("href")}(W)||W.hasAttribute("contenteditable")||Mt(W))}(U)&&!this.isDisabled(U)&&((null==Se?void 0:Se.ignoreVisibility)||this.isVisible(U))}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(S.t4))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function Mt(W){if(!W.hasAttribute("tabindex")||void 0===W.tabIndex)return!1;let N=W.getAttribute("tabindex");return!(!N||isNaN(parseInt(N,10)))}function At(W){if(!Mt(W))return null;const N=parseInt(W.getAttribute("tabindex")||"",10);return isNaN(N)?-1:N}class Gn{constructor(N,U,Se,ht,Gt=!1){this._element=N,this._checker=U,this._ngZone=Se,this._document=ht,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Gt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(N){this._enabled=N,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}destroy(){const N=this._startAnchor,U=this._endAnchor;N&&(N.removeEventListener("focus",this.startAnchorListener),N.remove()),U&&(U.removeEventListener("focus",this.endAnchorListener),U.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(N){return new Promise(U=>{this._executeOnStable(()=>U(this.focusInitialElement(N)))})}focusFirstTabbableElementWhenReady(N){return new Promise(U=>{this._executeOnStable(()=>U(this.focusFirstTabbableElement(N)))})}focusLastTabbableElementWhenReady(N){return new Promise(U=>{this._executeOnStable(()=>U(this.focusLastTabbableElement(N)))})}_getRegionBoundary(N){const U=this._element.querySelectorAll(`[cdk-focus-region-${N}], [cdkFocusRegion${N}], [cdk-focus-${N}]`);return"start"==N?U.length?U[0]:this._getFirstTabbableElement(this._element):U.length?U[U.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(N){const U=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(U){if(!this._checker.isFocusable(U)){const Se=this._getFirstTabbableElement(U);return null==Se||Se.focus(N),!!Se}return U.focus(N),!0}return this.focusFirstTabbableElement(N)}focusFirstTabbableElement(N){const U=this._getRegionBoundary("start");return U&&U.focus(N),!!U}focusLastTabbableElement(N){const U=this._getRegionBoundary("end");return U&&U.focus(N),!!U}hasAttached(){return this._hasAttached}_getFirstTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const U=N.children;for(let Se=0;Se<U.length;Se++){const ht=U[Se].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(U[Se]):null;if(ht)return ht}return null}_getLastTabbableElement(N){if(this._checker.isFocusable(N)&&this._checker.isTabbable(N))return N;const U=N.children;for(let Se=U.length-1;Se>=0;Se--){const ht=U[Se].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(U[Se]):null;if(ht)return ht}return null}_createAnchor(){const N=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,N),N.classList.add("cdk-visually-hidden"),N.classList.add("cdk-focus-trap-anchor"),N.setAttribute("aria-hidden","true"),N}_toggleAnchorTabIndex(N,U){N?U.setAttribute("tabindex","0"):U.removeAttribute("tabindex")}toggleAnchors(N){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(N,this._startAnchor),this._toggleAnchorTabIndex(N,this._endAnchor))}_executeOnStable(N){this._ngZone.isStable?N():this._ngZone.onStable.pipe((0,Fe.q)(1)).subscribe(N)}}let Qn=(()=>{class W{constructor(U,Se,ht){this._checker=U,this._ngZone=Se,this._document=ht}create(U,Se=!1){return new Gn(U,this._checker,this._ngZone,this._document,Se)}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(rn),_.LFG(_.R0b),_.LFG(u.K0))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Kn=(()=>{class W{constructor(U,Se,ht){this._elementRef=U,this._focusTrapFactory=Se,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(U){this.focusTrap.enabled=(0,ke.Ig)(U)}get autoCapture(){return this._autoCapture}set autoCapture(U){this._autoCapture=(0,ke.Ig)(U)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(U){const Se=U.autoCapture;Se&&!Se.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,S.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return W.\u0275fac=function(U){return new(U||W)(_.Y36(_.SBq),_.Y36(Qn),_.Y36(u.K0))},W.\u0275dir=_.lG2({type:W,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[_.TTD]}),W})();function dr(W){return 0===W.buttons||0===W.offsetX&&0===W.offsetY}function yr(W){const N=W.touches&&W.touches[0]||W.changedTouches&&W.changedTouches[0];return!(!N||-1!==N.identifier||null!=N.radiusX&&1!==N.radiusX||null!=N.radiusY&&1!==N.radiusY)}const on=new _.OlP("cdk-input-modality-detector-options"),Ft={ignoreKeys:[ve.zL,ve.jx,ve.b2,ve.MW,ve.JU]},Ke=(0,S.i$)({passive:!0,capture:!0});let Bt=(()=>{class W{constructor(U,Se,ht,Gt){this._platform=U,this._mostRecentTarget=null,this._modality=new me.X(null),this._lastTouchMs=0,this._onKeydown=de=>{var Nt,M;(null===(M=null===(Nt=this._options)||void 0===Nt?void 0:Nt.ignoreKeys)||void 0===M?void 0:M.some(Z=>Z===de.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,S.sA)(de))},this._onMousedown=de=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dr(de)?"keyboard":"mouse"),this._mostRecentTarget=(0,S.sA)(de))},this._onTouchstart=de=>{yr(de)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,S.sA)(de))},this._options=Object.assign(Object.assign({},Ft),Gt),this.modalityDetected=this._modality.pipe((0,Ie.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,ue.x)()),U.isBrowser&&Se.runOutsideAngular(()=>{ht.addEventListener("keydown",this._onKeydown,Ke),ht.addEventListener("mousedown",this._onMousedown,Ke),ht.addEventListener("touchstart",this._onTouchstart,Ke)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ke),document.removeEventListener("mousedown",this._onMousedown,Ke),document.removeEventListener("touchstart",this._onTouchstart,Ke))}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(S.t4),_.LFG(_.R0b),_.LFG(u.K0),_.LFG(on,8))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const Vt=new _.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Yt(){return null}}),en=new _.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Cn=(()=>{class W{constructor(U,Se,ht,Gt){this._ngZone=Se,this._defaultOptions=Gt,this._document=ht,this._liveElement=U||this._createLiveElement()}announce(U,...Se){const ht=this._defaultOptions;let Gt,de;return 1===Se.length&&"number"==typeof Se[0]?de=Se[0]:[Gt,de]=Se,this.clear(),clearTimeout(this._previousTimeout),Gt||(Gt=ht&&ht.politeness?ht.politeness:"polite"),null==de&&ht&&(de=ht.duration),this._liveElement.setAttribute("aria-live",Gt),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Nt=>this._currentResolve=Nt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=U,"number"==typeof de&&(this._previousTimeout=setTimeout(()=>this.clear(),de)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var U,Se;clearTimeout(this._previousTimeout),null===(U=this._liveElement)||void 0===U||U.remove(),this._liveElement=null,null===(Se=this._currentResolve)||void 0===Se||Se.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const U="cdk-live-announcer-element",Se=this._document.getElementsByClassName(U),ht=this._document.createElement("div");for(let Gt=0;Gt<Se.length;Gt++)Se[Gt].remove();return ht.classList.add(U),ht.classList.add("cdk-visually-hidden"),ht.setAttribute("aria-atomic","true"),ht.setAttribute("aria-live","polite"),this._document.body.appendChild(ht),ht}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(Vt,8),_.LFG(_.R0b),_.LFG(u.K0),_.LFG(en,8))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();const Rn=new _.OlP("cdk-focus-monitor-default-options"),Wn=(0,S.i$)({passive:!0,capture:!0});let tr=(()=>{class W{constructor(U,Se,ht,Gt,de){this._ngZone=U,this._platform=Se,this._inputModalityDetector=ht,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=Nt=>{const M=(0,S.sA)(Nt),Z="focus"===Nt.type?this._onFocus:this._onBlur;for(let it=M;it;it=it.parentElement)Z.call(this,Nt,it)},this._document=Gt,this._detectionMode=(null==de?void 0:de.detectionMode)||0}monitor(U,Se=!1){const ht=(0,ke.fI)(U);if(!this._platform.isBrowser||1!==ht.nodeType)return(0,Pe.of)(null);const Gt=(0,S.kV)(ht)||this._getDocument(),de=this._elementInfo.get(ht);if(de)return Se&&(de.checkChildren=!0),de.subject;const Nt={checkChildren:Se,subject:new ee.x,rootNode:Gt};return this._elementInfo.set(ht,Nt),this._registerGlobalListeners(Nt),Nt.subject}stopMonitoring(U){const Se=(0,ke.fI)(U),ht=this._elementInfo.get(Se);ht&&(ht.subject.complete(),this._setClasses(Se),this._elementInfo.delete(Se),this._removeGlobalListeners(ht))}focusVia(U,Se,ht){const Gt=(0,ke.fI)(U);Gt===this._getDocument().activeElement?this._getClosestElementsInfo(Gt).forEach(([Nt,M])=>this._originChanged(Nt,Se,M)):(this._setOrigin(Se),"function"==typeof Gt.focus&&Gt.focus(ht))}ngOnDestroy(){this._elementInfo.forEach((U,Se)=>this.stopMonitoring(Se))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(U){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(U)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(U){return 1===this._detectionMode||!!(null==U?void 0:U.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(U,Se){U.classList.toggle("cdk-focused",!!Se),U.classList.toggle("cdk-touch-focused","touch"===Se),U.classList.toggle("cdk-keyboard-focused","keyboard"===Se),U.classList.toggle("cdk-mouse-focused","mouse"===Se),U.classList.toggle("cdk-program-focused","program"===Se)}_setOrigin(U,Se=!1){this._ngZone.runOutsideAngular(()=>{this._origin=U,this._originFromTouchInteraction="touch"===U&&Se,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(U,Se){const ht=this._elementInfo.get(Se),Gt=(0,S.sA)(U);!ht||!ht.checkChildren&&Se!==Gt||this._originChanged(Se,this._getFocusOrigin(Gt),ht)}_onBlur(U,Se){const ht=this._elementInfo.get(Se);!ht||ht.checkChildren&&U.relatedTarget instanceof Node&&Se.contains(U.relatedTarget)||(this._setClasses(Se),this._emitOrigin(ht.subject,null))}_emitOrigin(U,Se){this._ngZone.run(()=>U.next(Se))}_registerGlobalListeners(U){if(!this._platform.isBrowser)return;const Se=U.rootNode,ht=this._rootNodeFocusListenerCount.get(Se)||0;ht||this._ngZone.runOutsideAngular(()=>{Se.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),Se.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wn)}),this._rootNodeFocusListenerCount.set(Se,ht+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,$e.R)(this._stopInputModalityDetector)).subscribe(Gt=>{this._setOrigin(Gt,!0)}))}_removeGlobalListeners(U){const Se=U.rootNode;if(this._rootNodeFocusListenerCount.has(Se)){const ht=this._rootNodeFocusListenerCount.get(Se);ht>1?this._rootNodeFocusListenerCount.set(Se,ht-1):(Se.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),Se.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wn),this._rootNodeFocusListenerCount.delete(Se))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(U,Se,ht){this._setClasses(U,Se),this._emitOrigin(ht.subject,Se),this._lastFocusOrigin=Se}_getClosestElementsInfo(U){const Se=[];return this._elementInfo.forEach((ht,Gt)=>{(Gt===U||ht.checkChildren&&Gt.contains(U))&&Se.push([Gt,ht])}),Se}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(_.R0b),_.LFG(S.t4),_.LFG(Bt),_.LFG(u.K0,8),_.LFG(Rn,8))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Sn=(()=>{class W{constructor(U,Se){this._elementRef=U,this._focusMonitor=Se,this.cdkFocusChange=new _.vpe}ngAfterViewInit(){const U=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(U,1===U.nodeType&&U.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Se=>this.cdkFocusChange.emit(Se))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return W.\u0275fac=function(U){return new(U||W)(_.Y36(_.SBq),_.Y36(tr))},W.\u0275dir=_.lG2({type:W,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),W})();const Hn="cdk-high-contrast-black-on-white",bn="cdk-high-contrast-white-on-black",Rr="cdk-high-contrast-active";let ct=(()=>{class W{constructor(U,Se){this._platform=U,this._document=Se}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const U=this._document.createElement("div");U.style.backgroundColor="rgb(1,2,3)",U.style.position="absolute",this._document.body.appendChild(U);const Se=this._document.defaultView||window,ht=Se&&Se.getComputedStyle?Se.getComputedStyle(U):null,Gt=(ht&&ht.backgroundColor||"").replace(/ /g,"");switch(U.remove(),Gt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const U=this._document.body.classList;U.remove(Rr),U.remove(Hn),U.remove(bn),this._hasCheckedHighContrastMode=!0;const Se=this.getHighContrastMode();1===Se?(U.add(Rr),U.add(Hn)):2===Se&&(U.add(Rr),U.add(bn))}}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(S.t4),_.LFG(u.K0))},W.\u0275prov=_.Yz7({token:W,factory:W.\u0275fac,providedIn:"root"}),W})(),Ae=(()=>{class W{constructor(U){U._applyBodyHighContrastModeCssClasses()}}return W.\u0275fac=function(U){return new(U||W)(_.LFG(ct))},W.\u0275mod=_.oAB({type:W}),W.\u0275inj=_.cJS({imports:[[Qe.Q8]]}),W})()},226:(Xt,tt,y)=>{y.d(tt,{vT:()=>_e,Is:()=>Pe});var u=y(5e3),_=y(9808);const S=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,u.f3M)(_.K0)}}),ce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pe=(()=>{class ${constructor(oe){if(this.value="ltr",this.change=new u.vpe,oe){const Ie=oe.documentElement?oe.documentElement.dir:null;this.value=function me($){const ie=(null==$?void 0:$.toLowerCase())||"";return"auto"===ie&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ce.test(navigator.language)?"rtl":"ltr":"rtl"===ie?"rtl":"ltr"}((oe.body?oe.body.dir:null)||Ie||"ltr")}}ngOnDestroy(){this.change.complete()}}return $.\u0275fac=function(oe){return new(oe||$)(u.LFG(S,8))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),_e=(()=>{class ${}return $.\u0275fac=function(oe){return new(oe||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})()},3191:(Xt,tt,y)=>{y.d(tt,{Eq:()=>ce,Ig:()=>_,HM:()=>me,fI:()=>Pe,su:()=>S,du:()=>ve});var u=y(5e3);function _(_e){return null!=_e&&"false"!=`${_e}`}function S(_e,$=0){return function ee(_e){return!isNaN(parseFloat(_e))&&!isNaN(Number(_e))}(_e)?Number(_e):$}function ce(_e){return Array.isArray(_e)?_e:[_e]}function me(_e){return null==_e?"":"string"==typeof _e?_e:`${_e}px`}function Pe(_e){return _e instanceof u.SBq?_e.nativeElement:_e}function ve(_e,$=/\s+/){const ie=[];if(null!=_e){const oe=Array.isArray(_e)?_e:`${_e}`.split($);for(const Fe of oe){const Ie=`${Fe}`.trim();Ie&&ie.push(Ie)}}return ie}},1159:(Xt,tt,y)=>{y.d(tt,{A:()=>Qt,zL:()=>ve,ZH:()=>_,jx:()=>Pe,yY:()=>rt,JH:()=>xt,uR:()=>ue,K5:()=>ce,hY:()=>ie,Sd:()=>$e,oh:()=>ke,b2:()=>vi,MW:()=>Cn,aO:()=>rn,VM:()=>Ie,Ku:()=>Fe,SV:()=>Be,JU:()=>me,L_:()=>oe,Mf:()=>S,LH:()=>Qe,Z:()=>en,xE:()=>ze,Vb:()=>ri});const _=8,S=9,ce=13,me=16,Pe=17,ve=18,ie=27,oe=32,Fe=33,Ie=34,ue=35,$e=36,ke=37,Qe=38,Be=39,xt=40,rt=46,ze=48,rn=57,Qt=65,en=90,Cn=91,vi=224;function ri(Ir,...ki){return ki.length?ki.some(Hi=>Ir[Hi]):Ir.altKey||Ir.shiftKey||Ir.ctrlKey||Ir.metaKey}},7144:(Xt,tt,y)=>{y.d(tt,{wD:()=>ve,Q8:()=>_e});var u=y(3191),_=y(5e3),S=y(8306),ee=y(7579),ce=y(8372);let me=(()=>{class ${create(oe){return"undefined"==typeof MutationObserver?null:new MutationObserver(oe)}}return $.\u0275fac=function(oe){return new(oe||$)},$.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),Pe=(()=>{class ${constructor(oe){this._mutationObserverFactory=oe,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((oe,Fe)=>this._cleanupObserver(Fe))}observe(oe){const Fe=(0,u.fI)(oe);return new S.y(Ie=>{const $e=this._observeElement(Fe).subscribe(Ie);return()=>{$e.unsubscribe(),this._unobserveElement(Fe)}})}_observeElement(oe){if(this._observedElements.has(oe))this._observedElements.get(oe).count++;else{const Fe=new ee.x,Ie=this._mutationObserverFactory.create(ue=>Fe.next(ue));Ie&&Ie.observe(oe,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(oe,{observer:Ie,stream:Fe,count:1})}return this._observedElements.get(oe).stream}_unobserveElement(oe){this._observedElements.has(oe)&&(this._observedElements.get(oe).count--,this._observedElements.get(oe).count||this._cleanupObserver(oe))}_cleanupObserver(oe){if(this._observedElements.has(oe)){const{observer:Fe,stream:Ie}=this._observedElements.get(oe);Fe&&Fe.disconnect(),Ie.complete(),this._observedElements.delete(oe)}}}return $.\u0275fac=function(oe){return new(oe||$)(_.LFG(me))},$.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),ve=(()=>{class ${constructor(oe,Fe,Ie){this._contentObserver=oe,this._elementRef=Fe,this._ngZone=Ie,this.event=new _.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,u.Ig)(oe),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(oe){this._debounce=(0,u.su)(oe),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const oe=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?oe.pipe((0,ce.b)(this.debounce)):oe).subscribe(this.event)})}_unsubscribe(){var oe;null===(oe=this._currentSubscription)||void 0===oe||oe.unsubscribe()}}return $.\u0275fac=function(oe){return new(oe||$)(_.Y36(Pe),_.Y36(_.SBq),_.Y36(_.R0b))},$.\u0275dir=_.lG2({type:$,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),$})(),_e=(()=>{class ${}return $.\u0275fac=function(oe){return new(oe||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({providers:[me]}),$})()},925:(Xt,tt,y)=>{y.d(tt,{t4:()=>ee,sA:()=>xt,ht:()=>Be,kV:()=>Qe,Oy:()=>qe,qK:()=>ve,i$:()=>ie,Mq:()=>Ie});var u=y(5e3),_=y(9808);let S;try{S="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Te){S=!1}let me,ee=(()=>{class Te{constructor(rt){this._platformId=rt,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Te.\u0275fac=function(rt){return new(rt||Te)(u.LFG(u.Lbi))},Te.\u0275prov=u.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();const Pe=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ve(){if(me)return me;if("object"!=typeof document||!document)return me=new Set(Pe),me;let Te=document.createElement("input");return me=new Set(Pe.filter(Ue=>(Te.setAttribute("type",Ue),Te.type===Ue))),me}let _e,Fe,$e;function ie(Te){return function $(){if(null==_e&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_e=!0}))}finally{_e=_e||!1}return _e}()?Te:!!Te.capture}function Ie(){if(null==Fe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fe=!1,Fe;if("scrollBehavior"in document.documentElement.style)Fe=!0;else{const Te=Element.prototype.scrollTo;Fe=!!Te&&!/\{\s*\[native code\]\s*\}/.test(Te.toString())}}return Fe}function Qe(Te){if(function ke(){if(null==$e){const Te="undefined"!=typeof document?document.head:null;$e=!(!Te||!Te.createShadowRoot&&!Te.attachShadow)}return $e}()){const Ue=Te.getRootNode?Te.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&Ue instanceof ShadowRoot)return Ue}return null}function Be(){let Te="undefined"!=typeof document&&document?document.activeElement:null;for(;Te&&Te.shadowRoot;){const Ue=Te.shadowRoot.activeElement;if(Ue===Te)break;Te=Ue}return Te}function xt(Te){return Te.composedPath?Te.composedPath()[0]:Te.target}function qe(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9808:(Xt,tt,y)=>{y.d(tt,{mr:()=>Be,ez:()=>Fs,K0:()=>Pe,uU:()=>Ni,Do:()=>qe,V_:()=>$,Ye:()=>Te,S$:()=>ke,mk:()=>ni,sg:()=>Yr,O5:()=>ri,PC:()=>gs,RF:()=>ii,n9:()=>Di,ED:()=>$i,b0:()=>xt,lw:()=>ve,EM:()=>K,JF:()=>It,NF:()=>se,PM:()=>C,w_:()=>me,bD:()=>zi,q:()=>S,Mx:()=>kr,HT:()=>ce});var u=y(5e3);let _=null;function S(){return _}function ce(F){_||(_=F)}class me{}const Pe=new u.OlP("DocumentToken");let ve=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=u.Yz7({token:F,factory:function(){return function _e(){return(0,u.LFG)(ie)}()},providedIn:"platform"}),F})();const $=new u.OlP("Location Initialized");let ie=(()=>{class F extends ve{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(k){const ge=S().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",k,!1),()=>ge.removeEventListener("popstate",k)}onHashChange(k){const ge=S().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",k,!1),()=>ge.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,ge,We){oe()?this._history.pushState(k,ge,We):this.location.hash=We}replaceState(k,ge,We){oe()?this._history.replaceState(k,ge,We):this.location.hash=We}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return F.\u0275fac=function(k){return new(k||F)(u.LFG(Pe))},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Fe(){return new ie((0,u.LFG)(Pe))}()},providedIn:"platform"}),F})();function oe(){return!!window.history.pushState}function Ie(F,X){if(0==F.length)return X;if(0==X.length)return F;let k=0;return F.endsWith("/")&&k++,X.startsWith("/")&&k++,2==k?F+X.substring(1):1==k?F+X:F+"/"+X}function ue(F){const X=F.match(/#|\?|$/),k=X&&X.index||F.length;return F.slice(0,k-("/"===F[k-1]?1:0))+F.slice(k)}function $e(F){return F&&"?"!==F[0]?"?"+F:F}let ke=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Qe(F){const X=(0,u.LFG)(Pe).location;return new xt((0,u.LFG)(ve),X&&X.origin||"")}()},providedIn:"root"}),F})();const Be=new u.OlP("appBaseHref");let xt=(()=>{class F extends ke{constructor(k,ge){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==ge&&(ge=this._platformLocation.getBaseHrefFromDOM()),null==ge)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ge}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return Ie(this._baseHref,k)}path(k=!1){const ge=this._platformLocation.pathname+$e(this._platformLocation.search),We=this._platformLocation.hash;return We&&k?`${ge}${We}`:ge}pushState(k,ge,We,pt){const Pt=this.prepareExternalUrl(We+$e(pt));this._platformLocation.pushState(k,ge,Pt)}replaceState(k,ge,We,pt){const Pt=this.prepareExternalUrl(We+$e(pt));this._platformLocation.replaceState(k,ge,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var ge,We;null===(We=(ge=this._platformLocation).historyGo)||void 0===We||We.call(ge,k)}}return F.\u0275fac=function(k){return new(k||F)(u.LFG(ve),u.LFG(Be,8))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac}),F})(),qe=(()=>{class F extends ke{constructor(k,ge){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let ge=this._platformLocation.hash;return null==ge&&(ge="#"),ge.length>0?ge.substring(1):ge}prepareExternalUrl(k){const ge=Ie(this._baseHref,k);return ge.length>0?"#"+ge:ge}pushState(k,ge,We,pt){let Pt=this.prepareExternalUrl(We+$e(pt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.pushState(k,ge,Pt)}replaceState(k,ge,We,pt){let Pt=this.prepareExternalUrl(We+$e(pt));0==Pt.length&&(Pt=this._platformLocation.pathname),this._platformLocation.replaceState(k,ge,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var ge,We;null===(We=(ge=this._platformLocation).historyGo)||void 0===We||We.call(ge,k)}}return F.\u0275fac=function(k){return new(k||F)(u.LFG(ve),u.LFG(Be,8))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac}),F})(),Te=(()=>{class F{constructor(k,ge){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const We=this._platformStrategy.getBaseHref();this._platformLocation=ge,this._baseHref=ue(ze(We)),this._platformStrategy.onPopState(pt=>{this._subject.emit({url:this.path(!0),pop:!0,state:pt.state,type:pt.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,ge=""){return this.path()==this.normalize(k+$e(ge))}normalize(k){return F.stripTrailingSlash(function rt(F,X){return F&&X.startsWith(F)?X.substring(F.length):X}(this._baseHref,ze(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,ge="",We=null){this._platformStrategy.pushState(We,"",k,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+$e(ge)),We)}replaceState(k,ge="",We=null){this._platformStrategy.replaceState(We,"",k,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+$e(ge)),We)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var ge,We;null===(We=(ge=this._platformStrategy).historyGo)||void 0===We||We.call(ge,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ge=>{this._notifyUrlChangeListeners(ge.url,ge.state)}))}_notifyUrlChangeListeners(k="",ge){this._urlChangeListeners.forEach(We=>We(k,ge))}subscribe(k,ge,We){return this._subject.subscribe({next:k,error:ge,complete:We})}}return F.normalizeQueryParams=$e,F.joinWithSlash=Ie,F.stripTrailingSlash=ue,F.\u0275fac=function(k){return new(k||F)(u.LFG(ke),u.LFG(ve))},F.\u0275prov=u.Yz7({token:F,factory:function(){return function Ue(){return new Te((0,u.LFG)(ke),(0,u.LFG)(ve))}()},providedIn:"root"}),F})();function ze(F){return F.replace(/\/index.html$/,"")}var Ce=(()=>((Ce=Ce||{})[Ce.Zero=0]="Zero",Ce[Ce.One=1]="One",Ce[Ce.Two=2]="Two",Ce[Ce.Few=3]="Few",Ce[Ce.Many=4]="Many",Ce[Ce.Other=5]="Other",Ce))(),He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),Je=(()=>((Je=Je||{})[Je.Narrow=0]="Narrow",Je[Je.Abbreviated=1]="Abbreviated",Je[Je.Wide=2]="Wide",Je[Je.Short=3]="Short",Je))(),ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.Medium=1]="Medium",ut[ut.Long=2]="Long",ut[ut.Full=3]="Full",ut))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function _n(F,X){return dr((0,u.cg1)(F)[u.wAp.DateFormat],X)}function Mt(F,X){return dr((0,u.cg1)(F)[u.wAp.TimeFormat],X)}function At(F,X){return dr((0,u.cg1)(F)[u.wAp.DateTimeFormat],X)}function Ht(F,X){const k=(0,u.cg1)(F),ge=k[u.wAp.NumberSymbols][X];if(void 0===ge){if(X===ot.CurrencyDecimal)return k[u.wAp.NumberSymbols][ot.Decimal];if(X===ot.CurrencyGroup)return k[u.wAp.NumberSymbols][ot.Group]}return ge}const ar=u.kL8;function Wr(F){if(!F[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dr(F,X){for(let k=X;k>-1;k--)if(void 0!==F[k])return F[k];throw new Error("Locale data API: locale data undefined")}function yr(F){const[X,k]=F.split(":");return{hours:+X,minutes:+k}}const Ke=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bt={},Vt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=(()=>((Yt=Yt||{})[Yt.Short=0]="Short",Yt[Yt.ShortGMT=1]="ShortGMT",Yt[Yt.Long=2]="Long",Yt[Yt.Extended=3]="Extended",Yt))(),en=(()=>((en=en||{})[en.FullYear=0]="FullYear",en[en.Month=1]="Month",en[en.Date=2]="Date",en[en.Hours=3]="Hours",en[en.Minutes=4]="Minutes",en[en.Seconds=5]="Seconds",en[en.FractionalSeconds=6]="FractionalSeconds",en[en.Day=7]="Day",en))(),Cn=(()=>((Cn=Cn||{})[Cn.DayPeriods=0]="DayPeriods",Cn[Cn.Days=1]="Days",Cn[Cn.Months=2]="Months",Cn[Cn.Eras=3]="Eras",Cn))();function Tn(F,X,k,ge){let We=function je(F){if(yt(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[We,pt=1,Pt=1]=F.split("-").map(dn=>+dn);return Rn(We,pt-1,Pt)}const k=parseFloat(F);if(!isNaN(F-k))return new Date(k);let ge;if(ge=F.match(Ke))return function nt(F){const X=new Date(0);let k=0,ge=0;const We=F[8]?X.setUTCFullYear:X.setFullYear,pt=F[8]?X.setUTCHours:X.setHours;F[9]&&(k=Number(F[9]+F[10]),ge=Number(F[9]+F[11])),We.call(X,Number(F[1]),Number(F[2])-1,Number(F[3]));const Pt=Number(F[4]||0)-k,dn=Number(F[5]||0)-ge,fr=Number(F[6]||0),Zn=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return pt.call(X,Pt,dn,fr,Zn),X}(ge)}const X=new Date(F);if(!yt(X))throw new Error(`Unable to convert "${F}" into a date`);return X}(F);X=Wn(k,X)||X;let dn,Pt=[];for(;X;){if(dn=Vt.exec(X),!dn){Pt.push(X);break}{Pt=Pt.concat(dn.slice(1));const ir=Pt.pop();if(!ir)break;X=ir}}let fr=We.getTimezoneOffset();ge&&(fr=Z(ge,fr),We=function Ye(F,X,k){const ge=k?-1:1,We=F.getTimezoneOffset();return function it(F,X){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+X),F}(F,ge*(Z(X,We)-We))}(We,ge,!0));let Zn="";return Pt.forEach(ir=>{const lr=function M(F){if(Nt[F])return Nt[F];let X;switch(F){case"G":case"GG":case"GGG":X=ct(Cn.Eras,Je.Abbreviated);break;case"GGGG":X=ct(Cn.Eras,Je.Wide);break;case"GGGGG":X=ct(Cn.Eras,Je.Narrow);break;case"y":X=bn(en.FullYear,1,0,!1,!0);break;case"yy":X=bn(en.FullYear,2,0,!0,!0);break;case"yyy":X=bn(en.FullYear,3,0,!1,!0);break;case"yyyy":X=bn(en.FullYear,4,0,!1,!0);break;case"Y":X=de(1);break;case"YY":X=de(2,!0);break;case"YYY":X=de(3);break;case"YYYY":X=de(4);break;case"M":case"L":X=bn(en.Month,1,1);break;case"MM":case"LL":X=bn(en.Month,2,1);break;case"MMM":X=ct(Cn.Months,Je.Abbreviated);break;case"MMMM":X=ct(Cn.Months,Je.Wide);break;case"MMMMM":X=ct(Cn.Months,Je.Narrow);break;case"LLL":X=ct(Cn.Months,Je.Abbreviated,He.Standalone);break;case"LLLL":X=ct(Cn.Months,Je.Wide,He.Standalone);break;case"LLLLL":X=ct(Cn.Months,Je.Narrow,He.Standalone);break;case"w":X=Gt(1);break;case"ww":X=Gt(2);break;case"W":X=Gt(1,!0);break;case"d":X=bn(en.Date,1);break;case"dd":X=bn(en.Date,2);break;case"c":case"cc":X=bn(en.Day,1);break;case"ccc":X=ct(Cn.Days,Je.Abbreviated,He.Standalone);break;case"cccc":X=ct(Cn.Days,Je.Wide,He.Standalone);break;case"ccccc":X=ct(Cn.Days,Je.Narrow,He.Standalone);break;case"cccccc":X=ct(Cn.Days,Je.Short,He.Standalone);break;case"E":case"EE":case"EEE":X=ct(Cn.Days,Je.Abbreviated);break;case"EEEE":X=ct(Cn.Days,Je.Wide);break;case"EEEEE":X=ct(Cn.Days,Je.Narrow);break;case"EEEEEE":X=ct(Cn.Days,Je.Short);break;case"a":case"aa":case"aaa":X=ct(Cn.DayPeriods,Je.Abbreviated);break;case"aaaa":X=ct(Cn.DayPeriods,Je.Wide);break;case"aaaaa":X=ct(Cn.DayPeriods,Je.Narrow);break;case"b":case"bb":case"bbb":X=ct(Cn.DayPeriods,Je.Abbreviated,He.Standalone,!0);break;case"bbbb":X=ct(Cn.DayPeriods,Je.Wide,He.Standalone,!0);break;case"bbbbb":X=ct(Cn.DayPeriods,Je.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":X=ct(Cn.DayPeriods,Je.Abbreviated,He.Format,!0);break;case"BBBB":X=ct(Cn.DayPeriods,Je.Wide,He.Format,!0);break;case"BBBBB":X=ct(Cn.DayPeriods,Je.Narrow,He.Format,!0);break;case"h":X=bn(en.Hours,1,-12);break;case"hh":X=bn(en.Hours,2,-12);break;case"H":X=bn(en.Hours,1);break;case"HH":X=bn(en.Hours,2);break;case"m":X=bn(en.Minutes,1);break;case"mm":X=bn(en.Minutes,2);break;case"s":X=bn(en.Seconds,1);break;case"ss":X=bn(en.Seconds,2);break;case"S":X=bn(en.FractionalSeconds,1);break;case"SS":X=bn(en.FractionalSeconds,2);break;case"SSS":X=bn(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=W(Yt.Short);break;case"ZZZZZ":X=W(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=W(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=W(Yt.Long);break;default:return null}return Nt[F]=X,X}(ir);Zn+=lr?lr(We,k,fr):"''"===ir?"'":ir.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Zn}function Rn(F,X,k){const ge=new Date(0);return ge.setFullYear(F,X,k),ge.setHours(0,0,0),ge}function Wn(F,X){const k=function rn(F){return(0,u.cg1)(F)[u.wAp.LocaleId]}(F);if(Bt[k]=Bt[k]||{},Bt[k][X])return Bt[k][X];let ge="";switch(X){case"shortDate":ge=_n(F,ut.Short);break;case"mediumDate":ge=_n(F,ut.Medium);break;case"longDate":ge=_n(F,ut.Long);break;case"fullDate":ge=_n(F,ut.Full);break;case"shortTime":ge=Mt(F,ut.Short);break;case"mediumTime":ge=Mt(F,ut.Medium);break;case"longTime":ge=Mt(F,ut.Long);break;case"fullTime":ge=Mt(F,ut.Full);break;case"short":const We=Wn(F,"shortTime"),pt=Wn(F,"shortDate");ge=tr(At(F,ut.Short),[We,pt]);break;case"medium":const Pt=Wn(F,"mediumTime"),dn=Wn(F,"mediumDate");ge=tr(At(F,ut.Medium),[Pt,dn]);break;case"long":const fr=Wn(F,"longTime"),Zn=Wn(F,"longDate");ge=tr(At(F,ut.Long),[fr,Zn]);break;case"full":const ir=Wn(F,"fullTime"),lr=Wn(F,"fullDate");ge=tr(At(F,ut.Full),[ir,lr])}return ge&&(Bt[k][X]=ge),ge}function tr(F,X){return X&&(F=F.replace(/\{([^}]+)}/g,function(k,ge){return null!=X&&ge in X?X[ge]:k})),F}function Sn(F,X,k="-",ge,We){let pt="";(F<0||We&&F<=0)&&(We?F=1-F:(F=-F,pt=k));let Pt=String(F);for(;Pt.length<X;)Pt="0"+Pt;return ge&&(Pt=Pt.substr(Pt.length-X)),pt+Pt}function bn(F,X,k=0,ge=!1,We=!1){return function(pt,Pt){let dn=function Rr(F,X){switch(F){case en.FullYear:return X.getFullYear();case en.Month:return X.getMonth();case en.Date:return X.getDate();case en.Hours:return X.getHours();case en.Minutes:return X.getMinutes();case en.Seconds:return X.getSeconds();case en.FractionalSeconds:return X.getMilliseconds();case en.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,pt);if((k>0||dn>-k)&&(dn+=k),F===en.Hours)0===dn&&-12===k&&(dn=12);else if(F===en.FractionalSeconds)return function Hn(F,X){return Sn(F,3).substr(0,X)}(dn,X);const fr=Ht(Pt,ot.MinusSign);return Sn(dn,X,fr,ge,We)}}function ct(F,X,k=He.Format,ge=!1){return function(We,pt){return function Ae(F,X,k,ge,We,pt){switch(k){case Cn.Months:return function mt(F,X,k){const ge=(0,u.cg1)(F),pt=dr([ge[u.wAp.MonthsFormat],ge[u.wAp.MonthsStandalone]],X);return dr(pt,k)}(X,We,ge)[F.getMonth()];case Cn.Days:return function ln(F,X,k){const ge=(0,u.cg1)(F),pt=dr([ge[u.wAp.DaysFormat],ge[u.wAp.DaysStandalone]],X);return dr(pt,k)}(X,We,ge)[F.getDay()];case Cn.DayPeriods:const Pt=F.getHours(),dn=F.getMinutes();if(pt){const Zn=function Ar(F){const X=(0,u.cg1)(F);return Wr(X),(X[u.wAp.ExtraData][2]||[]).map(ge=>"string"==typeof ge?yr(ge):[yr(ge[0]),yr(ge[1])])}(X),ir=function cn(F,X,k){const ge=(0,u.cg1)(F);Wr(ge);const pt=dr([ge[u.wAp.ExtraData][0],ge[u.wAp.ExtraData][1]],X)||[];return dr(pt,k)||[]}(X,We,ge),lr=Zn.findIndex(wr=>{if(Array.isArray(wr)){const[Dr,qr]=wr,Y=Pt>=Dr.hours&&dn>=Dr.minutes,G=Pt<qr.hours||Pt===qr.hours&&dn<qr.minutes;if(Dr.hours<qr.hours){if(Y&&G)return!0}else if(Y||G)return!0}else if(wr.hours===Pt&&wr.minutes===dn)return!0;return!1});if(-1!==lr)return ir[lr]}return function En(F,X,k){const ge=(0,u.cg1)(F),pt=dr([ge[u.wAp.DayPeriodsFormat],ge[u.wAp.DayPeriodsStandalone]],X);return dr(pt,k)}(X,We,ge)[Pt<12?0:1];case Cn.Eras:return function qt(F,X){return dr((0,u.cg1)(F)[u.wAp.Eras],X)}(X,ge)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(We,pt,F,X,k,ge)}}function W(F){return function(X,k,ge){const We=-1*ge,pt=Ht(k,ot.MinusSign),Pt=We>0?Math.floor(We/60):Math.ceil(We/60);switch(F){case Yt.Short:return(We>=0?"+":"")+Sn(Pt,2,pt)+Sn(Math.abs(We%60),2,pt);case Yt.ShortGMT:return"GMT"+(We>=0?"+":"")+Sn(Pt,1,pt);case Yt.Long:return"GMT"+(We>=0?"+":"")+Sn(Pt,2,pt)+":"+Sn(Math.abs(We%60),2,pt);case Yt.Extended:return 0===ge?"Z":(We>=0?"+":"")+Sn(Pt,2,pt)+":"+Sn(Math.abs(We%60),2,pt);default:throw new Error(`Unknown zone width "${F}"`)}}}function ht(F){return Rn(F.getFullYear(),F.getMonth(),F.getDate()+(4-F.getDay()))}function Gt(F,X=!1){return function(k,ge){let We;if(X){const pt=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,Pt=k.getDate();We=1+Math.floor((Pt+pt)/7)}else{const pt=ht(k),Pt=function Se(F){const X=Rn(F,0,1).getDay();return Rn(F,0,1+(X<=4?4:11)-X)}(pt.getFullYear()),dn=pt.getTime()-Pt.getTime();We=1+Math.round(dn/6048e5)}return Sn(We,F,Ht(ge,ot.MinusSign))}}function de(F,X=!1){return function(k,ge){return Sn(ht(k).getFullYear(),F,Ht(ge,ot.MinusSign),X)}}const Nt={};function Z(F,X){F=F.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(k)?X:k}function yt(F){return F instanceof Date&&!isNaN(F.valueOf())}class gt{}let Vn=(()=>{class F extends gt{constructor(k){super(),this.locale=k}getPluralCategory(k,ge){switch(ar(ge||this.locale)(k)){case Ce.Zero:return"zero";case Ce.One:return"one";case Ce.Two:return"two";case Ce.Few:return"few";case Ce.Many:return"many";default:return"other"}}}return F.\u0275fac=function(k){return new(k||F)(u.LFG(u.soG))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac}),F})();function kr(F,X){X=encodeURIComponent(X);for(const k of F.split(";")){const ge=k.indexOf("="),[We,pt]=-1==ge?[k,""]:[k.slice(0,ge),k.slice(ge+1)];if(We.trim()===X)return decodeURIComponent(pt)}return null}let ni=(()=>{class F{constructor(k,ge,We,pt){this._iterableDiffers=k,this._keyValueDiffers=ge,this._ngEl=We,this._renderer=pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),k.forEachChangedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),k.forEachRemovedItem(ge=>{ge.previousValue&&this._toggleClass(ge.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(ge=>{if("string"!=typeof ge.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(ge.item)}`);this._toggleClass(ge.item,!0)}),k.forEachRemovedItem(ge=>this._toggleClass(ge.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(ge=>this._toggleClass(ge,!0)):Object.keys(k).forEach(ge=>this._toggleClass(ge,!!k[ge])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(ge=>this._toggleClass(ge,!1)):Object.keys(k).forEach(ge=>this._toggleClass(ge,!1)))}_toggleClass(k,ge){(k=k.trim())&&k.split(/\s+/g).forEach(We=>{ge?this._renderer.addClass(this._ngEl.nativeElement,We):this._renderer.removeClass(this._ngEl.nativeElement,We)})}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class ui{constructor(X,k,ge,We){this.$implicit=X,this.ngForOf=k,this.index=ge,this.count=We}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class F{constructor(k,ge,We){this._viewContainer=k,this._template=ge,this._differs=We,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const ge=this._viewContainer;k.forEachOperation((We,pt,Pt)=>{if(null==We.previousIndex)ge.createEmbeddedView(this._template,new ui(We.item,this._ngForOf,-1,-1),null===Pt?void 0:Pt);else if(null==Pt)ge.remove(null===pt?void 0:pt);else if(null!==pt){const dn=ge.get(pt);ge.move(dn,Pt),hi(dn,We)}});for(let We=0,pt=ge.length;We<pt;We++){const dn=ge.get(We).context;dn.index=We,dn.count=pt,dn.ngForOf=this._ngForOf}k.forEachIdentityChange(We=>{hi(ge.get(We.currentIndex),We)})}static ngTemplateContextGuard(k,ge){return!0}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();function hi(F,X){F.context.$implicit=X.item}let ri=(()=>{class F{constructor(k,ge){this._viewContainer=k,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ki("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ki("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,ge){return!0}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.s_b),u.Y36(u.Rgc))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function ki(F,X){if(X&&!X.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,u.AaK)(X)}'.`)}class Hi{constructor(X,k){this._viewContainerRef=X,this._templateRef=k,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(X){X&&!this._created?this.create():!X&&this._created&&this.destroy()}}let ii=(()=>{class F{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(k){this._ngSwitch=k,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(k){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(k)}_matchCase(k){const ge=k==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ge,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ge}_updateDefaultCases(k){if(this._defaultViews&&k!==this._defaultUsed){this._defaultUsed=k;for(let ge=0;ge<this._defaultViews.length;ge++)this._defaultViews[ge].enforceState(k)}}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275dir=u.lG2({type:F,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),F})(),Di=(()=>{class F{constructor(k,ge,We){this.ngSwitch=We,We._addCase(),this._view=new Hi(k,ge)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ii,9))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),F})(),$i=(()=>{class F{constructor(k,ge,We){We._addDefault(new Hi(k,ge))}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(ii,9))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngSwitchDefault",""]]}),F})(),gs=(()=>{class F{constructor(k,ge,We){this._ngEl=k,this._differs=ge,this._renderer=We,this._ngStyle=null,this._differ=null}set ngStyle(k){this._ngStyle=k,!this._differ&&k&&(this._differ=this._differs.find(k).create())}ngDoCheck(){if(this._differ){const k=this._differ.diff(this._ngStyle);k&&this._applyChanges(k)}}_setStyle(k,ge){const[We,pt]=k.split(".");null!=(ge=null!=ge&&pt?`${ge}${pt}`:ge)?this._renderer.setStyle(this._ngEl.nativeElement,We,ge):this._renderer.removeStyle(this._ngEl.nativeElement,We)}_applyChanges(k){k.forEachRemovedItem(ge=>this._setStyle(ge.key,null)),k.forEachAddedItem(ge=>this._setStyle(ge.key,ge.currentValue)),k.forEachChangedItem(ge=>this._setStyle(ge.key,ge.currentValue))}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},F.\u0275dir=u.lG2({type:F,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),F})();const Qr=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ni=(()=>{class F{constructor(k,ge){this.locale=k,this.defaultTimezone=ge}transform(k,ge="mediumDate",We,pt){var Pt;if(null==k||""===k||k!=k)return null;try{return Tn(k,ge,pt||this.locale,null!==(Pt=null!=We?We:this.defaultTimezone)&&void 0!==Pt?Pt:void 0)}catch(dn){throw function di(F,X){return new u.vHH(2100,"")}()}}}return F.\u0275fac=function(k){return new(k||F)(u.Y36(u.soG,16),u.Y36(Qr,24))},F.\u0275pipe=u.Yjl({name:"date",type:F,pure:!0}),F})(),Fs=(()=>{class F{}return F.\u0275fac=function(k){return new(k||F)},F.\u0275mod=u.oAB({type:F}),F.\u0275inj=u.cJS({providers:[{provide:gt,useClass:Vn}]}),F})();const zi="browser";function se(F){return F===zi}function C(F){return"server"===F}let K=(()=>{class F{}return F.\u0275prov=(0,u.Yz7)({token:F,providedIn:"root",factory:()=>new ye((0,u.LFG)(Pe),window)}),F})();class ye{constructor(X,k){this.document=X,this.window=k,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const k=function Dt(F,X){const k=F.getElementById(X)||F.getElementsByName(X)[0];if(k)return k;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const ge=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let We=ge.currentNode;for(;We;){const pt=We.shadowRoot;if(pt){const Pt=pt.getElementById(X)||pt.querySelector(`[name="${X}"]`);if(Pt)return Pt}We=ge.nextNode()}}return null}(this.document,X);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=X)}}scrollToElement(X){const k=X.getBoundingClientRect(),ge=k.left+this.window.pageXOffset,We=k.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(ge-pt[0],We-pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=et(this.window.history)||et(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch(X){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(X){return!1}}}function et(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class It{}},520:(Xt,tt,y)=>{y.d(tt,{eN:()=>ot,Ed:()=>yr,JF:()=>dr,WM:()=>$,LE:()=>ke});var u=y(9808),_=y(5e3),S=y(9646),ee=y(8306),ce=y(4351),me=y(9300),Pe=y(4004);class ve{}class _e{}class ${constructor(Ne){this.normalizedNames=new Map,this.lazyUpdate=null,Ne?this.lazyInit="string"==typeof Ne?()=>{this.headers=new Map,Ne.split("\n").forEach(Ke=>{const Bt=Ke.indexOf(":");if(Bt>0){const Vt=Ke.slice(0,Bt),Yt=Vt.toLowerCase(),en=Ke.slice(Bt+1).trim();this.maybeSetNormalizedName(Vt,Yt),this.headers.has(Yt)?this.headers.get(Yt).push(en):this.headers.set(Yt,[en])}})}:()=>{this.headers=new Map,Object.keys(Ne).forEach(Ke=>{let Bt=Ne[Ke];const Vt=Ke.toLowerCase();"string"==typeof Bt&&(Bt=[Bt]),Bt.length>0&&(this.headers.set(Vt,Bt),this.maybeSetNormalizedName(Ke,Vt))})}:this.headers=new Map}has(Ne){return this.init(),this.headers.has(Ne.toLowerCase())}get(Ne){this.init();const Ke=this.headers.get(Ne.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ne){return this.init(),this.headers.get(Ne.toLowerCase())||null}append(Ne,Ke){return this.clone({name:Ne,value:Ke,op:"a"})}set(Ne,Ke){return this.clone({name:Ne,value:Ke,op:"s"})}delete(Ne,Ke){return this.clone({name:Ne,value:Ke,op:"d"})}maybeSetNormalizedName(Ne,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,Ne)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ne=>this.applyUpdate(Ne)),this.lazyUpdate=null))}copyFrom(Ne){Ne.init(),Array.from(Ne.headers.keys()).forEach(Ke=>{this.headers.set(Ke,Ne.headers.get(Ke)),this.normalizedNames.set(Ke,Ne.normalizedNames.get(Ke))})}clone(Ne){const Ke=new $;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([Ne]),Ke}applyUpdate(Ne){const Ke=Ne.name.toLowerCase();switch(Ne.op){case"a":case"s":let Bt=Ne.value;if("string"==typeof Bt&&(Bt=[Bt]),0===Bt.length)return;this.maybeSetNormalizedName(Ne.name,Ke);const Vt=("a"===Ne.op?this.headers.get(Ke):void 0)||[];Vt.push(...Bt),this.headers.set(Ke,Vt);break;case"d":const Yt=Ne.value;if(Yt){let en=this.headers.get(Ke);if(!en)return;en=en.filter(Cn=>-1===Yt.indexOf(Cn)),0===en.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,en)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}forEach(Ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>Ne(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class ie{encodeKey(Ne){return ue(Ne)}encodeValue(Ne){return ue(Ne)}decodeKey(Ne){return decodeURIComponent(Ne)}decodeValue(Ne){return decodeURIComponent(Ne)}}const Fe=/%(\d[a-f0-9])/gi,Ie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ue(Ft){return encodeURIComponent(Ft).replace(Fe,(Ne,Ke)=>{var Bt;return null!==(Bt=Ie[Ke])&&void 0!==Bt?Bt:Ne})}function $e(Ft){return`${Ft}`}class ke{constructor(Ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ne.encoder||new ie,Ne.fromString){if(Ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function oe(Ft,Ne){const Ke=new Map;return Ft.length>0&&Ft.replace(/^\?/,"").split("&").forEach(Vt=>{const Yt=Vt.indexOf("="),[en,Cn]=-1==Yt?[Ne.decodeKey(Vt),""]:[Ne.decodeKey(Vt.slice(0,Yt)),Ne.decodeValue(Vt.slice(Yt+1))],Tn=Ke.get(en)||[];Tn.push(Cn),Ke.set(en,Tn)}),Ke}(Ne.fromString,this.encoder)}else Ne.fromObject?(this.map=new Map,Object.keys(Ne.fromObject).forEach(Ke=>{const Bt=Ne.fromObject[Ke];this.map.set(Ke,Array.isArray(Bt)?Bt:[Bt])})):this.map=null}has(Ne){return this.init(),this.map.has(Ne)}get(Ne){this.init();const Ke=this.map.get(Ne);return Ke?Ke[0]:null}getAll(Ne){return this.init(),this.map.get(Ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ne,Ke){return this.clone({param:Ne,value:Ke,op:"a"})}appendAll(Ne){const Ke=[];return Object.keys(Ne).forEach(Bt=>{const Vt=Ne[Bt];Array.isArray(Vt)?Vt.forEach(Yt=>{Ke.push({param:Bt,value:Yt,op:"a"})}):Ke.push({param:Bt,value:Vt,op:"a"})}),this.clone(Ke)}set(Ne,Ke){return this.clone({param:Ne,value:Ke,op:"s"})}delete(Ne,Ke){return this.clone({param:Ne,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(Ne=>{const Ke=this.encoder.encodeKey(Ne);return this.map.get(Ne).map(Bt=>Ke+"="+this.encoder.encodeValue(Bt)).join("&")}).filter(Ne=>""!==Ne).join("&")}clone(Ne){const Ke=new ke({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(Ne),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ne=>this.map.set(Ne,this.cloneFrom.map.get(Ne))),this.updates.forEach(Ne=>{switch(Ne.op){case"a":case"s":const Ke=("a"===Ne.op?this.map.get(Ne.param):void 0)||[];Ke.push($e(Ne.value)),this.map.set(Ne.param,Ke);break;case"d":if(void 0===Ne.value){this.map.delete(Ne.param);break}{let Bt=this.map.get(Ne.param)||[];const Vt=Bt.indexOf($e(Ne.value));-1!==Vt&&Bt.splice(Vt,1),Bt.length>0?this.map.set(Ne.param,Bt):this.map.delete(Ne.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(Ne,Ke){return this.map.set(Ne,Ke),this}get(Ne){return this.map.has(Ne)||this.map.set(Ne,Ne.defaultValue()),this.map.get(Ne)}delete(Ne){return this.map.delete(Ne),this}has(Ne){return this.map.has(Ne)}keys(){return this.map.keys()}}function qe(Ft){return"undefined"!=typeof ArrayBuffer&&Ft instanceof ArrayBuffer}function Te(Ft){return"undefined"!=typeof Blob&&Ft instanceof Blob}function Ue(Ft){return"undefined"!=typeof FormData&&Ft instanceof FormData}class ze{constructor(Ne,Ke,Bt,Vt){let Yt;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ne.toUpperCase(),function xt(Ft){switch(Ft){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Vt?(this.body=void 0!==Bt?Bt:null,Yt=Vt):Yt=Bt,Yt&&(this.reportProgress=!!Yt.reportProgress,this.withCredentials=!!Yt.withCredentials,Yt.responseType&&(this.responseType=Yt.responseType),Yt.headers&&(this.headers=Yt.headers),Yt.context&&(this.context=Yt.context),Yt.params&&(this.params=Yt.params)),this.headers||(this.headers=new $),this.context||(this.context=new Be),this.params){const en=this.params.toString();if(0===en.length)this.urlWithParams=Ke;else{const Cn=Ke.indexOf("?");this.urlWithParams=Ke+(-1===Cn?"?":Cn<Ke.length-1?"&":"")+en}}else this.params=new ke,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:qe(this.body)||Te(this.body)||Ue(this.body)||function rt(Ft){return"undefined"!=typeof URLSearchParams&&Ft instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ue(this.body)?null:Te(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ne={}){var Ke;const Bt=Ne.method||this.method,Vt=Ne.url||this.url,Yt=Ne.responseType||this.responseType,en=void 0!==Ne.body?Ne.body:this.body,Cn=void 0!==Ne.withCredentials?Ne.withCredentials:this.withCredentials,Tn=void 0!==Ne.reportProgress?Ne.reportProgress:this.reportProgress;let Rn=Ne.headers||this.headers,Wn=Ne.params||this.params;const tr=null!==(Ke=Ne.context)&&void 0!==Ke?Ke:this.context;return void 0!==Ne.setHeaders&&(Rn=Object.keys(Ne.setHeaders).reduce((Sn,Hn)=>Sn.set(Hn,Ne.setHeaders[Hn]),Rn)),Ne.setParams&&(Wn=Object.keys(Ne.setParams).reduce((Sn,Hn)=>Sn.set(Hn,Ne.setParams[Hn]),Wn)),new ze(Bt,Vt,en,{params:Wn,headers:Rn,context:tr,reportProgress:Tn,responseType:Yt,withCredentials:Cn})}}var J=(()=>((J=J||{})[J.Sent=0]="Sent",J[J.UploadProgress=1]="UploadProgress",J[J.ResponseHeader=2]="ResponseHeader",J[J.DownloadProgress=3]="DownloadProgress",J[J.Response=4]="Response",J[J.User=5]="User",J))();class re{constructor(Ne,Ke=200,Bt="OK"){this.headers=Ne.headers||new $,this.status=void 0!==Ne.status?Ne.status:Ke,this.statusText=Ne.statusText||Bt,this.url=Ne.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends re{constructor(Ne={}){super(Ne),this.type=J.ResponseHeader}clone(Ne={}){return new Ce({headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class He extends re{constructor(Ne={}){super(Ne),this.type=J.Response,this.body=void 0!==Ne.body?Ne.body:null}clone(Ne={}){return new He({body:void 0!==Ne.body?Ne.body:this.body,headers:Ne.headers||this.headers,status:void 0!==Ne.status?Ne.status:this.status,statusText:Ne.statusText||this.statusText,url:Ne.url||this.url||void 0})}}class Je extends re{constructor(Ne){super(Ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ne.url||"(unknown url)"}`:`Http failure response for ${Ne.url||"(unknown url)"}: ${Ne.status} ${Ne.statusText}`,this.error=Ne.error||null}}function ut(Ft,Ne){return{body:Ne,headers:Ft.headers,context:Ft.context,observe:Ft.observe,params:Ft.params,reportProgress:Ft.reportProgress,responseType:Ft.responseType,withCredentials:Ft.withCredentials}}let ot=(()=>{class Ft{constructor(Ke){this.handler=Ke}request(Ke,Bt,Vt={}){let Yt;if(Ke instanceof ze)Yt=Ke;else{let Tn,Rn;Tn=Vt.headers instanceof $?Vt.headers:new $(Vt.headers),Vt.params&&(Rn=Vt.params instanceof ke?Vt.params:new ke({fromObject:Vt.params})),Yt=new ze(Ke,Bt,void 0!==Vt.body?Vt.body:null,{headers:Tn,context:Vt.context,params:Rn,reportProgress:Vt.reportProgress,responseType:Vt.responseType||"json",withCredentials:Vt.withCredentials})}const en=(0,S.of)(Yt).pipe((0,ce.b)(Tn=>this.handler.handle(Tn)));if(Ke instanceof ze||"events"===Vt.observe)return en;const Cn=en.pipe((0,me.h)(Tn=>Tn instanceof He));switch(Vt.observe||"body"){case"body":switch(Yt.responseType){case"arraybuffer":return Cn.pipe((0,Pe.U)(Tn=>{if(null!==Tn.body&&!(Tn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Tn.body}));case"blob":return Cn.pipe((0,Pe.U)(Tn=>{if(null!==Tn.body&&!(Tn.body instanceof Blob))throw new Error("Response is not a Blob.");return Tn.body}));case"text":return Cn.pipe((0,Pe.U)(Tn=>{if(null!==Tn.body&&"string"!=typeof Tn.body)throw new Error("Response is not a string.");return Tn.body}));default:return Cn.pipe((0,Pe.U)(Tn=>Tn.body))}case"response":return Cn;default:throw new Error(`Unreachable: unhandled observe type ${Vt.observe}}`)}}delete(Ke,Bt={}){return this.request("DELETE",Ke,Bt)}get(Ke,Bt={}){return this.request("GET",Ke,Bt)}head(Ke,Bt={}){return this.request("HEAD",Ke,Bt)}jsonp(Ke,Bt){return this.request("JSONP",Ke,{params:(new ke).append(Bt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,Bt={}){return this.request("OPTIONS",Ke,Bt)}patch(Ke,Bt,Vt={}){return this.request("PATCH",Ke,ut(Vt,Bt))}post(Ke,Bt,Vt={}){return this.request("POST",Ke,ut(Vt,Bt))}put(Ke,Bt,Vt={}){return this.request("PUT",Ke,ut(Vt,Bt))}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(ve))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();class Kt{constructor(Ne,Ke){this.next=Ne,this.interceptor=Ke}handle(Ne){return this.interceptor.intercept(Ne,this.next)}}const rn=new _.OlP("HTTP_INTERCEPTORS");let En=(()=>{class Ft{intercept(Ke,Bt){return Bt.handle(Ke)}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),ln=0;class un{}let _n=(()=>{class Ft{constructor(Ke,Bt){this.callbackMap=Ke,this.document=Bt,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+ln++}handle(Ke){if("JSONP"!==Ke.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==Ke.responseType)throw new Error("JSONP requests must use Json response type.");return new ee.y(Bt=>{const Vt=this.nextCallback(),Yt=Ke.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${Vt}$1`),en=this.document.createElement("script");en.src=Yt;let Cn=null,Tn=!1,Rn=!1;this.callbackMap[Vt]=Hn=>{delete this.callbackMap[Vt],!Rn&&(Cn=Hn,Tn=!0)};const Wn=()=>{en.parentNode&&en.parentNode.removeChild(en),delete this.callbackMap[Vt]},tr=Hn=>{Rn||this.resolvedPromise.then(()=>{Wn(),Tn?(Bt.next(new He({body:Cn,status:200,statusText:"OK",url:Yt})),Bt.complete()):Bt.error(new Je({url:Yt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},Sn=Hn=>{Rn||(Wn(),Bt.error(new Je({error:Hn,status:0,statusText:"JSONP Error",url:Yt})))};return en.addEventListener("load",tr),en.addEventListener("error",Sn),this.document.body.appendChild(en),Bt.next({type:J.Sent}),()=>{Rn=!0,en.removeEventListener("load",tr),en.removeEventListener("error",Sn),Wn()}})}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(un),_.LFG(u.K0))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),Mt=(()=>{class Ft{constructor(Ke){this.jsonp=Ke}intercept(Ke,Bt){return"JSONP"===Ke.method?this.jsonp.handle(Ke):Bt.handle(Ke)}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(_n))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();const At=/^\)\]\}',?\n/;let xn=(()=>{class Ft{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ee.y(Bt=>{const Vt=this.xhrFactory.build();if(Vt.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(Vt.withCredentials=!0),Ke.headers.forEach((Hn,bn)=>Vt.setRequestHeader(Hn,bn.join(","))),Ke.headers.has("Accept")||Vt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const Hn=Ke.detectContentTypeHeader();null!==Hn&&Vt.setRequestHeader("Content-Type",Hn)}if(Ke.responseType){const Hn=Ke.responseType.toLowerCase();Vt.responseType="json"!==Hn?Hn:"text"}const Yt=Ke.serializeBody();let en=null;const Cn=()=>{if(null!==en)return en;const Hn=Vt.statusText||"OK",bn=new $(Vt.getAllResponseHeaders()),Rr=function Ht(Ft){return"responseURL"in Ft&&Ft.responseURL?Ft.responseURL:/^X-Request-URL:/m.test(Ft.getAllResponseHeaders())?Ft.getResponseHeader("X-Request-URL"):null}(Vt)||Ke.url;return en=new Ce({headers:bn,status:Vt.status,statusText:Hn,url:Rr}),en},Tn=()=>{let{headers:Hn,status:bn,statusText:Rr,url:ct}=Cn(),Ae=null;204!==bn&&(Ae=void 0===Vt.response?Vt.responseText:Vt.response),0===bn&&(bn=Ae?200:0);let W=bn>=200&&bn<300;if("json"===Ke.responseType&&"string"==typeof Ae){const N=Ae;Ae=Ae.replace(At,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(U){Ae=N,W&&(W=!1,Ae={error:U,text:Ae})}}W?(Bt.next(new He({body:Ae,headers:Hn,status:bn,statusText:Rr,url:ct||void 0})),Bt.complete()):Bt.error(new Je({error:Ae,headers:Hn,status:bn,statusText:Rr,url:ct||void 0}))},Rn=Hn=>{const{url:bn}=Cn(),Rr=new Je({error:Hn,status:Vt.status||0,statusText:Vt.statusText||"Unknown Error",url:bn||void 0});Bt.error(Rr)};let Wn=!1;const tr=Hn=>{Wn||(Bt.next(Cn()),Wn=!0);let bn={type:J.DownloadProgress,loaded:Hn.loaded};Hn.lengthComputable&&(bn.total=Hn.total),"text"===Ke.responseType&&!!Vt.responseText&&(bn.partialText=Vt.responseText),Bt.next(bn)},Sn=Hn=>{let bn={type:J.UploadProgress,loaded:Hn.loaded};Hn.lengthComputable&&(bn.total=Hn.total),Bt.next(bn)};return Vt.addEventListener("load",Tn),Vt.addEventListener("error",Rn),Vt.addEventListener("timeout",Rn),Vt.addEventListener("abort",Rn),Ke.reportProgress&&(Vt.addEventListener("progress",tr),null!==Yt&&Vt.upload&&Vt.upload.addEventListener("progress",Sn)),Vt.send(Yt),Bt.next({type:J.Sent}),()=>{Vt.removeEventListener("error",Rn),Vt.removeEventListener("abort",Rn),Vt.removeEventListener("load",Tn),Vt.removeEventListener("timeout",Rn),Ke.reportProgress&&(Vt.removeEventListener("progress",tr),null!==Yt&&Vt.upload&&Vt.upload.removeEventListener("progress",Sn)),Vt.readyState!==Vt.DONE&&Vt.abort()}})}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(u.JF))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();const In=new _.OlP("XSRF_COOKIE_NAME"),Gn=new _.OlP("XSRF_HEADER_NAME");class Qn{}let Kn=(()=>{class Ft{constructor(Ke,Bt,Vt){this.doc=Ke,this.platform=Bt,this.cookieName=Vt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(u.K0),_.LFG(_.Lbi),_.LFG(In))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),ar=(()=>{class Ft{constructor(Ke,Bt){this.tokenService=Ke,this.headerName=Bt}intercept(Ke,Bt){const Vt=Ke.url.toLowerCase();if("GET"===Ke.method||"HEAD"===Ke.method||Vt.startsWith("http://")||Vt.startsWith("https://"))return Bt.handle(Ke);const Yt=this.tokenService.getToken();return null!==Yt&&!Ke.headers.has(this.headerName)&&(Ke=Ke.clone({headers:Ke.headers.set(this.headerName,Yt)})),Bt.handle(Ke)}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(Qn),_.LFG(Gn))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})(),Wr=(()=>{class Ft{constructor(Ke,Bt){this.backend=Ke,this.injector=Bt,this.chain=null}handle(Ke){if(null===this.chain){const Bt=this.injector.get(rn,[]);this.chain=Bt.reduceRight((Vt,Yt)=>new Kt(Vt,Yt),this.backend)}return this.chain.handle(Ke)}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)(_.LFG(_e),_.LFG(_.zs3))},Ft.\u0275prov=_.Yz7({token:Ft,factory:Ft.\u0275fac}),Ft})();function cn(){return"object"==typeof window?window:{}}let Fr=(()=>{class Ft{static disable(){return{ngModule:Ft,providers:[{provide:ar,useClass:En}]}}static withOptions(Ke={}){return{ngModule:Ft,providers:[Ke.cookieName?{provide:In,useValue:Ke.cookieName}:[],Ke.headerName?{provide:Gn,useValue:Ke.headerName}:[]]}}}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)},Ft.\u0275mod=_.oAB({type:Ft}),Ft.\u0275inj=_.cJS({providers:[ar,{provide:rn,useExisting:ar,multi:!0},{provide:Qn,useClass:Kn},{provide:In,useValue:"XSRF-TOKEN"},{provide:Gn,useValue:"X-XSRF-TOKEN"}]}),Ft})(),dr=(()=>{class Ft{}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)},Ft.\u0275mod=_.oAB({type:Ft}),Ft.\u0275inj=_.cJS({providers:[ot,{provide:ve,useClass:Wr},xn,{provide:_e,useExisting:xn}],imports:[[Fr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ft})(),yr=(()=>{class Ft{}return Ft.\u0275fac=function(Ke){return new(Ke||Ft)},Ft.\u0275mod=_.oAB({type:Ft}),Ft.\u0275inj=_.cJS({providers:[_n,{provide:un,useFactory:cn},{provide:rn,useClass:Mt,multi:!0}]}),Ft})()},5e3:(Xt,tt,y)=>{y.d(tt,{deG:()=>Gr,tb:()=>ME,AFp:()=>TE,ip1:()=>Y_,CZH:()=>Af,hGG:()=>mD,z2F:()=>Lg,sBO:()=>Ww,Sil:()=>Z_,_Vd:()=>Mg,EJc:()=>RE,SBq:()=>Og,qLn:()=>Rl,vpe:()=>tu,tBr:()=>ya,XFs:()=>cn,OlP:()=>gn,zs3:()=>po,ZZ4:()=>sv,aQg:()=>ov,soG:()=>nv,YKP:()=>G0,h0i:()=>wf,PXZ:()=>Bw,R0b:()=>Ia,FiY:()=>vo,Lbi:()=>SE,g9A:()=>xE,n_E:()=>Qy,Qsj:()=>_b,FYo:()=>L0,JOm:()=>le,q3G:()=>is,tp0:()=>_o,Rgc:()=>kg,dDg:()=>kE,q4F:()=>V0,GfV:()=>B0,s_b:()=>Jy,ifc:()=>Yt,eFA:()=>BE,G48:()=>zw,Gpc:()=>ie,f3M:()=>ua,X6Q:()=>$w,_c5:()=>uD,VLi:()=>kw,c2e:()=>OE,zSh:()=>wp,wAp:()=>Pr,vHH:()=>ue,EiD:()=>Zu,mCW:()=>Ro,qzn:()=>Ea,JVY:()=>Qo,pB0:()=>gu,eBb:()=>tl,L6k:()=>qd,LAX:()=>Ff,cg1:()=>mf,kL8:()=>My,yhl:()=>Uc,dqk:()=>Wn,sIi:()=>wc,CqO:()=>ty,QGY:()=>rf,F4k:()=>ey,RDi:()=>et,AaK:()=>ve,z3N:()=>_a,qOj:()=>Wh,TTD:()=>Ti,_Bn:()=>F0,xp6:()=>Xg,uIk:()=>Ed,Gre:()=>Ey,ekj:()=>cg,Suo:()=>oE,Xpm:()=>ht,lG2:()=>je,Yz7:()=>_n,cJS:()=>At,oAB:()=>Z,Yjl:()=>nt,Y36:()=>zo,_UZ:()=>Cd,GkF:()=>Xm,BQk:()=>Xp,ynx:()=>ps,qZA:()=>nf,TgZ:()=>Dd,EpF:()=>qs,n5z:()=>kc,Ikx:()=>Pd,LFG:()=>Ms,$8M:()=>Bu,$Z:()=>Zp,NdJ:()=>sf,CRH:()=>aE,kcU:()=>Ys,O4$:()=>bi,oxw:()=>sy,Hsn:()=>$a,F$t:()=>tg,Q6J:()=>Jp,s9C:()=>oy,MGl:()=>ta,DdM:()=>W0,VKq:()=>K0,iGM:()=>iE,MAs:()=>Vp,CHM:()=>go,LSH:()=>il,kYT:()=>it,Udp:()=>Pu,WFA:()=>eg,d8E:()=>gf,YNc:()=>Gm,_uU:()=>vy,Oqu:()=>df,hij:()=>Od,AsE:()=>hf,lnq:()=>ff,HOy:()=>gg,Gf:()=>sE});var u=y(7579),_=y(727),S=y(8306),ee=y(6451),ce=y(3099);function me(n){for(let r in n)if(n[r]===me)return r;throw Error("Could not find renamed property on target object.")}function Pe(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function _e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const $=me({__forward_ref__:me});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return ve(this())},n}function oe(n){return Fe(n)?n():n}function Fe(n){return"function"==typeof n&&n.hasOwnProperty($)&&n.__forward_ref__===ie}class ue extends Error{constructor(r,o){super(function $e(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function Qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}function Te(n,r){const o=r?` in ${r}`:"";throw new ue(-201,`No provider for ${Qe(n)} found${o}`)}function ln(n,r){null==n&&function mt(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function _n(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function At(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ht(n){return xn(n,Kn)||xn(n,Wr)}function xn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Qn(n){return n&&(n.hasOwnProperty(ar)||n.hasOwnProperty(Ar))?n[ar]:null}const Kn=me({\u0275prov:me}),ar=me({\u0275inj:me}),Wr=me({ngInjectableDef:me}),Ar=me({ngInjectorDef:me});var cn=(()=>((cn=cn||{})[cn.Default=0]="Default",cn[cn.Host=1]="Host",cn[cn.Self=2]="Self",cn[cn.SkipSelf=4]="SkipSelf",cn[cn.Optional=8]="Optional",cn))();let Fr;function yr(n){const r=Fr;return Fr=n,r}function on(n,r,o){const a=Ht(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&cn.Optional?null:void 0!==r?r:void Te(ve(n),"Injector")}function Ne(n){return{toString:n}.toString()}var Ke=(()=>((Ke=Ke||{})[Ke.OnPush=0]="OnPush",Ke[Ke.Default=1]="Default",Ke))(),Yt=(()=>{return(n=Yt||(Yt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Yt;var n})();const en="undefined"!=typeof globalThis&&globalThis,Cn="undefined"!=typeof window&&window,Tn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wn=en||"undefined"!=typeof global&&global||Cn||Tn,Hn={},bn=[],Rr=me({\u0275cmp:me}),ct=me({\u0275dir:me}),Ae=me({\u0275pipe:me}),W=me({\u0275mod:me}),N=me({\u0275fac:me}),U=me({__NG_ELEMENT_ID__:me});let Se=0;function ht(n){return Ne(()=>{const o={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ke.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Yt.Emulated,id:"c",styles:n.styles||bn,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,w=n.pipes;return a.id+=Se++,a.inputs=Ye(n.inputs,o),a.outputs=Ye(n.outputs),p&&p.forEach(R=>R(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(de):null,a.pipeDefs=w?()=>("function"==typeof w?w():w).map(Nt):null,a})}function de(n){return yt(n)||function dt(n){return n[ct]||null}(n)}function Nt(n){return function Jn(n){return n[Ae]||null}(n)}const M={};function Z(n){return Ne(()=>{const r={type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(M[n.id]=n.type),r})}function it(n,r){return Ne(()=>{const o=Un(n,!0);o.declarations=r.declarations||bn,o.imports=r.imports||bn,o.exports=r.exports||bn})}function Ye(n,r){if(null==n)return Hn;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=a,r&&(r[c]=p)}return o}const je=ht;function nt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function yt(n){return n[Rr]||null}function Un(n,r){const o=n[W]||null;if(!o&&!0===r)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return o}function ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Di(n){return Array.isArray(n)&&!0===n[1]}function $i(n){return 0!=(8&n.flags)}function Wi(n){return 2==(2&n.flags)}function _i(n){return 1==(1&n.flags)}function Ei(n){return null!==n.template}function gs(n){return 0!=(512&n[2])}function $r(n,r){return n.hasOwnProperty(N)?n[N]:null}class ns{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ti(){return Zi}function Zi(n){return n.type.prototype.ngOnChanges&&(n.setInput=vs),Ps}function Ps(){const n=zi(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===Hn)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function vs(n,r,o,a){const c=zi(n)||function Me(n,r){return n[Fs]=r}(n,{previous:Hn,current:null}),p=c.current||(c.current={}),w=c.previous,R=this.declaredInputs[o],j=w[R];p[R]=new ns(j&&j.currentValue,r,w===Hn),n[a]=r}Ti.ngInherit=!0;const Fs="__ngSimpleChanges__";function zi(n){return n[Fs]||null}const C="svg",E="math";let ye;function et(n){ye=n}function It(n){return!!n.listen}const F={createRenderer:(n,r)=>function Dt(){return void 0!==ye?ye:"undefined"!=typeof document?document:void 0}()};function k(n){for(;Array.isArray(n);)n=n[0];return n}function pt(n,r){return k(r[n])}function Pt(n,r){return k(r[n.index])}function fr(n,r){return n.data[r]}function ir(n,r){const o=r[n];return ii(o)?o:o[0]}function lr(n){return 4==(4&n[2])}function wr(n){return 128==(128&n[2])}function qr(n,r){return null==r?null:n[r]}function Y(n){n[18]=0}function G(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const L={lFrame:pr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Xi(){return L.bindingsEnabled}function vn(){return L.lFrame.lView}function ei(){return L.lFrame.tView}function go(n){return L.lFrame.contextLView=n,n[8]}function Li(){let n=So();for(;null!==n&&64===n.type;)n=n.parent;return n}function So(){return L.lFrame.currentTNode}function Ts(n,r){const o=L.lFrame;o.currentTNode=n,o.isParent=r}function mo(){return L.lFrame.isParent}function ko(){L.lFrame.isParent=!1}function ro(){return L.isInCheckNoChangesMode}function io(n){L.isInCheckNoChangesMode=n}function Ki(){const n=L.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Hs(){return L.lFrame.bindingIndex}function be(){return L.lFrame.bindingIndex++}function b(n){const r=L.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function xe(n,r){const o=L.lFrame;o.bindingIndex=o.bindingRootIndex=n,_t(r)}function _t(n){L.lFrame.currentDirectiveIndex=n}function bt(n){const r=L.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function zt(){return L.lFrame.currentQueryIndex}function pn(n){L.lFrame.currentQueryIndex=n}function nr(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function mr(n,r,o){if(o&cn.SkipSelf){let c=r,p=n;for(;!(c=c.parent,null!==c||o&cn.Host||(c=nr(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;r=c,n=p}const a=L.lFrame=Zr();return a.currentTNode=r,a.lView=n,!0}function Tr(n){const r=Zr(),o=n[1];L.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Zr(){const n=L.lFrame,r=null===n?null:n.child;return null===r?pr(n):r}function pr(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function xr(){const n=L.lFrame;return L.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fi=xr;function Ri(){const n=xr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function si(){return L.lFrame.selectedIndex}function xs(n){L.lFrame.selectedIndex=n}function yi(){const n=L.lFrame;return fr(n.tView,n.selectedIndex)}function bi(){L.lFrame.currentNamespace=C}function Ys(){!function hs(){L.lFrame.currentNamespace=null}()}function Qs(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:R,ngAfterViewInit:j,ngAfterViewChecked:he,ngOnDestroy:Oe}=p;w&&(n.contentHooks||(n.contentHooks=[])).push(-o,w),R&&((n.contentHooks||(n.contentHooks=[])).push(o,R),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,R)),j&&(n.viewHooks||(n.viewHooks=[])).push(-o,j),he&&((n.viewHooks||(n.viewHooks=[])).push(o,he),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,he)),null!=Oe&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Oe)}}function ws(n,r,o){Er(n,r,3,o)}function Ds(n,r,o,a){(3&n[2])===o&&Er(n,r,o,a)}function rr(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Er(n,r,o,a){const p=null!=a?a:-1,w=r.length-1;let R=0;for(let j=void 0!==a?65535&n[18]:0;j<w;j++)if("number"==typeof r[j+1]){if(R=r[j],null!=a&&R>=a)break}else r[j]<0&&(n[18]+=65536),(R<p||-1==p)&&(Mr(n,o,r,j),n[18]=(4294901760&n[18])+j+2),j++}function Mr(n,r,o,a){const c=o[a]<0,p=o[a+1],R=n[c?-o[a]:o[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(R)}finally{}}}else try{p.call(R)}finally{}}class xi{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Pn(n,r,o){const a=It(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const w=o[c++],R=o[c++],j=o[c++];a?n.setAttribute(r,R,j,w):r.setAttributeNS(w,R,j)}else{const w=p,R=o[++c];Lr(w)?a&&n.setProperty(r,w,R):a?n.setAttribute(r,w,R):r.setAttribute(w,R),c++}}return c}function sr(n){return 3===n||4===n||6===n}function Lr(n){return 64===n.charCodeAt(0)}function Jr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||ti(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function ti(n,r,o,a,c){let p=0,w=n.length;if(-1===r)w=-1;else for(;p<n.length;){const R=n[p++];if("number"==typeof R){if(R===r){w=-1;break}if(R>r){w=p-1;break}}}for(;p<n.length;){const R=n[p];if("number"==typeof R)break;if(R===o){if(null===a)return void(null!==c&&(n[p+1]=c));if(a===n[p+1])return void(n[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==w&&(n.splice(w,0,r),p=w+1),n.splice(p++,0,o),null!==a&&n.splice(p++,0,a),null!==c&&n.splice(p++,0,c)}function Sr(n){return-1!==n}function Gi(n){return 32767&n}function Ci(n,r){let o=function zs(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let Lo=!0;function B(n){const r=Lo;return Lo=n,r}let ae=0;function Ve(n,r){const o=fn(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,vt(a.data,n),vt(r,null),vt(a.blueprint,null));const c=or(n,r),p=n.injectorIndex;if(Sr(c)){const w=Gi(c),R=Ci(c,r),j=R[1].data;for(let he=0;he<8;he++)r[p+he]=R[w+he]|j[w+he]}return r[p+8]=c,p}function vt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function fn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function or(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){const p=c[1],w=p.type;if(a=2===w?p.declTNode:1===w?c[6]:null,null===a)return-1;if(o++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Fn(n,r,o){!function Le(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(U)&&(a=o[U]),null==a&&(a=o[U]=ae++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,o)}function Si(n,r,o){if(o&cn.Optional)return n;Te(r,"NodeInjector")}function kn(n,r,o,a){if(o&cn.Optional&&void 0===a&&(a=null),0==(o&(cn.Self|cn.Host))){const c=n[9],p=yr(void 0);try{return c?c.get(r,a,o&cn.Optional):on(r,a,o&cn.Optional)}finally{yr(p)}}return Si(a,r,o)}function nn(n,r,o,a=cn.Default,c){if(null!==n){const p=function If(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(U)?n[U]:void 0;return"number"==typeof r?r>=0?255&r:rs:r}(o);if("function"==typeof p){if(!mr(r,n,a))return a&cn.Host?Si(c,o,a):kn(r,o,a,c);try{const w=p(a);if(null!=w||a&cn.Optional)return w;Te(o)}finally{fi()}}else if("number"==typeof p){let w=null,R=fn(n,r),j=-1,he=a&cn.Host?r[16][6]:null;for((-1===R||a&cn.SkipSelf)&&(j=-1===R?or(n,r):r[R+8],-1!==j&&Fc(a,!1)?(w=r[1],R=Gi(j),r=Ci(j,r)):R=-1);-1!==R;){const Oe=r[1];if(Ma(p,R,Oe.data)){const lt=za(R,r,o,w,a,he);if(lt!==On)return lt}j=r[R+8],-1!==j&&Fc(a,r[1].data[R+8]===he)&&Ma(p,R,r)?(w=Oe,R=Gi(j),r=Ci(j,r)):R=-1}}}return kn(r,o,a,c)}const On={};function rs(){return new ma(Li(),vn())}function za(n,r,o,a,c,p){const w=r[1],R=w.data[n+8],Oe=Ko(R,w,o,null==a?Wi(R)&&Lo:a!=w&&0!=(3&R.type),c&cn.Host&&p===R);return null!==Oe?Sa(r,w,Oe,R):On}function Ko(n,r,o,a,c){const p=n.providerIndexes,w=r.data,R=1048575&p,j=n.directiveStart,Oe=p>>20,St=c?R+Oe:n.directiveEnd;for(let Wt=a?R:R+Oe;Wt<St;Wt++){const Dn=w[Wt];if(Wt<j&&o===Dn||Wt>=j&&Dn.type===o)return Wt}if(c){const Wt=w[j];if(Wt&&Ei(Wt)&&Wt.type===o)return j}return null}function Sa(n,r,o,a){let c=n[o];const p=r.data;if(function ls(n){return n instanceof xi}(c)){const w=c;w.resolving&&function Be(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ue(-200,`Circular dependency in DI detected for ${n}${o}`)}(Qe(p[o]));const R=B(w.canSeeViewProviders);w.resolving=!0;const j=w.injectImpl?yr(w.injectImpl):null;mr(n,a,cn.Default);try{c=n[o]=w.factory(void 0,p,n,a),r.firstCreatePass&&o>=a.directiveStart&&function eo(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const w=Zi(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,w),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,w)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],r)}finally{null!==j&&yr(j),B(R),w.resolving=!1,fi()}}return c}function Ma(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function Fc(n,r){return!(n&cn.Self||n&cn.Host&&r)}class ma{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return nn(this._tNode,this._lView,r,a,o)}}function kc(n){return Ne(()=>{const r=n.prototype.constructor,o=r[N]||pl(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const p=c[N]||pl(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function pl(n){return Fe(n)?()=>{const r=pl(oe(n));return r&&r()}:$r(n)}function Bu(n){return function Ln(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const p=o[c];if(sr(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(p===r)return o[c+1];c+=2}}}return null}(Li(),n)}const x="__parameters__";function fe(n,r,o){return Ne(()=>{const a=function z(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const w=new c(...p);return R.annotation=w,R;function R(j,he,Oe){const lt=j.hasOwnProperty(x)?j[x]:Object.defineProperty(j,x,{value:[]})[x];for(;lt.length<=Oe;)lt.push(null);return(lt[Oe]=lt[Oe]||[]).push(w),j}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class gn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=_n({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gr=new gn("AnalyzeForEntryComponents");function yo(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),yo(a,r)):r!==n&&r.push(a)}return r}function Jt(n,r){n.forEach(o=>Array.isArray(o)?Jt(o,r):r(o))}function Oa(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function so(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function nu(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Mo(n,r,o){let a=Ns(n,r);return a>=0?n[1|a]=o:(a=~a,function qa(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function ru(n,r){const o=Ns(n,r);if(o>=0)return n[1|o]}function Ns(n,r){return function Fa(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const p=a+(c-a>>1),w=n[p<<o];if(r===w)return p<<o;w>r?c=p:a=p+1}return~(c<<o)}(n,r,1)}const Cs={},su="__NG_DI_FLAG__",Oo="ngTempTokenPath",Ya=/\n/gm,Gu="__source",ml=me({provide:String,useValue:me});let au;function la(n){const r=au;return au=n,r}function Qa(n,r=cn.Default){if(void 0===au)throw new ue(203,"");return null===au?on(n,void 0,r):au.get(n,r&cn.Optional?null:void 0,r)}function Ms(n,r=cn.Default){return(function dr(){return Fr}()||Qa)(oe(n),r)}const ua=Ms;function yl(n){const r=[];for(let o=0;o<n.length;o++){const a=oe(n[o]);if(Array.isArray(a)){if(0===a.length)throw new ue(900,"");let c,p=cn.Default;for(let w=0;w<a.length;w++){const R=a[w],j=Go(R);"number"==typeof j?-1===j?c=R.token:p|=j:c=R}r.push(Ms(c,p))}else r.push(Ms(a))}return r}function Yo(n,r){return n[su]=r,n.prototype[su]=r,n}function Go(n){return n[su]}const ya=Yo(fe("Inject",n=>({token:n})),-1),vo=Yo(fe("Optional"),8),_o=Yo(fe("SkipSelf"),4);let $u;function va(n){var r;return(null===(r=function Xa(){if(void 0===$u&&($u=null,Wn.trustedTypes))try{$u=Wn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return $u}())||void 0===r?void 0:r.createHTML(n))||n}class el{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Rf extends el{getTypeName(){return"HTML"}}class Kd extends el{getTypeName(){return"Style"}}class Pf extends el{getTypeName(){return"Script"}}class Na extends el{getTypeName(){return"URL"}}class bl extends el{getTypeName(){return"ResourceURL"}}function _a(n){return n instanceof el?n.changingThisBreaksApplicationSecurity:n}function Ea(n,r){const o=Uc(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Uc(n){return n instanceof el&&n.getTypeName()||null}function Qo(n){return new Rf(n)}function qd(n){return new Kd(n)}function tl(n){return new Pf(n)}function Ff(n){return new Na(n)}function gu(n){return new bl(n)}class Ku{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(va(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class nl{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=va(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=va(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let c=o.length-1;0<c;c--){const w=o.item(c).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const Yd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,kf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ro(n){return(n=String(n)).match(Yd)||n.match(kf)?n:"unsafe:"+n}function Zo(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function La(...n){const r={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Qd=Zo("area,br,col,hr,img,wbr"),mu=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jc=Zo("rp,rt"),Gc=La(Qd,La(mu,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),La(jc,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),La(jc,mu)),wl=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ba=Zo("srcset"),Va=La(wl,Ba,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zd=Zo("script,style,template");class rl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Gc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Zd.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),w=p.name,R=w.toLowerCase();if(!Va.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let j=p.value;wl[R]&&(j=Ro(j)),Ba[R]&&(n=j,j=(n=String(n)).split(",").map(r=>Ro(r.trim())).join(", ")),this.buf.push(" ",w,'="',Cl(j),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Gc.hasOwnProperty(o)&&!Qd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Cl(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Qu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jd=/([^\#-~ |!])/g;function Cl(n){return n.replace(/&/g,"&amp;").replace(Qu,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Jd,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Al;function Zu(n,r){let o=null;try{Al=Al||function Wu(n){const r=new nl(n);return function Ho(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch(n){return!1}}()?new Ku(r):r}(n);let a=r?String(r):"";o=Al.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=o.innerHTML,o=Al.getInertBodyElement(a)}while(a!==p);return va((new rl).sanitizeChildren(fs(o)||o))}finally{if(o){const a=fs(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function fs(n){return"content"in n&&function Ju(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var is=(()=>((is=is||{})[is.NONE=0]="NONE",is[is.HTML=1]="HTML",is[is.STYLE=2]="STYLE",is[is.SCRIPT=3]="SCRIPT",is[is.URL=4]="URL",is[is.RESOURCE_URL=5]="RESOURCE_URL",is))();function il(n){const r=function sl(){const n=vn();return n&&n[12]}();return r?r.sanitize(is.URL,n)||"":Ea(n,"URL")?_a(n):Ro(ke(n))}const Xu="__ngContext__";function Ws(n,r){n[Xu]=r}function ec(n){const r=function Eo(n){return n[Xu]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Do(n){return n.ngOriginalError}function rc(n,...r){n.error(...r)}class Rl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),a=function Ol(n){return n&&n.ngErrorLogger||rc}(r);a(this._console,"ERROR",r),o&&a(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Do(r);for(;o&&Do(o);)o=Do(o);return o||null}}const sh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wn))();function Ks(n){return n instanceof Function?n():n}var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();function kt(n,r){return undefined(n,r)}function hr(n){const r=n[3];return Di(r)?r[3]:r}function Rs(n){return _u(n[13])}function Ao(n){return _u(n[4])}function _u(n){for(;null!==n&&!Di(n);)n=n[4];return n}function Ua(n,r,o,a,c){if(null!=a){let p,w=!1;Di(a)?p=a:ii(a)&&(w=!0,a=a[0]);const R=k(a);0===n&&null!==o?null==c?Gg(r,o,R):Eu(r,o,R,c||null,!0):1===n&&null!==o?Eu(r,o,R,c||null,!0):2===n?function qg(n,r,o){const a=hh(n,r);a&&function uv(n,r,o,a){It(n)?n.removeChild(r,o,a):r.removeChild(o)}(n,a,r,o)}(r,R,w):3===n&&r.destroyNode(R),null!=p&&function Hf(n,r,o,a,c){const p=o[7];p!==k(o)&&Ua(r,n,a,p,c);for(let R=10;R<o.length;R++){const j=o[R];Us(j[1],j,n,r,a,p)}}(r,n,p,o,c)}}function ac(n,r,o){if(It(n))return n.createElement(r,o);{const a=null!==o?function K(n){const r=n.toLowerCase();return r===C?"http://www.w3.org/2000/svg":r===E?"http://www.w3.org/1998/MathML/":null}(o):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Da(n,r){const o=n[9],a=o.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,G(c,-1)),o.splice(a,1)}function ch(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const c=a[17];null!==c&&c!==n&&Da(c,a),r>0&&(n[o-1][4]=a[4]);const p=so(n,10+r);!function lh(n,r){Us(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=p[19];null!==w&&w.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Xc(n,r){if(!(256&r[2])){const o=r[11];It(o)&&o.destroyNode&&Us(n,r,o,3,null,null),function ho(n){let r=n[13];if(!r)return dh(n[1],n);for(;r;){let o=null;if(ii(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)ii(r)&&dh(r[1],r),r=r[3];null===r&&(r=n),ii(r)&&dh(r[1],r),o=r&&r[4]}r=o}}(r)}}function dh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function lv(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof xi)){const p=o[a+1];if(Array.isArray(p))for(let w=0;w<p.length;w+=2){const R=c[p[w]],j=p[w+1];try{j.call(R)}finally{}}else try{p.call(c)}finally{}}}}(n,r),function av(n,r){const o=n.cleanup,a=r[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const w=o[p+1],R="function"==typeof w?w(r):k(r[w]),j=a[c=o[p+2]],he=o[p+3];"boolean"==typeof he?R.removeEventListener(o[p],j,he):he>=0?a[c=he]():a[c=-he].unsubscribe(),p+=2}else{const w=a[c=o[p+1]];o[p].call(w)}if(null!==a){for(let p=c+1;p<a.length;p++)a[p]();r[7]=null}}(n,r),1===r[1].type&&It(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Di(r[3])){o!==r[3]&&Da(o,r);const a=r[19];null!==a&&a.detachView(n)}}}function Ug(n,r,o){return function jg(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===Yt.None||c===Yt.Emulated)return null}return Pt(a,o)}(n,r.parent,o)}function Eu(n,r,o,a,c){It(n)?n.insertBefore(r,o,a,c):r.insertBefore(o,a,c)}function Gg(n,r,o){It(n)?n.appendChild(r,o):r.appendChild(o)}function Hg(n,r,o,a,c){null!==a?Eu(n,r,o,a,c):Gg(n,r,o)}function hh(n,r){return It(n)?n.parentNode(r):r.parentNode}function $g(n,r,o){return Wg(n,r,o)}let Wg=function zg(n,r,o){return 40&n.type?Pt(n,o):null};function ed(n,r,o,a){const c=Ug(n,a,r),p=r[11],R=$g(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(o))for(let j=0;j<o.length;j++)Hg(p,c,o[j],R,!1);else Hg(p,c,o,R,!1)}function fh(n,r){if(null!==r){const o=r.type;if(3&o)return Pt(r,n);if(4&o)return ph(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return fh(n,a);{const c=n[r.index];return Di(c)?ph(-1,c):k(c)}}if(32&o)return kt(r,n)()||k(n[r.index]);{const a=jf(n,r);return null!==a?Array.isArray(a)?a[0]:fh(hr(n[16]),a):fh(n,r.next)}}return null}function jf(n,r){return null!==r?n[16][6].projection[r.projection]:null}function ph(n,r){const o=10+n+1;if(o<r.length){const a=r[o],c=a[1].firstChild;if(null!==c)return fh(a,c)}return r[7]}function td(n,r,o,a,c,p,w){for(;null!=o;){const R=a[o.index],j=o.type;if(w&&0===r&&(R&&Ws(k(R),a),o.flags|=4),64!=(64&o.flags))if(8&j)td(n,r,o.child,a,c,p,!1),Ua(r,n,c,R,p);else if(32&j){const he=kt(o,a);let Oe;for(;Oe=he();)Ua(r,n,c,Oe,p);Ua(r,n,c,R,p)}else 16&j?gh(n,r,a,o,c,p):Ua(r,n,c,R,p);o=w?o.projectionNext:o.next}}function Us(n,r,o,a,c,p){td(o,a,n.firstChild,r,c,p,!1)}function gh(n,r,o,a,c,p){const w=o[16],j=w[6].projection[a.projection];if(Array.isArray(j))for(let he=0;he<j.length;he++)Ua(r,n,c,j[he],p);else td(n,r,j,w[3],c,p,!0)}function $f(n,r,o){It(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function zf(n,r,o){It(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function Wf(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||n.charCodeAt(c+p)<=32)return c}o=c+1}}const kl="ng-template";function bu(n,r,o){let a=0;for(;a<n.length;){let c=n[a++];if(o&&"class"===c){if(c=n[a],-1!==Wf(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Nl(n){return 4===n.type&&n.value!==kl}function nd(n,r,o){return r===(4!==n.type||o?n.value:kl)}function Yg(n,r,o){let a=4;const c=n.attrs||[],p=function dv(n){for(let r=0;r<n.length;r++)if(sr(n[r]))return r;return n.length}(c);let w=!1;for(let R=0;R<r.length;R++){const j=r[R];if("number"!=typeof j){if(!w)if(4&a){if(a=2|1&a,""!==j&&!nd(n,j,o)||""===j&&1===r.length){if(Jo(a))return!1;w=!0}}else{const he=8&a?j:r[++R];if(8&a&&null!==n.attrs){if(!bu(n.attrs,he,o)){if(Jo(a))return!1;w=!0}continue}const lt=qf(8&a?"class":j,c,Nl(n),o);if(-1===lt){if(Jo(a))return!1;w=!0;continue}if(""!==he){let St;St=lt>p?"":c[lt+1].toLowerCase();const Wt=8&a?St:null;if(Wt&&-1!==Wf(Wt,he,0)||2&a&&he!==St){if(Jo(a))return!1;w=!0}}}}else{if(!w&&!Jo(a)&&!Jo(j))return!1;if(w&&Jo(j))continue;w=!1,a=j|1&a}}return Jo(a)||w}function Jo(n){return 0==(1&n)}function qf(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let p=!1;for(;c<r.length;){const w=r[c];if(w===n)return c;if(3===w||6===w)p=!0;else{if(1===w||2===w){let R=r[++c];for(;"string"==typeof R;)R=r[++c];continue}if(4===w)break;if(0===w){c+=4;continue}}c+=p?1:2}return-1}return function Zg(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Yf(n,r,o=!1){for(let a=0;a<r.length;a++)if(Yg(n,r[a],o))return!0;return!1}function Jg(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function rd(n,r){return n?":not("+r.trim()+")":r}function id(n){let r=n[0],o=1,a=2,c="",p=!1;for(;o<n.length;){let w=n[o];if("string"==typeof w)if(2&a){const R=n[++o];c+="["+w+(R.length>0?'="'+R+'"':"")+"]"}else 8&a?c+="."+w:4&a&&(c+=" "+w);else""!==c&&!Jo(w)&&(r+=rd(p,c),c=""),a=w,p=p||!Jo(a);o++}return""!==c&&(r+=rd(p,c)),r}const ai={};function Xg(n){em(ei(),vn(),si()+n,ro())}function em(n,r,o,a){if(!a)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&ws(r,p,o)}else{const p=n.preOrderHooks;null!==p&&Ds(r,p,0,o)}xs(o)}function Ll(n,r){return n<<17|r<<2}function fo(n){return n>>17&32767}function Qf(n){return 2|n}function ol(n){return(131068&n)>>2}function sd(n,r){return-131069&n|r<<2}function Zf(n){return 1|n}function ap(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const c=o[a],p=o[a+1];if(-1!==p){const w=n.data[p];pn(c),w.contentQueries(2,r[p],p)}}}function ud(n,r,o,a,c,p,w,R,j,he){const Oe=r.blueprint.slice();return Oe[0]=c,Oe[2]=140|a,Y(Oe),Oe[3]=Oe[15]=n,Oe[8]=o,Oe[10]=w||n&&n[10],Oe[11]=R||n&&n[11],Oe[12]=j||n&&n[12]||null,Oe[9]=he||n&&n[9]||null,Oe[6]=p,Oe[16]=2==r.type?n[16]:Oe,Oe}function Du(n,r,o,a,c){let p=n.data[r];if(null===p)p=function cd(n,r,o,a,c){const p=So(),w=mo(),j=n.data[r]=function fc(n,r,o,a,c,p){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?p:p&&p.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=j),null!==p&&(w?null==p.child&&null!==j.parent&&(p.child=j):null===p.next&&(p.next=j)),j}(n,r,o,a,c),function A(){return L.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=a,p.attrs=c;const w=function ds(){const n=L.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===w?-1:w.injectorIndex}return Ts(p,!0),p}function jl(n,r,o,a){if(0===o)return-1;const c=r.length;for(let p=0;p<o;p++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function ll(n,r,o){Tr(r);try{const a=n.viewQuery;null!==a&&pd(1,a,o);const c=n.template;null!==c&&wh(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ap(n,r),n.staticViewQueries&&pd(2,n.viewQuery,o);const p=n.components;null!==p&&function bh(n,r){for(let o=0;o<r.length;o++)Tv(n,r[o])}(r,p)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Ri()}}function ul(n,r,o,a){const c=r[2];if(256==(256&c))return;Tr(r);const p=ro();try{Y(r),function ia(n){return L.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&wh(n,r,o,2,a);const w=3==(3&c);if(!p)if(w){const he=n.preOrderCheckHooks;null!==he&&ws(r,he,null)}else{const he=n.preOrderHooks;null!==he&&Ds(r,he,0,null),rr(r,0)}if(function Av(n){for(let r=Rs(n);null!==r;r=Ao(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const c=o[a],p=c[3];0==(1024&c[2])&&G(p,1),c[2]|=1024}}}(r),function Cv(n){for(let r=Rs(n);null!==r;r=Ao(r))for(let o=10;o<r.length;o++){const a=r[o],c=a[1];wr(a)&&ul(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&ap(n,r),!p)if(w){const he=n.contentCheckHooks;null!==he&&ws(r,he)}else{const he=n.contentHooks;null!==he&&Ds(r,he,1),rr(r,1)}!function _v(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)xs(~c);else{const p=c,w=o[++a],R=o[++a];xe(w,p),R(2,r[p])}}}finally{xs(-1)}}(n,r);const R=n.components;null!==R&&function Ev(n,r){for(let o=0;o<r.length;o++)Iv(n,r[o])}(r,R);const j=n.viewQuery;if(null!==j&&pd(2,j,a),!p)if(w){const he=n.viewCheckHooks;null!==he&&ws(r,he)}else{const he=n.viewHooks;null!==he&&Ds(r,he,2),rr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,G(r[3],-1))}finally{Ri()}}function lp(n,r,o,a){const c=r[10],p=!ro(),w=lr(r);try{p&&!w&&c.begin&&c.begin(),w&&ll(n,r,a),ul(n,r,o,a)}finally{p&&!w&&c.end&&c.end()}}function wh(n,r,o,a,c){const p=si(),w=2&a;try{xs(-1),w&&r.length>20&&em(n,r,20,ro()),o(a,c)}finally{xs(p)}}function up(n,r,o){if($i(r)){const c=r.directiveEnd;for(let p=r.directiveStart;p<c;p++){const w=n.data[p];w.contentQueries&&w.contentQueries(1,o[p],p)}}}function cp(n,r,o){!Xi()||(function dd(n,r,o,a){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||Ve(o,r),Ws(a,r);const w=o.initialInputs;for(let R=c;R<p;R++){const j=n.data[R],he=Ei(j);he&&Dv(r,o,j);const Oe=Sa(r,n,R,o);Ws(Oe,r),null!==w&&Rh(0,R-c,Oe,j,0,w),he&&(ir(o.index,r)[8]=Oe)}}(n,r,o,Pt(o,r)),128==(128&o.flags)&&function xh(n,r,o){const a=o.directiveStart,c=o.directiveEnd,w=o.index,R=function Xe(){return L.lFrame.currentDirectiveIndex}();try{xs(w);for(let j=a;j<c;j++){const he=n.data[j],Oe=r[j];_t(j),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&Sh(he,Oe)}}finally{xs(-1),_t(R)}}(n,r,o))}function Dh(n,r,o=Pt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const w=a[p+1],R=-1===w?o(r,n):n[w];n[c++]=R}}}function dp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=hc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function hc(n,r,o,a,c,p,w,R,j,he){const Oe=20+a,lt=Oe+c,St=function bv(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:ai);return o}(Oe,lt),Wt="function"==typeof he?he():he;return St[1]={type:n,blueprint:St,template:o,queries:null,viewQuery:R,declTNode:r,data:St.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:j,consts:Wt,incompleteFirstPass:!1}}function um(n,r,o,a){const c=bm(r);null===o?c.push(a):(c.push(o),n.firstCreatePass&&Fh(n).push(a,c.length-1))}function Cu(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,c):o[a]=[r,c]}return o}function $o(n,r,o,a,c,p,w,R){const j=Pt(r,o);let Oe,he=r.inputs;!R&&null!=he&&(Oe=he[a])?(Dm(n,o,Oe,a,c),Wi(r)&&function cm(n,r){const o=ir(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(a=function Ch(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=w?w(c,r.value||"",a):c,It(p)?p.setProperty(j,a,c):Lr(a)||(j.setProperty?j.setProperty(a,c):j[a]=c))}function Ah(n,r,o,a){let c=!1;if(Xi()){const p=function gp(n,r,o){const a=n.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const w=a[p];Yf(o,w.selectors,!1)&&(c||(c=[]),Fn(Ve(o,r),n,w.type),Ei(w)?(Mh(n,o),c.unshift(w)):c.push(w))}return c}(n,r,o),w=null===a?null:{"":-1};if(null!==p){c=!0,mp(o,n.data.length,p.length);for(let Oe=0;Oe<p.length;Oe++){const lt=p[Oe];lt.providersResolver&&lt.providersResolver(lt)}let R=!1,j=!1,he=jl(n,r,p.length,null);for(let Oe=0;Oe<p.length;Oe++){const lt=p[Oe];o.mergedAttrs=Jr(o.mergedAttrs,lt.hostAttrs),ym(n,o,r,he,lt),wv(he,lt,w),null!==lt.contentQueries&&(o.flags|=8),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(o.flags|=128);const St=lt.type.prototype;!R&&(St.ngOnChanges||St.ngOnInit||St.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),R=!0),!j&&(St.ngOnChanges||St.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),j=!0),he++}!function pp(n,r){const a=r.directiveEnd,c=n.data,p=r.attrs,w=[];let R=null,j=null;for(let he=r.directiveStart;he<a;he++){const Oe=c[he],lt=Oe.inputs,St=null===p||Nl(r)?null:hd(lt,p);w.push(St),R=Cu(lt,he,R),j=Cu(Oe.outputs,he,j)}null!==R&&(R.hasOwnProperty("class")&&(r.flags|=16),R.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=R,r.outputs=j}(n,o)}w&&function mm(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const p=o[r[c+1]];if(null==p)throw new ue(-301,!1);a.push(r[c],p)}}}(o,a,w)}return o.mergedAttrs=Jr(o.mergedAttrs,o.attrs),c}function Ih(n,r,o,a,c,p){const w=p.hostBindings;if(w){let R=n.hostBindingOpCodes;null===R&&(R=n.hostBindingOpCodes=[]);const j=~r.index;(function Th(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(R)!=j&&R.push(j),R.push(a,c,w)}}function Sh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Mh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wv(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;Ei(r)&&(o[""]=n)}}function mp(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function ym(n,r,o,a,c){n.data[a]=c;const p=c.factory||(c.factory=$r(c.type)),w=new xi(p,Ei(c),null);n.blueprint[a]=w,o[a]=w,Ih(n,r,0,a,jl(n,o,c.hostVars,ai),c)}function Dv(n,r,o){const a=Pt(r,n),c=dp(o),p=n[10],w=pc(n,ud(n,c,null,o.onPush?64:16,a,r,p,p.createRenderer(a,o),null,null));n[r.index]=w}function Ha(n,r,o,a,c,p){const w=Pt(n,r);!function Oh(n,r,o,a,c,p,w){if(null==p)It(n)?n.removeAttribute(r,c,o):r.removeAttribute(c);else{const R=null==w?ke(p):w(p,a||"",c);It(n)?n.setAttribute(r,c,R,o):o?r.setAttributeNS(o,c,R):r.setAttribute(c,R)}}(r[11],w,p,n.value,o,a,c)}function Rh(n,r,o,a,c,p){const w=p[r];if(null!==w){const R=a.setInput;for(let j=0;j<w.length;){const he=w[j++],Oe=w[j++],lt=w[j++];null!==R?a.setInput(o,lt,he,Oe):o[Oe]=lt}}}function hd(n,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return o}function yp(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function Iv(n,r){const o=ir(r,n);if(wr(o)){const a=o[1];80&o[2]?ul(a,o,a.template,o[8]):o[5]>0&&vp(o)}}function vp(n){for(let a=Rs(n);null!==a;a=Ao(a))for(let c=10;c<a.length;c++){const p=a[c];if(1024&p[2]){const w=p[1];ul(w,p,w.template,p[8])}else p[5]>0&&vp(p)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const c=ir(o[a],n);wr(c)&&c[5]>0&&vp(c)}}function Tv(n,r){const o=ir(r,n),a=o[1];(function fd(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),ll(a,o,o[8])}function pc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Gl(n){for(;n;){n[2]|=64;const r=hr(n);if(gs(n)&&!r)return n;n=r}return null}function Au(n,r,o){const a=r[10];a.begin&&a.begin();try{ul(n,r,n.template,o)}catch(c){throw kh(r,c),c}finally{a.end&&a.end()}}function Ph(n){!function gc(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],a=ec(o),c=a[1];lp(c,a,c.template,o)}}(n[8])}function pd(n,r,o){pn(0),r(n,o)}const Em=(()=>Promise.resolve(null))();function bm(n){return n[7]||(n[7]=[])}function Fh(n){return n.cleanup||(n.cleanup=[])}function wm(n,r,o){return(null===n||Ei(n))&&(o=function ge(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}function kh(n,r){const o=n[9],a=o?o.get(Rl,null):null;a&&a.handleError(r)}function Dm(n,r,o,a,c){for(let p=0;p<o.length;){const w=o[p++],R=o[p++],j=r[w],he=n.data[w];null!==he.setInput?he.setInput(j,c,a,R):j[R]=c}}function Ca(n,r,o){const a=pt(r,n);!function ja(n,r,o){It(n)?n.setValue(r,o):r.textContent=o}(n[11],a,o)}function Tu(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==r)for(let w=0;w<r.length;w++){const R=r[w];"number"==typeof R?p=R:1==p?c=_e(c,R):2==p&&(a=_e(a,R+": "+r[++w]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}const md=new gn("INJECTOR",-1);class Am{get(r,o=Cs){if(o===Cs){const a=new Error(`NullInjectorError: No provider for ${ve(r)}!`);throw a.name="NullInjectorError",a}return o}}const wp=new gn("Set Injector scope."),mc={},Im={};let Dp;function Nh(){return void 0===Dp&&(Dp=new Am),Dp}function Tm(n,r=null,o=null,a){const c=Lh(n,r,o,a);return c._resolveInjectorDefTypes(),c}function Lh(n,r=null,o=null,a){return new xv(n,o,r||Nh(),a)}class xv{constructor(r,o,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Jt(o,R=>this.processProvider(R,r,o)),Jt([r],R=>this.processInjectorType(R,[],p)),this.records.set(md,Hl(void 0,this));const w=this.records.get(wp);this.scope=null!=w?w.value:null,this.source=c||("object"==typeof r?null:ve(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Cs,a=cn.Default){this.assertNotDestroyed();const c=la(this),p=yr(void 0);try{if(!(a&cn.SkipSelf)){let R=this.records.get(r);if(void 0===R){const j=function xm(n){return"function"==typeof n||"object"==typeof n&&n instanceof gn}(r)&&Ht(r);R=j&&this.injectableDefInScope(j)?Hl(yd(r),mc):null,this.records.set(r,R)}if(null!=R)return this.hydrate(r,R)}return(a&cn.Self?Nh():this.parent).get(r,o=a&cn.Optional&&o===Cs?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[Oo]=w[Oo]||[]).unshift(ve(r)),c)throw w;return function lu(n,r,o,a){const c=n[Oo];throw r[Gu]&&c.unshift(r[Gu]),n.message=function ca(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=ve(r);if(Array.isArray(r))c=r.map(ve).join(" -> ");else if("object"==typeof r){let p=[];for(let w in r)if(r.hasOwnProperty(w)){let R=r[w];p.push(w+":"+("string"==typeof R?JSON.stringify(R):ve(R)))}c=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(Ya,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[Oo]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{yr(p),la(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,c)=>r.push(ve(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processInjectorType(r,o,a){if(!(r=oe(r)))return!1;let c=Qn(r);const p=null==c&&r.ngModule||void 0,w=void 0===p?r:p,R=-1!==a.indexOf(w);if(void 0!==p&&(c=Qn(p)),null==c)return!1;if(null!=c.imports&&!R){let Oe;a.push(w);try{Jt(c.imports,lt=>{this.processInjectorType(lt,o,a)&&(void 0===Oe&&(Oe=[]),Oe.push(lt))})}finally{}if(void 0!==Oe)for(let lt=0;lt<Oe.length;lt++){const{ngModule:St,providers:Wt}=Oe[lt];Jt(Wt,Dn=>this.processProvider(Dn,St,Wt||bn))}}this.injectorDefTypes.add(w);const j=$r(w)||(()=>new w);this.records.set(w,Hl(j,mc));const he=c.providers;if(null!=he&&!R){const Oe=r;Jt(he,lt=>this.processProvider(lt,Oe,he))}return void 0!==p&&void 0!==r.providers}processProvider(r,o,a){let c=Xo(r=oe(r))?r:oe(r&&r.provide);const p=function Cp(n,r,o){return Bh(n)?Hl(void 0,n.useValue):Hl(Ap(n),mc)}(r);if(Xo(r)||!0!==r.multi)this.records.get(c);else{let w=this.records.get(c);w||(w=Hl(void 0,mc,!0),w.factory=()=>yl(w.multi),this.records.set(c,w)),c=r,w.multi.push(r)}this.records.set(c,p)}hydrate(r,o){return o.value===mc&&(o.value=Im,o.value=o.factory()),"object"==typeof o.value&&o.value&&function _c(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=oe(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function yd(n){const r=Ht(n),o=null!==r?r.factory:$r(n);if(null!==o)return o;if(n instanceof gn)throw new ue(204,!1);if(n instanceof Function)return function Sv(n){const r=n.length;if(r>0)throw nu(r,"?"),new ue(204,!1);const o=function In(n){const r=n&&(n[Kn]||n[Wr]);if(r){const o=function Gn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ue(204,!1)}function Ap(n,r,o){let a;if(Xo(n)){const c=oe(n);return $r(c)||yd(c)}if(Bh(n))a=()=>oe(n.useValue);else if(function yc(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...yl(n.deps||[]));else if(function Ip(n){return!(!n||!n.useExisting)}(n))a=()=>Ms(oe(n.useExisting));else{const c=oe(n&&(n.useClass||n.provide));if(!function vc(n){return!!n.deps}(n))return $r(c)||yd(c);a=()=>new c(...yl(n.deps))}return a}function Hl(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Bh(n){return null!==n&&"object"==typeof n&&ml in n}function Xo(n){return"function"==typeof n}let po=(()=>{class n{static create(o,a){var c;if(Array.isArray(o))return Tm({name:""},a,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return Tm({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=Cs,n.NULL=new Am,n.\u0275prov=_n({token:n,providedIn:"any",factory:()=>Ms(md)}),n.__NG_ELEMENT_ID__=-1,n})();function Rp(n,r){Qs(ec(n)[1],Li())}function Wh(n){let r=function zh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(Ei(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ue(903,"");c=r.\u0275dir}if(c){if(o){a.push(c);const w=n;w.inputs=vd(n.inputs),w.declaredInputs=vd(n.declaredInputs),w.outputs=vd(n.outputs);const R=c.hostBindings;R&&Vv(n,R);const j=c.viewQuery,he=c.contentQueries;if(j&&Bv(n,j),he&&Pp(n,he),Pe(n.inputs,c.inputs),Pe(n.declaredInputs,c.declaredInputs),Pe(n.outputs,c.outputs),Ei(c)&&c.data.animation){const Oe=n.data;Oe.animation=(Oe.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let w=0;w<p.length;w++){const R=p[w];R&&R.ngInherit&&R(n),R===Wh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Lv(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Jr(c.hostAttrs,o=Jr(o,c.hostAttrs))}}(a)}function vd(n){return n===Hn?{}:n===bn?[]:n}function Bv(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Pp(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,p)=>{r(a,c,p),o(a,c,p)}:r}function Vv(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}let Ec=null;function $l(){if(!Ec){const n=Wn.Symbol;if(n&&n.iterator)Ec=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ec=a)}}}return Ec}function wc(n){return!!_d(n)&&(Array.isArray(n)||!(n instanceof Map)&&$l()in n)}function _d(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oo(n,r,o){return n[r]=o}function To(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function cl(n,r,o,a){const c=To(n,r,o);return To(n,r+1,a)||c}function Ed(n,r,o,a){const c=vn();return To(c,be(),r)&&(ei(),Ha(yi(),c,n,r,o,a)),Ed}function zl(n,r,o,a){return To(n,be(),o)?r+ke(o)+a:ai}function Wl(n,r,o,a,c,p,w,R){const he=function Kh(n,r,o,a,c){const p=cl(n,r,o,a);return To(n,r+2,c)||p}(n,Hs(),o,c,w);return b(3),he?r+ke(o)+a+ke(c)+p+ke(w)+R:ai}function Ac(n,r,o,a,c,p,w,R,j,he){const lt=function fa(n,r,o,a,c,p){const w=cl(n,r,o,a);return cl(n,r+2,c,p)||w}(n,Hs(),o,c,w,j);return b(4),lt?r+ke(o)+a+ke(c)+p+ke(w)+R+ke(j)+he:ai}function Gm(n,r,o,a,c,p,w,R){const j=vn(),he=ei(),Oe=n+20,lt=he.firstCreatePass?function jm(n,r,o,a,c,p,w,R,j){const he=r.consts,Oe=Du(r,n,4,w||null,qr(he,R));Ah(r,o,Oe,qr(he,j)),Qs(r,Oe);const lt=Oe.tViews=hc(2,Oe,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,he);return null!==r.queries&&(r.queries.template(r,Oe),lt.queries=r.queries.embeddedTView(Oe)),Oe}(Oe,he,j,r,o,a,c,p,w):he.data[Oe];Ts(lt,!1);const St=j[11].createComment("");ed(he,j,St,lt),Ws(St,j),pc(j,j[Oe]=yp(St,j,St,lt)),_i(lt)&&cp(he,j,lt),null!=w&&Dh(j,lt,R)}function Vp(n){return function Zn(n,r){return n[r]}(function No(){return L.lFrame.contextLView}(),20+n)}function zo(n,r=cn.Default){const o=vn();return null===o?Ms(n,r):nn(Li(),o,oe(n),r)}function Zp(){throw new Error("invalid")}function Jp(n,r,o){const a=vn();return To(a,be(),r)&&$o(ei(),yi(),a,n,r,a[11],o,!1),Jp}function xc(n,r,o,a,c){const w=c?"class":"style";Dm(n,o,r.inputs[w],w,a)}function Dd(n,r,o,a){const c=vn(),p=ei(),w=20+n,R=c[11],j=c[w]=ac(R,r,function Xs(){return L.lFrame.currentNamespace}()),he=p.firstCreatePass?function Jm(n,r,o,a,c,p,w){const R=r.consts,he=Du(r,n,2,c,qr(R,p));return Ah(r,o,he,qr(R,w)),null!==he.attrs&&Tu(he,he.attrs,!1),null!==he.mergedAttrs&&Tu(he,he.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,he),he}(w,p,c,0,r,o,a):p.data[w];Ts(he,!0);const Oe=he.mergedAttrs;null!==Oe&&Pn(R,j,Oe);const lt=he.classes;null!==lt&&zf(R,j,lt);const St=he.styles;return null!==St&&$f(R,j,St),64!=(64&he.flags)&&ed(p,c,j,he),0===function sn(){return L.lFrame.elementDepthCount}()&&Ws(j,c),function Yn(){L.lFrame.elementDepthCount++}(),_i(he)&&(cp(p,c,he),up(p,he,c)),null!==a&&Dh(c,he),Dd}function nf(){let n=Li();mo()?ko():(n=n.parent,Ts(n,!1));const r=n;!function ci(){L.lFrame.elementDepthCount--}();const o=ei();return o.firstCreatePass&&(Qs(o,n),$i(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function st(n){return 0!=(16&n.flags)}(r)&&xc(o,r,vn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tt(n){return 0!=(32&n.flags)}(r)&&xc(o,r,vn(),r.stylesWithoutHost,!1),nf}function Cd(n,r,o,a){return Dd(n,r,o,a),nf(),Cd}function ps(n,r,o){const a=vn(),c=ei(),p=n+20,w=c.firstCreatePass?function Jv(n,r,o,a,c){const p=r.consts,w=qr(p,a),R=Du(r,n,8,"ng-container",w);return null!==w&&Tu(R,w,!0),Ah(r,o,R,qr(p,c)),null!==r.queries&&r.queries.elementStart(r,R),R}(p,c,a,r,o):c.data[p];Ts(w,!0);const R=a[p]=a[11].createComment("");return ed(c,a,R,w),Ws(R,a),_i(w)&&(cp(c,a,w),up(c,w,a)),null!=o&&Dh(a,w),ps}function Xp(){let n=Li();const r=ei();return mo()?ko():(n=n.parent,Ts(n,!1)),r.firstCreatePass&&(Qs(r,n),$i(n)&&r.queries.elementEnd(n)),Xp}function Xm(n,r,o){return ps(n,r,o),Xp(),Xm}function qs(){return vn()}function rf(n){return!!n&&"function"==typeof n.then}function ey(n){return!!n&&"function"==typeof n.subscribe}const ty=ey;function sf(n,r,o,a){const c=vn(),p=ei(),w=Li();return ny(p,c,c[11],w,n,r,!!o,a),sf}function eg(n,r){const o=Li(),a=vn(),c=ei();return ny(c,a,wm(bt(c.data),o,a),o,n,r,!1),eg}function ny(n,r,o,a,c,p,w,R){const j=_i(a),Oe=n.firstCreatePass&&Fh(n),lt=r[8],St=bm(r);let Wt=!0;if(3&a.type||R){const ur=Pt(a,r),Cr=R?R(ur):ur,Bn=St.length,zr=R?Vi=>R(k(Vi[a.index])):a.index;if(It(o)){let Vi=null;if(!R&&j&&(Vi=function Xv(n,r,o,a){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const w=c[p];if(w===o&&c[p+1]===a){const R=r[7],j=c[p+2];return R.length>j?R[j]:null}"string"==typeof w&&(p+=2)}return null}(n,r,c,a.index)),null!==Vi)(Vi.__ngLastListenerFn__||Vi).__ngNextListenerFn__=p,Vi.__ngLastListenerFn__=p,Wt=!1;else{p=iy(a,r,lt,p,!1);const cs=o.listen(Cr,c,p);St.push(p,cs),Oe&&Oe.push(c,zr,Bn,Bn+1)}}else p=iy(a,r,lt,p,!0),Cr.addEventListener(c,p,w),St.push(p),Oe&&Oe.push(c,zr,Bn,w)}else p=iy(a,r,lt,p,!1);const Dn=a.outputs;let Xn;if(Wt&&null!==Dn&&(Xn=Dn[c])){const ur=Xn.length;if(ur)for(let Cr=0;Cr<ur;Cr+=2){const Ta=r[Xn[Cr]][Xn[Cr+1]].subscribe(p),jd=St.length;St.push(p,Ta),Oe&&Oe.push(c,a.index,jd,-(jd+1))}}}function ry(n,r,o,a){try{return!1!==o(a)}catch(c){return kh(n,c),!1}}function iy(n,r,o,a,c){return function p(w){if(w===Function)return a;const R=2&n.flags?ir(n.index,r):r;0==(32&r[2])&&Gl(R);let j=ry(r,0,a,w),he=p.__ngNextListenerFn__;for(;he;)j=ry(r,0,he,w)&&j,he=he.__ngNextListenerFn__;return c&&!1===j&&(w.preventDefault(),w.returnValue=!1),j}}function sy(n=1){return function ji(n){return(L.lFrame.contextLView=function as(n,r){for(;n>0;)r=r[15],n--;return r}(n,L.lFrame.contextLView))[8]}(n)}function e_(n,r){let o=null;const a=function Qg(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?Yf(n,p,!0):Jg(a,p))return c}else o=c}return o}function tg(n){const r=vn()[16][6];if(!r.projection){const a=r.projection=nu(n?n.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const w=n?e_(p,n):0;null!==w&&(c[w]?c[w].projectionNext=p:a[w]=p,c[w]=p),p=p.next}}}function $a(n,r=0,o){const a=vn(),c=ei(),p=Du(c,20+n,16,null,o||null);null===p.projection&&(p.projection=r),ko(),64!=(64&p.flags)&&function Gf(n,r,o){gh(r[11],0,r,o,Ug(n,o,r),$g(o.parent||r[6],o,r))}(c,a,p)}function oy(n,r,o){return ta(n,"",r,"",o),oy}function ta(n,r,o,a,c){const p=vn(),w=zl(p,r,o,a);return w!==ai&&$o(ei(),yi(),p,n,w,p[11],c,!1),ta}function ig(n,r,o,a,c){const p=n[o+1],w=null===r;let R=a?fo(p):ol(p),j=!1;for(;0!==R&&(!1===j||w);){const Oe=n[R+1];sg(n[R],r)&&(j=!0,n[R+1]=a?Zf(Oe):Qf(Oe)),R=a?fo(Oe):ol(Oe)}j&&(n[o+1]=a?Qf(p):Zf(p))}function sg(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ns(n,r)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cy(n){return n.substring(no.key,no.keyEnd)}function lf(n,r){const o=no.textEnd;return o===r?-1:(r=no.keyEnd=function lg(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,no.key=r,o),Ru(n,r,o))}function Ru(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function Pu(n,r,o){return ao(n,r,o,!1),Pu}function cg(n,r){return ao(n,r,null,!0),cg}function Wo(n,r){for(let o=function og(n){return function ag(n){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=n.length}(n),lf(n,Ru(n,0,no.textEnd))}(r);o>=0;o=lf(r,o))Mo(n,cy(r),!0)}function ao(n,r,o,a){const c=vn(),p=ei(),w=b(2);p.firstUpdatePass&&hg(p,n,w,a),r!==ai&&To(c,w,r)&&pg(p,p.data[si()],c,c[11],n,c[w+1]=function my(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ve(_a(n)))),n}(r,o),a,w)}function dg(n,r){return r>=n.expandoStartIndex}function hg(n,r,o,a){const c=n.data;if(null===c[o+1]){const p=c[si()],w=dg(n,o);yy(p,a)&&null===r&&!w&&(r=!1),r=function Sd(n,r,o,a){const c=bt(n);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Md(o=fg(null,n,r,o,a),r.attrs,a),p=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==c)if(o=fg(c,n,r,o,a),null===p){let j=function Zl(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==ol(a))return n[fo(a)]}(n,r,a);void 0!==j&&Array.isArray(j)&&(j=fg(null,n,r,j[1],a),j=Md(j,r.attrs,a),function r_(n,r,o,a){n[fo(o?r.classBindings:r.styleBindings)]=a}(n,r,a,j))}else p=function i_(n,r,o){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=Md(a,n[p].hostAttrs,o);return Md(a,r.attrs,o)}(n,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),o}(c,p,r,a),function af(n,r,o,a,c,p){let w=p?r.classBindings:r.styleBindings,R=fo(w),j=ol(w);n[a]=o;let Oe,he=!1;if(Array.isArray(o)){const lt=o;Oe=lt[1],(null===Oe||Ns(lt,Oe)>0)&&(he=!0)}else Oe=o;if(c)if(0!==j){const St=fo(n[R+1]);n[a+1]=Ll(St,R),0!==St&&(n[St+1]=sd(n[St+1],a)),n[R+1]=function nm(n,r){return 131071&n|r<<17}(n[R+1],a)}else n[a+1]=Ll(R,0),0!==R&&(n[R+1]=sd(n[R+1],a)),R=a;else n[a+1]=Ll(j,0),0===R?R=a:n[j+1]=sd(n[j+1],a),j=a;he&&(n[a+1]=Qf(n[a+1])),ig(n,Oe,a,!0),ig(n,Oe,a,!1),function Td(n,r,o,a,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&Ns(p,r)>=0&&(o[a+1]=Zf(o[a+1]))}(r,Oe,n,a,p),w=Ll(R,j),p?r.classBindings=w:r.styleBindings=w}(c,p,r,o,w,a)}}function fg(n,r,o,a,c){let p=null;const w=o.directiveEnd;let R=o.directiveStylingLast;for(-1===R?R=o.directiveStart:R++;R<w&&(p=r[R],a=Md(a,p.hostAttrs,c),p!==n);)R++;return null!==n&&(o.directiveStylingLast=R),a}function Md(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const w=r[p];"number"==typeof w?c=w:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mo(n,w,!!o||r[++p]))}return void 0===n?null:n}function pg(n,r,o,a,c,p,w,R){if(!(3&r.type))return;const j=n.data,he=j[R+1];cf(function od(n){return 1==(1&n)}(he)?gy(j,r,o,c,ol(he),w):void 0)||(cf(p)||function Bl(n){return 2==(2&n)}(he)&&(p=gy(j,null,o,c,R,w)),function Fl(n,r,o,a,c){const p=It(n);if(r)c?p?n.addClass(o,a):o.classList.add(a):p?n.removeClass(o,a):o.classList.remove(a);else{let w=-1===a.indexOf("-")?void 0:le.DashCase;if(null==c)p?n.removeStyle(o,a,w):o.style.removeProperty(a);else{const R="string"==typeof c&&c.endsWith("!important");R&&(c=c.slice(0,-10),w|=le.Important),p?n.setStyle(o,a,c,w):o.style.setProperty(a,c,R?"important":"")}}}(a,w,pt(si(),o),c,p))}function gy(n,r,o,a,c,p){const w=null===r;let R;for(;c>0;){const j=n[c],he=Array.isArray(j),Oe=he?j[1]:j,lt=null===Oe;let St=o[c+1];St===ai&&(St=lt?bn:void 0);let Wt=lt?ru(St,a):Oe===a?St:void 0;if(he&&!cf(Wt)&&(Wt=ru(j,a)),cf(Wt)&&(R=Wt,w))return R;const Dn=n[c+1];c=w?fo(Dn):ol(Dn)}if(null!==r){let j=p?r.residualClasses:r.residualStyles;null!=j&&(R=ru(j,a))}return R}function cf(n){return void 0!==n}function yy(n,r){return 0!=(n.flags&(r?16:32))}function vy(n,r=""){const o=vn(),a=ei(),c=n+20,p=a.firstCreatePass?Du(a,c,1,r,null):a.data[c],w=o[c]=function oc(n,r){return It(n)?n.createText(r):n.createTextNode(r)}(o[11],r);ed(a,o,w,p),Ts(p,!1)}function df(n){return Od("",n,""),df}function Od(n,r,o){const a=vn(),c=zl(a,n,r,o);return c!==ai&&Ca(a,si(),c),Od}function hf(n,r,o,a,c){const p=vn(),w=function Cc(n,r,o,a,c,p){const R=cl(n,Hs(),o,c);return b(2),R?r+ke(o)+a+ke(c)+p:ai}(p,n,r,o,a,c);return w!==ai&&Ca(p,si(),w),hf}function ff(n,r,o,a,c,p,w){const R=vn(),j=Wl(R,n,r,o,a,c,p,w);return j!==ai&&Ca(R,si(),j),ff}function gg(n,r,o,a,c,p,w,R,j){const he=vn(),Oe=Ac(he,n,r,o,a,c,p,w,R,j);return Oe!==ai&&Ca(he,si(),Oe),gg}function Ey(n,r,o){!function Aa(n,r,o,a){const c=ei(),p=b(2);c.firstUpdatePass&&hg(c,null,p,a);const w=vn();if(o!==ai&&To(w,p,o)){const R=c.data[si()];if(yy(R,a)&&!dg(c,p)){let j=a?R.classesWithoutHost:R.stylesWithoutHost;null!==j&&(o=_e(j,o||"")),xc(c,R,w,o,a)}else!function s_(n,r,o,a,c,p,w,R){c===ai&&(c=bn);let j=0,he=0,Oe=0<c.length?c[0]:null,lt=0<p.length?p[0]:null;for(;null!==Oe||null!==lt;){const St=j<c.length?c[j+1]:void 0,Wt=he<p.length?p[he+1]:void 0;let Xn,Dn=null;Oe===lt?(j+=2,he+=2,St!==Wt&&(Dn=lt,Xn=Wt)):null===lt||null!==Oe&&Oe<lt?(j+=2,Dn=Oe):(he+=2,Dn=lt,Xn=Wt),null!==Dn&&pg(n,r,o,a,Dn,Xn,w,R),Oe=j<c.length?c[j]:null,lt=he<p.length?p[he]:null}}(c,R,w,w[11],w[p+1],w[p+1]=function fy(n,r,o){if(null==o||""===o)return bn;const a=[],c=_a(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(a,p,c[p]);else"string"==typeof c&&r(a,c);return a}(n,r,o),a,p)}}(Mo,Wo,zl(vn(),n,r,o),!0)}function Pd(n,r,o){const a=vn();return To(a,be(),r)&&$o(ei(),yi(),a,n,r,a[11],o,!0),Pd}function gf(n,r,o){const a=vn();if(To(a,be(),r)){const p=ei(),w=yi();$o(p,w,a,n,r,wm(bt(p.data),w,a),o,!0)}return gf}const Jl=void 0;var _g=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fd(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Oc={};function mf(n){const r=function pa(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=bg(r);if(o)return o;const a=r.split("-")[0];if(o=bg(a),o)return o;if("en"===a)return _g;throw new Error(`Missing locale data for the locale "${n}".`)}function My(n){return mf(n)[Pr.PluralCase]}function bg(n){return n in Oc||(Oc[n]=Wn.ng&&Wn.ng.common&&Wn.ng.common.locales&&Wn.ng.common.locales[n]),Oc[n]}var Pr=(()=>((Pr=Pr||{})[Pr.LocaleId=0]="LocaleId",Pr[Pr.DayPeriodsFormat=1]="DayPeriodsFormat",Pr[Pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pr[Pr.DaysFormat=3]="DaysFormat",Pr[Pr.DaysStandalone=4]="DaysStandalone",Pr[Pr.MonthsFormat=5]="MonthsFormat",Pr[Pr.MonthsStandalone=6]="MonthsStandalone",Pr[Pr.Eras=7]="Eras",Pr[Pr.FirstDayOfWeek=8]="FirstDayOfWeek",Pr[Pr.WeekendRange=9]="WeekendRange",Pr[Pr.DateFormat=10]="DateFormat",Pr[Pr.TimeFormat=11]="TimeFormat",Pr[Pr.DateTimeFormat=12]="DateTimeFormat",Pr[Pr.NumberSymbols=13]="NumberSymbols",Pr[Pr.NumberFormats=14]="NumberFormats",Pr[Pr.CurrencyCode=15]="CurrencyCode",Pr[Pr.CurrencySymbol=16]="CurrencySymbol",Pr[Pr.CurrencyName=17]="CurrencyName",Pr[Pr.Currencies=18]="Currencies",Pr[Pr.Directionality=19]="Directionality",Pr[Pr.PluralCase=20]="PluralCase",Pr[Pr.ExtraData=21]="ExtraData",Pr))();const kd="en-US";let Nu=kd;function M_(n,r,o,a,c){if(n=oe(n),Array.isArray(n))for(let p=0;p<n.length;p++)M_(n[p],r,o,a,c);else{const p=ei(),w=vn();let R=Xo(n)?n:oe(n.provide),j=Ap(n);const he=Li(),Oe=1048575&he.providerIndexes,lt=he.directiveStart,St=he.providerIndexes>>20;if(Xo(n)||!n.multi){const Wt=new xi(j,c,zo),Dn=R_(R,r,c?Oe:Oe+St,lt);-1===Dn?(Fn(Ve(he,w),p,R),O_(p,n,r.length),r.push(R),he.directiveStart++,he.directiveEnd++,c&&(he.providerIndexes+=1048576),o.push(Wt),w.push(Wt)):(o[Dn]=Wt,w[Dn]=Wt)}else{const Wt=R_(R,r,Oe+St,lt),Dn=R_(R,r,Oe,Oe+St),Xn=Wt>=0&&o[Wt],ur=Dn>=0&&o[Dn];if(c&&!ur||!c&&!Xn){Fn(Ve(he,w),p,R);const Cr=function fb(n,r,o,a,c){const p=new xi(n,o,zo);return p.multi=[],p.index=r,p.componentProviders=0,P0(p,c,a&&!o),p}(c?hb:db,o.length,c,a,j);!c&&ur&&(o[Dn].providerFactory=Cr),O_(p,n,r.length,0),r.push(R),he.directiveStart++,he.directiveEnd++,c&&(he.providerIndexes+=1048576),o.push(Cr),w.push(Cr)}else O_(p,n,Wt>-1?Wt:Dn,P0(o[c?Dn:Wt],j,!c&&a));!c&&a&&ur&&o[Dn].componentProviders++}}}function O_(n,r,o,a){const c=Xo(r),p=function Tp(n){return!!n.useClass}(r);if(c||p){const j=(p?oe(r.useClass):r).prototype.ngOnDestroy;if(j){const he=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const Oe=he.indexOf(o);-1===Oe?he.push(o,[a,j]):he[Oe+1].push(a,j)}else he.push(o,j)}}}function P0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function R_(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function db(n,r,o,a){return P_(this.multi,[])}function hb(n,r,o,a){const c=this.multi;let p;if(this.providerFactory){const w=this.providerFactory.componentProviders,R=Sa(o,o[1],this.providerFactory.index,a);p=R.slice(0,w),P_(c,p);for(let j=w;j<R.length;j++)p.push(R[j])}else p=[],P_(c,p);return p}function P_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function F0(n,r=[]){return o=>{o.providersResolver=(a,c)=>function cb(n,r,o){const a=ei();if(a.firstCreatePass){const c=Ei(n);M_(o,a.data,a.blueprint,c,!0),M_(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class k0{}class mb{resolveComponentFactory(r){throw function gb(n){const r=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Mg=(()=>{class n{}return n.NULL=new mb,n})();function yb(){return bf(Li(),vn())}function bf(n,r){return new Og(Pt(n,r))}let Og=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=yb,n})();function vb(n){return n instanceof Og?n.nativeElement:n}class L0{}let _b=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bb(){const n=vn(),o=ir(Li().index,n);return function Eb(n){return n[11]}(ii(o)?o:n)}(),n})(),wb=(()=>{class n{}return n.\u0275prov=_n({token:n,providedIn:"root",factory:()=>null}),n})();class B0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const V0=new B0("13.2.3"),F_={};function Yy(n,r,o,a,c=!1){for(;null!==o;){const p=r[o.index];if(null!==p&&a.push(k(p)),Di(p))for(let R=10;R<p.length;R++){const j=p[R],he=j[1].firstChild;null!==he&&Yy(j[1],j,he,a)}const w=o.type;if(8&w)Yy(n,r,o.child,a);else if(32&w){const R=kt(o,r);let j;for(;j=R();)a.push(j)}else if(16&w){const R=jf(r,o);if(Array.isArray(R))a.push(...R);else{const j=hr(r[16]);Yy(j[1],j,R,a,!0)}}o=c?o.projectionNext:o.next}return a}class Rg{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Yy(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Di(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(ch(r,a),so(o,a))}this._attachedToViewContainer=!1}Xc(this._lView[1],this._lView)}onDestroy(r){um(this._lView[1],this._lView,null,r)}markForCheck(){Gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Au(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _m(n,r,o){io(!0);try{Au(n,r,o)}finally{io(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zc(n,r){Us(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ue(902,"");this._appRef=r}}class Db extends Rg{constructor(r){super(r),this._view=r}detectChanges(){Ph(this._view)}checkNoChanges(){!function Ep(n){io(!0);try{Ph(n)}finally{io(!1)}}(this._view)}get context(){return null}}class U0 extends Mg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=yt(r);return new k_(o,this.ngModule)}}function j0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}const Ab=new gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>sh});class k_ extends k0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function wu(n){return n.map(id).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return j0(this.componentDef.inputs)}get outputs(){return j0(this.componentDef.outputs)}create(r,o,a,c){const p=(c=c||this.ngModule)?function Ib(n,r){return{get:(o,a,c)=>{const p=n.get(o,F_,c);return p!==F_||a===F_?p:r.get(o,a,c)}}}(r,c.injector):r,w=p.get(L0,F),R=p.get(wb,null),j=w.createRenderer(null,this.componentDef),he=this.componentDef.selectors[0][0]||"div",Oe=a?function fp(n,r,o){if(It(n))return n.selectRootElement(r,o===Yt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(j,a,this.componentDef.encapsulation):ac(w.createRenderer(null,this.componentDef),he,function Cb(n){const r=n.toLowerCase();return"svg"===r?C:"math"===r?E:null}(he)),lt=this.componentDef.onPush?576:528,St=function Nm(n,r){return{components:[],scheduler:n||sh,clean:Em,playerHandler:r||null,flags:0}}(),Wt=hc(0,null,null,1,0,null,null,null,null,null),Dn=ud(null,Wt,St,lt,null,null,w,j,R,p);let Xn,ur;Tr(Dn);try{const Cr=function km(n,r,o,a,c,p){const w=o[1];o[20]=n;const j=Du(w,20,2,"#host",null),he=j.mergedAttrs=r.hostAttrs;null!==he&&(Tu(j,he,!0),null!==n&&(Pn(c,n,he),null!==j.classes&&zf(c,n,j.classes),null!==j.styles&&$f(c,n,j.styles)));const Oe=a.createRenderer(n,r),lt=ud(o,dp(r),null,r.onPush?64:16,o[20],j,a,Oe,p||null,null);return w.firstCreatePass&&(Fn(Ve(j,o),w,r.type),Mh(w,j),mp(j,o.length,1)),pc(o,lt),o[20]=lt}(Oe,this.componentDef,Dn,w,j);if(Oe)if(a)Pn(j,Oe,["ng-version",V0.full]);else{const{attrs:Bn,classes:zr}=function hv(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let p=n[a];if("string"==typeof p)2===c?""!==p&&r.push(p,n[++a]):8===c&&o.push(p);else{if(!Jo(c))break;c=p}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Bn&&Pn(j,Oe,Bn),zr&&zr.length>0&&zf(j,Oe,zr.join(" "))}if(ur=fr(Wt,20),void 0!==o){const Bn=ur.projection=[];for(let zr=0;zr<this.ngContentSelectors.length;zr++){const Vi=o[zr];Bn.push(null!=Vi?Array.from(Vi):null)}}Xn=function $h(n,r,o,a,c){const p=o[1],w=function gm(n,r,o){const a=Li();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ym(n,a,r,jl(n,r,1,null),o));const c=Sa(r,n,a.directiveStart,a);Ws(c,r);const p=Pt(a,r);return p&&Ws(p,r),c}(p,o,r);if(a.components.push(w),n[8]=w,c&&c.forEach(j=>j(w,r)),r.contentQueries){const j=Li();r.contentQueries(1,w,j.directiveStart)}const R=Li();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(xs(R.index),Ih(o[1],R,0,R.directiveStart,R.directiveEnd,r),Sh(r,w)),w}(Cr,this.componentDef,Dn,St,[Rp]),ll(Wt,Dn,null)}finally{Ri()}return new xb(this.componentType,Xn,bf(ur,Dn),Dn,ur)}}class xb extends class pb{}{constructor(r,o,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Db(c),this.componentType=r}get injector(){return new ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class wf{}class G0{}const Df=new Map;class z0 extends wf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U0(this);const a=Un(r);this._bootstrapComponents=Ks(a.bootstrap),this._r3Injector=Lh(r,o,[{provide:wf,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver}],ve(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=po.THROW_IF_NOT_FOUND,a=cn.Default){return r===po||r===wf||r===md?this:this._r3Injector.get(r,o,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class N_ extends G0{constructor(r){super(),this.moduleType=r,null!==Un(r)&&function Mb(n){const r=new Set;!function o(a){const c=Un(a,!0),p=c.id;null!==p&&(function H0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${ve(r)} vs ${ve(r.name)}`)}(p,Df.get(p),a),Df.set(p,a));const w=Ks(c.imports);for(const R of w)r.has(R)||(r.add(R),o(R))}(n)}(r)}create(r){return new z0(this.moduleType,r)}}function W0(n,r,o){const a=Ki()+n,c=vn();return c[a]===ai?oo(c,a,o?r.call(o):r()):function xu(n,r){return n[r]}(c,a)}function K0(n,r,o,a){return function q0(n,r,o,a,c,p){const w=r+o;return To(n,w,c)?oo(n,w+1,p?a.call(p,c):a(c)):function Pg(n,r){const o=n[r];return o===ai?void 0:o}(n,w+1)}(vn(),Ki(),n,r,o,a)}function L_(n){return r=>{setTimeout(n,void 0,r)}}const tu=class Wb extends u.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){var c,p,w;let R=r,j=o||(()=>null),he=a;if(r&&"object"==typeof r){const lt=r;R=null===(c=lt.next)||void 0===c?void 0:c.bind(lt),j=null===(p=lt.error)||void 0===p?void 0:p.bind(lt),he=null===(w=lt.complete)||void 0===w?void 0:w.bind(lt)}this.__isAsync&&(j=L_(j),R&&(R=L_(R)),he&&(he=L_(he)));const Oe=super.subscribe({next:R,error:j,complete:he});return r instanceof _.w0&&r.add(Oe),Oe}};function Kb(){return this._results[$l()]()}class Qy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=$l(),a=Qy.prototype;a[o]||(a[o]=Kb)}get changes(){return this._changes||(this._changes=new tu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=yo(r);(this._changesDetected=!function aa(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],p=r[a];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qb,n})();const qb=kg,Yb=class extends qb{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r){const o=this._declarationTContainer.tViews,a=ud(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(a[19]=p.createEmbeddedView(o)),ll(o,a,r),new Rg(a)}};function Qb(){return Zy(Li(),vn())}function Zy(n,r){return 4&n.type?new Yb(r,n,bf(n,r)):null}let Jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zb,n})();function Zb(){return tE(Li(),vn())}const Jb=Jy,X0=class extends Jb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return bf(this._hostTNode,this._hostLView)}get injector(){return new ma(this._hostTNode,this._hostLView)}get parentInjector(){const r=or(this._hostTNode,this._hostLView);if(Sr(r)){const o=Ci(r,this._hostLView),a=Gi(r);return new ma(o[1].data[a+8],o)}return new ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=eE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){const c=r.createEmbeddedView(o||{});return this.insert(c,a),c}createComponent(r,o,a,c,p){const w=r&&!function oa(n){return"function"==typeof n}(r);let R;if(w)R=o;else{const lt=o||{};R=lt.index,a=lt.injector,c=lt.projectableNodes,p=lt.ngModuleRef}const j=w?r:new k_(yt(r)),he=a||this.parentInjector;if(!p&&null==j.ngModule){const St=(w?he:this.parentInjector).get(wf,null);St&&(p=St)}const Oe=j.create(he,c,void 0,p);return this.insert(Oe.hostView,R),Oe}insert(r,o){const a=r._lView,c=a[1];if(function Dr(n){return Di(n[3])}(a)){const Oe=this.indexOf(r);if(-1!==Oe)this.detach(Oe);else{const lt=a[3],St=new X0(lt,lt[6],lt[3]);St.detach(St.indexOf(r))}}const p=this._adjustIndex(o),w=this._lContainer;!function Jc(n,r,o,a){const c=10+a,p=o.length;a>0&&(o[c-1][4]=r),a<p-10?(r[4]=o[c],Oa(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const w=r[17];null!==w&&o!==w&&function uh(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(w,r);const R=r[19];null!==R&&R.insertView(n),r[2]|=128}(c,a,w,p);const R=ph(p,w),j=a[11],he=hh(j,w[7]);return null!==he&&function Qc(n,r,o,a,c,p){a[0]=c,a[6]=r,Us(n,a,o,1,c,p)}(c,w[6],j,a,he,R),r.attachToViewContainerRef(),Oa(B_(w),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=eE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=ch(this._lContainer,o);a&&(so(B_(this._lContainer),o),Xc(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=ch(this._lContainer,o);return a&&null!=so(B_(this._lContainer),o)?new Rg(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function eE(n){return n[8]}function B_(n){return n[8]||(n[8]=[])}function tE(n,r){let o;const a=r[n.index];if(Di(a))o=a;else{let c;if(8&n.type)c=k(a);else{const p=r[11];c=p.createComment("");const w=Pt(n,r);Eu(p,hh(p,w),c,function cv(n,r){return It(n)?n.nextSibling(r):r.nextSibling}(p,w),!1)}r[n.index]=o=yp(a,r,c,n),pc(r,o)}return new X0(o,n,r)}class V_{constructor(r){this.queryList=r,this.matches=null}clone(){return new V_(this.queryList)}setDirty(){this.queryList.setDirty()}}class U_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let p=0;p<a;p++){const w=o.getByIndex(p);c.push(this.queries[w.indexInDeclarationView].clone())}return new U_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==cE(r,o).matches&&this.queries[o].setDirty()}}class nE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class j_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new j_(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class G_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new G_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,o,tw(o,p)),this.matchTNodeWithReadOption(r,o,Ko(o,r,p,!1,!1))}else a===kg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ko(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Og||c===Jy||c===kg&&4&o.type)this.addMatch(o.index,-2);else{const p=Ko(o,r,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function tw(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function rw(n,r,o,a){return-1===o?function nw(n,r){return 11&n.type?bf(n,r):4&n.type?Zy(n,r):null}(r,n):-2===o?function iw(n,r,o){return o===Og?bf(r,n):o===kg?Zy(r,n):o===Jy?tE(r,n):void 0}(n,r,a):Sa(n,n[1],o,r)}function rE(n,r,o,a){const c=r[19].queries[a];if(null===c.matches){const p=n.data,w=o.matches,R=[];for(let j=0;j<w.length;j+=2){const he=w[j];R.push(he<0?null:rw(r,p[he],w[j+1],o.metadata.read))}c.matches=R}return c.matches}function H_(n,r,o,a){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const w=rE(n,r,c,o);for(let R=0;R<p.length;R+=2){const j=p[R];if(j>0)a.push(w[R/2]);else{const he=p[R+1],Oe=r[-j];for(let lt=10;lt<Oe.length;lt++){const St=Oe[lt];St[17]===St[3]&&H_(St[1],St,he,a)}if(null!==Oe[9]){const lt=Oe[9];for(let St=0;St<lt.length;St++){const Wt=lt[St];H_(Wt[1],Wt,he,a)}}}}}return a}function iE(n){const r=vn(),o=ei(),a=zt();pn(a+1);const c=cE(o,a);if(n.dirty&&lr(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?H_(o,r,a,[]):rE(o,r,c,a);n.reset(p,vb),n.notifyOnChanges()}return!0}return!1}function sE(n,r,o){const a=ei();a.firstCreatePass&&(uE(a,new nE(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),lE(a,vn(),r)}function oE(n,r,o,a){const c=ei();if(c.firstCreatePass){const p=Li();uE(c,new nE(r,o,a),p.index),function ow(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}lE(c,vn(),o)}function aE(){return function sw(n,r){return n[19].queries[r].queryList}(vn(),zt())}function lE(n,r,o){const a=new Qy(4==(4&o));um(n,r,a,a.destroy),null===r[19]&&(r[19]=new U_),r[19].queries.push(new V_(a))}function uE(n,r,o){null===n.queries&&(n.queries=new j_),n.queries.track(new G_(r,o))}function cE(n,r){return n.queries.getByIndex(r)}function tv(...n){}const Y_=new gn("Application Initializer");let Af=(()=>{class n{constructor(o){this.appInits=o,this.resolve=tv,this.reject=tv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(rf(p))o.push(p);else if(ty(p)){const w=new Promise((R,j)=>{p.subscribe({complete:R,error:j})});o.push(w)}}Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Ms(Y_,8))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const TE=new gn("AppId"),Aw={provide:TE,useFactory:function Cw(){return`${Q_()}${Q_()}${Q_()}`},deps:[]};function Q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xE=new gn("Platform Initializer"),SE=new gn("Platform ID"),ME=new gn("appBootstrapListener");let OE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const nv=new gn("LocaleId"),RE=new gn("DefaultCurrencyCode");class Iw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Z_=(()=>{class n{compileModuleSync(o){return new N_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),p=Ks(Un(o).declarations).reduce((w,R)=>{const j=yt(R);return j&&w.push(new k_(j)),w},[]);return new Iw(a,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const xw=(()=>Promise.resolve(0))();function J_(n){"undefined"==typeof Zone?xw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ia{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Sw(){let n=Wn.requestAnimationFrame,r=Wn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Rw(n){const r=()=>{!function Ow(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,X_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,p,w,R)=>{try{return PE(n),o.invokeTask(c,p,w,R)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),FE(n)}},onInvoke:(o,a,c,p,w,R,j)=>{try{return PE(n),o.invoke(c,p,w,R,j)}finally{n.shouldCoalesceRunChangeDetection&&r(),FE(n)}},onHasTask:(o,a,c,p)=>{o.hasTask(c,p),a===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,e0(n),X_(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ia.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ia.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const p=this._inner,w=p.scheduleEventTask("NgZoneEvent: "+c,r,Mw,tv,tv);try{return p.runTask(w,o,a)}finally{p.cancelTask(w)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Mw={};function X_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function PE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FE(n){n._nesting--,X_(n)}class Pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}let kE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ia.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==p),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(Ms(Ia))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})(),NE=(()=>{class n{constructor(){this._applications=new Map,t0.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return t0.findTestabilityInTree(this,o,a)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();class Fw{addToWindow(r){}findTestabilityInTree(r,o,a){return null}}function kw(n){t0=n}let fl,t0=new Fw;const LE=new gn("AllowMultipleToken");class Bw{constructor(r,o){this.name=r,this.token=o}}function BE(n,r,o=[]){const a=`Platform: ${r}`,c=new gn(a);return(p=[])=>{let w=VE();if(!w||w.injector.get(LE,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const R=o.concat(p).concat({provide:c,useValue:!0},{provide:wp,useValue:"platform"});!function Vw(n){if(fl&&!fl.destroyed&&!fl.injector.get(LE,!1))throw new ue(400,"");fl=n.get(UE);const r=n.get(xE,null);r&&r.forEach(o=>o())}(po.create({providers:R,name:a}))}return function Uw(n){const r=VE();if(!r)throw new ue(401,"");return r}()}}function VE(){return fl&&!fl.destroyed?fl:null}let UE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const R=function jw(n,r){let o;return o="noop"===n?new Pw:("zone.js"===n?void 0:n)||new Ia({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),j=[{provide:Ia,useValue:R}];return R.run(()=>{const he=po.create({providers:j,parent:this.injector,name:o.moduleType.name}),Oe=o.create(he),lt=Oe.injector.get(Rl,null);if(!lt)throw new ue(402,"");return R.runOutsideAngular(()=>{const St=R.onError.subscribe({next:Wt=>{lt.handleError(Wt)}});Oe.onDestroy(()=>{n0(this._modules,Oe),St.unsubscribe()})}),function Gw(n,r,o){try{const a=o();return rf(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(lt,R,()=>{const St=Oe.injector.get(Af);return St.runInitializers(),St.donePromise.then(()=>(function Lu(n){ln(n,"Expected localeId to be defined"),"string"==typeof n&&(Nu=n.toLowerCase().replace(/_/g,"-"))}(Oe.injector.get(nv,kd)||kd),this._moduleDoBootstrap(Oe),Oe))})})}bootstrapModule(o,a=[]){const c=jE({},a);return function Nw(n,r,o){const a=new N_(o);return Promise.resolve(a)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const a=o.injector.get(Lg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ue(403,"");o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Ms(po))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();function jE(n,r){return Array.isArray(r)?r.reduce(jE,n):Object.assign(Object.assign({},n),r)}let Lg=(()=>{class n{constructor(o,a,c,p,w){this._zone=o,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const R=new S.y(he=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{he.next(this._stable),he.complete()})}),j=new S.y(he=>{let Oe;this._zone.runOutsideAngular(()=>{Oe=this._zone.onStable.subscribe(()=>{Ia.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,he.next(!0))})})});const lt=this._zone.onUnstable.subscribe(()=>{Ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{he.next(!1)}))});return()=>{Oe.unsubscribe(),lt.unsubscribe()}});this.isStable=(0,ee.T)(R,j.pipe((0,ce.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new ue(405,"");let c;c=o instanceof k0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function Lw(n){return n.isBoundToModule}(c)?void 0:this._injector.get(wf),R=c.create(po.NULL,[],a||c.selector,p),j=R.location.nativeElement,he=R.injector.get(kE,null),Oe=he&&R.injector.get(NE);return he&&Oe&&Oe.registerApplication(j,he),R.onDestroy(()=>{this.detachView(R.hostView),n0(this.components,R),Oe&&Oe.unregisterApplication(j)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ue(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;n0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(ME,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(Ms(Ia),Ms(po),Ms(Rl),Ms(Mg),Ms(Af))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();function n0(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let HE=!0,$E=!1;function $w(){return $E=!0,HE}function zw(){if($E)throw new Error("Cannot enable prod mode after platform setup.");HE=!1}let Ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kw,n})();function Kw(n){return function qw(n,r,o){if(Wi(n)&&!o){const a=ir(n.index,r);return new Rg(a,a)}return 47&n.type?new Rg(r[16],r):null}(Li(),vn(),16==(16&n))}class qE{constructor(){}supports(r){return wc(r)}create(r){return new eD(r)}}const Xw=(n,r)=>r;class eD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Xw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,p=null;for(;o||a;){const w=!a||o&&o.currentIndex<QE(a,c,p)?o:a,R=QE(w,c,p),j=w.currentIndex;if(w===a)c--,a=a._nextRemoved;else if(o=o._next,null==w.previousIndex)c++;else{p||(p=[]);const he=R-c,Oe=j-c;if(he!=Oe){for(let St=0;St<he;St++){const Wt=St<p.length?p[St]:p[St]=0,Dn=Wt+St;Oe<=Dn&&Dn<he&&(p[St]=Wt+1)}p[w.previousIndex]=Oe-he}}R!==j&&r(w,R,j)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!wc(r))throw new ue(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,w,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let R=0;R<this.length;R++)p=r[R],w=this._trackByFn(R,p),null!==o&&Object.is(o.trackById,w)?(a&&(o=this._verifyReinsertion(o,p,w,R)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,w,R),a=!0),o=o._next}else c=0,function jv(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[$l()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,R=>{w=this._trackByFn(c,R),null!==o&&Object.is(o.trackById,w)?(a&&(o=this._verifyReinsertion(o,R,w,c)),Object.is(o.item,R)||this._addIdentityChange(o,R)):(o=this._mismatch(o,R,w,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,p,c)):r=this._addAfter(new tD(o,a),p,c),r}_verifyReinsertion(r,o,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new YE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class tD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class YE{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new nD,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QE(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class ZE{constructor(){}supports(r){return r instanceof Map||_d(r)}create(){return new rD}}class rD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||_d(r)))throw new ue(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const p=c._prev,w=c._next;return p&&(p._next=w),w&&(w._prev=p),c._next=null,c._prev=null,c}const a=new iD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class iD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JE(){return new sv([new qE])}let sv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||JE()),deps:[[n,new _o,new vo]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new ue(901,"")}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:JE}),n})();function XE(){return new ov([new ZE])}let ov=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||XE()),deps:[[n,new _o,new vo]]}}find(o){const a=this.factories.find(p=>p.supports(o));if(a)return a;throw new ue(901,"")}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:XE}),n})();const sD=[new ZE],aD=new sv([new qE]),lD=new ov(sD),uD=BE(null,"core",[{provide:SE,useValue:"unknown"},{provide:UE,deps:[po]},{provide:NE,deps:[]},{provide:OE,deps:[]}]),pD=[{provide:Lg,useClass:Lg,deps:[Ia,po,Rl,Mg,Af]},{provide:Ab,deps:[Ia],useFactory:function gD(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(o){r.push(o)}}},{provide:Af,useClass:Af,deps:[[new vo,Y_]]},{provide:Z_,useClass:Z_,deps:[]},Aw,{provide:sv,useFactory:function cD(){return aD},deps:[]},{provide:ov,useFactory:function dD(){return lD},deps:[]},{provide:nv,useFactory:function hD(n){return n||function fD(){return"undefined"!=typeof $localize&&$localize.locale||kd}()},deps:[[new ya(nv),new vo,new _o]]},{provide:RE,useValue:"USD"}];let mD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Ms(Lg))},n.\u0275mod=Z({type:n}),n.\u0275inj=At({providers:pD}),n})()},3075:(Xt,tt,y)=>{y.d(tt,{Zs:()=>Dt,Fj:()=>Ie,qu:()=>Dr,u:()=>ys,sg:()=>mi,u5:()=>ir,Cf:()=>ke,JU:()=>ve,a5:()=>Qn,JJ:()=>cn,JL:()=>Fr,F:()=>Yr,wV:()=>gs,UX:()=>lr,kI:()=>xt,_Y:()=>_i});var u=y(5e3),_=y(9808),S=y(8996),ee=y(4128),ce=y(4004);let me=(()=>{class Y{constructor(L,Re){this._renderer=L,this._elementRef=Re,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(L,Re){this._renderer.setProperty(this._elementRef.nativeElement,L,Re)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(u.Qsj),u.Y36(u.SBq))},Y.\u0275dir=u.lG2({type:Y}),Y})(),Pe=(()=>{class Y extends me{}return Y.\u0275fac=function(){let G;return function(Re){return(G||(G=u.n5z(Y)))(Re||Y)}}(),Y.\u0275dir=u.lG2({type:Y,features:[u.qOj]}),Y})();const ve=new u.OlP("NgValueAccessor"),ie={provide:ve,useExisting:(0,u.Gpc)(()=>Ie),multi:!0},Fe=new u.OlP("CompositionEventMode");let Ie=(()=>{class Y extends me{constructor(L,Re,sn){super(L,Re),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const Y=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Fe,8))},Y.\u0275dir=u.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,Re){1&L&&u.NdJ("input",function(Yn){return Re._handleInput(Yn.target.value)})("blur",function(){return Re.onTouched()})("compositionstart",function(){return Re._compositionStart()})("compositionend",function(Yn){return Re._compositionEnd(Yn.target.value)})},features:[u._Bn([ie]),u.qOj]}),Y})();function ue(Y){return null==Y||0===Y.length}function $e(Y){return null!=Y&&"number"==typeof Y.length}const ke=new u.OlP("NgValidators"),Qe=new u.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(G){return function qe(Y){return G=>{if(ue(G.value)||ue(Y))return null;const L=parseFloat(G.value);return!isNaN(L)&&L<Y?{min:{min:Y,actual:G.value}}:null}}(G)}static max(G){return function Te(Y){return G=>{if(ue(G.value)||ue(Y))return null;const L=parseFloat(G.value);return!isNaN(L)&&L>Y?{max:{max:Y,actual:G.value}}:null}}(G)}static required(G){return Ue(G)}static requiredTrue(G){return rt(G)}static email(G){return function ze(Y){return ue(Y.value)||Be.test(Y.value)?null:{email:!0}}(G)}static minLength(G){return function J(Y){return G=>ue(G.value)||!$e(G.value)?null:G.value.length<Y?{minlength:{requiredLength:Y,actualLength:G.value.length}}:null}(G)}static maxLength(G){return function re(Y){return G=>$e(G.value)&&G.value.length>Y?{maxlength:{requiredLength:Y,actualLength:G.value.length}}:null}(G)}static pattern(G){return function Ce(Y){if(!Y)return He;let G,L;return"string"==typeof Y?(L="","^"!==Y.charAt(0)&&(L+="^"),L+=Y,"$"!==Y.charAt(Y.length-1)&&(L+="$"),G=new RegExp(L)):(L=Y.toString(),G=Y),Re=>{if(ue(Re.value))return null;const sn=Re.value;return G.test(sn)?null:{pattern:{requiredPattern:L,actualValue:sn}}}}(G)}static nullValidator(G){return null}static compose(G){return ln(G)}static composeAsync(G){return qt(G)}}function Ue(Y){return ue(Y.value)?{required:!0}:null}function rt(Y){return!0===Y.value?null:{required:!0}}function He(Y){return null}function Je(Y){return null!=Y}function ut(Y){const G=(0,u.QGY)(Y)?(0,S.D)(Y):Y;return(0,u.CqO)(G),G}function ot(Y){let G={};return Y.forEach(L=>{G=null!=L?Object.assign(Object.assign({},G),L):G}),0===Object.keys(G).length?null:G}function Kt(Y,G){return G.map(L=>L(Y))}function En(Y){return Y.map(G=>function rn(Y){return!Y.validate}(G)?G:L=>G.validate(L))}function ln(Y){if(!Y)return null;const G=Y.filter(Je);return 0==G.length?null:function(L){return ot(Kt(L,G))}}function mt(Y){return null!=Y?ln(En(Y)):null}function qt(Y){if(!Y)return null;const G=Y.filter(Je);return 0==G.length?null:function(L){const Re=Kt(L,G).map(ut);return(0,ee.D)(Re).pipe((0,ce.U)(ot))}}function Qt(Y){return null!=Y?qt(En(Y)):null}function un(Y,G){return null===Y?[G]:Array.isArray(Y)?[...Y,G]:[Y,G]}function _n(Y){return Y._rawValidators}function Mt(Y){return Y._rawAsyncValidators}function At(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Ht(Y,G){return Array.isArray(Y)?Y.includes(G):Y===G}function xn(Y,G){const L=At(G);return At(Y).forEach(sn=>{Ht(L,sn)||L.push(sn)}),L}function In(Y,G){return At(G).filter(L=>!Ht(Y,L))}class Gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Qt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G){this.control&&this.control.reset(G)}hasError(G,L){return!!this.control&&this.control.hasError(G,L)}getError(G,L){return this.control?this.control.getError(G,L):null}}class Qn extends Gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kn extends Gn{get formDirective(){return null}get path(){return null}}class ar{constructor(G){this._cd=G}is(G){var L,Re,sn;return"submitted"===G?!!(null===(L=this._cd)||void 0===L?void 0:L.submitted):!!(null===(sn=null===(Re=this._cd)||void 0===Re?void 0:Re.control)||void 0===sn?void 0:sn[G])}}let cn=(()=>{class Y extends ar{constructor(L){super(L)}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(Qn,2))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,Re){2&L&&u.ekj("ng-untouched",Re.is("untouched"))("ng-touched",Re.is("touched"))("ng-pristine",Re.is("pristine"))("ng-dirty",Re.is("dirty"))("ng-valid",Re.is("valid"))("ng-invalid",Re.is("invalid"))("ng-pending",Re.is("pending"))},features:[u.qOj]}),Y})(),Fr=(()=>{class Y extends ar{constructor(L){super(L)}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(Kn,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,Re){2&L&&u.ekj("ng-untouched",Re.is("untouched"))("ng-touched",Re.is("touched"))("ng-pristine",Re.is("pristine"))("ng-dirty",Re.is("dirty"))("ng-valid",Re.is("valid"))("ng-invalid",Re.is("invalid"))("ng-pending",Re.is("pending"))("ng-submitted",Re.is("submitted"))},features:[u.qOj]}),Y})();function bn(Y,G){W(Y,G),G.valueAccessor.writeValue(Y.value),function U(Y,G){G.valueAccessor.registerOnChange(L=>{Y._pendingValue=L,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&ht(Y,G)})}(Y,G),function Gt(Y,G){const L=(Re,sn)=>{G.valueAccessor.writeValue(Re),sn&&G.viewToModelUpdate(Re)};Y.registerOnChange(L),G._registerOnDestroy(()=>{Y._unregisterOnChange(L)})}(Y,G),function Se(Y,G){G.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&ht(Y,G),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,G),function Ae(Y,G){if(G.valueAccessor.setDisabledState){const L=Re=>{G.valueAccessor.setDisabledState(Re)};Y.registerOnDisabledChange(L),G._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(L)})}}(Y,G)}function Rr(Y,G,L=!0){const Re=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(Re),G.valueAccessor.registerOnTouched(Re)),N(Y,G),Y&&(G._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function ct(Y,G){Y.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(G)})}function W(Y,G){const L=_n(Y);null!==G.validator?Y.setValidators(un(L,G.validator)):"function"==typeof L&&Y.setValidators([L]);const Re=Mt(Y);null!==G.asyncValidator?Y.setAsyncValidators(un(Re,G.asyncValidator)):"function"==typeof Re&&Y.setAsyncValidators([Re]);const sn=()=>Y.updateValueAndValidity();ct(G._rawValidators,sn),ct(G._rawAsyncValidators,sn)}function N(Y,G){let L=!1;if(null!==Y){if(null!==G.validator){const sn=_n(Y);if(Array.isArray(sn)&&sn.length>0){const Yn=sn.filter(ci=>ci!==G.validator);Yn.length!==sn.length&&(L=!0,Y.setValidators(Yn))}}if(null!==G.asyncValidator){const sn=Mt(Y);if(Array.isArray(sn)&&sn.length>0){const Yn=sn.filter(ci=>ci!==G.asyncValidator);Yn.length!==sn.length&&(L=!0,Y.setAsyncValidators(Yn))}}}const Re=()=>{};return ct(G._rawValidators,Re),ct(G._rawAsyncValidators,Re),L}function ht(Y,G){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function de(Y,G){W(Y,G)}function yt(Y,G){Y._syncPendingControls(),G.forEach(L=>{const Re=L.control;"submit"===Re.updateOn&&Re._pendingChange&&(L.viewToModelUpdate(Re._pendingValue),Re._pendingChange=!1)})}function Jn(Y,G){const L=Y.indexOf(G);L>-1&&Y.splice(L,1)}const Kr="VALID",li="INVALID",Br="PENDING",Xr="DISABLED";function gi(Y){return($t(Y)?Y.validators:Y)||null}function Nr(Y){return Array.isArray(Y)?mt(Y):Y||null}function Mn(Y,G){return($t(G)?G.asyncValidators:Y)||null}function ft(Y){return Array.isArray(Y)?Qt(Y):Y||null}function $t(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}const yn=Y=>Y instanceof An,$n=Y=>Y instanceof kr,gr=Y=>Y instanceof ni;function Et(Y){return yn(Y)?Y.value:Y.getRawValue()}function gt(Y,G){const L=$n(Y),Re=Y.controls;if(!(L?Object.keys(Re):Re).length)throw new u.vHH(1e3,"");if(!Re[G])throw new u.vHH(1001,"")}function Ut(Y,G){$n(Y),Y._forEachChild((Re,sn)=>{if(void 0===G[sn])throw new u.vHH(1002,"")})}class Vn{constructor(G,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=G,this._rawAsyncValidators=L,this._composedValidatorFn=Nr(this._rawValidators),this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Kr}get invalid(){return this.status===li}get pending(){return this.status==Br}get disabled(){return this.status===Xr}get enabled(){return this.status!==Xr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._rawValidators=G,this._composedValidatorFn=Nr(G)}setAsyncValidators(G){this._rawAsyncValidators=G,this._composedAsyncValidatorFn=ft(G)}addValidators(G){this.setValidators(xn(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(xn(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(In(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(In(G,this._rawAsyncValidators))}hasValidator(G){return Ht(this._rawValidators,G)}hasAsyncValidator(G){return Ht(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=Br,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const L=this._parentMarkedDirty(G.onlySelf);this.status=Xr,this.errors=null,this._forEachChild(Re=>{Re.disable(Object.assign(Object.assign({},G),{onlySelf:!0}))}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},G),{skipPristineCheck:L})),this._onDisabledChange.forEach(Re=>Re(!0))}enable(G={}){const L=this._parentMarkedDirty(G.onlySelf);this.status=Kr,this._forEachChild(Re=>{Re.enable(Object.assign(Object.assign({},G),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},G),{skipPristineCheck:L})),this._onDisabledChange.forEach(Re=>Re(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kr||this.status===Br)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xr:Kr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=Br,this._hasOwnPendingAsyncValidator=!0;const L=ut(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(Re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Re,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,L={}){this.errors=G,this._updateControlsErrors(!1!==L.emitEvent)}get(G){return function _r(Y,G,L){if(null==G||(Array.isArray(G)||(G=G.split(L)),Array.isArray(G)&&0===G.length))return null;let Re=Y;return G.forEach(sn=>{Re=$n(Re)?Re.controls.hasOwnProperty(sn)?Re.controls[sn]:null:gr(Re)&&Re.at(sn)||null}),Re}(this,G,".")}getError(G,L){const Re=L?this.get(L):this;return Re&&Re.errors?Re.errors[G]:null}hasError(G,L){return!!this.getError(G,L)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Xr:this.errors?li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Br)?Br:this._anyControlsHaveStatus(li)?li:Kr}_anyControlsHaveStatus(G){return this._anyControls(L=>L.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_isBoxedValue(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){$t(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class An extends Vn{constructor(G=null,L,Re){super(gi(L),Mn(Re,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$t(L)&&L.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(G)?G.value:G)}setValue(G,L={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(Re=>Re(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(G,L={}){this.setValue(G,L)}reset(G=this.defaultValue,L={}){this._applyFormState(G),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){Jn(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){Jn(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){this._isBoxedValue(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}}class kr extends Vn{constructor(G,L,Re){super(gi(L),Mn(Re,L)),this.controls=G,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,L){return this.controls[G]?this.controls[G]:(this.controls[G]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(G,L,Re={}){this.registerControl(G,L),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}removeControl(G,L={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(G,L,Re={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],L&&this.registerControl(G,L),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,L={}){Ut(this,G),Object.keys(G).forEach(Re=>{gt(this,Re),this.controls[Re].setValue(G[Re],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(G,L={}){null!=G&&(Object.keys(G).forEach(Re=>{this.controls[Re]&&this.controls[Re].patchValue(G[Re],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(G={},L={}){this._forEachChild((Re,sn)=>{Re.reset(G[sn],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(G,L,Re)=>(G[Re]=Et(L),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(L,Re)=>!!Re._syncPendingControls()||L);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(L=>{const Re=this.controls[L];Re&&G(Re,L)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const L of Object.keys(this.controls)){const Re=this.controls[L];if(this.contains(L)&&G(Re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(G,L,Re)=>((L.enabled||this.disabled)&&(G[Re]=L.value),G))}_reduceChildren(G,L){let Re=G;return this._forEachChild((sn,Yn)=>{Re=L(Re,sn,Yn)}),Re}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ni extends Vn{constructor(G,L,Re){super(gi(L),Mn(Re,L)),this.controls=G,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[G]}push(G,L={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(G,L,Re={}){this.controls.splice(G,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:Re.emitEvent})}removeAt(G,L={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(G,L,Re={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),L&&(this.controls.splice(G,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,L={}){Ut(this,G),G.forEach((Re,sn)=>{gt(this,sn),this.at(sn).setValue(Re,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(G,L={}){null!=G&&(G.forEach((Re,sn)=>{this.at(sn)&&this.at(sn).patchValue(Re,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(G=[],L={}){this._forEachChild((Re,sn)=>{Re.reset(G[sn],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(G=>Et(G))}clear(G={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_syncPendingControls(){let G=this.controls.reduce((L,Re)=>!!Re._syncPendingControls()||L,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((L,Re)=>{G(L,Re)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(L=>L.enabled&&G(L))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}}const Ai={provide:Kn,useExisting:(0,u.Gpc)(()=>Yr)},ui=(()=>Promise.resolve(null))();let Yr=(()=>{class Y extends Kn{constructor(L,Re){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new kr({},mt(L),Qt(Re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ui.then(()=>{const Re=this._findContainer(L.path);L.control=Re.registerControl(L.name,L.control),bn(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ui.then(()=>{const Re=this._findContainer(L.path);Re&&Re.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ui.then(()=>{const Re=this._findContainer(L.path),sn=new kr({});de(sn,L),Re.registerControl(L.name,sn),sn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ui.then(()=>{const Re=this._findContainer(L.path);Re&&Re.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,Re){ui.then(()=>{this.form.get(L.path).setValue(Re)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,yt(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(ke,10),u.Y36(Qe,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,Re){1&L&&u.NdJ("submit",function(Yn){return Re.onSubmit(Yn)})("reset",function(){return Re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ai]),u.qOj]}),Y})(),_i=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275dir=u.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})();const Ei={provide:ve,useExisting:(0,u.Gpc)(()=>gs),multi:!0};let gs=(()=>{class Y extends Pe{writeValue(L){this.setProperty("value",null==L?"":L)}registerOnChange(L){this.onChange=Re=>{L(""==Re?null:parseFloat(Re))}}}return Y.\u0275fac=function(){let G;return function(Re){return(G||(G=u.n5z(Y)))(Re||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(L,Re){1&L&&u.NdJ("input",function(Yn){return Re.onChange(Yn.target.value)})("blur",function(){return Re.onTouched()})},features:[u._Bn([Ei]),u.qOj]}),Y})(),di=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({}),Y})();const hn=new u.OlP("NgModelWithFormControlWarning"),Ur={provide:Kn,useExisting:(0,u.Gpc)(()=>mi)};let mi=(()=>{class Y extends Kn{constructor(L,Re){super(),this.validators=L,this.asyncValidators=Re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(L),this._setAsyncValidators(Re)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const Re=this.form.get(L.path);return bn(Re,L),Re.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),Re}getControl(L){return this.form.get(L.path)}removeControl(L){Rr(L.control||null,L,!1),Jn(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,Re){this.form.get(L.path).setValue(Re)}onSubmit(L){return this.submitted=!0,yt(this.form,this.directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const Re=L.control,sn=this.form.get(L.path);Re!==sn&&(Rr(Re||null,L),yn(sn)&&(bn(sn,L),L.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const Re=this.form.get(L.path);de(Re,L),Re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const Re=this.form.get(L.path);Re&&function Nt(Y,G){return N(Y,G)}(Re,L)&&Re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){W(this.form,this),this._oldForm&&N(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(L){return new(L||Y)(u.Y36(ke,10),u.Y36(Qe,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(L,Re){1&L&&u.NdJ("submit",function(Yn){return Re.onSubmit(Yn)})("reset",function(){return Re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Ur]),u.qOj,u.TTD]}),Y})();const Ii={provide:Qn,useExisting:(0,u.Gpc)(()=>ys)};let ys=(()=>{class Y extends Qn{constructor(L,Re,sn,Yn,ci){super(),this._ngModelWarningConfig=ci,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(Re),this._setAsyncValidators(sn),this.valueAccessor=function dt(Y,G){if(!G)return null;let L,Re,sn;return Array.isArray(G),G.forEach(Yn=>{Yn.constructor===Ie?L=Yn:function nt(Y){return Object.getPrototypeOf(Y.constructor)===Pe}(Yn)?Re=Yn:sn=Yn}),sn||Re||L||null}(0,Yn)}set isDisabled(L){}ngOnChanges(L){this._added||this._setUpControl(),function je(Y,G){if(!Y.hasOwnProperty("model"))return!1;const L=Y.model;return!!L.isFirstChange()||!Object.is(G,L.currentValue)}(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return function Hn(Y,G){return[...G.path,Y]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(L){return new(L||Y)(u.Y36(Kn,13),u.Y36(ke,10),u.Y36(Qe,10),u.Y36(ve,10),u.Y36(hn,8))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Ii]),u.qOj,u.TTD]}),Y})(),se=(()=>{class Y{constructor(){this._validator=He}ngOnChanges(L){if(this.inputName in L){const Re=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(Re),this._validator=this._enabled?this.createValidator(Re):He,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275dir=u.lG2({type:Y,features:[u.TTD]}),Y})();const K={provide:ke,useExisting:(0,u.Gpc)(()=>et),multi:!0},ye={provide:ke,useExisting:(0,u.Gpc)(()=>Dt),multi:!0};let et=(()=>{class Y extends se{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=L=>function ne(Y){return null!=Y&&!1!==Y&&"false"!=`${Y}`}(L),this.createValidator=L=>Ue}enabled(L){return L}}return Y.\u0275fac=function(){let G;return function(Re){return(G||(G=u.n5z(Y)))(Re||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,Re){2&L&&u.uIk("required",Re._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([K]),u.qOj]}),Y})(),Dt=(()=>{class Y extends et{constructor(){super(...arguments),this.createValidator=L=>rt}}return Y.\u0275fac=function(){let G;return function(Re){return(G||(G=u.n5z(Y)))(Re||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,Re){2&L&&u.uIk("required",Re._enabled?"":null)},features:[u._Bn([ye]),u.qOj]}),Y})(),Zn=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[[di]]}),Y})(),ir=(()=>{class Y{}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[Zn]}),Y})(),lr=(()=>{class Y{static withConfig(L){return{ngModule:Y,providers:[{provide:hn,useValue:L.warnOnNgModelWithFormControl}]}}}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[Zn]}),Y})(),Dr=(()=>{class Y{group(L,Re=null){const sn=this._reduceControls(L);let Xi,Yn=null,ci=null;return null!=Re&&(function wr(Y){return void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn}(Re)?(Yn=null!=Re.validators?Re.validators:null,ci=null!=Re.asyncValidators?Re.asyncValidators:null,Xi=null!=Re.updateOn?Re.updateOn:void 0):(Yn=null!=Re.validator?Re.validator:null,ci=null!=Re.asyncValidator?Re.asyncValidator:null)),new kr(sn,{asyncValidators:ci,updateOn:Xi,validators:Yn})}control(L,Re,sn){return new An(L,Re,sn)}array(L,Re,sn){const Yn=L.map(ci=>this._createControl(ci));return new ni(Yn,Re,sn)}_reduceControls(L){const Re={};return Object.keys(L).forEach(sn=>{Re[sn]=this._createControl(L[sn])}),Re}_createControl(L){return yn(L)||$n(L)||gr(L)?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return Y.\u0275fac=function(L){return new(L||Y)},Y.\u0275prov=u.Yz7({token:Y,factory:Y.\u0275fac,providedIn:lr}),Y})()},508:(Xt,tt,y)=>{y.d(tt,{yN:()=>Qe,mZ:()=>Be,_A:()=>rn,rD:()=>At,sG:()=>En,K7:()=>Tn,HF:()=>Vt,Y2:()=>on,BQ:()=>Te,X2:()=>Ht,uc:()=>Gn,XK:()=>_n,ey:()=>Hn,Ng:()=>ct,rN:()=>tr,nP:()=>Ke,us:()=>Bt,wG:()=>Ft,si:()=>Ne,IR:()=>Fr,CB:()=>bn,jH:()=>Rr,pj:()=>re,Kr:()=>Ce,Id:()=>J,FD:()=>Je,sb:()=>He,E0:()=>xn});var u=y(5e3),_=y(226),ee=y(9808),ce=y(925),me=y(5664),Pe=y(3191),ve=y(7579),_e=y(8675),$=y(6360),ie=y(1159);function Ie(Ae,W){if(1&Ae&&u._UZ(0,"mat-pseudo-checkbox",4),2&Ae){const N=u.oxw();u.Q6J("state",N.selected?"checked":"unchecked")("disabled",N.disabled)}}function ue(Ae,W){if(1&Ae&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&Ae){const N=u.oxw();u.xp6(1),u.hij("(",N.group.label,")")}}const $e=["*"];let Qe=(()=>{class Ae{}return Ae.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ae.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ae.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ae.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Ae})(),Be=(()=>{class Ae{}return Ae.COMPLEX="375ms",Ae.ENTERING="225ms",Ae.EXITING="195ms",Ae})();const qe=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function xt(){return!0}});let Te=(()=>{class Ae{constructor(N,U,Se){this._sanityChecks=U,this._document=Se,this._hasDoneGlobalChecks=!1,N._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(N){return!(0,ce.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[N])}}return Ae.\u0275fac=function(N){return new(N||Ae)(u.LFG(me.qm),u.LFG(qe,8),u.LFG(ee.K0))},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[_.vT],_.vT]}),Ae})();function J(Ae){return class extends Ae{constructor(...W){super(...W),this._disabled=!1}get disabled(){return this._disabled}set disabled(W){this._disabled=(0,Pe.Ig)(W)}}}function re(Ae,W){return class extends Ae{constructor(...N){super(...N),this.defaultColor=W,this.color=W}get color(){return this._color}set color(N){const U=N||this.defaultColor;U!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),U&&this._elementRef.nativeElement.classList.add(`mat-${U}`),this._color=U)}}}function Ce(Ae){return class extends Ae{constructor(...W){super(...W),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(W){this._disableRipple=(0,Pe.Ig)(W)}}}function He(Ae,W=0){return class extends Ae{constructor(...N){super(...N),this._tabIndex=W,this.defaultTabIndex=W}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(N){this._tabIndex=null!=N?(0,Pe.su)(N):this.defaultTabIndex}}}function Je(Ae){return class extends Ae{constructor(...W){super(...W),this.stateChanges=new ve.x,this.errorState=!1}updateErrorState(){const W=this.errorState,ht=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ht!==W&&(this.errorState=ht,this.stateChanges.next())}}}const ot=new u.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Kt(){return(0,u.f3M)(u.soG)}});class rn{constructor(){this._localeChanges=new ve.x,this.localeChanges=this._localeChanges}getValidDateOrNull(W){return this.isDateInstance(W)&&this.isValid(W)?W:null}deserialize(W){return null==W||this.isDateInstance(W)&&this.isValid(W)?W:this.invalid()}setLocale(W){this.locale=W,this._localeChanges.next()}compareDate(W,N){return this.getYear(W)-this.getYear(N)||this.getMonth(W)-this.getMonth(N)||this.getDate(W)-this.getDate(N)}sameDate(W,N){if(W&&N){let U=this.isValid(W),Se=this.isValid(N);return U&&Se?!this.compareDate(W,N):U==Se}return W==N}clampDate(W,N,U){return N&&this.compareDate(W,N)<0?N:U&&this.compareDate(W,U)>0?U:W}}const En=new u.OlP("mat-date-formats"),ln=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function mt(Ae,W){const N=Array(Ae);for(let U=0;U<Ae;U++)N[U]=W(U);return N}let qt=(()=>{class Ae extends rn{constructor(N,U){super(),this.useUtcForDisplay=!1,super.setLocale(N)}getYear(N){return N.getFullYear()}getMonth(N){return N.getMonth()}getDate(N){return N.getDate()}getDayOfWeek(N){return N.getDay()}getMonthNames(N){const U=new Intl.DateTimeFormat(this.locale,{month:N,timeZone:"utc"});return mt(12,Se=>this._format(U,new Date(2017,Se,1)))}getDateNames(){const N=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return mt(31,U=>this._format(N,new Date(2017,0,U+1)))}getDayOfWeekNames(N){const U=new Intl.DateTimeFormat(this.locale,{weekday:N,timeZone:"utc"});return mt(7,Se=>this._format(U,new Date(2017,0,Se+1)))}getYearName(N){const U=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(U,N)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(N){return this.getDate(this._createDateWithOverflow(this.getYear(N),this.getMonth(N)+1,0))}clone(N){return new Date(N.getTime())}createDate(N,U,Se){let ht=this._createDateWithOverflow(N,U,Se);return ht.getMonth(),ht}today(){return new Date}parse(N){return"number"==typeof N?new Date(N):N?new Date(Date.parse(N)):null}format(N,U){if(!this.isValid(N))throw Error("NativeDateAdapter: Cannot format invalid date.");const Se=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},U),{timeZone:"utc"}));return this._format(Se,N)}addCalendarYears(N,U){return this.addCalendarMonths(N,12*U)}addCalendarMonths(N,U){let Se=this._createDateWithOverflow(this.getYear(N),this.getMonth(N)+U,this.getDate(N));return this.getMonth(Se)!=((this.getMonth(N)+U)%12+12)%12&&(Se=this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se),0)),Se}addCalendarDays(N,U){return this._createDateWithOverflow(this.getYear(N),this.getMonth(N),this.getDate(N)+U)}toIso8601(N){return[N.getUTCFullYear(),this._2digit(N.getUTCMonth()+1),this._2digit(N.getUTCDate())].join("-")}deserialize(N){if("string"==typeof N){if(!N)return null;if(ln.test(N)){let U=new Date(N);if(this.isValid(U))return U}}return super.deserialize(N)}isDateInstance(N){return N instanceof Date}isValid(N){return!isNaN(N.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(N,U,Se){const ht=new Date;return ht.setFullYear(N,U,Se),ht.setHours(0,0,0,0),ht}_2digit(N){return("00"+N).slice(-2)}_format(N,U){const Se=new Date;return Se.setUTCFullYear(U.getFullYear(),U.getMonth(),U.getDate()),Se.setUTCHours(U.getHours(),U.getMinutes(),U.getSeconds(),U.getMilliseconds()),N.format(Se)}}return Ae.\u0275fac=function(N){return new(N||Ae)(u.LFG(ot,8),u.LFG(ce.t4))},Ae.\u0275prov=u.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Qt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let un=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[{provide:rn,useClass:qt}]}),Ae})(),_n=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[{provide:En,useValue:Qt}],imports:[[un]]}),Ae})(),At=(()=>{class Ae{isErrorState(N,U){return!!(N&&N.invalid&&(N.touched||U&&U.submitted))}}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275prov=u.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Ht=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275dir=u.lG2({type:Ae,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Ae})();function xn(Ae,W,N="mat"){Ae.changes.pipe((0,_e.O)(Ae)).subscribe(({length:U})=>{In(W,`${N}-2-line`,!1),In(W,`${N}-3-line`,!1),In(W,`${N}-multi-line`,!1),2===U||3===U?In(W,`${N}-${U}-line`,!0):U>3&&In(W,`${N}-multi-line`,!0)})}function In(Ae,W,N){Ae.nativeElement.classList.toggle(W,N)}let Gn=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[Te],Te]}),Ae})();class Qn{constructor(W,N,U){this._renderer=W,this.element=N,this.config=U,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kn={enterDuration:225,exitDuration:150},Wr=(0,ce.i$)({passive:!0}),Ar=["mousedown","touchstart"],cn=["mouseup","mouseleave","touchend","touchcancel"];class Fr{constructor(W,N,U,Se){this._target=W,this._ngZone=N,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Se.isBrowser&&(this._containerElement=(0,Pe.fI)(U))}fadeInRipple(W,N,U={}){const Se=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ht=Object.assign(Object.assign({},Kn),U.animation);U.centered&&(W=Se.left+Se.width/2,N=Se.top+Se.height/2);const Gt=U.radius||function yr(Ae,W,N){const U=Math.max(Math.abs(Ae-N.left),Math.abs(Ae-N.right)),Se=Math.max(Math.abs(W-N.top),Math.abs(W-N.bottom));return Math.sqrt(U*U+Se*Se)}(W,N,Se),de=W-Se.left,Nt=N-Se.top,M=ht.enterDuration,Z=document.createElement("div");Z.classList.add("mat-ripple-element"),Z.style.left=de-Gt+"px",Z.style.top=Nt-Gt+"px",Z.style.height=2*Gt+"px",Z.style.width=2*Gt+"px",null!=U.color&&(Z.style.backgroundColor=U.color),Z.style.transitionDuration=`${M}ms`,this._containerElement.appendChild(Z),function dr(Ae){window.getComputedStyle(Ae).getPropertyValue("opacity")}(Z),Z.style.transform="scale(1)";const it=new Qn(this,Z,U);return it.state=0,this._activeRipples.add(it),U.persistent||(this._mostRecentTransientRipple=it),this._runTimeoutOutsideZone(()=>{const Ye=it===this._mostRecentTransientRipple;it.state=1,!U.persistent&&(!Ye||!this._isPointerDown)&&it.fadeOut()},M),it}fadeOutRipple(W){const N=this._activeRipples.delete(W);if(W===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!N)return;const U=W.element,Se=Object.assign(Object.assign({},Kn),W.config.animation);U.style.transitionDuration=`${Se.exitDuration}ms`,U.style.opacity="0",W.state=2,this._runTimeoutOutsideZone(()=>{W.state=3,U.remove()},Se.exitDuration)}fadeOutAll(){this._activeRipples.forEach(W=>W.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(W=>{W.config.persistent||W.fadeOut()})}setupTriggerEvents(W){const N=(0,Pe.fI)(W);!N||N===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=N,this._registerEvents(Ar))}handleEvent(W){"mousedown"===W.type?this._onMousedown(W):"touchstart"===W.type?this._onTouchStart(W):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cn),this._pointerUpEventsRegistered=!0)}_onMousedown(W){const N=(0,me.X6)(W),U=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!N&&!U&&(this._isPointerDown=!0,this.fadeInRipple(W.clientX,W.clientY,this._target.rippleConfig))}_onTouchStart(W){if(!this._target.rippleDisabled&&!(0,me.yG)(W)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const N=W.changedTouches;for(let U=0;U<N.length;U++)this.fadeInRipple(N[U].clientX,N[U].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(W=>{!W.config.persistent&&(1===W.state||W.config.terminateOnPointerUp&&0===W.state)&&W.fadeOut()}))}_runTimeoutOutsideZone(W,N=0){this._ngZone.runOutsideAngular(()=>setTimeout(W,N))}_registerEvents(W){this._ngZone.runOutsideAngular(()=>{W.forEach(N=>{this._triggerElement.addEventListener(N,this,Wr)})})}_removeTriggerEvents(){this._triggerElement&&(Ar.forEach(W=>{this._triggerElement.removeEventListener(W,this,Wr)}),this._pointerUpEventsRegistered&&cn.forEach(W=>{this._triggerElement.removeEventListener(W,this,Wr)}))}}const on=new u.OlP("mat-ripple-global-options");let Ft=(()=>{class Ae{constructor(N,U,Se,ht,Gt){this._elementRef=N,this._animationMode=Gt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ht||{},this._rippleRenderer=new Fr(this,U,N,Se)}get disabled(){return this._disabled}set disabled(N){N&&this.fadeOutAllNonPersistent(),this._disabled=N,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(N){this._trigger=N,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(N,U=0,Se){return"number"==typeof N?this._rippleRenderer.fadeInRipple(N,U,Object.assign(Object.assign({},this.rippleConfig),Se)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),N))}}return Ae.\u0275fac=function(N){return new(N||Ae)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ce.t4),u.Y36(on,8),u.Y36($.Qb,8))},Ae.\u0275dir=u.lG2({type:Ae,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(N,U){2&N&&u.ekj("mat-ripple-unbounded",U.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ae})(),Ne=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[Te],Te]}),Ae})(),Ke=(()=>{class Ae{constructor(N){this._animationMode=N,this.state="unchecked",this.disabled=!1}}return Ae.\u0275fac=function(N){return new(N||Ae)(u.Y36($.Qb,8))},Ae.\u0275cmp=u.Xpm({type:Ae,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(N,U){2&N&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===U.state)("mat-pseudo-checkbox-checked","checked"===U.state)("mat-pseudo-checkbox-disabled",U.disabled)("_mat-animation-noopable","NoopAnimations"===U._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(N,U){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Ae})(),Bt=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[Te]]}),Ae})();const Vt=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),Tn=new u.OlP("MatOptgroup");let Wn=0;class tr{constructor(W,N=!1){this.source=W,this.isUserInput=N}}let Sn=(()=>{class Ae{constructor(N,U,Se,ht){this._element=N,this._changeDetectorRef=U,this._parent=Se,this.group=ht,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Wn++,this.onSelectionChange=new u.vpe,this._stateChanges=new ve.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(N){this._disabled=(0,Pe.Ig)(N)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(N,U){const Se=this._getHostElement();"function"==typeof Se.focus&&Se.focus(U)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(N){(N.keyCode===ie.K5||N.keyCode===ie.L_)&&!(0,ie.Vb)(N)&&(this._selectViaInteraction(),N.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const N=this.viewValue;N!==this._mostRecentViewValue&&(this._mostRecentViewValue=N,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(N=!1){this.onSelectionChange.emit(new tr(this,N))}}return Ae.\u0275fac=function(N){u.$Z()},Ae.\u0275dir=u.lG2({type:Ae,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Ae})(),Hn=(()=>{class Ae extends Sn{constructor(N,U,Se,ht){super(N,U,Se,ht)}}return Ae.\u0275fac=function(N){return new(N||Ae)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Vt,8),u.Y36(Tn,8))},Ae.\u0275cmp=u.Xpm({type:Ae,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(N,U){1&N&&u.NdJ("click",function(){return U._selectViaInteraction()})("keydown",function(ht){return U._handleKeydown(ht)}),2&N&&(u.Ikx("id",U.id),u.uIk("tabindex",U._getTabIndex())("aria-selected",U._getAriaSelected())("aria-disabled",U.disabled.toString()),u.ekj("mat-selected",U.selected)("mat-option-multiple",U.multiple)("mat-active",U.active)("mat-option-disabled",U.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:$e,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(N,U){1&N&&(u.F$t(),u.YNc(0,Ie,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,ue,2,1,"span",2),u._UZ(4,"div",3)),2&N&&(u.Q6J("ngIf",U.multiple),u.xp6(3),u.Q6J("ngIf",U.group&&U.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",U._getHostElement())("matRippleDisabled",U.disabled||U.disableRipple))},directives:[Ke,ee.O5,Ft],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Ae})();function bn(Ae,W,N){if(N.length){let U=W.toArray(),Se=N.toArray(),ht=0;for(let Gt=0;Gt<Ae+1;Gt++)U[Gt].group&&U[Gt].group===Se[ht]&&ht++;return ht}return 0}function Rr(Ae,W,N,U){return Ae<N?Ae:Ae+W>N+U?Math.max(0,Ae-U+W):N}let ct=(()=>{class Ae{}return Ae.\u0275fac=function(N){return new(N||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[Ne,ee.ez,Te,Bt]]}),Ae})()},7322:(Xt,tt,y)=>{y.d(tt,{G_:()=>Fr,TO:()=>rn,KE:()=>dr,Eo:()=>ln,lN:()=>yr,bx:()=>Mt,hX:()=>At,R9:()=>Qn});var u=y(7144),_=y(9808),S=y(5e3),ee=y(508),ce=y(3191),me=y(7579),Pe=y(6451),ve=y(4968),_e=y(8675),$=y(2722),ie=y(5698),oe=y(1777),Fe=y(6360),Ie=y(226),ue=y(925);const $e=["connectionContainer"],ke=["inputContainer"],Qe=["label"];function Be(on,Ft){1&on&&(S.ynx(0),S.TgZ(1,"div",14),S._UZ(2,"div",15)(3,"div",16)(4,"div",17),S.qZA(),S.TgZ(5,"div",18),S._UZ(6,"div",15)(7,"div",16)(8,"div",17),S.qZA(),S.BQk())}function xt(on,Ft){if(1&on){const Ne=S.EpF();S.TgZ(0,"div",19),S.NdJ("cdkObserveContent",function(){return S.CHM(Ne),S.oxw().updateOutlineGap()}),S.Hsn(1,1),S.qZA()}if(2&on){const Ne=S.oxw();S.Q6J("cdkObserveContentDisabled","outline"!=Ne.appearance)}}function qe(on,Ft){if(1&on&&(S.ynx(0),S.Hsn(1,2),S.TgZ(2,"span"),S._uU(3),S.qZA(),S.BQk()),2&on){const Ne=S.oxw(2);S.xp6(3),S.Oqu(Ne._control.placeholder)}}function Te(on,Ft){1&on&&S.Hsn(0,3,["*ngSwitchCase","true"])}function Ue(on,Ft){1&on&&(S.TgZ(0,"span",23),S._uU(1," *"),S.qZA())}function rt(on,Ft){if(1&on){const Ne=S.EpF();S.TgZ(0,"label",20,21),S.NdJ("cdkObserveContent",function(){return S.CHM(Ne),S.oxw().updateOutlineGap()}),S.YNc(2,qe,4,1,"ng-container",12),S.YNc(3,Te,1,0,"ng-content",12),S.YNc(4,Ue,2,0,"span",22),S.qZA()}if(2&on){const Ne=S.oxw();S.ekj("mat-empty",Ne._control.empty&&!Ne._shouldAlwaysFloat())("mat-form-field-empty",Ne._control.empty&&!Ne._shouldAlwaysFloat())("mat-accent","accent"==Ne.color)("mat-warn","warn"==Ne.color),S.Q6J("cdkObserveContentDisabled","outline"!=Ne.appearance)("id",Ne._labelId)("ngSwitch",Ne._hasLabel()),S.uIk("for",Ne._control.id)("aria-owns",Ne._control.id),S.xp6(2),S.Q6J("ngSwitchCase",!1),S.xp6(1),S.Q6J("ngSwitchCase",!0),S.xp6(1),S.Q6J("ngIf",!Ne.hideRequiredMarker&&Ne._control.required&&!Ne._control.disabled)}}function ze(on,Ft){1&on&&(S.TgZ(0,"div",24),S.Hsn(1,4),S.qZA())}function J(on,Ft){if(1&on&&(S.TgZ(0,"div",25),S._UZ(1,"span",26),S.qZA()),2&on){const Ne=S.oxw();S.xp6(1),S.ekj("mat-accent","accent"==Ne.color)("mat-warn","warn"==Ne.color)}}function re(on,Ft){if(1&on&&(S.TgZ(0,"div"),S.Hsn(1,5),S.qZA()),2&on){const Ne=S.oxw();S.Q6J("@transitionMessages",Ne._subscriptAnimationState)}}function Ce(on,Ft){if(1&on&&(S.TgZ(0,"div",30),S._uU(1),S.qZA()),2&on){const Ne=S.oxw(2);S.Q6J("id",Ne._hintLabelId),S.xp6(1),S.Oqu(Ne.hintLabel)}}function He(on,Ft){if(1&on&&(S.TgZ(0,"div",27),S.YNc(1,Ce,2,2,"div",28),S.Hsn(2,6),S._UZ(3,"div",29),S.Hsn(4,7),S.qZA()),2&on){const Ne=S.oxw();S.Q6J("@transitionMessages",Ne._subscriptAnimationState),S.xp6(1),S.Q6J("ngIf",Ne.hintLabel)}}const Je=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ut=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let ot=0;const Kt=new S.OlP("MatError");let rn=(()=>{class on{constructor(Ne,Ke){this.id="mat-error-"+ot++,Ne||Ke.nativeElement.setAttribute("aria-live","polite")}}return on.\u0275fac=function(Ne){return new(Ne||on)(S.$8M("aria-live"),S.Y36(S.SBq))},on.\u0275dir=S.lG2({type:on,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Ne,Ke){2&Ne&&S.uIk("id",Ke.id)},inputs:{id:"id"},features:[S._Bn([{provide:Kt,useExisting:on}])]}),on})();const En={transitionMessages:(0,oe.X$)("transitionMessages",[(0,oe.SB)("enter",(0,oe.oB)({opacity:1,transform:"translateY(0%)"})),(0,oe.eR)("void => enter",[(0,oe.oB)({opacity:0,transform:"translateY(-5px)"}),(0,oe.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ln=(()=>{class on{}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275dir=S.lG2({type:on}),on})(),un=0;const _n=new S.OlP("MatHint");let Mt=(()=>{class on{constructor(){this.align="start",this.id="mat-hint-"+un++}}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275dir=S.lG2({type:on,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(Ne,Ke){2&Ne&&(S.uIk("id",Ke.id)("align",null),S.ekj("mat-form-field-hint-end","end"===Ke.align))},inputs:{align:"align",id:"id"},features:[S._Bn([{provide:_n,useExisting:on}])]}),on})(),At=(()=>{class on{}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275dir=S.lG2({type:on,selectors:[["mat-label"]]}),on})(),Ht=(()=>{class on{}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275dir=S.lG2({type:on,selectors:[["mat-placeholder"]]}),on})();const xn=new S.OlP("MatPrefix"),Gn=new S.OlP("MatSuffix");let Qn=(()=>{class on{}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275dir=S.lG2({type:on,selectors:[["","matSuffix",""]],features:[S._Bn([{provide:Gn,useExisting:on}])]}),on})(),Kn=0;const Ar=(0,ee.pj)(class{constructor(on){this._elementRef=on}},"primary"),cn=new S.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Fr=new S.OlP("MatFormField");let dr=(()=>{class on extends Ar{constructor(Ne,Ke,Bt,Vt,Yt,en,Cn){super(Ne),this._changeDetectorRef=Ke,this._dir=Bt,this._defaults=Vt,this._platform=Yt,this._ngZone=en,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new me.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kn++,this._labelId="mat-form-field-label-"+Kn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==Cn,this.appearance=Vt&&Vt.appearance?Vt.appearance:"legacy",this._hideRequiredMarker=!(!Vt||null==Vt.hideRequiredMarker)&&Vt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Ne){const Ke=this._appearance;this._appearance=Ne||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ke!==Ne&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ne){this._hideRequiredMarker=(0,ce.Ig)(Ne)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ne){this._hintLabel=Ne,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ne){Ne!==this._floatLabel&&(this._floatLabel=Ne||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ne){this._explicitFormFieldControl=Ne}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ne=this._control;Ne.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ne.controlType}`),Ne.stateChanges.pipe((0,_e.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ne.ngControl&&Ne.ngControl.valueChanges&&Ne.ngControl.valueChanges.pipe((0,$.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,$.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Pe.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,_e.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,_e.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,$.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ne){const Ke=this._control?this._control.ngControl:null;return Ke&&Ke[Ne]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ve.R)(this._label.nativeElement,"transitionend").pipe((0,ie.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ne=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ne.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ke=this._hintChildren?this._hintChildren.find(Vt=>"start"===Vt.align):null,Bt=this._hintChildren?this._hintChildren.find(Vt=>"end"===Vt.align):null;Ke?Ne.push(Ke.id):this._hintLabel&&Ne.push(this._hintLabelId),Bt&&Ne.push(Bt.id)}else this._errorChildren&&Ne.push(...this._errorChildren.map(Ke=>Ke.id));this._control.setDescribedByIds(Ne)}}_validateControlChild(){}updateOutlineGap(){const Ne=this._label?this._label.nativeElement:null,Ke=this._connectionContainerRef.nativeElement,Bt=".mat-form-field-outline-start",Vt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Ne||!Ne.children.length||!Ne.textContent.trim()){const Rn=Ke.querySelectorAll(`${Bt}, ${Vt}`);for(let Wn=0;Wn<Rn.length;Wn++)Rn[Wn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Yt=0,en=0;const Cn=Ke.querySelectorAll(Bt),Tn=Ke.querySelectorAll(Vt);if(this._label&&this._label.nativeElement.children.length){const Rn=Ke.getBoundingClientRect();if(0===Rn.width&&0===Rn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Wn=this._getStartEnd(Rn),tr=Ne.children,Sn=this._getStartEnd(tr[0].getBoundingClientRect());let Hn=0;for(let bn=0;bn<tr.length;bn++)Hn+=tr[bn].offsetWidth;Yt=Math.abs(Sn-Wn)-5,en=Hn>0?.75*Hn+10:0}for(let Rn=0;Rn<Cn.length;Rn++)Cn[Rn].style.width=`${Yt}px`;for(let Rn=0;Rn<Tn.length;Rn++)Tn[Rn].style.width=`${en}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ne){return this._dir&&"rtl"===this._dir.value?Ne.right:Ne.left}_isAttachedToDOM(){const Ne=this._elementRef.nativeElement;if(Ne.getRootNode){const Ke=Ne.getRootNode();return Ke&&Ke!==Ne}return document.documentElement.contains(Ne)}}return on.\u0275fac=function(Ne){return new(Ne||on)(S.Y36(S.SBq),S.Y36(S.sBO),S.Y36(Ie.Is,8),S.Y36(cn,8),S.Y36(ue.t4),S.Y36(S.R0b),S.Y36(Fe.Qb,8))},on.\u0275cmp=S.Xpm({type:on,selectors:[["mat-form-field"]],contentQueries:function(Ne,Ke,Bt){if(1&Ne&&(S.Suo(Bt,ln,5),S.Suo(Bt,ln,7),S.Suo(Bt,At,5),S.Suo(Bt,At,7),S.Suo(Bt,Ht,5),S.Suo(Bt,Kt,5),S.Suo(Bt,_n,5),S.Suo(Bt,xn,5),S.Suo(Bt,Gn,5)),2&Ne){let Vt;S.iGM(Vt=S.CRH())&&(Ke._controlNonStatic=Vt.first),S.iGM(Vt=S.CRH())&&(Ke._controlStatic=Vt.first),S.iGM(Vt=S.CRH())&&(Ke._labelChildNonStatic=Vt.first),S.iGM(Vt=S.CRH())&&(Ke._labelChildStatic=Vt.first),S.iGM(Vt=S.CRH())&&(Ke._placeholderChild=Vt.first),S.iGM(Vt=S.CRH())&&(Ke._errorChildren=Vt),S.iGM(Vt=S.CRH())&&(Ke._hintChildren=Vt),S.iGM(Vt=S.CRH())&&(Ke._prefixChildren=Vt),S.iGM(Vt=S.CRH())&&(Ke._suffixChildren=Vt)}},viewQuery:function(Ne,Ke){if(1&Ne&&(S.Gf($e,7),S.Gf(ke,5),S.Gf(Qe,5)),2&Ne){let Bt;S.iGM(Bt=S.CRH())&&(Ke._connectionContainerRef=Bt.first),S.iGM(Bt=S.CRH())&&(Ke._inputContainerRef=Bt.first),S.iGM(Bt=S.CRH())&&(Ke._label=Bt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ne,Ke){2&Ne&&S.ekj("mat-form-field-appearance-standard","standard"==Ke.appearance)("mat-form-field-appearance-fill","fill"==Ke.appearance)("mat-form-field-appearance-outline","outline"==Ke.appearance)("mat-form-field-appearance-legacy","legacy"==Ke.appearance)("mat-form-field-invalid",Ke._control.errorState)("mat-form-field-can-float",Ke._canLabelFloat())("mat-form-field-should-float",Ke._shouldLabelFloat())("mat-form-field-has-label",Ke._hasFloatingLabel())("mat-form-field-hide-placeholder",Ke._hideControlPlaceholder())("mat-form-field-disabled",Ke._control.disabled)("mat-form-field-autofilled",Ke._control.autofilled)("mat-focused",Ke._control.focused)("ng-untouched",Ke._shouldForward("untouched"))("ng-touched",Ke._shouldForward("touched"))("ng-pristine",Ke._shouldForward("pristine"))("ng-dirty",Ke._shouldForward("dirty"))("ng-valid",Ke._shouldForward("valid"))("ng-invalid",Ke._shouldForward("invalid"))("ng-pending",Ke._shouldForward("pending"))("_mat-animation-noopable",!Ke._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[S._Bn([{provide:Fr,useExisting:on}]),S.qOj],ngContentSelectors:ut,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ne,Ke){1&Ne&&(S.F$t(Je),S.TgZ(0,"div",0)(1,"div",1,2),S.NdJ("click",function(Vt){return Ke._control.onContainerClick&&Ke._control.onContainerClick(Vt)}),S.YNc(3,Be,9,0,"ng-container",3),S.YNc(4,xt,2,1,"div",4),S.TgZ(5,"div",5,6),S.Hsn(7),S.TgZ(8,"span",7),S.YNc(9,rt,5,16,"label",8),S.qZA()(),S.YNc(10,ze,2,0,"div",9),S.qZA(),S.YNc(11,J,2,4,"div",10),S.TgZ(12,"div",11),S.YNc(13,re,2,1,"div",12),S.YNc(14,He,5,2,"div",13),S.qZA()()),2&Ne&&(S.xp6(3),S.Q6J("ngIf","outline"==Ke.appearance),S.xp6(1),S.Q6J("ngIf",Ke._prefixChildren.length),S.xp6(5),S.Q6J("ngIf",Ke._hasFloatingLabel()),S.xp6(1),S.Q6J("ngIf",Ke._suffixChildren.length),S.xp6(1),S.Q6J("ngIf","outline"!=Ke.appearance),S.xp6(1),S.Q6J("ngSwitch",Ke._getDisplayedMessages()),S.xp6(1),S.Q6J("ngSwitchCase","error"),S.xp6(1),S.Q6J("ngSwitchCase","hint"))},directives:[_.O5,u.wD,_.RF,_.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[En.transitionMessages]},changeDetection:0}),on})(),yr=(()=>{class on{}return on.\u0275fac=function(Ne){return new(Ne||on)},on.\u0275mod=S.oAB({type:on}),on.\u0275inj=S.cJS({imports:[[_.ez,ee.BQ,u.Q8],ee.BQ]}),on})()},5245:(Xt,tt,y)=>{y.d(tt,{Hw:()=>qt,Ps:()=>Qt});var u=y(5e3),_=y(508),S=y(3191),ee=y(9808),ce=y(9646),me=y(2843),Pe=y(4128),ve=y(727),_e=y(8505),$=y(4004),ie=y(262),oe=y(8746),Fe=y(3099),Ie=y(5698),ue=y(520),$e=y(2313);const ke=["*"];let Qe;function xt(un){var _n;return(null===(_n=function Be(){if(void 0===Qe&&(Qe=null,"undefined"!=typeof window)){const un=window;void 0!==un.trustedTypes&&(Qe=un.trustedTypes.createPolicy("angular#components",{createHTML:_n=>_n}))}return Qe}())||void 0===_n?void 0:_n.createHTML(un))||un}function qe(un){return Error(`Unable to find icon with the name "${un}"`)}function Ue(un){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${un}".`)}function rt(un){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${un}".`)}class ze{constructor(_n,Mt,At){this.url=_n,this.svgText=Mt,this.options=At}}let J=(()=>{class un{constructor(Mt,At,Ht,xn){this._httpClient=Mt,this._sanitizer=At,this._errorHandler=xn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Ht}addSvgIcon(Mt,At,Ht){return this.addSvgIconInNamespace("",Mt,At,Ht)}addSvgIconLiteral(Mt,At,Ht){return this.addSvgIconLiteralInNamespace("",Mt,At,Ht)}addSvgIconInNamespace(Mt,At,Ht,xn){return this._addSvgIconConfig(Mt,At,new ze(Ht,null,xn))}addSvgIconResolver(Mt){return this._resolvers.push(Mt),this}addSvgIconLiteralInNamespace(Mt,At,Ht,xn){const In=this._sanitizer.sanitize(u.q3G.HTML,Ht);if(!In)throw rt(Ht);const Gn=xt(In);return this._addSvgIconConfig(Mt,At,new ze("",Gn,xn))}addSvgIconSet(Mt,At){return this.addSvgIconSetInNamespace("",Mt,At)}addSvgIconSetLiteral(Mt,At){return this.addSvgIconSetLiteralInNamespace("",Mt,At)}addSvgIconSetInNamespace(Mt,At,Ht){return this._addSvgIconSetConfig(Mt,new ze(At,null,Ht))}addSvgIconSetLiteralInNamespace(Mt,At,Ht){const xn=this._sanitizer.sanitize(u.q3G.HTML,At);if(!xn)throw rt(At);const In=xt(xn);return this._addSvgIconSetConfig(Mt,new ze("",In,Ht))}registerFontClassAlias(Mt,At=Mt){return this._fontCssClassesByAlias.set(Mt,At),this}classNameForFontAlias(Mt){return this._fontCssClassesByAlias.get(Mt)||Mt}setDefaultFontSetClass(Mt){return this._defaultFontSetClass=Mt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Mt){const At=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,Mt);if(!At)throw Ue(Mt);const Ht=this._cachedIconsByUrl.get(At);return Ht?(0,ce.of)(He(Ht)):this._loadSvgIconFromConfig(new ze(Mt,null)).pipe((0,_e.b)(xn=>this._cachedIconsByUrl.set(At,xn)),(0,$.U)(xn=>He(xn)))}getNamedSvgIcon(Mt,At=""){const Ht=Je(At,Mt);let xn=this._svgIconConfigs.get(Ht);if(xn)return this._getSvgFromConfig(xn);if(xn=this._getIconConfigFromResolvers(At,Mt),xn)return this._svgIconConfigs.set(Ht,xn),this._getSvgFromConfig(xn);const In=this._iconSetConfigs.get(At);return In?this._getSvgFromIconSetConfigs(Mt,In):(0,me._)(qe(Ht))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Mt){return Mt.svgText?(0,ce.of)(He(this._svgElementFromConfig(Mt))):this._loadSvgIconFromConfig(Mt).pipe((0,$.U)(At=>He(At)))}_getSvgFromIconSetConfigs(Mt,At){const Ht=this._extractIconWithNameFromAnySet(Mt,At);if(Ht)return(0,ce.of)(Ht);const xn=At.filter(In=>!In.svgText).map(In=>this._loadSvgIconSetFromConfig(In).pipe((0,ie.K)(Gn=>{const Kn=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,In.url)} failed: ${Gn.message}`;return this._errorHandler.handleError(new Error(Kn)),(0,ce.of)(null)})));return(0,Pe.D)(xn).pipe((0,$.U)(()=>{const In=this._extractIconWithNameFromAnySet(Mt,At);if(!In)throw qe(Mt);return In}))}_extractIconWithNameFromAnySet(Mt,At){for(let Ht=At.length-1;Ht>=0;Ht--){const xn=At[Ht];if(xn.svgText&&xn.svgText.toString().indexOf(Mt)>-1){const In=this._svgElementFromConfig(xn),Gn=this._extractSvgIconFromSet(In,Mt,xn.options);if(Gn)return Gn}}return null}_loadSvgIconFromConfig(Mt){return this._fetchIcon(Mt).pipe((0,_e.b)(At=>Mt.svgText=At),(0,$.U)(()=>this._svgElementFromConfig(Mt)))}_loadSvgIconSetFromConfig(Mt){return Mt.svgText?(0,ce.of)(null):this._fetchIcon(Mt).pipe((0,_e.b)(At=>Mt.svgText=At))}_extractSvgIconFromSet(Mt,At,Ht){const xn=Mt.querySelector(`[id="${At}"]`);if(!xn)return null;const In=xn.cloneNode(!0);if(In.removeAttribute("id"),"svg"===In.nodeName.toLowerCase())return this._setSvgAttributes(In,Ht);if("symbol"===In.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(In),Ht);const Gn=this._svgElementFromString(xt("<svg></svg>"));return Gn.appendChild(In),this._setSvgAttributes(Gn,Ht)}_svgElementFromString(Mt){const At=this._document.createElement("DIV");At.innerHTML=Mt;const Ht=At.querySelector("svg");if(!Ht)throw Error("<svg> tag not found");return Ht}_toSvgElement(Mt){const At=this._svgElementFromString(xt("<svg></svg>")),Ht=Mt.attributes;for(let xn=0;xn<Ht.length;xn++){const{name:In,value:Gn}=Ht[xn];"id"!==In&&At.setAttribute(In,Gn)}for(let xn=0;xn<Mt.childNodes.length;xn++)Mt.childNodes[xn].nodeType===this._document.ELEMENT_NODE&&At.appendChild(Mt.childNodes[xn].cloneNode(!0));return At}_setSvgAttributes(Mt,At){return Mt.setAttribute("fit",""),Mt.setAttribute("height","100%"),Mt.setAttribute("width","100%"),Mt.setAttribute("preserveAspectRatio","xMidYMid meet"),Mt.setAttribute("focusable","false"),At&&At.viewBox&&Mt.setAttribute("viewBox",At.viewBox),Mt}_fetchIcon(Mt){var At;const{url:Ht,options:xn}=Mt,In=null!==(At=null==xn?void 0:xn.withCredentials)&&void 0!==At&&At;if(!this._httpClient)throw function Te(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ht)throw Error(`Cannot fetch icon from URL "${Ht}".`);const Gn=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,Ht);if(!Gn)throw Ue(Ht);const Qn=this._inProgressUrlFetches.get(Gn);if(Qn)return Qn;const Kn=this._httpClient.get(Gn,{responseType:"text",withCredentials:In}).pipe((0,$.U)(ar=>xt(ar)),(0,oe.x)(()=>this._inProgressUrlFetches.delete(Gn)),(0,Fe.B)());return this._inProgressUrlFetches.set(Gn,Kn),Kn}_addSvgIconConfig(Mt,At,Ht){return this._svgIconConfigs.set(Je(Mt,At),Ht),this}_addSvgIconSetConfig(Mt,At){const Ht=this._iconSetConfigs.get(Mt);return Ht?Ht.push(At):this._iconSetConfigs.set(Mt,[At]),this}_svgElementFromConfig(Mt){if(!Mt.svgElement){const At=this._svgElementFromString(Mt.svgText);this._setSvgAttributes(At,Mt.options),Mt.svgElement=At}return Mt.svgElement}_getIconConfigFromResolvers(Mt,At){for(let Ht=0;Ht<this._resolvers.length;Ht++){const xn=this._resolvers[Ht](At,Mt);if(xn)return ut(xn)?new ze(xn.url,null,xn.options):new ze(xn,null)}}}return un.\u0275fac=function(Mt){return new(Mt||un)(u.LFG(ue.eN,8),u.LFG($e.H7),u.LFG(ee.K0,8),u.LFG(u.qLn))},un.\u0275prov=u.Yz7({token:un,factory:un.\u0275fac,providedIn:"root"}),un})();function He(un){return un.cloneNode(!0)}function Je(un,_n){return un+":"+_n}function ut(un){return!(!un.url||!un.options)}const ot=(0,_.pj)(class{constructor(un){this._elementRef=un}}),Kt=new u.OlP("mat-icon-location",{providedIn:"root",factory:function rn(){const un=(0,u.f3M)(ee.K0),_n=un?un.location:null;return{getPathname:()=>_n?_n.pathname+_n.search:""}}}),En=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ln=En.map(un=>`[${un}]`).join(", "),mt=/^url\(['"]?#(.*?)['"]?\)$/;let qt=(()=>{class un extends ot{constructor(Mt,At,Ht,xn,In){super(Mt),this._iconRegistry=At,this._location=xn,this._errorHandler=In,this._inline=!1,this._currentIconFetch=ve.w0.EMPTY,Ht||Mt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(Mt){this._inline=(0,S.Ig)(Mt)}get svgIcon(){return this._svgIcon}set svgIcon(Mt){Mt!==this._svgIcon&&(Mt?this._updateSvgIcon(Mt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Mt)}get fontSet(){return this._fontSet}set fontSet(Mt){const At=this._cleanupFontValue(Mt);At!==this._fontSet&&(this._fontSet=At,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Mt){const At=this._cleanupFontValue(Mt);At!==this._fontIcon&&(this._fontIcon=At,this._updateFontIconClasses())}_splitIconName(Mt){if(!Mt)return["",""];const At=Mt.split(":");switch(At.length){case 1:return["",At[0]];case 2:return At;default:throw Error(`Invalid icon name: "${Mt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Mt=this._elementsWithExternalReferences;if(Mt&&Mt.size){const At=this._location.getPathname();At!==this._previousPath&&(this._previousPath=At,this._prependPathToReferences(At))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Mt){this._clearSvgElement();const At=this._location.getPathname();this._previousPath=At,this._cacheChildrenWithExternalReferences(Mt),this._prependPathToReferences(At),this._elementRef.nativeElement.appendChild(Mt)}_clearSvgElement(){const Mt=this._elementRef.nativeElement;let At=Mt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();At--;){const Ht=Mt.childNodes[At];(1!==Ht.nodeType||"svg"===Ht.nodeName.toLowerCase())&&Ht.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Mt=this._elementRef.nativeElement,At=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();At!=this._previousFontSetClass&&(this._previousFontSetClass&&Mt.classList.remove(this._previousFontSetClass),At&&Mt.classList.add(At),this._previousFontSetClass=At),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&Mt.classList.remove(this._previousFontIconClass),this.fontIcon&&Mt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Mt){return"string"==typeof Mt?Mt.trim().split(" ")[0]:Mt}_prependPathToReferences(Mt){const At=this._elementsWithExternalReferences;At&&At.forEach((Ht,xn)=>{Ht.forEach(In=>{xn.setAttribute(In.name,`url('${Mt}#${In.value}')`)})})}_cacheChildrenWithExternalReferences(Mt){const At=Mt.querySelectorAll(ln),Ht=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let xn=0;xn<At.length;xn++)En.forEach(In=>{const Gn=At[xn],Qn=Gn.getAttribute(In),Kn=Qn?Qn.match(mt):null;if(Kn){let ar=Ht.get(Gn);ar||(ar=[],Ht.set(Gn,ar)),ar.push({name:In,value:Kn[1]})}})}_updateSvgIcon(Mt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Mt){const[At,Ht]=this._splitIconName(Mt);At&&(this._svgNamespace=At),Ht&&(this._svgName=Ht),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ht,At).pipe((0,Ie.q)(1)).subscribe(xn=>this._setSvgElement(xn),xn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${At}:${Ht}! ${xn.message}`))})}}}return un.\u0275fac=function(Mt){return new(Mt||un)(u.Y36(u.SBq),u.Y36(J),u.$8M("aria-hidden"),u.Y36(Kt),u.Y36(u.qLn))},un.\u0275cmp=u.Xpm({type:un,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(Mt,At){2&Mt&&(u.uIk("data-mat-icon-type",At._usingFontIcon()?"font":"svg")("data-mat-icon-name",At._svgName||At.fontIcon)("data-mat-icon-namespace",At._svgNamespace||At.fontSet),u.ekj("mat-icon-inline",At.inline)("mat-icon-no-color","primary"!==At.color&&"accent"!==At.color&&"warn"!==At.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:ke,decls:1,vars:0,template:function(Mt,At){1&Mt&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),un})(),Qt=(()=>{class un{}return un.\u0275fac=function(Mt){return new(Mt||un)},un.\u0275mod=u.oAB({type:un}),un.\u0275inj=u.cJS({imports:[[_.BQ],_.BQ]}),un})()},7531:(Xt,tt,y)=>{y.d(tt,{Jk:()=>ue,Nt:()=>Be,c:()=>xt});var u=y(3191),_=y(925),S=y(5e3),ee=y(3075),ce=y(508),me=y(7322),Pe=y(7579),ve=y(515);const _e=(0,_.i$)({passive:!0});let $=(()=>{class qe{constructor(Ue,rt){this._platform=Ue,this._ngZone=rt,this._monitoredElements=new Map}monitor(Ue){if(!this._platform.isBrowser)return ve.E;const rt=(0,u.fI)(Ue),ze=this._monitoredElements.get(rt);if(ze)return ze.subject;const J=new Pe.x,re="cdk-text-field-autofilled",Ce=He=>{"cdk-text-field-autofill-start"!==He.animationName||rt.classList.contains(re)?"cdk-text-field-autofill-end"===He.animationName&&rt.classList.contains(re)&&(rt.classList.remove(re),this._ngZone.run(()=>J.next({target:He.target,isAutofilled:!1}))):(rt.classList.add(re),this._ngZone.run(()=>J.next({target:He.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{rt.addEventListener("animationstart",Ce,_e),rt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(rt,{subject:J,unlisten:()=>{rt.removeEventListener("animationstart",Ce,_e)}}),J}stopMonitoring(Ue){const rt=(0,u.fI)(Ue),ze=this._monitoredElements.get(rt);ze&&(ze.unlisten(),ze.subject.complete(),rt.classList.remove("cdk-text-field-autofill-monitored"),rt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(rt))}ngOnDestroy(){this._monitoredElements.forEach((Ue,rt)=>this.stopMonitoring(rt))}}return qe.\u0275fac=function(Ue){return new(Ue||qe)(S.LFG(_.t4),S.LFG(S.R0b))},qe.\u0275prov=S.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),Fe=(()=>{class qe{}return qe.\u0275fac=function(Ue){return new(Ue||qe)},qe.\u0275mod=S.oAB({type:qe}),qe.\u0275inj=S.cJS({}),qe})();const ue=new S.OlP("MAT_INPUT_VALUE_ACCESSOR"),$e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ke=0;const Qe=(0,ce.FD)(class{constructor(qe,Te,Ue,rt){this._defaultErrorStateMatcher=qe,this._parentForm=Te,this._parentFormGroup=Ue,this.ngControl=rt}});let Be=(()=>{class qe extends Qe{constructor(Ue,rt,ze,J,re,Ce,He,Je,ut,ot){super(Ce,J,re,ze),this._elementRef=Ue,this._platform=rt,this._autofillMonitor=Je,this._formField=ot,this._uid="mat-input-"+ke++,this.focused=!1,this.stateChanges=new Pe.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(En=>(0,_.qK)().has(En)),this._iOSKeyupListener=En=>{const ln=En.target;!ln.value&&0===ln.selectionStart&&0===ln.selectionEnd&&(ln.setSelectionRange(1,1),ln.setSelectionRange(0,0))};const Kt=this._elementRef.nativeElement,rn=Kt.nodeName.toLowerCase();this._inputValueAccessor=He||Kt,this._previousNativeValue=this.value,this.id=this.id,rt.IOS&&ut.runOutsideAngular(()=>{Ue.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===rn,this._isTextarea="textarea"===rn,this._isInFormField=!!ot,this._isNativeSelect&&(this.controlType=Kt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(Ue){this._disabled=(0,u.Ig)(Ue),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Ue){this._id=Ue||this._uid}get required(){var Ue,rt,ze,J;return null!==(J=null!==(Ue=this._required)&&void 0!==Ue?Ue:null===(ze=null===(rt=this.ngControl)||void 0===rt?void 0:rt.control)||void 0===ze?void 0:ze.hasValidator(ee.kI.required))&&void 0!==J&&J}set required(Ue){this._required=(0,u.Ig)(Ue)}get type(){return this._type}set type(Ue){this._type=Ue||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Ue){Ue!==this.value&&(this._inputValueAccessor.value=Ue,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Ue){this._readonly=(0,u.Ig)(Ue)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Ue=>{this.autofilled=Ue.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Ue){this._elementRef.nativeElement.focus(Ue)}_focusChanged(Ue){Ue!==this.focused&&(this.focused=Ue,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var Ue,rt;const ze=(null===(rt=null===(Ue=this._formField)||void 0===Ue?void 0:Ue._hideControlPlaceholder)||void 0===rt?void 0:rt.call(Ue))?null:this.placeholder;if(ze!==this._previousPlaceholder){const J=this._elementRef.nativeElement;this._previousPlaceholder=ze,ze?J.setAttribute("placeholder",ze):J.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const Ue=this._elementRef.nativeElement.value;this._previousNativeValue!==Ue&&(this._previousNativeValue=Ue,this.stateChanges.next())}_validateType(){$e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Ue=this._elementRef.nativeElement.validity;return Ue&&Ue.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Ue=this._elementRef.nativeElement,rt=Ue.options[0];return this.focused||Ue.multiple||!this.empty||!!(Ue.selectedIndex>-1&&rt&&rt.label)}return this.focused||!this.empty}setDescribedByIds(Ue){Ue.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Ue.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Ue=this._elementRef.nativeElement;return this._isNativeSelect&&(Ue.multiple||Ue.size>1)}}return qe.\u0275fac=function(Ue){return new(Ue||qe)(S.Y36(S.SBq),S.Y36(_.t4),S.Y36(ee.a5,10),S.Y36(ee.F,8),S.Y36(ee.sg,8),S.Y36(ce.rD),S.Y36(ue,10),S.Y36($),S.Y36(S.R0b),S.Y36(me.G_,8))},qe.\u0275dir=S.lG2({type:qe,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(Ue,rt){1&Ue&&S.NdJ("focus",function(){return rt._focusChanged(!0)})("blur",function(){return rt._focusChanged(!1)})("input",function(){return rt._onInput()}),2&Ue&&(S.Ikx("disabled",rt.disabled)("required",rt.required),S.uIk("id",rt.id)("data-placeholder",rt.placeholder)("name",rt.name||null)("readonly",rt.readonly&&!rt._isNativeSelect||null)("aria-invalid",rt.empty&&rt.required?null:rt.errorState)("aria-required",rt.required),S.ekj("mat-input-server",rt._isServer)("mat-native-select-inline",rt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[S._Bn([{provide:me.Eo,useExisting:qe}]),S.qOj,S.TTD]}),qe})(),xt=(()=>{class qe{}return qe.\u0275fac=function(Ue){return new(Ue||qe)},qe.\u0275mod=S.oAB({type:qe}),qe.\u0275inj=S.cJS({providers:[ce.rD],imports:[[Fe,me.lN,ce.BQ],Fe,me.lN]}),qe})()},6360:(Xt,tt,y)=>{y.d(tt,{Qb:()=>No,PW:()=>Hs});var u=y(5e3),_=y(2313),S=y(1777);const ee=!1;function me(be){return new u.vHH(3e3,ee)}function Mt(){return"undefined"!=typeof window&&void 0!==window.document}function At(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ht(be){switch(be.length){case 0:return new S.ZN;case 1:return be[0];default:return new S.ZE(be)}}function xn(be,b,A,H,xe={},Xe={}){const _t=[],bt=[];let zt=-1,pn=null;if(H.forEach(nr=>{const mr=nr.offset,Tr=mr==zt,Zr=Tr&&pn||{};Object.keys(nr).forEach(pr=>{let xr=pr,fi=nr[pr];if("offset"!==pr)switch(xr=b.normalizePropertyName(xr,_t),fi){case S.k1:fi=xe[pr];break;case S.l3:fi=Xe[pr];break;default:fi=b.normalizeStyleValue(pr,xr,fi,_t)}Zr[xr]=fi}),Tr||bt.push(Zr),pn=Zr,zt=mr}),_t.length)throw function Je(be){return new u.vHH(3502,ee)}();return bt}function In(be,b,A,H){switch(b){case"start":be.onStart(()=>H(A&&Gn(A,"start",be)));break;case"done":be.onDone(()=>H(A&&Gn(A,"done",be)));break;case"destroy":be.onDestroy(()=>H(A&&Gn(A,"destroy",be)))}}function Gn(be,b,A){const H=A.totalTime,Xe=Qn(be.element,be.triggerName,be.fromState,be.toState,b||be.phaseName,null==H?be.totalTime:H,!!A.disabled),_t=be._data;return null!=_t&&(Xe._data=_t),Xe}function Qn(be,b,A,H,xe="",Xe=0,_t){return{element:be,triggerName:b,fromState:A,toState:H,phaseName:xe,totalTime:Xe,disabled:!!_t}}function Kn(be,b,A){let H;return be instanceof Map?(H=be.get(b),H||be.set(b,H=A)):(H=be[b],H||(H=be[b]=A)),H}function ar(be){const b=be.indexOf(":");return[be.substring(1,b),be.substr(b+1)]}let Wr=(be,b)=>!1,Ar=(be,b,A)=>[],cn=null;function Fr(be){const b=be.parentNode||be.host;return b===cn?null:b}(At()||"undefined"!=typeof Element)&&(Mt()?(cn=(()=>document.documentElement)(),Wr=(be,b)=>{for(;b;){if(b===be)return!0;b=Fr(b)}return!1}):Wr=(be,b)=>be.contains(b),Ar=(be,b,A)=>{if(A)return Array.from(be.querySelectorAll(b));const H=be.querySelector(b);return H?[H]:[]});let on=null,Ft=!1;function Ne(be){on||(on=function Ke(){return"undefined"!=typeof document?document.body:null}()||{},Ft=!!on.style&&"WebkitAppearance"in on.style);let b=!0;return on.style&&!function yr(be){return"ebkit"==be.substring(1,6)}(be)&&(b=be in on.style,!b&&Ft&&(b="Webkit"+be.charAt(0).toUpperCase()+be.substr(1)in on.style)),b}const Bt=Wr,Vt=Ar;let en=(()=>{class be{validateStyleProperty(A){return Ne(A)}matchesElement(A,H){return!1}containsElement(A,H){return Bt(A,H)}getParentElement(A){return Fr(A)}query(A,H,xe){return Vt(A,H,xe)}computeStyle(A,H,xe){return xe||""}animate(A,H,xe,Xe,_t,bt=[],zt){return new S.ZN(xe,Xe)}}return be.\u0275fac=function(A){return new(A||be)},be.\u0275prov=u.Yz7({token:be,factory:be.\u0275fac}),be})(),Cn=(()=>{class be{}return be.NOOP=new en,be})();const tr="ng-enter",Sn="ng-leave",Hn="ng-trigger",bn=".ng-trigger",Rr="ng-animating",ct=".ng-animating";function Ae(be){if("number"==typeof be)return be;const b=be.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:W(parseFloat(b[1]),b[2])}function W(be,b){return"s"===b?1e3*be:be}function N(be,b,A){return be.hasOwnProperty("duration")?be:function U(be,b,A){let xe,Xe=0,_t="";if("string"==typeof be){const bt=be.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===bt)return b.push(me()),{duration:0,delay:0,easing:""};xe=W(parseFloat(bt[1]),bt[2]);const zt=bt[3];null!=zt&&(Xe=W(parseFloat(zt),bt[4]));const pn=bt[5];pn&&(_t=pn)}else xe=be;if(!A){let bt=!1,zt=b.length;xe<0&&(b.push(function Pe(){return new u.vHH(3100,ee)}()),bt=!0),Xe<0&&(b.push(function ve(){return new u.vHH(3101,ee)}()),bt=!0),bt&&b.splice(zt,0,me())}return{duration:xe,delay:Xe,easing:_t}}(be,b,A)}function Se(be,b={}){return Object.keys(be).forEach(A=>{b[A]=be[A]}),b}function Gt(be,b,A={}){if(b)for(let H in be)A[H]=be[H];else Se(be,A);return A}function de(be,b,A){return A?b+":"+A+";":""}function Nt(be){let b="";for(let A=0;A<be.style.length;A++){const H=be.style.item(A);b+=de(0,H,be.style.getPropertyValue(H))}for(const A in be.style)be.style.hasOwnProperty(A)&&!A.startsWith("_")&&(b+=de(0,vr(A),be.style[A]));be.setAttribute("style",b)}function M(be,b,A){be.style&&(Object.keys(b).forEach(H=>{const xe=Un(H);A&&!A.hasOwnProperty(H)&&(A[H]=be.style[xe]),be.style[xe]=b[H]}),At()&&Nt(be))}function Z(be,b){be.style&&(Object.keys(b).forEach(A=>{const H=Un(A);be.style[H]=""}),At()&&Nt(be))}function it(be){return Array.isArray(be)?1==be.length?be[0]:(0,S.vP)(be):be}const je=new RegExp("{{\\s*(.+?)\\s*}}","g");function nt(be){let b=[];if("string"==typeof be){let A;for(;A=je.exec(be);)b.push(A[1]);je.lastIndex=0}return b}function yt(be,b,A){const H=be.toString(),xe=H.replace(je,(Xe,_t)=>{let bt=b[_t];return b.hasOwnProperty(_t)||(A.push(function $(be){return new u.vHH(3003,ee)}()),bt=""),bt.toString()});return xe==H?be:xe}function dt(be){const b=[];let A=be.next();for(;!A.done;)b.push(A.value),A=be.next();return b}const Jn=/-+([a-z0-9])/g;function Un(be){return be.replace(Jn,(...b)=>b[1].toUpperCase())}function vr(be){return be.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Br(be,b,A){switch(b.type){case 7:return be.visitTrigger(b,A);case 0:return be.visitState(b,A);case 1:return be.visitTransition(b,A);case 2:return be.visitSequence(b,A);case 3:return be.visitGroup(b,A);case 4:return be.visitAnimate(b,A);case 5:return be.visitKeyframes(b,A);case 6:return be.visitStyle(b,A);case 8:return be.visitReference(b,A);case 9:return be.visitAnimateChild(b,A);case 10:return be.visitAnimateRef(b,A);case 11:return be.visitQuery(b,A);case 12:return be.visitStagger(b,A);default:throw function ie(be){return new u.vHH(3004,ee)}()}}function Xr(be,b){return window.getComputedStyle(be)[b]}function gr(be,b){const A=[];return"string"==typeof be?be.split(/\s*,\s*/).forEach(H=>function Et(be,b,A){if(":"==be[0]){const zt=function gt(be,b){switch(be){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(A,H)=>parseFloat(H)>parseFloat(A);case":decrement":return(A,H)=>parseFloat(H)<parseFloat(A);default:return b.push(function J(be){return new u.vHH(3016,ee)}()),"* => *"}}(be,A);if("function"==typeof zt)return void b.push(zt);be=zt}const H=be.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==H||H.length<4)return A.push(function ze(be){return new u.vHH(3015,ee)}()),b;const xe=H[1],Xe=H[2],_t=H[3];b.push(An(xe,_t));"<"==Xe[0]&&!("*"==xe&&"*"==_t)&&b.push(An(_t,xe))}(H,A,b)):A.push(be),A}const Ut=new Set(["true","1"]),Vn=new Set(["false","0"]);function An(be,b){const A=Ut.has(be)||Vn.has(be),H=Ut.has(b)||Vn.has(b);return(xe,Xe)=>{let _t="*"==be||be==xe,bt="*"==b||b==Xe;return!_t&&A&&"boolean"==typeof xe&&(_t=xe?Ut.has(be):Vn.has(be)),!bt&&H&&"boolean"==typeof Xe&&(bt=Xe?Ut.has(b):Vn.has(b)),_t&&bt}}const ni=new RegExp("s*:selfs*,?","g");function Ai(be,b,A,H){return new Yr(be).build(b,A,H)}class Yr{constructor(b){this._driver=b}build(b,A,H){const xe=new ri(A);this._resetContextStyleTimingState(xe);const Xe=Br(this,it(b),xe);return xe.unsupportedCSSPropertiesFound.size&&xe.unsupportedCSSPropertiesFound.keys(),Xe}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles={},b.collectedStyles[""]={},b.currentTime=0}visitTrigger(b,A){let H=A.queryCount=0,xe=A.depCount=0;const Xe=[],_t=[];return"@"==b.name.charAt(0)&&A.errors.push(function Fe(){return new u.vHH(3006,ee)}()),b.definitions.forEach(bt=>{if(this._resetContextStyleTimingState(A),0==bt.type){const zt=bt,pn=zt.name;pn.toString().split(/\s*,\s*/).forEach(nr=>{zt.name=nr,Xe.push(this.visitState(zt,A))}),zt.name=pn}else if(1==bt.type){const zt=this.visitTransition(bt,A);H+=zt.queryCount,xe+=zt.depCount,_t.push(zt)}else A.errors.push(function Ie(){return new u.vHH(3007,ee)}())}),{type:7,name:b.name,states:Xe,transitions:_t,queryCount:H,depCount:xe,options:null}}visitState(b,A){const H=this.visitStyle(b.styles,A),xe=b.options&&b.options.params||null;if(H.containsDynamicStyles){const Xe=new Set,_t=xe||{};H.styles.forEach(bt=>{if(ki(bt)){const zt=bt;Object.keys(zt).forEach(pn=>{nt(zt[pn]).forEach(nr=>{_t.hasOwnProperty(nr)||Xe.add(nr)})})}}),Xe.size&&(dt(Xe.values()),A.errors.push(function ue(be,b){return new u.vHH(3008,ee)}()))}return{type:0,name:b.name,style:H,options:xe?{params:xe}:null}}visitTransition(b,A){A.queryCount=0,A.depCount=0;const H=Br(this,it(b.animation),A);return{type:1,matchers:gr(b.expr,A.errors),animation:H,queryCount:A.queryCount,depCount:A.depCount,options:ii(b.options)}}visitSequence(b,A){return{type:2,steps:b.steps.map(H=>Br(this,H,A)),options:ii(b.options)}}visitGroup(b,A){const H=A.currentTime;let xe=0;const Xe=b.steps.map(_t=>{A.currentTime=H;const bt=Br(this,_t,A);return xe=Math.max(xe,A.currentTime),bt});return A.currentTime=xe,{type:3,steps:Xe,options:ii(b.options)}}visitAnimate(b,A){const H=function Hi(be,b){if(be.hasOwnProperty("duration"))return be;if("number"==typeof be)return Di(N(be,b).duration,0,"");const A=be;if(A.split(/\s+/).some(Xe=>"{"==Xe.charAt(0)&&"{"==Xe.charAt(1))){const Xe=Di(0,0,"");return Xe.dynamic=!0,Xe.strValue=A,Xe}const xe=N(A,b);return Di(xe.duration,xe.delay,xe.easing)}(b.timings,A.errors);A.currentAnimateTimings=H;let xe,Xe=b.styles?b.styles:(0,S.oB)({});if(5==Xe.type)xe=this.visitKeyframes(Xe,A);else{let _t=b.styles,bt=!1;if(!_t){bt=!0;const pn={};H.easing&&(pn.easing=H.easing),_t=(0,S.oB)(pn)}A.currentTime+=H.duration+H.delay;const zt=this.visitStyle(_t,A);zt.isEmptyStep=bt,xe=zt}return A.currentAnimateTimings=null,{type:4,timings:H,style:xe,options:null}}visitStyle(b,A){const H=this._makeStyleAst(b,A);return this._validateStyleAst(H,A),H}_makeStyleAst(b,A){const H=[];Array.isArray(b.styles)?b.styles.forEach(_t=>{"string"==typeof _t?_t==S.l3?H.push(_t):A.errors.push(function $e(be){return new u.vHH(3002,ee)}()):H.push(_t)}):H.push(b.styles);let xe=!1,Xe=null;return H.forEach(_t=>{if(ki(_t)){const bt=_t,zt=bt.easing;if(zt&&(Xe=zt,delete bt.easing),!xe)for(let pn in bt)if(bt[pn].toString().indexOf("{{")>=0){xe=!0;break}}}),{type:6,styles:H,easing:Xe,offset:b.offset,containsDynamicStyles:xe,options:null}}_validateStyleAst(b,A){const H=A.currentAnimateTimings;let xe=A.currentTime,Xe=A.currentTime;H&&Xe>0&&(Xe-=H.duration+H.delay),b.styles.forEach(_t=>{"string"!=typeof _t&&Object.keys(_t).forEach(bt=>{if(!this._driver.validateStyleProperty(bt))return delete _t[bt],void A.unsupportedCSSPropertiesFound.add(bt);const zt=A.collectedStyles[A.currentQuerySelector],pn=zt[bt];let nr=!0;pn&&(Xe!=xe&&Xe>=pn.startTime&&xe<=pn.endTime&&(A.errors.push(function Qe(be,b,A,H,xe){return new u.vHH(3010,ee)}()),nr=!1),Xe=pn.startTime),nr&&(zt[bt]={startTime:Xe,endTime:xe}),A.options&&function Ye(be,b,A){const H=b.params||{},xe=nt(be);xe.length&&xe.forEach(Xe=>{H.hasOwnProperty(Xe)||A.push(function _e(be){return new u.vHH(3001,ee)}())})}(_t[bt],A.options,A.errors)})})}visitKeyframes(b,A){const H={type:5,styles:[],options:null};if(!A.currentAnimateTimings)return A.errors.push(function Be(){return new u.vHH(3011,ee)}()),H;let Xe=0;const _t=[];let bt=!1,zt=!1,pn=0;const nr=b.steps.map(Ri=>{const ji=this._makeStyleAst(Ri,A);let as=null!=ji.offset?ji.offset:function Ir(be){if("string"==typeof be)return null;let b=null;if(Array.isArray(be))be.forEach(A=>{if(ki(A)&&A.hasOwnProperty("offset")){const H=A;b=parseFloat(H.offset),delete H.offset}});else if(ki(be)&&be.hasOwnProperty("offset")){const A=be;b=parseFloat(A.offset),delete A.offset}return b}(ji.styles),si=0;return null!=as&&(Xe++,si=ji.offset=as),zt=zt||si<0||si>1,bt=bt||si<pn,pn=si,_t.push(si),ji});zt&&A.errors.push(function xt(){return new u.vHH(3012,ee)}()),bt&&A.errors.push(function qe(){return new u.vHH(3200,ee)}());const mr=b.steps.length;let Tr=0;Xe>0&&Xe<mr?A.errors.push(function Te(){return new u.vHH(3202,ee)}()):0==Xe&&(Tr=1/(mr-1));const Zr=mr-1,pr=A.currentTime,xr=A.currentAnimateTimings,fi=xr.duration;return nr.forEach((Ri,ji)=>{const as=Tr>0?ji==Zr?1:Tr*ji:_t[ji],si=as*fi;A.currentTime=pr+xr.delay+si,xr.duration=si,this._validateStyleAst(Ri,A),Ri.offset=as,H.styles.push(Ri)}),H}visitReference(b,A){return{type:8,animation:Br(this,it(b.animation),A),options:ii(b.options)}}visitAnimateChild(b,A){return A.depCount++,{type:9,options:ii(b.options)}}visitAnimateRef(b,A){return{type:10,animation:this.visitReference(b.animation,A),options:ii(b.options)}}visitQuery(b,A){const H=A.currentQuerySelector,xe=b.options||{};A.queryCount++,A.currentQuery=b;const[Xe,_t]=function hi(be){const b=!!be.split(/\s*,\s*/).find(A=>":self"==A);return b&&(be=be.replace(ni,"")),be=be.replace(/@\*/g,bn).replace(/@\w+/g,A=>bn+"-"+A.substr(1)).replace(/:animating/g,ct),[be,b]}(b.selector);A.currentQuerySelector=H.length?H+" "+Xe:Xe,Kn(A.collectedStyles,A.currentQuerySelector,{});const bt=Br(this,it(b.animation),A);return A.currentQuery=null,A.currentQuerySelector=H,{type:11,selector:Xe,limit:xe.limit||0,optional:!!xe.optional,includeSelf:_t,animation:bt,originalSelector:b.selector,options:ii(b.options)}}visitStagger(b,A){A.currentQuery||A.errors.push(function Ue(){return new u.vHH(3013,ee)}());const H="full"===b.timings?{duration:0,delay:0,easing:"full"}:N(b.timings,A.errors,!0);return{type:12,animation:Br(this,it(b.animation),A),timings:H,options:null}}}class ri{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ki(be){return!Array.isArray(be)&&"object"==typeof be}function ii(be){return be?(be=Se(be)).params&&(be.params=function vi(be){return be?Se(be):null}(be.params)):be={},be}function Di(be,b,A){return{duration:be,delay:b,easing:A}}function $i(be,b,A,H,xe,Xe,_t=null,bt=!1){return{type:1,element:be,keyframes:b,preStyleProps:A,postStyleProps:H,duration:xe,delay:Xe,totalTime:xe+Xe,easing:_t,subTimeline:bt}}class Wi{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,A){let H=this._map.get(b);H||this._map.set(b,H=[]),H.push(...A)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const gs=new RegExp(":enter","g"),bs=new RegExp(":leave","g");function di(be,b,A,H,xe,Xe={},_t={},bt,zt,pn=[]){return(new Oi).buildKeyframes(be,b,A,H,xe,Xe,_t,bt,zt,pn)}class Oi{buildKeyframes(b,A,H,xe,Xe,_t,bt,zt,pn,nr=[]){pn=pn||new Wi;const mr=new Ot(b,A,pn,xe,Xe,nr,[]);mr.options=zt,mr.currentTimeline.setStyles([_t],null,mr.errors,zt),Br(this,H,mr);const Tr=mr.timelines.filter(Zr=>Zr.containsAnimation());if(Object.keys(bt).length){let Zr;for(let pr=Tr.length-1;pr>=0;pr--){const xr=Tr[pr];if(xr.element===A){Zr=xr;break}}Zr&&!Zr.allowOnlyTimelineStyles()&&Zr.setStyles([bt],null,mr.errors,zt)}return Tr.length?Tr.map(Zr=>Zr.buildKeyframes()):[$i(A,[],[],[],0,0,"",!1)]}visitTrigger(b,A){}visitState(b,A){}visitTransition(b,A){}visitAnimateChild(b,A){const H=A.subInstructions.get(A.element);if(H){const xe=A.createSubContext(b.options),Xe=A.currentTimeline.currentTime,_t=this._visitSubInstructions(H,xe,xe.options);Xe!=_t&&A.transformIntoNewTimeline(_t)}A.previousNode=b}visitAnimateRef(b,A){const H=A.createSubContext(b.options);H.transformIntoNewTimeline(),this.visitReference(b.animation,H),A.transformIntoNewTimeline(H.currentTimeline.currentTime),A.previousNode=b}_visitSubInstructions(b,A,H){let Xe=A.currentTimeline.currentTime;const _t=null!=H.duration?Ae(H.duration):null,bt=null!=H.delay?Ae(H.delay):null;return 0!==_t&&b.forEach(zt=>{const pn=A.appendInstructionToTimeline(zt,_t,bt);Xe=Math.max(Xe,pn.duration+pn.delay)}),Xe}visitReference(b,A){A.updateOptions(b.options,!0),Br(this,b.animation,A),A.previousNode=b}visitSequence(b,A){const H=A.subContextCount;let xe=A;const Xe=b.options;if(Xe&&(Xe.params||Xe.delay)&&(xe=A.createSubContext(Xe),xe.transformIntoNewTimeline(),null!=Xe.delay)){6==xe.previousNode.type&&(xe.currentTimeline.snapshotCurrentStyles(),xe.previousNode=Rt);const _t=Ae(Xe.delay);xe.delayNextStep(_t)}b.steps.length&&(b.steps.forEach(_t=>Br(this,_t,xe)),xe.currentTimeline.applyStylesToKeyframe(),xe.subContextCount>H&&xe.transformIntoNewTimeline()),A.previousNode=b}visitGroup(b,A){const H=[];let xe=A.currentTimeline.currentTime;const Xe=b.options&&b.options.delay?Ae(b.options.delay):0;b.steps.forEach(_t=>{const bt=A.createSubContext(b.options);Xe&&bt.delayNextStep(Xe),Br(this,_t,bt),xe=Math.max(xe,bt.currentTimeline.currentTime),H.push(bt.currentTimeline)}),H.forEach(_t=>A.currentTimeline.mergeTimelineCollectedStyles(_t)),A.transformIntoNewTimeline(xe),A.previousNode=b}_visitTiming(b,A){if(b.dynamic){const H=b.strValue;return N(A.params?yt(H,A.params,A.errors):H,A.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,A){const H=A.currentAnimateTimings=this._visitTiming(b.timings,A),xe=A.currentTimeline;H.delay&&(A.incrementTime(H.delay),xe.snapshotCurrentStyles());const Xe=b.style;5==Xe.type?this.visitKeyframes(Xe,A):(A.incrementTime(H.duration),this.visitStyle(Xe,A),xe.applyStylesToKeyframe()),A.currentAnimateTimings=null,A.previousNode=b}visitStyle(b,A){const H=A.currentTimeline,xe=A.currentAnimateTimings;!xe&&H.getCurrentStyleProperties().length&&H.forwardFrame();const Xe=xe&&xe.easing||b.easing;b.isEmptyStep?H.applyEmptyStep(Xe):H.setStyles(b.styles,Xe,A.errors,A.options),A.previousNode=b}visitKeyframes(b,A){const H=A.currentAnimateTimings,xe=A.currentTimeline.duration,Xe=H.duration,bt=A.createSubContext().currentTimeline;bt.easing=H.easing,b.styles.forEach(zt=>{bt.forwardTime((zt.offset||0)*Xe),bt.setStyles(zt.styles,zt.easing,A.errors,A.options),bt.applyStylesToKeyframe()}),A.currentTimeline.mergeTimelineCollectedStyles(bt),A.transformIntoNewTimeline(xe+Xe),A.previousNode=b}visitQuery(b,A){const H=A.currentTimeline.currentTime,xe=b.options||{},Xe=xe.delay?Ae(xe.delay):0;Xe&&(6===A.previousNode.type||0==H&&A.currentTimeline.getCurrentStyleProperties().length)&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=Rt);let _t=H;const bt=A.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!xe.optional,A.errors);A.currentQueryTotal=bt.length;let zt=null;bt.forEach((pn,nr)=>{A.currentQueryIndex=nr;const mr=A.createSubContext(b.options,pn);Xe&&mr.delayNextStep(Xe),pn===A.element&&(zt=mr.currentTimeline),Br(this,b.animation,mr),mr.currentTimeline.applyStylesToKeyframe(),_t=Math.max(_t,mr.currentTimeline.currentTime)}),A.currentQueryIndex=0,A.currentQueryTotal=0,A.transformIntoNewTimeline(_t),zt&&(A.currentTimeline.mergeTimelineCollectedStyles(zt),A.currentTimeline.snapshotCurrentStyles()),A.previousNode=b}visitStagger(b,A){const H=A.parentContext,xe=A.currentTimeline,Xe=b.timings,_t=Math.abs(Xe.duration),bt=_t*(A.currentQueryTotal-1);let zt=_t*A.currentQueryIndex;switch(Xe.duration<0?"reverse":Xe.easing){case"reverse":zt=bt-zt;break;case"full":zt=H.currentStaggerTime}const nr=A.currentTimeline;zt&&nr.delayNextStep(zt);const mr=nr.currentTime;Br(this,b.animation,A),A.previousNode=b,H.currentStaggerTime=xe.currentTime-mr+(xe.startTime-H.currentTimeline.startTime)}}const Rt={};class Ot{constructor(b,A,H,xe,Xe,_t,bt,zt){this._driver=b,this.element=A,this.subInstructions=H,this._enterClassName=xe,this._leaveClassName=Xe,this.errors=_t,this.timelines=bt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=zt||new Lt(this._driver,A,0),bt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,A){if(!b)return;const H=b;let xe=this.options;null!=H.duration&&(xe.duration=Ae(H.duration)),null!=H.delay&&(xe.delay=Ae(H.delay));const Xe=H.params;if(Xe){let _t=xe.params;_t||(_t=this.options.params={}),Object.keys(Xe).forEach(bt=>{(!A||!_t.hasOwnProperty(bt))&&(_t[bt]=yt(Xe[bt],_t,this.errors))})}}_copyOptions(){const b={};if(this.options){const A=this.options.params;if(A){const H=b.params={};Object.keys(A).forEach(xe=>{H[xe]=A[xe]})}}return b}createSubContext(b=null,A,H){const xe=A||this.element,Xe=new Ot(this._driver,xe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(xe,H||0));return Xe.previousNode=this.previousNode,Xe.currentAnimateTimings=this.currentAnimateTimings,Xe.options=this._copyOptions(),Xe.updateOptions(b),Xe.currentQueryIndex=this.currentQueryIndex,Xe.currentQueryTotal=this.currentQueryTotal,Xe.parentContext=this,this.subContextCount++,Xe}transformIntoNewTimeline(b){return this.previousNode=Rt,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,A,H){const xe={duration:null!=A?A:b.duration,delay:this.currentTimeline.currentTime+(null!=H?H:0)+b.delay,easing:""},Xe=new hn(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,xe,b.stretchStartingKeyframe);return this.timelines.push(Xe),xe}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,A,H,xe,Xe,_t){let bt=[];if(xe&&bt.push(this.element),b.length>0){b=(b=b.replace(gs,"."+this._enterClassName)).replace(bs,"."+this._leaveClassName);let pn=this._driver.query(this.element,b,1!=H);0!==H&&(pn=H<0?pn.slice(pn.length+H,pn.length):pn.slice(0,H)),bt.push(...pn)}return!Xe&&0==bt.length&&_t.push(function rt(be){return new u.vHH(3014,ee)}()),bt}}class Lt{constructor(b,A,H,xe){this._driver=b,this.element=A,this.startTime=H,this._elementTimelineStylesLookup=xe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(A),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(A,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const A=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||A?(this.forwardTime(this.currentTime+b),A&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,A){return this.applyStylesToKeyframe(),new Lt(this._driver,b,A||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,A){this._localTimelineStyles[b]=A,this._globalTimelineStyles[b]=A,this._styleSummary[b]={time:this.currentTime,value:A}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&(this._previousKeyframe.easing=b),Object.keys(this._globalTimelineStyles).forEach(A=>{this._backFill[A]=this._globalTimelineStyles[A]||S.l3,this._currentKeyframe[A]=S.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,A,H,xe){A&&(this._previousKeyframe.easing=A);const Xe=xe&&xe.params||{},_t=function er(be,b){const A={};let H;return be.forEach(xe=>{"*"===xe?(H=H||Object.keys(b),H.forEach(Xe=>{A[Xe]=S.l3})):Gt(xe,!1,A)}),A}(b,this._globalTimelineStyles);Object.keys(_t).forEach(bt=>{const zt=yt(_t[bt],Xe,H);this._pendingStyles[bt]=zt,this._localTimelineStyles.hasOwnProperty(bt)||(this._backFill[bt]=this._globalTimelineStyles.hasOwnProperty(bt)?this._globalTimelineStyles[bt]:S.l3),this._updateStyle(bt,zt)})}applyStylesToKeyframe(){const b=this._pendingStyles,A=Object.keys(b);0!=A.length&&(this._pendingStyles={},A.forEach(H=>{this._currentKeyframe[H]=b[H]}),Object.keys(this._localTimelineStyles).forEach(H=>{this._currentKeyframe.hasOwnProperty(H)||(this._currentKeyframe[H]=this._localTimelineStyles[H])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(b=>{const A=this._localTimelineStyles[b];this._pendingStyles[b]=A,this._updateStyle(b,A)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let A in this._currentKeyframe)b.push(A);return b}mergeTimelineCollectedStyles(b){Object.keys(b._styleSummary).forEach(A=>{const H=this._styleSummary[A],xe=b._styleSummary[A];(!H||xe.time>H.time)&&this._updateStyle(A,xe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,A=new Set,H=1===this._keyframes.size&&0===this.duration;let xe=[];this._keyframes.forEach((bt,zt)=>{const pn=Gt(bt,!0);Object.keys(pn).forEach(nr=>{const mr=pn[nr];mr==S.k1?b.add(nr):mr==S.l3&&A.add(nr)}),H||(pn.offset=zt/this.duration),xe.push(pn)});const Xe=b.size?dt(b.values()):[],_t=A.size?dt(A.values()):[];if(H){const bt=xe[0],zt=Se(bt);bt.offset=0,zt.offset=1,xe=[bt,zt]}return $i(this.element,xe,Xe,_t,this.duration,this.startTime,this.easing,!1)}}class hn extends Lt{constructor(b,A,H,xe,Xe,_t,bt=!1){super(b,A,_t.delay),this.keyframes=H,this.preStyleProps=xe,this.postStyleProps=Xe,this._stretchStartingKeyframe=bt,this.timings={duration:_t.duration,delay:_t.delay,easing:_t.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:A,duration:H,easing:xe}=this.timings;if(this._stretchStartingKeyframe&&A){const Xe=[],_t=H+A,bt=A/_t,zt=Gt(b[0],!1);zt.offset=0,Xe.push(zt);const pn=Gt(b[0],!1);pn.offset=jn(bt),Xe.push(pn);const nr=b.length-1;for(let mr=1;mr<=nr;mr++){let Tr=Gt(b[mr],!1);Tr.offset=jn((A+Tr.offset*H)/_t),Xe.push(Tr)}H=_t,A=0,xe="",b=Xe}return $i(this.element,b,this.preStyleProps,this.postStyleProps,H,A,xe,!0)}}function jn(be,b=3){const A=Math.pow(10,b-1);return Math.round(be*A)/A}class mi{}class Ni extends mi{normalizePropertyName(b,A){return Un(b)}normalizeStyleValue(b,A,H,xe){let Xe="";const _t=H.toString().trim();if(ms[A]&&0!==H&&"0"!==H)if("number"==typeof H)Xe="px";else{const bt=H.match(/^[+-]?[\d\.]+([a-z]*)$/);bt&&0==bt[1].length&&xe.push(function oe(be,b){return new u.vHH(3005,ee)}())}return _t+Xe}}const ms=(()=>function os(be){const b={};return be.forEach(A=>b[A]=!0),b}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pi(be,b,A,H,xe,Xe,_t,bt,zt,pn,nr,mr,Tr){return{type:0,element:be,triggerName:b,isRemovalTransition:xe,fromState:A,fromStyles:Xe,toState:H,toStyles:_t,timelines:bt,queriedElements:zt,preStyleProps:pn,postStyleProps:nr,totalTime:mr,errors:Tr}}const Ii={};class ys{constructor(b,A,H){this._triggerName=b,this.ast=A,this._stateStyles=H}match(b,A,H,xe){return function Qi(be,b,A,H,xe){return be.some(Xe=>Xe(b,A,H,xe))}(this.ast.matchers,b,A,H,xe)}buildStyles(b,A,H){const xe=this._stateStyles["*"],Xe=this._stateStyles[b],_t=xe?xe.buildStyles(A,H):{};return Xe?Xe.buildStyles(A,H):_t}build(b,A,H,xe,Xe,_t,bt,zt,pn,nr){const mr=[],Tr=this.ast.options&&this.ast.options.params||Ii,pr=this.buildStyles(H,bt&&bt.params||Ii,mr),xr=zt&&zt.params||Ii,fi=this.buildStyles(xe,xr,mr),Ri=new Set,ji=new Map,as=new Map,si="void"===xe,xs={params:Object.assign(Object.assign({},Tr),xr)},yi=nr?[]:di(b,A,this.ast.animation,Xe,_t,pr,fi,xs,pn,mr);let bi=0;if(yi.forEach(Ys=>{bi=Math.max(Ys.duration+Ys.delay,bi)}),mr.length)return pi(A,this._triggerName,H,xe,si,pr,fi,[],[],ji,as,bi,mr);yi.forEach(Ys=>{const hs=Ys.element,Xs=Kn(ji,hs,{});Ys.preStyleProps.forEach(Qs=>Xs[Qs]=!0);const eo=Kn(as,hs,{});Ys.postStyleProps.forEach(Qs=>eo[Qs]=!0),hs!==A&&Ri.add(hs)});const $s=dt(Ri.values());return pi(A,this._triggerName,H,xe,si,pr,fi,yi,$s,ji,as,bi)}}class Js{constructor(b,A,H){this.styles=b,this.defaultParams=A,this.normalizer=H}buildStyles(b,A){const H={},xe=Se(this.defaultParams);return Object.keys(b).forEach(Xe=>{const _t=b[Xe];null!=_t&&(xe[Xe]=_t)}),this.styles.styles.forEach(Xe=>{if("string"!=typeof Xe){const _t=Xe;Object.keys(_t).forEach(bt=>{let zt=_t[bt];zt.length>1&&(zt=yt(zt,xe,A));const pn=this.normalizer.normalizePropertyName(bt,A);zt=this.normalizer.normalizeStyleValue(bt,pn,zt,A),H[pn]=zt})}}),H}}class $r{constructor(b,A,H){this.name=b,this.ast=A,this._normalizer=H,this.transitionFactories=[],this.states={},A.states.forEach(xe=>{this.states[xe.name]=new Js(xe.style,xe.options&&xe.options.params||{},H)}),Ti(this.states,"true","1"),Ti(this.states,"false","0"),A.transitions.forEach(xe=>{this.transitionFactories.push(new ys(b,xe,this.states))}),this.fallbackTransition=function ns(be,b,A){return new ys(be,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_t,bt)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,A,H,xe){return this.transitionFactories.find(_t=>_t.match(b,A,H,xe))||null}matchStyles(b,A,H){return this.fallbackTransition.buildStyles(b,A,H)}}function Ti(be,b,A){be.hasOwnProperty(b)?be.hasOwnProperty(A)||(be[A]=be[b]):be.hasOwnProperty(A)&&(be[b]=be[A])}const Zi=new Wi;class Ps{constructor(b,A,H){this.bodyNode=b,this._driver=A,this._normalizer=H,this._animations={},this._playersById={},this.players=[]}register(b,A){const H=[],Xe=Ai(this._driver,A,H,[]);if(H.length)throw function ut(be){return new u.vHH(3503,ee)}();this._animations[b]=Xe}_buildPlayer(b,A,H){const xe=b.element,Xe=xn(0,this._normalizer,0,b.keyframes,A,H);return this._driver.animate(xe,Xe,b.duration,b.delay,b.easing,[],!0)}create(b,A,H={}){const xe=[],Xe=this._animations[b];let _t;const bt=new Map;if(Xe?(_t=di(this._driver,A,Xe,tr,Sn,{},{},H,Zi,xe),_t.forEach(nr=>{const mr=Kn(bt,nr.element,{});nr.postStyleProps.forEach(Tr=>mr[Tr]=null)})):(xe.push(function ot(){return new u.vHH(3300,ee)}()),_t=[]),xe.length)throw function Kt(be){return new u.vHH(3504,ee)}();bt.forEach((nr,mr)=>{Object.keys(nr).forEach(Tr=>{nr[Tr]=this._driver.computeStyle(mr,Tr,S.l3)})});const pn=Ht(_t.map(nr=>{const mr=bt.get(nr.element);return this._buildPlayer(nr,{},mr)}));return this._playersById[b]=pn,pn.onDestroy(()=>this.destroy(b)),this.players.push(pn),pn}destroy(b){const A=this._getPlayer(b);A.destroy(),delete this._playersById[b];const H=this.players.indexOf(A);H>=0&&this.players.splice(H,1)}_getPlayer(b){const A=this._playersById[b];if(!A)throw function rn(be){return new u.vHH(3301,ee)}();return A}listen(b,A,H,xe){const Xe=Qn(A,"","","");return In(this._getPlayer(b),H,Xe,xe),()=>{}}command(b,A,H,xe){if("register"==H)return void this.register(b,xe[0]);if("create"==H)return void this.create(b,A,xe[0]||{});const Xe=this._getPlayer(b);switch(H){case"play":Xe.play();break;case"pause":Xe.pause();break;case"reset":Xe.reset();break;case"restart":Xe.restart();break;case"finish":Xe.finish();break;case"init":Xe.init();break;case"setPosition":Xe.setPosition(parseFloat(xe[0]));break;case"destroy":this.destroy(b)}}}const vs="ng-animate-queued",zi="ng-animate-disabled",se=[],C={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},E="__ng_removed";class V{constructor(b,A=""){this.namespaceId=A;const H=b&&b.hasOwnProperty("value");if(this.value=function F(be){return null!=be?be:null}(H?b.value:b),H){const Xe=Se(b);delete Xe.value,this.options=Xe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(b){const A=b.params;if(A){const H=this.options.params;Object.keys(A).forEach(xe=>{null==H[xe]&&(H[xe]=A[xe])})}}}const K="void",ye=new V(K);class et{constructor(b,A,H){this.id=b,this.hostElement=A,this._engine=H,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Pt(A,this._hostClassName)}listen(b,A,H,xe){if(!this._triggers.hasOwnProperty(A))throw function En(be,b){return new u.vHH(3302,ee)}();if(null==H||0==H.length)throw function ln(be){return new u.vHH(3303,ee)}();if(!function k(be){return"start"==be||"done"==be}(H))throw function mt(be,b){return new u.vHH(3400,ee)}();const Xe=Kn(this._elementListeners,b,[]),_t={name:A,phase:H,callback:xe};Xe.push(_t);const bt=Kn(this._engine.statesByElement,b,{});return bt.hasOwnProperty(A)||(Pt(b,Hn),Pt(b,Hn+"-"+A),bt[A]=ye),()=>{this._engine.afterFlush(()=>{const zt=Xe.indexOf(_t);zt>=0&&Xe.splice(zt,1),this._triggers[A]||delete bt[A]})}}register(b,A){return!this._triggers[b]&&(this._triggers[b]=A,!0)}_getTrigger(b){const A=this._triggers[b];if(!A)throw function qt(be){return new u.vHH(3401,ee)}();return A}trigger(b,A,H,xe=!0){const Xe=this._getTrigger(A),_t=new Ct(this.id,A,b);let bt=this._engine.statesByElement.get(b);bt||(Pt(b,Hn),Pt(b,Hn+"-"+A),this._engine.statesByElement.set(b,bt={}));let zt=bt[A];const pn=new V(H,this.id);if(!(H&&H.hasOwnProperty("value"))&&zt&&pn.absorbOptions(zt.options),bt[A]=pn,zt||(zt=ye),pn.value!==K&&zt.value===pn.value){if(!function lr(be,b){const A=Object.keys(be),H=Object.keys(b);if(A.length!=H.length)return!1;for(let xe=0;xe<A.length;xe++){const Xe=A[xe];if(!b.hasOwnProperty(Xe)||be[Xe]!==b[Xe])return!1}return!0}(zt.params,pn.params)){const xr=[],fi=Xe.matchStyles(zt.value,zt.params,xr),Ri=Xe.matchStyles(pn.value,pn.params,xr);xr.length?this._engine.reportError(xr):this._engine.afterFlush(()=>{Z(b,fi),M(b,Ri)})}return}const Tr=Kn(this._engine.playersByElement,b,[]);Tr.forEach(xr=>{xr.namespaceId==this.id&&xr.triggerName==A&&xr.queued&&xr.destroy()});let Zr=Xe.matchTransition(zt.value,pn.value,b,pn.params),pr=!1;if(!Zr){if(!xe)return;Zr=Xe.fallbackTransition,pr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:A,transition:Zr,fromState:zt,toState:pn,player:_t,isFallbackTransition:pr}),pr||(Pt(b,vs),_t.onStart(()=>{dn(b,vs)})),_t.onDone(()=>{let xr=this.players.indexOf(_t);xr>=0&&this.players.splice(xr,1);const fi=this._engine.playersByElement.get(b);if(fi){let Ri=fi.indexOf(_t);Ri>=0&&fi.splice(Ri,1)}}),this.players.push(_t),Tr.push(_t),_t}deregister(b){delete this._triggers[b],this._engine.statesByElement.forEach((A,H)=>{delete A[b]}),this._elementListeners.forEach((A,H)=>{this._elementListeners.set(H,A.filter(xe=>xe.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const A=this._engine.playersByElement.get(b);A&&(A.forEach(H=>H.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,A){const H=this._engine.driver.query(b,bn,!0);H.forEach(xe=>{if(xe[E])return;const Xe=this._engine.fetchNamespacesByElement(xe);Xe.size?Xe.forEach(_t=>_t.triggerLeaveAnimation(xe,A,!1,!0)):this.clearElementCache(xe)}),this._engine.afterFlushAnimationsDone(()=>H.forEach(xe=>this.clearElementCache(xe)))}triggerLeaveAnimation(b,A,H,xe){const Xe=this._engine.statesByElement.get(b),_t=new Map;if(Xe){const bt=[];if(Object.keys(Xe).forEach(zt=>{if(_t.set(zt,Xe[zt].value),this._triggers[zt]){const pn=this.trigger(b,zt,K,xe);pn&&bt.push(pn)}}),bt.length)return this._engine.markElementAsRemoved(this.id,b,!0,A,_t),H&&Ht(bt).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const A=this._elementListeners.get(b),H=this._engine.statesByElement.get(b);if(A&&H){const xe=new Set;A.forEach(Xe=>{const _t=Xe.name;if(xe.has(_t))return;xe.add(_t);const zt=this._triggers[_t].fallbackTransition,pn=H[_t]||ye,nr=new V(K),mr=new Ct(this.id,_t,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:_t,transition:zt,fromState:pn,toState:nr,player:mr,isFallbackTransition:!0})})}}removeNode(b,A){const H=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,A),this.triggerLeaveAnimation(b,A,!0))return;let xe=!1;if(H.totalAnimations){const Xe=H.players.length?H.playersByQueriedElement.get(b):[];if(Xe&&Xe.length)xe=!0;else{let _t=b;for(;_t=_t.parentNode;)if(H.statesByElement.get(_t)){xe=!0;break}}}if(this.prepareLeaveAnimationListeners(b),xe)H.markElementAsRemoved(this.id,b,!1,A);else{const Xe=b[E];(!Xe||Xe===C)&&(H.afterFlush(()=>this.clearElementCache(b)),H.destroyInnerAnimations(b),H._onRemovalComplete(b,A))}}insertNode(b,A){Pt(b,this._hostClassName)}drainQueuedTransitions(b){const A=[];return this._queue.forEach(H=>{const xe=H.player;if(xe.destroyed)return;const Xe=H.element,_t=this._elementListeners.get(Xe);_t&&_t.forEach(bt=>{if(bt.name==H.triggerName){const zt=Qn(Xe,H.triggerName,H.fromState.value,H.toState.value);zt._data=b,In(H.player,bt.phase,zt,bt.callback)}}),xe.markedForDestroy?this._engine.afterFlush(()=>{xe.destroy()}):A.push(H)}),this._queue=[],A.sort((H,xe)=>{const Xe=H.transition.ast.depCount,_t=xe.transition.ast.depCount;return 0==Xe||0==_t?Xe-_t:this._engine.driver.containsElement(H.element,xe.element)?1:-1})}destroy(b){this.players.forEach(A=>A.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let A=!1;return this._elementListeners.has(b)&&(A=!0),A=!!this._queue.find(H=>H.element===b)||A,A}}class Dt{constructor(b,A,H){this.bodyNode=b,this.driver=A,this._normalizer=H,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(xe,Xe)=>{}}_onRemovalComplete(b,A){this.onRemovalComplete(b,A)}get queuedPlayers(){const b=[];return this._namespaceList.forEach(A=>{A.players.forEach(H=>{H.queued&&b.push(H)})}),b}createNamespace(b,A){const H=new et(b,A,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,A)?this._balanceNamespaceList(H,A):(this.newHostElements.set(A,H),this.collectEnterElement(A)),this._namespaceLookup[b]=H}_balanceNamespaceList(b,A){const H=this._namespaceList,xe=this.namespacesByHostElement,Xe=H.length-1;if(Xe>=0){let _t=!1;if(void 0!==this.driver.getParentElement){let bt=this.driver.getParentElement(A);for(;bt;){const zt=xe.get(bt);if(zt){const pn=H.indexOf(zt);H.splice(pn+1,0,b),_t=!0;break}bt=this.driver.getParentElement(bt)}}else for(let bt=Xe;bt>=0;bt--)if(this.driver.containsElement(H[bt].hostElement,A)){H.splice(bt+1,0,b),_t=!0;break}_t||H.unshift(b)}else H.push(b);return xe.set(A,b),b}register(b,A){let H=this._namespaceLookup[b];return H||(H=this.createNamespace(b,A)),H}registerTrigger(b,A,H){let xe=this._namespaceLookup[b];xe&&xe.register(A,H)&&this.totalAnimations++}destroy(b,A){if(!b)return;const H=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(H.hostElement),delete this._namespaceLookup[b];const xe=this._namespaceList.indexOf(H);xe>=0&&this._namespaceList.splice(xe,1)}),this.afterFlushAnimationsDone(()=>H.destroy(A))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const A=new Set,H=this.statesByElement.get(b);if(H){const xe=Object.keys(H);for(let Xe=0;Xe<xe.length;Xe++){const _t=H[xe[Xe]].namespaceId;if(_t){const bt=this._fetchNamespace(_t);bt&&A.add(bt)}}}return A}trigger(b,A,H,xe){if(X(A)){const Xe=this._fetchNamespace(b);if(Xe)return Xe.trigger(A,H,xe),!0}return!1}insertNode(b,A,H,xe){if(!X(A))return;const Xe=A[E];if(Xe&&Xe.setForRemoval){Xe.setForRemoval=!1,Xe.setForMove=!0;const _t=this.collectedLeaveElements.indexOf(A);_t>=0&&this.collectedLeaveElements.splice(_t,1)}if(b){const _t=this._fetchNamespace(b);_t&&_t.insertNode(A,H)}xe&&this.collectEnterElement(A)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,A){A?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Pt(b,zi)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),dn(b,zi))}removeNode(b,A,H,xe){if(X(A)){const Xe=b?this._fetchNamespace(b):null;if(Xe?Xe.removeNode(A,xe):this.markElementAsRemoved(b,A,!1,xe),H){const _t=this.namespacesByHostElement.get(A);_t&&_t.id!==b&&_t.removeNode(A,xe)}}else this._onRemovalComplete(A,xe)}markElementAsRemoved(b,A,H,xe,Xe){this.collectedLeaveElements.push(A),A[E]={namespaceId:b,setForRemoval:xe,hasAnimation:H,removedBeforeQueried:!1,previousTriggersValues:Xe}}listen(b,A,H,xe,Xe){return X(A)?this._fetchNamespace(b).listen(A,H,xe,Xe):()=>{}}_buildInstruction(b,A,H,xe,Xe){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,H,xe,b.fromState.options,b.toState.options,A,Xe)}destroyInnerAnimations(b){let A=this.driver.query(b,bn,!0);A.forEach(H=>this.destroyActiveAnimationsForElement(H)),0!=this.playersByQueriedElement.size&&(A=this.driver.query(b,ct,!0),A.forEach(H=>this.finishActiveQueriedAnimationOnElement(H)))}destroyActiveAnimationsForElement(b){const A=this.playersByElement.get(b);A&&A.forEach(H=>{H.queued?H.markedForDestroy=!0:H.destroy()})}finishActiveQueriedAnimationOnElement(b){const A=this.playersByQueriedElement.get(b);A&&A.forEach(H=>H.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Ht(this.players).onDone(()=>b());b()})}processLeaveNode(b){var A;const H=b[E];if(H&&H.setForRemoval){if(b[E]=C,H.namespaceId){this.destroyInnerAnimations(b);const xe=this._fetchNamespace(H.namespaceId);xe&&xe.clearElementCache(b)}this._onRemovalComplete(b,H.setForRemoval)}(null===(A=b.classList)||void 0===A?void 0:A.contains(zi))&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(xe=>{this.markElementAsDisabled(xe,!1)})}flush(b=-1){let A=[];if(this.newHostElements.size&&(this.newHostElements.forEach((H,xe)=>this._balanceNamespaceList(H,xe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let H=0;H<this.collectedEnterElements.length;H++)Pt(this.collectedEnterElements[H],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const H=[];try{A=this._flushAnimations(H,b)}finally{for(let xe=0;xe<H.length;xe++)H[xe]()}}else for(let H=0;H<this.collectedLeaveElements.length;H++)this.processLeaveNode(this.collectedLeaveElements[H]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(H=>H()),this._flushFns=[],this._whenQuietFns.length){const H=this._whenQuietFns;this._whenQuietFns=[],A.length?Ht(A).onDone(()=>{H.forEach(xe=>xe())}):H.forEach(xe=>xe())}}reportError(b){throw function Qt(be){return new u.vHH(3402,ee)}()}_flushAnimations(b,A){const H=new Wi,xe=[],Xe=new Map,_t=[],bt=new Map,zt=new Map,pn=new Map,nr=new Set;this.disabledNodes.forEach(rr=>{nr.add(rr);const Er=this.driver.query(rr,".ng-animate-queued",!0);for(let Mr=0;Mr<Er.length;Mr++)nr.add(Er[Mr])});const mr=this.bodyNode,Tr=Array.from(this.statesByElement.keys()),Zr=pt(Tr,this.collectedEnterElements),pr=new Map;let xr=0;Zr.forEach((rr,Er)=>{const Mr=tr+xr++;pr.set(Er,Mr),rr.forEach(jr=>Pt(jr,Mr))});const fi=[],Ri=new Set,ji=new Set;for(let rr=0;rr<this.collectedLeaveElements.length;rr++){const Er=this.collectedLeaveElements[rr],Mr=Er[E];Mr&&Mr.setForRemoval&&(fi.push(Er),Ri.add(Er),Mr.hasAnimation?this.driver.query(Er,".ng-star-inserted",!0).forEach(jr=>Ri.add(jr)):ji.add(Er))}const as=new Map,si=pt(Tr,Array.from(Ri));si.forEach((rr,Er)=>{const Mr=Sn+xr++;as.set(Er,Mr),rr.forEach(jr=>Pt(jr,Mr))}),b.push(()=>{Zr.forEach((rr,Er)=>{const Mr=pr.get(Er);rr.forEach(jr=>dn(jr,Mr))}),si.forEach((rr,Er)=>{const Mr=as.get(Er);rr.forEach(jr=>dn(jr,Mr))}),fi.forEach(rr=>{this.processLeaveNode(rr)})});const xs=[],yi=[];for(let rr=this._namespaceList.length-1;rr>=0;rr--)this._namespaceList[rr].drainQueuedTransitions(A).forEach(Mr=>{const jr=Mr.player,xi=Mr.element;if(xs.push(jr),this.collectedEnterElements.length){const jt=xi[E];if(jt&&jt.setForMove){if(jt.previousTriggersValues&&jt.previousTriggersValues.has(Mr.triggerName)){const mn=jt.previousTriggersValues.get(Mr.triggerName),Pn=this.statesByElement.get(Mr.element);Pn&&Pn[Mr.triggerName]&&(Pn[Mr.triggerName].value=mn)}return void jr.destroy()}}const ls=!mr||!this.driver.containsElement(mr,xi),_s=as.get(xi),pe=pr.get(xi),De=this._buildInstruction(Mr,H,pe,_s,ls);if(De.errors&&De.errors.length)return void yi.push(De);if(ls)return jr.onStart(()=>Z(xi,De.fromStyles)),jr.onDestroy(()=>M(xi,De.toStyles)),void xe.push(jr);if(Mr.isFallbackTransition)return jr.onStart(()=>Z(xi,De.fromStyles)),jr.onDestroy(()=>M(xi,De.toStyles)),void xe.push(jr);const st=[];De.timelines.forEach(jt=>{jt.stretchStartingKeyframe=!0,this.disabledNodes.has(jt.element)||st.push(jt)}),De.timelines=st,H.append(xi,De.timelines),_t.push({instruction:De,player:jr,element:xi}),De.queriedElements.forEach(jt=>Kn(bt,jt,[]).push(jr)),De.preStyleProps.forEach((jt,mn)=>{const Pn=Object.keys(jt);if(Pn.length){let sr=zt.get(mn);sr||zt.set(mn,sr=new Set),Pn.forEach(Lr=>sr.add(Lr))}}),De.postStyleProps.forEach((jt,mn)=>{const Pn=Object.keys(jt);let sr=pn.get(mn);sr||pn.set(mn,sr=new Set),Pn.forEach(Lr=>sr.add(Lr))})});if(yi.length){const rr=[];yi.forEach(Er=>{rr.push(function _n(be,b){return new u.vHH(3505,ee)}())}),xs.forEach(Er=>Er.destroy()),this.reportError(rr)}const bi=new Map,$s=new Map;_t.forEach(rr=>{const Er=rr.element;H.has(Er)&&($s.set(Er,Er),this._beforeAnimationBuild(rr.player.namespaceId,rr.instruction,bi))}),xe.forEach(rr=>{const Er=rr.element;this._getPreviousPlayers(Er,!1,rr.namespaceId,rr.triggerName,null).forEach(jr=>{Kn(bi,Er,[]).push(jr),jr.destroy()})});const Ys=fi.filter(rr=>wr(rr,zt,pn)),hs=new Map;We(hs,this.driver,ji,pn,S.l3).forEach(rr=>{wr(rr,zt,pn)&&Ys.push(rr)});const eo=new Map;Zr.forEach((rr,Er)=>{We(eo,this.driver,new Set(rr),zt,S.k1)}),Ys.forEach(rr=>{const Er=hs.get(rr),Mr=eo.get(rr);hs.set(rr,Object.assign(Object.assign({},Er),Mr))});const Qs=[],ws=[],Ds={};_t.forEach(rr=>{const{element:Er,player:Mr,instruction:jr}=rr;if(H.has(Er)){if(nr.has(Er))return Mr.onDestroy(()=>M(Er,jr.toStyles)),Mr.disabled=!0,Mr.overrideTotalTime(jr.totalTime),void xe.push(Mr);let xi=Ds;if($s.size>1){let _s=Er;const pe=[];for(;_s=_s.parentNode;){const De=$s.get(_s);if(De){xi=De;break}pe.push(_s)}pe.forEach(De=>$s.set(De,xi))}const ls=this._buildAnimation(Mr.namespaceId,jr,bi,Xe,eo,hs);if(Mr.setRealPlayer(ls),xi===Ds)Qs.push(Mr);else{const _s=this.playersByElement.get(xi);_s&&_s.length&&(Mr.parentPlayer=Ht(_s)),xe.push(Mr)}}else Z(Er,jr.fromStyles),Mr.onDestroy(()=>M(Er,jr.toStyles)),ws.push(Mr),nr.has(Er)&&xe.push(Mr)}),ws.forEach(rr=>{const Er=Xe.get(rr.element);if(Er&&Er.length){const Mr=Ht(Er);rr.setRealPlayer(Mr)}}),xe.forEach(rr=>{rr.parentPlayer?rr.syncPlayerEvents(rr.parentPlayer):rr.destroy()});for(let rr=0;rr<fi.length;rr++){const Er=fi[rr],Mr=Er[E];if(dn(Er,Sn),Mr&&Mr.hasAnimation)continue;let jr=[];if(bt.size){let ls=bt.get(Er);ls&&ls.length&&jr.push(...ls);let _s=this.driver.query(Er,ct,!0);for(let pe=0;pe<_s.length;pe++){let De=bt.get(_s[pe]);De&&De.length&&jr.push(...De)}}const xi=jr.filter(ls=>!ls.destroyed);xi.length?fr(this,Er,xi):this.processLeaveNode(Er)}return fi.length=0,Qs.forEach(rr=>{this.players.push(rr),rr.onDone(()=>{rr.destroy();const Er=this.players.indexOf(rr);this.players.splice(Er,1)}),rr.play()}),Qs}elementContainsData(b,A){let H=!1;const xe=A[E];return xe&&xe.setForRemoval&&(H=!0),this.playersByElement.has(A)&&(H=!0),this.playersByQueriedElement.has(A)&&(H=!0),this.statesByElement.has(A)&&(H=!0),this._fetchNamespace(b).elementContainsData(A)||H}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,A,H,xe,Xe){let _t=[];if(A){const bt=this.playersByQueriedElement.get(b);bt&&(_t=bt)}else{const bt=this.playersByElement.get(b);if(bt){const zt=!Xe||Xe==K;bt.forEach(pn=>{pn.queued||!zt&&pn.triggerName!=xe||_t.push(pn)})}}return(H||xe)&&(_t=_t.filter(bt=>!(H&&H!=bt.namespaceId||xe&&xe!=bt.triggerName))),_t}_beforeAnimationBuild(b,A,H){const Xe=A.element,_t=A.isRemovalTransition?void 0:b,bt=A.isRemovalTransition?void 0:A.triggerName;for(const zt of A.timelines){const pn=zt.element,nr=pn!==Xe,mr=Kn(H,pn,[]);this._getPreviousPlayers(pn,nr,_t,bt,A.toState).forEach(Zr=>{const pr=Zr.getRealPlayer();pr.beforeDestroy&&pr.beforeDestroy(),Zr.destroy(),mr.push(Zr)})}Z(Xe,A.fromStyles)}_buildAnimation(b,A,H,xe,Xe,_t){const bt=A.triggerName,zt=A.element,pn=[],nr=new Set,mr=new Set,Tr=A.timelines.map(pr=>{const xr=pr.element;nr.add(xr);const fi=xr[E];if(fi&&fi.removedBeforeQueried)return new S.ZN(pr.duration,pr.delay);const Ri=xr!==zt,ji=function Zn(be){const b=[];return ir(be,b),b}((H.get(xr)||se).map(bi=>bi.getRealPlayer())).filter(bi=>!!bi.element&&bi.element===xr),as=Xe.get(xr),si=_t.get(xr),xs=xn(0,this._normalizer,0,pr.keyframes,as,si),yi=this._buildPlayer(pr,xs,ji);if(pr.subTimeline&&xe&&mr.add(xr),Ri){const bi=new Ct(b,bt,xr);bi.setRealPlayer(yi),pn.push(bi)}return yi});pn.forEach(pr=>{Kn(this.playersByQueriedElement,pr.element,[]).push(pr),pr.onDone(()=>function It(be,b,A){let H;if(be instanceof Map){if(H=be.get(b),H){if(H.length){const xe=H.indexOf(A);H.splice(xe,1)}0==H.length&&be.delete(b)}}else if(H=be[b],H){if(H.length){const xe=H.indexOf(A);H.splice(xe,1)}0==H.length&&delete be[b]}return H}(this.playersByQueriedElement,pr.element,pr))}),nr.forEach(pr=>Pt(pr,Rr));const Zr=Ht(Tr);return Zr.onDestroy(()=>{nr.forEach(pr=>dn(pr,Rr)),M(zt,A.toStyles)}),mr.forEach(pr=>{Kn(xe,pr,[]).push(Zr)}),Zr}_buildPlayer(b,A,H){return A.length>0?this.driver.animate(b.element,A,b.duration,b.delay,b.easing,H):new S.ZN(b.duration,b.delay)}}class Ct{constructor(b,A,H){this.namespaceId=b,this.triggerName=A,this.element=H,this._player=new S.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,Object.keys(this._queuedCallbacks).forEach(A=>{this._queuedCallbacks[A].forEach(H=>In(b,A,void 0,H))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const A=this._player;A.triggerCallback&&b.onStart(()=>A.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,A){Kn(this._queuedCallbacks,b,[]).push(A)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const A=this._player;A.triggerCallback&&A.triggerCallback(b)}}function X(be){return be&&1===be.nodeType}function ge(be,b){const A=be.style.display;return be.style.display=null!=b?b:"none",A}function We(be,b,A,H,xe){const Xe=[];A.forEach(zt=>Xe.push(ge(zt)));const _t=[];H.forEach((zt,pn)=>{const nr={};zt.forEach(mr=>{const Tr=nr[mr]=b.computeStyle(pn,mr,xe);(!Tr||0==Tr.length)&&(pn[E]=g,_t.push(pn))}),be.set(pn,nr)});let bt=0;return A.forEach(zt=>ge(zt,Xe[bt++])),_t}function pt(be,b){const A=new Map;if(be.forEach(bt=>A.set(bt,[])),0==b.length)return A;const xe=new Set(b),Xe=new Map;function _t(bt){if(!bt)return 1;let zt=Xe.get(bt);if(zt)return zt;const pn=bt.parentNode;return zt=A.has(pn)?pn:xe.has(pn)?1:_t(pn),Xe.set(bt,zt),zt}return b.forEach(bt=>{const zt=_t(bt);1!==zt&&A.get(zt).push(bt)}),A}function Pt(be,b){var A;null===(A=be.classList)||void 0===A||A.add(b)}function dn(be,b){var A;null===(A=be.classList)||void 0===A||A.remove(b)}function fr(be,b,A){Ht(A).onDone(()=>be.processLeaveNode(b))}function ir(be,b){for(let A=0;A<be.length;A++){const H=be[A];H instanceof S.ZE?ir(H.players,b):b.push(H)}}function wr(be,b,A){const H=A.get(be);if(!H)return!1;let xe=b.get(be);return xe?H.forEach(Xe=>xe.add(Xe)):b.set(be,H),A.delete(be),!0}class Dr{constructor(b,A,H){this.bodyNode=b,this._driver=A,this._normalizer=H,this._triggerCache={},this.onRemovalComplete=(xe,Xe)=>{},this._transitionEngine=new Dt(b,A,H),this._timelineEngine=new Ps(b,A,H),this._transitionEngine.onRemovalComplete=(xe,Xe)=>this.onRemovalComplete(xe,Xe)}registerTrigger(b,A,H,xe,Xe){const _t=b+"-"+xe;let bt=this._triggerCache[_t];if(!bt){const zt=[],nr=Ai(this._driver,Xe,zt,[]);if(zt.length)throw function He(be,b){return new u.vHH(3404,ee)}();bt=function Gs(be,b,A){return new $r(be,b,A)}(xe,nr,this._normalizer),this._triggerCache[_t]=bt}this._transitionEngine.registerTrigger(A,xe,bt)}register(b,A){this._transitionEngine.register(b,A)}destroy(b,A){this._transitionEngine.destroy(b,A)}onInsert(b,A,H,xe){this._transitionEngine.insertNode(b,A,H,xe)}onRemove(b,A,H,xe){this._transitionEngine.removeNode(b,A,xe||!1,H)}disableAnimations(b,A){this._transitionEngine.markElementAsDisabled(b,A)}process(b,A,H,xe){if("@"==H.charAt(0)){const[Xe,_t]=ar(H);this._timelineEngine.command(Xe,A,_t,xe)}else this._transitionEngine.trigger(b,A,H,xe)}listen(b,A,H,xe,Xe){if("@"==H.charAt(0)){const[_t,bt]=ar(H);return this._timelineEngine.listen(_t,A,bt,Xe)}return this._transitionEngine.listen(b,A,H,xe,Xe)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y=(()=>{class be{constructor(A,H,xe){this._element=A,this._startStyles=H,this._endStyles=xe,this._state=0;let Xe=be.initialStylesByElement.get(A);Xe||be.initialStylesByElement.set(A,Xe={}),this._initialStyles=Xe}start(){this._state<1&&(this._startStyles&&M(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(M(this._element,this._initialStyles),this._endStyles&&(M(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(be.initialStylesByElement.delete(this._element),this._startStyles&&(Z(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Z(this._element,this._endStyles),this._endStyles=null),M(this._element,this._initialStyles),this._state=3)}}return be.initialStylesByElement=new WeakMap,be})();function G(be){let b=null;const A=Object.keys(be);for(let H=0;H<A.length;H++){const xe=A[H];L(xe)&&(b=b||{},b[xe]=be[xe])}return b}function L(be){return"display"===be||"position"===be}class Re{constructor(b,A,H,xe){this.element=b,this.keyframes=A,this.options=H,this._specialStyles=xe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=H.duration,this._delay=H.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(b,A,H){return b.animate(A,H)}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b={};if(this.hasStarted()){const A=this._finalKeyframe;Object.keys(A).forEach(H=>{"offset"!=H&&(b[H]=this._finished?A[H]:Xr(this.element,H))})}this.currentSnapshot=b}triggerCallback(b){const A="start"==b?this._onStartFns:this._onDoneFns;A.forEach(H=>H()),A.length=0}}class sn{validateStyleProperty(b){return Ne(b)}matchesElement(b,A){return!1}containsElement(b,A){return Bt(b,A)}getParentElement(b){return Fr(b)}query(b,A,H){return Vt(b,A,H)}computeStyle(b,A,H){return window.getComputedStyle(b)[A]}animate(b,A,H,xe,Xe,_t=[]){const zt={duration:H,delay:xe,fill:0==xe?"both":"forwards"};Xe&&(zt.easing=Xe);const pn={},nr=_t.filter(Tr=>Tr instanceof Re);(function Kr(be,b){return 0===be||0===b})(H,xe)&&nr.forEach(Tr=>{let Zr=Tr.currentSnapshot;Object.keys(Zr).forEach(pr=>pn[pr]=Zr[pr])}),A=function li(be,b,A){const H=Object.keys(A);if(H.length&&b.length){let Xe=b[0],_t=[];if(H.forEach(bt=>{Xe.hasOwnProperty(bt)||_t.push(bt),Xe[bt]=A[bt]}),_t.length)for(var xe=1;xe<b.length;xe++){let bt=b[xe];_t.forEach(function(zt){bt[zt]=Xr(be,zt)})}}return b}(b,A=A.map(Tr=>Gt(Tr,!1)),pn);const mr=function qr(be,b){let A=null,H=null;return Array.isArray(b)&&b.length?(A=G(b[0]),b.length>1&&(H=G(b[b.length-1]))):b&&(A=G(b)),A||H?new Y(be,A,H):null}(b,A);return new Re(b,A,zt,mr)}}var Yn=y(9808);let ci=(()=>{class be extends S._j{constructor(A,H){super(),this._nextAnimationId=0,this._renderer=A.createRenderer(H.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(A){const H=this._nextAnimationId.toString();this._nextAnimationId++;const xe=Array.isArray(A)?(0,S.vP)(A):A;return es(this._renderer,null,H,"register",[xe]),new Xi(H,this._renderer)}}return be.\u0275fac=function(A){return new(A||be)(u.LFG(u.FYo),u.LFG(Yn.K0))},be.\u0275prov=u.Yz7({token:be,factory:be.\u0275fac}),be})();class Xi extends S.LC{constructor(b,A){super(),this._id=b,this._renderer=A}create(b,A){return new Ui(this._id,b,A||{},this._renderer)}}class Ui{constructor(b,A,H,xe){this.id=b,this.element=A,this._renderer=xe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",H)}_listen(b,A){return this._renderer.listen(this.element,`@@${this.id}:${b}`,A)}_command(b,...A){return es(this._renderer,this.element,this.id,b,A)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,A;return null!==(A=null===(b=this._renderer.engine.players[+this.id])||void 0===b?void 0:b.getPosition())&&void 0!==A?A:0}}function es(be,b,A,H,xe){return be.setProperty(b,`@@${A}:${H}`,xe)}const ei="@.disabled";let go=(()=>{class be{constructor(A,H,xe){this.delegate=A,this.engine=H,this._zone=xe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),H.onRemovalComplete=(Xe,_t)=>{const bt=null==_t?void 0:_t.parentNode(Xe);bt&&_t.removeChild(bt,Xe)}}createRenderer(A,H){const Xe=this.delegate.createRenderer(A,H);if(!(A&&H&&H.data&&H.data.animation)){let nr=this._rendererCache.get(Xe);return nr||(nr=new Li("",Xe,this.engine),this._rendererCache.set(Xe,nr)),nr}const _t=H.id,bt=H.id+"-"+this._currentId;this._currentId++,this.engine.register(bt,A);const zt=nr=>{Array.isArray(nr)?nr.forEach(zt):this.engine.registerTrigger(_t,bt,A,nr.name,nr)};return H.data.animation.forEach(zt),new So(this,bt,Xe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(A,H,xe){A>=0&&A<this._microtaskId?this._zone.run(()=>H(xe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Xe=>{const[_t,bt]=Xe;_t(bt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([H,xe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return be.\u0275fac=function(A){return new(A||be)(u.LFG(u.FYo),u.LFG(Dr),u.LFG(u.R0b))},be.\u0275prov=u.Yz7({token:be,factory:be.\u0275fac}),be})();class Li{constructor(b,A,H){this.namespaceId=b,this.delegate=A,this.engine=H,this.destroyNode=this.delegate.destroyNode?xe=>A.destroyNode(xe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(b,A){return this.delegate.createElement(b,A)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,A){this.delegate.appendChild(b,A),this.engine.onInsert(this.namespaceId,A,b,!1)}insertBefore(b,A,H,xe=!0){this.delegate.insertBefore(b,A,H),this.engine.onInsert(this.namespaceId,A,b,xe)}removeChild(b,A,H){this.engine.onRemove(this.namespaceId,A,this.delegate,H)}selectRootElement(b,A){return this.delegate.selectRootElement(b,A)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,A,H,xe){this.delegate.setAttribute(b,A,H,xe)}removeAttribute(b,A,H){this.delegate.removeAttribute(b,A,H)}addClass(b,A){this.delegate.addClass(b,A)}removeClass(b,A){this.delegate.removeClass(b,A)}setStyle(b,A,H,xe){this.delegate.setStyle(b,A,H,xe)}removeStyle(b,A,H){this.delegate.removeStyle(b,A,H)}setProperty(b,A,H){"@"==A.charAt(0)&&A==ei?this.disableAnimations(b,!!H):this.delegate.setProperty(b,A,H)}setValue(b,A){this.delegate.setValue(b,A)}listen(b,A,H){return this.delegate.listen(b,A,H)}disableAnimations(b,A){this.engine.disableAnimations(b,A)}}class So extends Li{constructor(b,A,H,xe){super(A,H,xe),this.factory=b,this.namespaceId=A}setProperty(b,A,H){"@"==A.charAt(0)?"."==A.charAt(1)&&A==ei?this.disableAnimations(b,H=void 0===H||!!H):this.engine.process(this.namespaceId,b,A.substr(1),H):this.delegate.setProperty(b,A,H)}listen(b,A,H){if("@"==A.charAt(0)){const xe=function ds(be){switch(be){case"body":return document.body;case"document":return document;case"window":return window;default:return be}}(b);let Xe=A.substr(1),_t="";return"@"!=Xe.charAt(0)&&([Xe,_t]=function Ts(be){const b=be.indexOf(".");return[be.substring(0,b),be.substr(b+1)]}(Xe)),this.engine.listen(this.namespaceId,xe,Xe,_t,bt=>{this.factory.scheduleListenerCallback(bt._data||-1,H,bt)})}return this.delegate.listen(b,A,H)}}let mo=(()=>{class be extends Dr{constructor(A,H,xe){super(A.body,H,xe)}ngOnDestroy(){this.flush()}}return be.\u0275fac=function(A){return new(A||be)(u.LFG(Yn.K0),u.LFG(Cn),u.LFG(mi))},be.\u0275prov=u.Yz7({token:be,factory:be.\u0275fac}),be})();const No=new u.OlP("AnimationModuleType"),ro=[{provide:S._j,useClass:ci},{provide:mi,useFactory:function ko(){return new Ni}},{provide:Dr,useClass:mo},{provide:u.FYo,useFactory:function xa(be,b,A){return new go(be,b,A)},deps:[_.se,Dr,u.R0b]}],io=[{provide:Cn,useFactory:()=>new sn},{provide:No,useValue:"BrowserAnimations"},...ro],Ki=[{provide:Cn,useClass:en},{provide:No,useValue:"NoopAnimations"},...ro];let Hs=(()=>{class be{static withConfig(A){return{ngModule:be,providers:A.disableAnimations?Ki:io}}}return be.\u0275fac=function(A){return new(A||be)},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:io,imports:[_.b2]}),be})()},2313:(Xt,tt,y)=>{y.d(tt,{b2:()=>Wr,H7:()=>Nt,q6:()=>Kn,se:()=>ut});var u=y(9808),_=y(5e3);class S extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends S{static makeCurrent(){(0,u.HT)(new ee)}onAndCancel(je,nt,yt){return je.addEventListener(nt,yt,!1),()=>{je.removeEventListener(nt,yt,!1)}}dispatchEvent(je,nt){je.dispatchEvent(nt)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,nt){return(nt=nt||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,nt){return"window"===nt?window:"document"===nt?je:"body"===nt?je.body:null}getBaseHref(je){const nt=function me(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==nt?null:function ve(Ye){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",Ye);const je=Pe.pathname;return"/"===je.charAt(0)?je:`/${je}`}(nt)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,u.Mx)(document.cookie,je)}}let Pe,ce=null;const _e=new _.OlP("TRANSITION_ID"),ie=[{provide:_.ip1,useFactory:function $(Ye,je,nt){return()=>{nt.get(_.CZH).donePromise.then(()=>{const yt=(0,u.q)(),dt=je.querySelectorAll(`style[ng-transition="${Ye}"]`);for(let Jn=0;Jn<dt.length;Jn++)yt.remove(dt[Jn])})}},deps:[_e,u.K0,_.zs3],multi:!0}];class oe{static init(){(0,_.VLi)(new oe)}addToWindow(je){_.dqk.getAngularTestability=(yt,dt=!0)=>{const Jn=je.findTestabilityInTree(yt,dt);if(null==Jn)throw new Error("Could not find testability for element.");return Jn},_.dqk.getAllAngularTestabilities=()=>je.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>je.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(yt=>{const dt=_.dqk.getAllAngularTestabilities();let Jn=dt.length,Un=!1;const vr=function(Kr){Un=Un||Kr,Jn--,0==Jn&&yt(Un)};dt.forEach(function(Kr){Kr.whenStable(vr)})})}findTestabilityInTree(je,nt,yt){if(null==nt)return null;const dt=je.getTestability(nt);return null!=dt?dt:yt?(0,u.q)().isShadowRoot(nt)?this.findTestabilityInTree(je,nt.host,!0):this.findTestabilityInTree(je,nt.parentElement,!0):null}}let Fe=(()=>{class Ye{build(){return new XMLHttpRequest}}return Ye.\u0275fac=function(nt){return new(nt||Ye)},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Ie=new _.OlP("EventManagerPlugins");let ue=(()=>{class Ye{constructor(nt,yt){this._zone=yt,this._eventNameToPlugin=new Map,nt.forEach(dt=>dt.manager=this),this._plugins=nt.slice().reverse()}addEventListener(nt,yt,dt){return this._findPluginFor(yt).addEventListener(nt,yt,dt)}addGlobalEventListener(nt,yt,dt){return this._findPluginFor(yt).addGlobalEventListener(nt,yt,dt)}getZone(){return this._zone}_findPluginFor(nt){const yt=this._eventNameToPlugin.get(nt);if(yt)return yt;const dt=this._plugins;for(let Jn=0;Jn<dt.length;Jn++){const Un=dt[Jn];if(Un.supports(nt))return this._eventNameToPlugin.set(nt,Un),Un}throw new Error(`No event manager plugin found for event ${nt}`)}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(Ie),_.LFG(_.R0b))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class $e{constructor(je){this._doc=je}addGlobalEventListener(je,nt,yt){const dt=(0,u.q)().getGlobalEventTarget(this._doc,je);if(!dt)throw new Error(`Unsupported event target ${dt} for event ${nt}`);return this.addEventListener(dt,nt,yt)}}let ke=(()=>{class Ye{constructor(){this._stylesSet=new Set}addStyles(nt){const yt=new Set;nt.forEach(dt=>{this._stylesSet.has(dt)||(this._stylesSet.add(dt),yt.add(dt))}),this.onStylesAdded(yt)}onStylesAdded(nt){}getAllStyles(){return Array.from(this._stylesSet)}}return Ye.\u0275fac=function(nt){return new(nt||Ye)},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})(),Qe=(()=>{class Ye extends ke{constructor(nt){super(),this._doc=nt,this._hostNodes=new Map,this._hostNodes.set(nt.head,[])}_addStylesToHost(nt,yt,dt){nt.forEach(Jn=>{const Un=this._doc.createElement("style");Un.textContent=Jn,dt.push(yt.appendChild(Un))})}addHost(nt){const yt=[];this._addStylesToHost(this._stylesSet,nt,yt),this._hostNodes.set(nt,yt)}removeHost(nt){const yt=this._hostNodes.get(nt);yt&&yt.forEach(Be),this._hostNodes.delete(nt)}onStylesAdded(nt){this._hostNodes.forEach((yt,dt)=>{this._addStylesToHost(nt,dt,yt)})}ngOnDestroy(){this._hostNodes.forEach(nt=>nt.forEach(Be))}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(u.K0))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();function Be(Ye){(0,u.q)().remove(Ye)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qe=/%COMP%/g;function Ce(Ye,je,nt){for(let yt=0;yt<je.length;yt++){let dt=je[yt];Array.isArray(dt)?Ce(Ye,dt,nt):(dt=dt.replace(qe,Ye),nt.push(dt))}return nt}function He(Ye){return je=>{if("__ngUnwrap__"===je)return Ye;!1===Ye(je)&&(je.preventDefault(),je.returnValue=!1)}}let ut=(()=>{class Ye{constructor(nt,yt,dt){this.eventManager=nt,this.sharedStylesHost=yt,this.appId=dt,this.rendererByCompId=new Map,this.defaultRenderer=new ot(nt)}createRenderer(nt,yt){if(!nt||!yt)return this.defaultRenderer;switch(yt.encapsulation){case _.ifc.Emulated:{let dt=this.rendererByCompId.get(yt.id);return dt||(dt=new En(this.eventManager,this.sharedStylesHost,yt,this.appId),this.rendererByCompId.set(yt.id,dt)),dt.applyToHost(nt),dt}case 1:case _.ifc.ShadowDom:return new ln(this.eventManager,this.sharedStylesHost,nt,yt);default:if(!this.rendererByCompId.has(yt.id)){const dt=Ce(yt.id,yt.styles,[]);this.sharedStylesHost.addStyles(dt),this.rendererByCompId.set(yt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(ue),_.LFG(Qe),_.LFG(_.AFp))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();class ot{constructor(je){this.eventManager=je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(je,nt){return nt?document.createElementNS(xt[nt]||nt,je):document.createElement(je)}createComment(je){return document.createComment(je)}createText(je){return document.createTextNode(je)}appendChild(je,nt){je.appendChild(nt)}insertBefore(je,nt,yt){je&&je.insertBefore(nt,yt)}removeChild(je,nt){je&&je.removeChild(nt)}selectRootElement(je,nt){let yt="string"==typeof je?document.querySelector(je):je;if(!yt)throw new Error(`The selector "${je}" did not match any elements`);return nt||(yt.textContent=""),yt}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,nt,yt,dt){if(dt){nt=dt+":"+nt;const Jn=xt[dt];Jn?je.setAttributeNS(Jn,nt,yt):je.setAttribute(nt,yt)}else je.setAttribute(nt,yt)}removeAttribute(je,nt,yt){if(yt){const dt=xt[yt];dt?je.removeAttributeNS(dt,nt):je.removeAttribute(`${yt}:${nt}`)}else je.removeAttribute(nt)}addClass(je,nt){je.classList.add(nt)}removeClass(je,nt){je.classList.remove(nt)}setStyle(je,nt,yt,dt){dt&(_.JOm.DashCase|_.JOm.Important)?je.style.setProperty(nt,yt,dt&_.JOm.Important?"important":""):je.style[nt]=yt}removeStyle(je,nt,yt){yt&_.JOm.DashCase?je.style.removeProperty(nt):je.style[nt]=""}setProperty(je,nt,yt){je[nt]=yt}setValue(je,nt){je.nodeValue=nt}listen(je,nt,yt){return"string"==typeof je?this.eventManager.addGlobalEventListener(je,nt,He(yt)):this.eventManager.addEventListener(je,nt,He(yt))}}class En extends ot{constructor(je,nt,yt,dt){super(je),this.component=yt;const Jn=Ce(dt+"-"+yt.id,yt.styles,[]);nt.addStyles(Jn),this.contentAttr=function J(Ye){return"_ngcontent-%COMP%".replace(qe,Ye)}(dt+"-"+yt.id),this.hostAttr=function re(Ye){return"_nghost-%COMP%".replace(qe,Ye)}(dt+"-"+yt.id)}applyToHost(je){super.setAttribute(je,this.hostAttr,"")}createElement(je,nt){const yt=super.createElement(je,nt);return super.setAttribute(yt,this.contentAttr,""),yt}}class ln extends ot{constructor(je,nt,yt,dt){super(je),this.sharedStylesHost=nt,this.hostEl=yt,this.shadowRoot=yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Jn=Ce(dt.id,dt.styles,[]);for(let Un=0;Un<Jn.length;Un++){const vr=document.createElement("style");vr.textContent=Jn[Un],this.shadowRoot.appendChild(vr)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(je,nt){return super.appendChild(this.nodeOrShadowRoot(je),nt)}insertBefore(je,nt,yt){return super.insertBefore(this.nodeOrShadowRoot(je),nt,yt)}removeChild(je,nt){return super.removeChild(this.nodeOrShadowRoot(je),nt)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}}let mt=(()=>{class Ye extends $e{constructor(nt){super(nt)}supports(nt){return!0}addEventListener(nt,yt,dt){return nt.addEventListener(yt,dt,!1),()=>this.removeEventListener(nt,yt,dt)}removeEventListener(nt,yt,dt){return nt.removeEventListener(yt,dt)}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(u.K0))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const qt=["alt","control","meta","shift"],un={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mt={alt:Ye=>Ye.altKey,control:Ye=>Ye.ctrlKey,meta:Ye=>Ye.metaKey,shift:Ye=>Ye.shiftKey};let At=(()=>{class Ye extends $e{constructor(nt){super(nt)}supports(nt){return null!=Ye.parseEventName(nt)}addEventListener(nt,yt,dt){const Jn=Ye.parseEventName(yt),Un=Ye.eventCallback(Jn.fullKey,dt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(nt,Jn.domEventName,Un))}static parseEventName(nt){const yt=nt.toLowerCase().split("."),dt=yt.shift();if(0===yt.length||"keydown"!==dt&&"keyup"!==dt)return null;const Jn=Ye._normalizeKey(yt.pop());let Un="";if(qt.forEach(Kr=>{const li=yt.indexOf(Kr);li>-1&&(yt.splice(li,1),Un+=Kr+".")}),Un+=Jn,0!=yt.length||0===Jn.length)return null;const vr={};return vr.domEventName=dt,vr.fullKey=Un,vr}static getEventFullKey(nt){let yt="",dt=function Ht(Ye){let je=Ye.key;if(null==je){if(je=Ye.keyIdentifier,null==je)return"Unidentified";je.startsWith("U+")&&(je=String.fromCharCode(parseInt(je.substring(2),16)),3===Ye.location&&_n.hasOwnProperty(je)&&(je=_n[je]))}return un[je]||je}(nt);return dt=dt.toLowerCase()," "===dt?dt="space":"."===dt&&(dt="dot"),qt.forEach(Jn=>{Jn!=dt&&Mt[Jn](nt)&&(yt+=Jn+".")}),yt+=dt,yt}static eventCallback(nt,yt,dt){return Jn=>{Ye.getEventFullKey(Jn)===nt&&dt.runGuarded(()=>yt(Jn))}}static _normalizeKey(nt){return"esc"===nt?"escape":nt}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(u.K0))},Ye.\u0275prov=_.Yz7({token:Ye,factory:Ye.\u0275fac}),Ye})();const Kn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:u.bD},{provide:_.g9A,useValue:function xn(){ee.makeCurrent(),oe.init()},multi:!0},{provide:u.K0,useFactory:function Gn(){return(0,_.RDi)(document),document},deps:[]}]),ar=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function In(){return new _.qLn},deps:[]},{provide:Ie,useClass:mt,multi:!0,deps:[u.K0,_.R0b,_.Lbi]},{provide:Ie,useClass:At,multi:!0,deps:[u.K0]},{provide:ut,useClass:ut,deps:[ue,Qe,_.AFp]},{provide:_.FYo,useExisting:ut},{provide:ke,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[u.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:ue,useClass:ue,deps:[Ie,_.R0b]},{provide:u.JF,useClass:Fe,deps:[]}];let Wr=(()=>{class Ye{constructor(nt){if(nt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(nt){return{ngModule:Ye,providers:[{provide:_.AFp,useValue:nt.appId},{provide:_e,useExisting:_.AFp},ie]}}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(Ye,12))},Ye.\u0275mod=_.oAB({type:Ye}),Ye.\u0275inj=_.cJS({providers:ar,imports:[u.ez,_.hGG]}),Ye})();"undefined"!=typeof window&&window;let Nt=(()=>{class Ye{}return Ye.\u0275fac=function(nt){return new(nt||Ye)},Ye.\u0275prov=_.Yz7({token:Ye,factory:function(nt){let yt=null;return yt=nt?new(nt||Ye):_.LFG(Z),yt},providedIn:"root"}),Ye})(),Z=(()=>{class Ye extends Nt{constructor(nt){super(),this._doc=nt}sanitize(nt,yt){if(null==yt)return null;switch(nt){case _.q3G.NONE:return yt;case _.q3G.HTML:return(0,_.qzn)(yt,"HTML")?(0,_.z3N)(yt):(0,_.EiD)(this._doc,String(yt)).toString();case _.q3G.STYLE:return(0,_.qzn)(yt,"Style")?(0,_.z3N)(yt):yt;case _.q3G.SCRIPT:if((0,_.qzn)(yt,"Script"))return(0,_.z3N)(yt);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(yt),(0,_.qzn)(yt,"URL")?(0,_.z3N)(yt):(0,_.mCW)(String(yt));case _.q3G.RESOURCE_URL:if((0,_.qzn)(yt,"ResourceURL"))return(0,_.z3N)(yt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${nt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(nt){return(0,_.JVY)(nt)}bypassSecurityTrustStyle(nt){return(0,_.L6k)(nt)}bypassSecurityTrustScript(nt){return(0,_.eBb)(nt)}bypassSecurityTrustUrl(nt){return(0,_.LAX)(nt)}bypassSecurityTrustResourceUrl(nt){return(0,_.pB0)(nt)}}return Ye.\u0275fac=function(nt){return new(nt||Ye)(_.LFG(u.K0))},Ye.\u0275prov=_.Yz7({token:Ye,factory:function(nt){let yt=null;return yt=nt?new nt:function M(Ye){return new Z(Ye.get(u.K0))}(_.LFG(_.zs3)),yt},providedIn:"root"}),Ye})()},5357:(Xt,tt,y)=>{y.d(tt,{gz:()=>kr,F0:()=>bi,rH:()=>hs,yS:()=>Xs,Bz:()=>st,lC:()=>Fs});var u=y(5e3),_=y(8996),S=y(9646),ee=y(1135),ce=y(9841),me=y(2843),Pe=y(6805),ve=y(7272),_e=y(9770),$=y(8306),ie=y(515),oe=y(4033),Fe=y(7579),Ie=y(9300),ue=y(4482),$e=y(5403);function ke(B){return B<=0?()=>ie.E:(0,ue.e)((O,I)=>{let q=[];O.subscribe((0,$e.x)(I,ae=>{q.push(ae),B<q.length&&q.shift()},()=>{for(const ae of q)I.next(ae);I.complete()},void 0,()=>{q=null}))})}var Qe=y(8068),Be=y(6590),xt=y(4671),Te=y(4004),Ue=y(3900),rt=y(5698),ze=y(8675),J=y(5026),re=y(262),Ce=y(4351),He=y(590),Je=y(5577),ut=y(8505),ot=y(8343),Kt=y(8746),rn=y(8189),En=y(9808);class ln{constructor(O,I){this.id=O,this.url=I}}class mt extends ln{constructor(O,I,q="imperative",ae=null){super(O,I),this.navigationTrigger=q,this.restoredState=ae}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qt extends ln{constructor(O,I,q){super(O,I),this.urlAfterRedirects=q}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qt extends ln{constructor(O,I,q){super(O,I),this.reason=q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class un extends ln{constructor(O,I,q){super(O,I),this.error=q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _n extends ln{constructor(O,I,q,ae){super(O,I),this.urlAfterRedirects=q,this.state=ae}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mt extends ln{constructor(O,I,q,ae){super(O,I),this.urlAfterRedirects=q,this.state=ae}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends ln{constructor(O,I,q,ae,Le){super(O,I),this.urlAfterRedirects=q,this.state=ae,this.shouldActivate=Le}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ht extends ln{constructor(O,I,q,ae){super(O,I),this.urlAfterRedirects=q,this.state=ae}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn extends ln{constructor(O,I,q,ae){super(O,I),this.urlAfterRedirects=q,this.state=ae}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In{constructor(O){this.route=O}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(O){this.route=O}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qn{constructor(O){this.snapshot=O}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(O){this.snapshot=O}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(O){this.snapshot=O}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(O){this.snapshot=O}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(O,I,q){this.routerEvent=O,this.position=I,this.anchor=q}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cn="primary";class Fr{constructor(O){this.params=O||{}}has(O){return Object.prototype.hasOwnProperty.call(this.params,O)}get(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I[0]:I}return null}getAll(O){if(this.has(O)){const I=this.params[O];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function dr(B){return new Fr(B)}const yr="ngNavigationCancelingError";function on(B){const O=Error("NavigationCancelingError: "+B);return O[yr]=!0,O}function Ne(B,O,I){const q=I.path.split("/");if(q.length>B.length||"full"===I.pathMatch&&(O.hasChildren()||q.length<B.length))return null;const ae={};for(let Le=0;Le<q.length;Le++){const Ve=q[Le],vt=B[Le];if(Ve.startsWith(":"))ae[Ve.substring(1)]=vt;else if(Ve!==vt.path)return null}return{consumed:B.slice(0,q.length),posParams:ae}}function Bt(B,O){const I=B?Object.keys(B):void 0,q=O?Object.keys(O):void 0;if(!I||!q||I.length!=q.length)return!1;let ae;for(let Le=0;Le<I.length;Le++)if(ae=I[Le],!Vt(B[ae],O[ae]))return!1;return!0}function Vt(B,O){if(Array.isArray(B)&&Array.isArray(O)){if(B.length!==O.length)return!1;const I=[...B].sort(),q=[...O].sort();return I.every((ae,Le)=>q[Le]===ae)}return B===O}function Yt(B){return Array.prototype.concat.apply([],B)}function en(B){return B.length>0?B[B.length-1]:null}function Tn(B,O){for(const I in B)B.hasOwnProperty(I)&&O(B[I],I)}function Rn(B){return(0,u.CqO)(B)?B:(0,u.QGY)(B)?(0,_.D)(Promise.resolve(B)):(0,S.of)(B)}const tr={exact:function Rr(B,O,I){if(!de(B.segments,O.segments)||!N(B.segments,O.segments,I)||B.numberOfChildren!==O.numberOfChildren)return!1;for(const q in O.children)if(!B.children[q]||!Rr(B.children[q],O.children[q],I))return!1;return!0},subset:Ae},Sn={exact:function bn(B,O){return Bt(B,O)},subset:function ct(B,O){return Object.keys(O).length<=Object.keys(B).length&&Object.keys(O).every(I=>Vt(B[I],O[I]))},ignored:()=>!0};function Hn(B,O,I){return tr[I.paths](B.root,O.root,I.matrixParams)&&Sn[I.queryParams](B.queryParams,O.queryParams)&&!("exact"===I.fragment&&B.fragment!==O.fragment)}function Ae(B,O,I){return W(B,O,O.segments,I)}function W(B,O,I,q){if(B.segments.length>I.length){const ae=B.segments.slice(0,I.length);return!(!de(ae,I)||O.hasChildren()||!N(ae,I,q))}if(B.segments.length===I.length){if(!de(B.segments,I)||!N(B.segments,I,q))return!1;for(const ae in O.children)if(!B.children[ae]||!Ae(B.children[ae],O.children[ae],q))return!1;return!0}{const ae=I.slice(0,B.segments.length),Le=I.slice(B.segments.length);return!!(de(B.segments,ae)&&N(B.segments,ae,q)&&B.children[cn])&&W(B.children[cn],O,Le,q)}}function N(B,O,I){return O.every((q,ae)=>Sn[I](B[ae].parameters,q.parameters))}class U{constructor(O,I,q){this.root=O,this.queryParams=I,this.fragment=q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return it.serialize(this)}}class Se{constructor(O,I){this.segments=O,this.children=I,this.parent=null,Tn(I,(q,ae)=>q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ye(this)}}class ht{constructor(O,I){this.path=O,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=dr(this.parameters)),this._parameterMap}toString(){return Kr(this)}}function de(B,O){return B.length===O.length&&B.every((I,q)=>I.path===O[q].path)}class M{}class Z{parse(O){const I=new $t(O);return new U(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(O){const I=`/${je(O.root,!0)}`,q=function Br(B){const O=Object.keys(B).map(I=>{const q=B[I];return Array.isArray(q)?q.map(ae=>`${yt(I)}=${yt(ae)}`).join("&"):`${yt(I)}=${yt(q)}`}).filter(I=>!!I);return O.length?`?${O.join("&")}`:""}(O.queryParams);return`${I}${q}${"string"==typeof O.fragment?`#${function dt(B){return encodeURI(B)}(O.fragment)}`:""}`}}const it=new Z;function Ye(B){return B.segments.map(O=>Kr(O)).join("/")}function je(B,O){if(!B.hasChildren())return Ye(B);if(O){const I=B.children[cn]?je(B.children[cn],!1):"",q=[];return Tn(B.children,(ae,Le)=>{Le!==cn&&q.push(`${Le}:${je(ae,!1)}`)}),q.length>0?`${I}(${q.join("//")})`:I}{const I=function Nt(B,O){let I=[];return Tn(B.children,(q,ae)=>{ae===cn&&(I=I.concat(O(q,ae)))}),Tn(B.children,(q,ae)=>{ae!==cn&&(I=I.concat(O(q,ae)))}),I}(B,(q,ae)=>ae===cn?[je(B.children[cn],!1)]:[`${ae}:${je(q,!1)}`]);return 1===Object.keys(B.children).length&&null!=B.children[cn]?`${Ye(B)}/${I[0]}`:`${Ye(B)}/(${I.join("//")})`}}function nt(B){return encodeURIComponent(B).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yt(B){return nt(B).replace(/%3B/gi,";")}function Jn(B){return nt(B).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Un(B){return decodeURIComponent(B)}function vr(B){return Un(B.replace(/\+/g,"%20"))}function Kr(B){return`${Jn(B.path)}${function li(B){return Object.keys(B).map(O=>`;${Jn(O)}=${Jn(B[O])}`).join("")}(B.parameters)}`}const Xr=/^[^\/()?;=#]+/;function _r(B){const O=B.match(Xr);return O?O[0]:""}const gi=/^[^=?&#]+/,Mn=/^[^&#]+/;class $t{constructor(O){this.url=O,this.remaining=O}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const O={};if(this.consumeOptional("?"))do{this.parseQueryParam(O)}while(this.consumeOptional("&"));return O}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const O=[];for(this.peekStartsWith("(")||O.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),O.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let q={};return this.peekStartsWith("(")&&(q=this.parseParens(!1)),(O.length>0||Object.keys(I).length>0)&&(q[cn]=new Se(O,I)),q}parseSegment(){const O=_r(this.remaining);if(""===O&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(O),new ht(Un(O),this.parseMatrixParams())}parseMatrixParams(){const O={};for(;this.consumeOptional(";");)this.parseParam(O);return O}parseParam(O){const I=_r(this.remaining);if(!I)return;this.capture(I);let q="";if(this.consumeOptional("=")){const ae=_r(this.remaining);ae&&(q=ae,this.capture(q))}O[Un(I)]=Un(q)}parseQueryParam(O){const I=function Nr(B){const O=B.match(gi);return O?O[0]:""}(this.remaining);if(!I)return;this.capture(I);let q="";if(this.consumeOptional("=")){const Ve=function ft(B){const O=B.match(Mn);return O?O[0]:""}(this.remaining);Ve&&(q=Ve,this.capture(q))}const ae=vr(I),Le=vr(q);if(O.hasOwnProperty(ae)){let Ve=O[ae];Array.isArray(Ve)||(Ve=[Ve],O[ae]=Ve),Ve.push(Le)}else O[ae]=Le}parseParens(O){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const q=_r(this.remaining),ae=this.remaining[q.length];if("/"!==ae&&")"!==ae&&";"!==ae)throw new Error(`Cannot parse url '${this.url}'`);let Le;q.indexOf(":")>-1?(Le=q.substr(0,q.indexOf(":")),this.capture(Le),this.capture(":")):O&&(Le=cn);const Ve=this.parseChildren();I[Le]=1===Object.keys(Ve).length?Ve[cn]:new Se([],Ve),this.consumeOptional("//")}return I}peekStartsWith(O){return this.remaining.startsWith(O)}consumeOptional(O){return!!this.peekStartsWith(O)&&(this.remaining=this.remaining.substring(O.length),!0)}capture(O){if(!this.consumeOptional(O))throw new Error(`Expected "${O}".`)}}class yn{constructor(O){this._root=O}get root(){return this._root.value}parent(O){const I=this.pathFromRoot(O);return I.length>1?I[I.length-2]:null}children(O){const I=$n(O,this._root);return I?I.children.map(q=>q.value):[]}firstChild(O){const I=$n(O,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(O){const I=gr(O,this._root);return I.length<2?[]:I[I.length-2].children.map(ae=>ae.value).filter(ae=>ae!==O)}pathFromRoot(O){return gr(O,this._root).map(I=>I.value)}}function $n(B,O){if(B===O.value)return O;for(const I of O.children){const q=$n(B,I);if(q)return q}return null}function gr(B,O){if(B===O.value)return[O];for(const I of O.children){const q=gr(B,I);if(q.length)return q.unshift(O),q}return[]}class Et{constructor(O,I){this.value=O,this.children=I}toString(){return`TreeNode(${this.value})`}}function gt(B){const O={};return B&&B.children.forEach(I=>O[I.value.outlet]=I),O}class Ut extends yn{constructor(O,I){super(O),this.snapshot=I,hi(this,O)}toString(){return this.snapshot.toString()}}function Vn(B,O){const I=function An(B,O){const Ve=new ui([],{},{},"",{},cn,O,null,B.root,-1,{});return new Yr("",new Et(Ve,[]))}(B,O),q=new ee.X([new ht("",{})]),ae=new ee.X({}),Le=new ee.X({}),Ve=new ee.X({}),vt=new ee.X(""),fn=new kr(q,ae,Ve,vt,Le,cn,O,I.root);return fn.snapshot=I.root,new Ut(new Et(fn,[]),I)}class kr{constructor(O,I,q,ae,Le,Ve,vt,fn){this.url=O,this.params=I,this.queryParams=q,this.fragment=ae,this.data=Le,this.outlet=Ve,this.component=vt,this._futureSnapshot=fn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(O=>dr(O)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(O=>dr(O)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ni(B,O="emptyOnly"){const I=B.pathFromRoot;let q=0;if("always"!==O)for(q=I.length-1;q>=1;){const ae=I[q],Le=I[q-1];if(ae.routeConfig&&""===ae.routeConfig.path)q--;else{if(Le.component)break;q--}}return function Ai(B){return B.reduce((O,I)=>({params:Object.assign(Object.assign({},O.params),I.params),data:Object.assign(Object.assign({},O.data),I.data),resolve:Object.assign(Object.assign({},O.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(q))}class ui{constructor(O,I,q,ae,Le,Ve,vt,fn,or,Fn,Ln){this.url=O,this.params=I,this.queryParams=q,this.fragment=ae,this.data=Le,this.outlet=Ve,this.component=vt,this.routeConfig=fn,this._urlSegment=or,this._lastPathIndex=Fn,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(q=>q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yr extends yn{constructor(O,I){super(I),this.url=O,hi(this,I)}toString(){return vi(this._root)}}function hi(B,O){O.value._routerState=B,O.children.forEach(I=>hi(B,I))}function vi(B){const O=B.children.length>0?` { ${B.children.map(vi).join(", ")} } `:"";return`${B.value}${O}`}function ri(B){if(B.snapshot){const O=B.snapshot,I=B._futureSnapshot;B.snapshot=I,Bt(O.queryParams,I.queryParams)||B.queryParams.next(I.queryParams),O.fragment!==I.fragment&&B.fragment.next(I.fragment),Bt(O.params,I.params)||B.params.next(I.params),function Ke(B,O){if(B.length!==O.length)return!1;for(let I=0;I<B.length;++I)if(!Bt(B[I],O[I]))return!1;return!0}(O.url,I.url)||B.url.next(I.url),Bt(O.data,I.data)||B.data.next(I.data)}else B.snapshot=B._futureSnapshot,B.data.next(B._futureSnapshot.data)}function Ir(B,O){const I=Bt(B.params,O.params)&&function Gt(B,O){return de(B,O)&&B.every((I,q)=>Bt(I.parameters,O[q].parameters))}(B.url,O.url);return I&&!(!B.parent!=!O.parent)&&(!B.parent||Ir(B.parent,O.parent))}function Hi(B,O,I){if(I&&B.shouldReuseRoute(O.value,I.value.snapshot)){const q=I.value;q._futureSnapshot=O.value;const ae=function ii(B,O,I){return O.children.map(q=>{for(const ae of I.children)if(B.shouldReuseRoute(q.value,ae.value.snapshot))return Hi(B,q,ae);return Hi(B,q)})}(B,O,I);return new Et(q,ae)}{if(B.shouldAttach(O.value)){const Le=B.retrieve(O.value);if(null!==Le){const Ve=Le.route;return Ve.value._futureSnapshot=O.value,Ve.children=O.children.map(vt=>Hi(B,vt)),Ve}}const q=function Di(B){return new kr(new ee.X(B.url),new ee.X(B.params),new ee.X(B.queryParams),new ee.X(B.fragment),new ee.X(B.data),B.outlet,B.component,B)}(O.value),ae=O.children.map(Le=>Hi(B,Le));return new Et(q,ae)}}function Wi(B){return"object"==typeof B&&null!=B&&!B.outlets&&!B.segmentPath}function _i(B){return"object"==typeof B&&null!=B&&B.outlets}function Ei(B,O,I,q,ae){let Le={};if(q&&Tn(q,(vt,fn)=>{Le[fn]=Array.isArray(vt)?vt.map(or=>`${or}`):`${vt}`}),B===O)return new U(I,Le,ae);const Ve=gs(B,O,I);return new U(Ve,Le,ae)}function gs(B,O,I){const q={};return Tn(B.children,(ae,Le)=>{q[Le]=ae===O?I:gs(ae,O,I)}),new Se(B.segments,q)}class ss{constructor(O,I,q){if(this.isAbsolute=O,this.numberOfDoubleDots=I,this.commands=q,O&&q.length>0&&Wi(q[0]))throw new Error("Root segment cannot have matrix parameters");const ae=q.find(_i);if(ae&&ae!==en(q))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class di{constructor(O,I,q){this.segmentGroup=O,this.processChildren=I,this.index=q}}function Lt(B,O,I){if(B||(B=new Se([],{})),0===B.segments.length&&B.hasChildren())return hn(B,O,I);const q=function jn(B,O,I){let q=0,ae=O;const Le={match:!1,pathIndex:0,commandIndex:0};for(;ae<B.segments.length;){if(q>=I.length)return Le;const Ve=B.segments[ae],vt=I[q];if(_i(vt))break;const fn=`${vt}`,or=q<I.length-1?I[q+1]:null;if(ae>0&&void 0===fn)break;if(fn&&or&&"object"==typeof or&&void 0===or.outlets){if(!Qr(fn,or,Ve))return Le;q+=2}else{if(!Qr(fn,{},Ve))return Le;q++}ae++}return{match:!0,pathIndex:ae,commandIndex:q}}(B,O,I),ae=I.slice(q.commandIndex);if(q.match&&q.pathIndex<B.segments.length){const Le=new Se(B.segments.slice(0,q.pathIndex),{});return Le.children[cn]=new Se(B.segments.slice(q.pathIndex),B.children),hn(Le,0,ae)}return q.match&&0===ae.length?new Se(B.segments,{}):q.match&&!B.hasChildren()?er(B,O,I):q.match?hn(B,0,ae):er(B,O,I)}function hn(B,O,I){if(0===I.length)return new Se(B.segments,{});{const q=function Ot(B){return _i(B[0])?B[0].outlets:{[cn]:B}}(I),ae={};return Tn(q,(Le,Ve)=>{"string"==typeof Le&&(Le=[Le]),null!==Le&&(ae[Ve]=Lt(B.children[Ve],O,Le))}),Tn(B.children,(Le,Ve)=>{void 0===q[Ve]&&(ae[Ve]=Le)}),new Se(B.segments,ae)}}function er(B,O,I){const q=B.segments.slice(0,O);let ae=0;for(;ae<I.length;){const Le=I[ae];if(_i(Le)){const fn=Ur(Le.outlets);return new Se(q,fn)}if(0===ae&&Wi(I[0])){q.push(new ht(B.segments[O].path,mi(I[0]))),ae++;continue}const Ve=_i(Le)?Le.outlets[cn]:`${Le}`,vt=ae<I.length-1?I[ae+1]:null;Ve&&vt&&Wi(vt)?(q.push(new ht(Ve,mi(vt))),ae+=2):(q.push(new ht(Ve,{})),ae++)}return new Se(q,{})}function Ur(B){const O={};return Tn(B,(I,q)=>{"string"==typeof I&&(I=[I]),null!==I&&(O[q]=er(new Se([],{}),0,I))}),O}function mi(B){const O={};return Tn(B,(I,q)=>O[q]=`${I}`),O}function Qr(B,O,I){return B==I.path&&Bt(O,I.parameters)}class ms{constructor(O,I,q,ae){this.routeReuseStrategy=O,this.futureState=I,this.currState=q,this.forwardEvent=ae}activate(O){const I=this.futureState._root,q=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,q,O),ri(this.futureState.root),this.activateChildRoutes(I,q,O)}deactivateChildRoutes(O,I,q){const ae=gt(I);O.children.forEach(Le=>{const Ve=Le.value.outlet;this.deactivateRoutes(Le,ae[Ve],q),delete ae[Ve]}),Tn(ae,(Le,Ve)=>{this.deactivateRouteAndItsChildren(Le,q)})}deactivateRoutes(O,I,q){const ae=O.value,Le=I?I.value:null;if(ae===Le)if(ae.component){const Ve=q.getContext(ae.outlet);Ve&&this.deactivateChildRoutes(O,I,Ve.children)}else this.deactivateChildRoutes(O,I,q);else Le&&this.deactivateRouteAndItsChildren(I,q)}deactivateRouteAndItsChildren(O,I){O.value.component&&this.routeReuseStrategy.shouldDetach(O.value.snapshot)?this.detachAndStoreRouteSubtree(O,I):this.deactivateRouteAndOutlet(O,I)}detachAndStoreRouteSubtree(O,I){const q=I.getContext(O.value.outlet),ae=q&&O.value.component?q.children:I,Le=gt(O);for(const Ve of Object.keys(Le))this.deactivateRouteAndItsChildren(Le[Ve],ae);if(q&&q.outlet){const Ve=q.outlet.detach(),vt=q.children.onOutletDeactivated();this.routeReuseStrategy.store(O.value.snapshot,{componentRef:Ve,route:O,contexts:vt})}}deactivateRouteAndOutlet(O,I){const q=I.getContext(O.value.outlet),ae=q&&O.value.component?q.children:I,Le=gt(O);for(const Ve of Object.keys(Le))this.deactivateRouteAndItsChildren(Le[Ve],ae);q&&q.outlet&&(q.outlet.deactivate(),q.children.onOutletDeactivated(),q.attachRef=null,q.resolver=null,q.route=null)}activateChildRoutes(O,I,q){const ae=gt(I);O.children.forEach(Le=>{this.activateRoutes(Le,ae[Le.value.outlet],q),this.forwardEvent(new Wr(Le.value.snapshot))}),O.children.length&&this.forwardEvent(new Kn(O.value.snapshot))}activateRoutes(O,I,q){const ae=O.value,Le=I?I.value:null;if(ri(ae),ae===Le)if(ae.component){const Ve=q.getOrCreateContext(ae.outlet);this.activateChildRoutes(O,I,Ve.children)}else this.activateChildRoutes(O,I,q);else if(ae.component){const Ve=q.getOrCreateContext(ae.outlet);if(this.routeReuseStrategy.shouldAttach(ae.snapshot)){const vt=this.routeReuseStrategy.retrieve(ae.snapshot);this.routeReuseStrategy.store(ae.snapshot,null),Ve.children.onOutletReAttached(vt.contexts),Ve.attachRef=vt.componentRef,Ve.route=vt.route.value,Ve.outlet&&Ve.outlet.attach(vt.componentRef,vt.route.value),ri(vt.route.value),this.activateChildRoutes(O,null,Ve.children)}else{const vt=function os(B){for(let O=B.parent;O;O=O.parent){const I=O.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(ae.snapshot),fn=vt?vt.module.componentFactoryResolver:null;Ve.attachRef=null,Ve.route=ae,Ve.resolver=fn,Ve.outlet&&Ve.outlet.activateWith(ae,fn),this.activateChildRoutes(O,null,Ve.children)}}else this.activateChildRoutes(O,null,q)}}class pi{constructor(O,I){this.routes=O,this.module=I}}function Ii(B){return"function"==typeof B}function Qi(B){return B instanceof U}const Ti=Symbol("INITIAL_VALUE");function Zi(){return(0,Ue.w)(B=>(0,ce.a)(B.map(O=>O.pipe((0,rt.q)(1),(0,ze.O)(Ti)))).pipe((0,J.R)((O,I)=>{let q=!1;return I.reduce((ae,Le,Ve)=>ae!==Ti?ae:(Le===Ti&&(q=!0),q||!1!==Le&&Ve!==I.length-1&&!Qi(Le)?ae:Le),O)},Ti),(0,Ie.h)(O=>O!==Ti),(0,Te.U)(O=>Qi(O)?O:!0===O),(0,rt.q)(1)))}class Ps{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vs,this.attachRef=null}}class vs{constructor(){this.contexts=new Map}onChildOutletCreated(O,I){const q=this.getOrCreateContext(O);q.outlet=I,this.contexts.set(O,q)}onChildOutletDestroyed(O){const I=this.getContext(O);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let I=this.getContext(O);return I||(I=new Ps,this.contexts.set(O,I)),I}getContext(O){return this.contexts.get(O)||null}}let Fs=(()=>{class B{constructor(I,q,ae,Le,Ve){this.parentContexts=I,this.location=q,this.resolver=ae,this.changeDetector=Ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=Le||cn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,q){this.activated=I,this._activatedRoute=q,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const Ve=(q=q||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),vt=this.parentContexts.getOrCreateContext(this.name).children,fn=new zi(I,vt,this.location.injector);this.activated=this.location.createComponent(Ve,this.location.length,fn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return B.\u0275fac=function(I){return new(I||B)(u.Y36(vs),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},B.\u0275dir=u.lG2({type:B,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),B})();class zi{constructor(O,I,q){this.route=O,this.childContexts=I,this.parent=q}get(O,I){return O===kr?this.route:O===vs?this.childContexts:this.parent.get(O,I)}}let Me=(()=>{class B{}return B.\u0275fac=function(I){return new(I||B)},B.\u0275cmp=u.Xpm({type:B,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,q){1&I&&u._UZ(0,"router-outlet")},directives:[Fs],encapsulation:2}),B})();function ne(B,O=""){for(let I=0;I<B.length;I++){const q=B[I];Q(q,se(O,q))}}function Q(B,O){B.children&&ne(B.children,O)}function se(B,O){return O?B||O.path?B&&!O.path?`${B}/`:!B&&O.path?O.path:`${B}/${O.path}`:"":B}function C(B){const O=B.children&&B.children.map(C),I=O?Object.assign(Object.assign({},B),{children:O}):Object.assign({},B);return!I.component&&(O||I.loadChildren)&&I.outlet&&I.outlet!==cn&&(I.component=Me),I}function g(B){return B.outlet||cn}function E(B,O){const I=B.filter(q=>g(q)===O);return I.push(...B.filter(q=>g(q)!==O)),I}const V={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K(B,O,I){var q;if(""===O.path)return"full"===O.pathMatch&&(B.hasChildren()||I.length>0)?Object.assign({},V):{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const Le=(O.matcher||Ne)(I,B,O);if(!Le)return Object.assign({},V);const Ve={};Tn(Le.posParams,(fn,or)=>{Ve[or]=fn.path});const vt=Le.consumed.length>0?Object.assign(Object.assign({},Ve),Le.consumed[Le.consumed.length-1].parameters):Ve;return{matched:!0,consumedSegments:Le.consumed,remainingSegments:I.slice(Le.consumed.length),parameters:vt,positionalParamSegments:null!==(q=Le.posParams)&&void 0!==q?q:{}}}function ye(B,O,I,q,ae="corrected"){if(I.length>0&&function Ct(B,O,I){return I.some(q=>F(B,O,q)&&g(q)!==cn)}(B,I,q)){const Ve=new Se(O,function Dt(B,O,I,q){const ae={};ae[cn]=q,q._sourceSegment=B,q._segmentIndexShift=O.length;for(const Le of I)if(""===Le.path&&g(Le)!==cn){const Ve=new Se([],{});Ve._sourceSegment=B,Ve._segmentIndexShift=O.length,ae[g(Le)]=Ve}return ae}(B,O,q,new Se(I,B.children)));return Ve._sourceSegment=B,Ve._segmentIndexShift=O.length,{segmentGroup:Ve,slicedSegments:[]}}if(0===I.length&&function It(B,O,I){return I.some(q=>F(B,O,q))}(B,I,q)){const Ve=new Se(B.segments,function et(B,O,I,q,ae,Le){const Ve={};for(const vt of q)if(F(B,I,vt)&&!ae[g(vt)]){const fn=new Se([],{});fn._sourceSegment=B,fn._segmentIndexShift="legacy"===Le?B.segments.length:O.length,Ve[g(vt)]=fn}return Object.assign(Object.assign({},ae),Ve)}(B,O,I,q,B.children,ae));return Ve._sourceSegment=B,Ve._segmentIndexShift=O.length,{segmentGroup:Ve,slicedSegments:I}}const Le=new Se(B.segments,B.children);return Le._sourceSegment=B,Le._segmentIndexShift=O.length,{segmentGroup:Le,slicedSegments:I}}function F(B,O,I){return(!(B.hasChildren()||O.length>0)||"full"!==I.pathMatch)&&""===I.path}function X(B,O,I,q){return!!(g(B)===q||q!==cn&&F(O,I,B))&&("**"===B.path||K(O,B,I).matched)}function k(B,O,I){return 0===O.length&&!B.children[I]}class ge{constructor(O){this.segmentGroup=O||null}}class We{constructor(O){this.urlTree=O}}function pt(B){return(0,me._)(new ge(B))}function Pt(B){return(0,me._)(new We(B))}class ir{constructor(O,I,q,ae,Le){this.configLoader=I,this.urlSerializer=q,this.urlTree=ae,this.config=Le,this.allowRedirects=!0,this.ngModule=O.get(u.h0i)}apply(){const O=ye(this.urlTree.root,[],[],this.config).segmentGroup,I=new Se(O.segments,O.children);return this.expandSegmentGroup(this.ngModule,this.config,I,cn).pipe((0,Te.U)(Le=>this.createUrlTree(wr(Le),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,re.K)(Le=>{if(Le instanceof We)return this.allowRedirects=!1,this.match(Le.urlTree);throw Le instanceof ge?this.noMatchError(Le):Le}))}match(O){return this.expandSegmentGroup(this.ngModule,this.config,O.root,cn).pipe((0,Te.U)(ae=>this.createUrlTree(wr(ae),O.queryParams,O.fragment))).pipe((0,re.K)(ae=>{throw ae instanceof ge?this.noMatchError(ae):ae}))}noMatchError(O){return new Error(`Cannot match any routes. URL Segment: '${O.segmentGroup}'`)}createUrlTree(O,I,q){const ae=O.segments.length>0?new Se([],{[cn]:O}):O;return new U(ae,I,q)}expandSegmentGroup(O,I,q,ae){return 0===q.segments.length&&q.hasChildren()?this.expandChildren(O,I,q).pipe((0,Te.U)(Le=>new Se([],Le))):this.expandSegment(O,q,I,q.segments,ae,!0)}expandChildren(O,I,q){const ae=[];for(const Le of Object.keys(q.children))"primary"===Le?ae.unshift(Le):ae.push(Le);return(0,_.D)(ae).pipe((0,Ce.b)(Le=>{const Ve=q.children[Le],vt=E(I,Le);return this.expandSegmentGroup(O,vt,Ve,Le).pipe((0,Te.U)(fn=>({segment:fn,outlet:Le})))}),(0,J.R)((Le,Ve)=>(Le[Ve.outlet]=Ve.segment,Le),{}),function qe(B,O){const I=arguments.length>=2;return q=>q.pipe(B?(0,Ie.h)((ae,Le)=>B(ae,Le,q)):xt.y,ke(1),I?(0,Be.d)(O):(0,Qe.T)(()=>new Pe.K))}())}expandSegment(O,I,q,ae,Le,Ve){return(0,_.D)(q).pipe((0,Ce.b)(vt=>this.expandSegmentAgainstRoute(O,I,q,vt,ae,Le,Ve).pipe((0,re.K)(or=>{if(or instanceof ge)return(0,S.of)(null);throw or}))),(0,He.P)(vt=>!!vt),(0,re.K)((vt,fn)=>{if(vt instanceof Pe.K||"EmptyError"===vt.name)return k(I,ae,Le)?(0,S.of)(new Se([],{})):pt(I);throw vt}))}expandSegmentAgainstRoute(O,I,q,ae,Le,Ve,vt){return X(ae,I,Le,Ve)?void 0===ae.redirectTo?this.matchSegmentAgainstRoute(O,I,ae,Le,Ve):vt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(O,I,q,ae,Le,Ve):pt(I):pt(I)}expandSegmentAgainstRouteUsingRedirect(O,I,q,ae,Le,Ve){return"**"===ae.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(O,q,ae,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(O,I,q,ae,Le,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(O,I,q,ae){const Le=this.applyRedirectCommands([],q.redirectTo,{});return q.redirectTo.startsWith("/")?Pt(Le):this.lineralizeSegments(q,Le).pipe((0,Je.z)(Ve=>{const vt=new Se(Ve,{});return this.expandSegment(O,vt,I,Ve,ae,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(O,I,q,ae,Le,Ve){const{matched:vt,consumedSegments:fn,remainingSegments:or,positionalParamSegments:Fn}=K(I,ae,Le);if(!vt)return pt(I);const Ln=this.applyRedirectCommands(fn,ae.redirectTo,Fn);return ae.redirectTo.startsWith("/")?Pt(Ln):this.lineralizeSegments(ae,Ln).pipe((0,Je.z)(Si=>this.expandSegment(O,I,q,Si.concat(or),Ve,!1)))}matchSegmentAgainstRoute(O,I,q,ae,Le){if("**"===q.path)return q.loadChildren?(q._loadedConfig?(0,S.of)(q._loadedConfig):this.configLoader.load(O.injector,q)).pipe((0,Te.U)(Ln=>(q._loadedConfig=Ln,new Se(ae,{})))):(0,S.of)(new Se(ae,{}));const{matched:Ve,consumedSegments:vt,remainingSegments:fn}=K(I,q,ae);return Ve?this.getChildConfig(O,q,ae).pipe((0,Je.z)(Fn=>{const Ln=Fn.module,Si=Fn.routes,{segmentGroup:kn,slicedSegments:nn}=ye(I,vt,fn,Si),On=new Se(kn.segments,kn.children);if(0===nn.length&&On.hasChildren())return this.expandChildren(Ln,Si,On).pipe((0,Te.U)(Sa=>new Se(vt,Sa)));if(0===Si.length&&0===nn.length)return(0,S.of)(new Se(vt,{}));const rs=g(q)===Le;return this.expandSegment(Ln,On,Si,nn,rs?cn:Le,!0).pipe((0,Te.U)(Ko=>new Se(vt.concat(Ko.segments),Ko.children)))})):pt(I)}getChildConfig(O,I,q){return I.children?(0,S.of)(new pi(I.children,O)):I.loadChildren?void 0!==I._loadedConfig?(0,S.of)(I._loadedConfig):this.runCanLoadGuards(O.injector,I,q).pipe((0,Je.z)(ae=>ae?this.configLoader.load(O.injector,I).pipe((0,Te.U)(Le=>(I._loadedConfig=Le,Le))):function fr(B){return(0,me._)(on(`Cannot load children because the guard of the route "path: '${B.path}'" returned false`))}(I))):(0,S.of)(new pi([],O))}runCanLoadGuards(O,I,q){const ae=I.canLoad;if(!ae||0===ae.length)return(0,S.of)(!0);const Le=ae.map(Ve=>{const vt=O.get(Ve);let fn;if(function Js(B){return B&&Ii(B.canLoad)}(vt))fn=vt.canLoad(I,q);else{if(!Ii(vt))throw new Error("Invalid CanLoad guard");fn=vt(I,q)}return Rn(fn)});return(0,S.of)(Le).pipe(Zi(),(0,ut.b)(Ve=>{if(!Qi(Ve))return;const vt=on(`Redirecting to "${this.urlSerializer.serialize(Ve)}"`);throw vt.url=Ve,vt}),(0,Te.U)(Ve=>!0===Ve))}lineralizeSegments(O,I){let q=[],ae=I.root;for(;;){if(q=q.concat(ae.segments),0===ae.numberOfChildren)return(0,S.of)(q);if(ae.numberOfChildren>1||!ae.children[cn])return(0,me._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${O.redirectTo}'`));ae=ae.children[cn]}}applyRedirectCommands(O,I,q){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),O,q)}applyRedirectCreatreUrlTree(O,I,q,ae){const Le=this.createSegmentGroup(O,I.root,q,ae);return new U(Le,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(O,I){const q={};return Tn(O,(ae,Le)=>{if("string"==typeof ae&&ae.startsWith(":")){const vt=ae.substring(1);q[Le]=I[vt]}else q[Le]=ae}),q}createSegmentGroup(O,I,q,ae){const Le=this.createSegments(O,I.segments,q,ae);let Ve={};return Tn(I.children,(vt,fn)=>{Ve[fn]=this.createSegmentGroup(O,vt,q,ae)}),new Se(Le,Ve)}createSegments(O,I,q,ae){return I.map(Le=>Le.path.startsWith(":")?this.findPosParam(O,Le,ae):this.findOrReturn(Le,q))}findPosParam(O,I,q){const ae=q[I.path.substring(1)];if(!ae)throw new Error(`Cannot redirect to '${O}'. Cannot find '${I.path}'.`);return ae}findOrReturn(O,I){let q=0;for(const ae of I){if(ae.path===O.path)return I.splice(q),ae;q++}return O}}function wr(B){const O={};for(const q of Object.keys(B.children)){const Le=wr(B.children[q]);(Le.segments.length>0||Le.hasChildren())&&(O[q]=Le)}return function lr(B){if(1===B.numberOfChildren&&B.children[cn]){const O=B.children[cn];return new Se(B.segments.concat(O.segments),O.children)}return B}(new Se(B.segments,O))}class qr{constructor(O){this.path=O,this.route=this.path[this.path.length-1]}}class Y{constructor(O,I){this.component=O,this.route=I}}function G(B,O,I){const q=B._root;return Yn(q,O?O._root:null,I,[q.value])}function Re(B,O,I){const q=function sn(B){if(!B)return null;for(let O=B.parent;O;O=O.parent){const I=O.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(O);return(q?q.module.injector:I).get(B)}function Yn(B,O,I,q,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Le=gt(O);return B.children.forEach(Ve=>{(function ci(B,O,I,q,ae={canDeactivateChecks:[],canActivateChecks:[]}){const Le=B.value,Ve=O?O.value:null,vt=I?I.getContext(B.value.outlet):null;if(Ve&&Le.routeConfig===Ve.routeConfig){const fn=function Xi(B,O,I){if("function"==typeof I)return I(B,O);switch(I){case"pathParamsChange":return!de(B.url,O.url);case"pathParamsOrQueryParamsChange":return!de(B.url,O.url)||!Bt(B.queryParams,O.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ir(B,O)||!Bt(B.queryParams,O.queryParams);default:return!Ir(B,O)}}(Ve,Le,Le.routeConfig.runGuardsAndResolvers);fn?ae.canActivateChecks.push(new qr(q)):(Le.data=Ve.data,Le._resolvedData=Ve._resolvedData),Yn(B,O,Le.component?vt?vt.children:null:I,q,ae),fn&&vt&&vt.outlet&&vt.outlet.isActivated&&ae.canDeactivateChecks.push(new Y(vt.outlet.component,Ve))}else Ve&&Ui(O,vt,ae),ae.canActivateChecks.push(new qr(q)),Yn(B,null,Le.component?vt?vt.children:null:I,q,ae)})(Ve,Le[Ve.value.outlet],I,q.concat([Ve.value]),ae),delete Le[Ve.value.outlet]}),Tn(Le,(Ve,vt)=>Ui(Ve,I.getContext(vt),ae)),ae}function Ui(B,O,I){const q=gt(B),ae=B.value;Tn(q,(Le,Ve)=>{Ui(Le,ae.component?O?O.children.getContext(Ve):null:O,I)}),I.canDeactivateChecks.push(new Y(ae.component&&O&&O.outlet&&O.outlet.isActivated?O.outlet.component:null,ae))}class mo{}function ko(B){return new $.y(O=>O.error(B))}class No{constructor(O,I,q,ae,Le,Ve){this.rootComponentType=O,this.config=I,this.urlTree=q,this.url=ae,this.paramsInheritanceStrategy=Le,this.relativeLinkResolution=Ve}recognize(){const O=ye(this.urlTree.root,[],[],this.config.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,O,cn);if(null===I)return null;const q=new ui([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),ae=new Et(q,I),Le=new Yr(this.url,ae);return this.inheritParamsAndData(Le._root),Le}inheritParamsAndData(O){const I=O.value,q=ni(I,this.paramsInheritanceStrategy);I.params=Object.freeze(q.params),I.data=Object.freeze(q.data),O.children.forEach(ae=>this.inheritParamsAndData(ae))}processSegmentGroup(O,I,q){return 0===I.segments.length&&I.hasChildren()?this.processChildren(O,I):this.processSegment(O,I,I.segments,q)}processChildren(O,I){const q=[];for(const Le of Object.keys(I.children)){const Ve=I.children[Le],vt=E(O,Le),fn=this.processSegmentGroup(vt,Ve,Le);if(null===fn)return null;q.push(...fn)}const ae=Hs(q);return function ro(B){B.sort((O,I)=>O.value.outlet===cn?-1:I.value.outlet===cn?1:O.value.outlet.localeCompare(I.value.outlet))}(ae),ae}processSegment(O,I,q,ae){for(const Le of O){const Ve=this.processSegmentAgainstRoute(Le,I,q,ae);if(null!==Ve)return Ve}return k(I,q,ae)?[]:null}processSegmentAgainstRoute(O,I,q,ae){if(O.redirectTo||!X(O,I,q,ae))return null;let Le,Ve=[],vt=[];if("**"===O.path){const kn=q.length>0?en(q).parameters:{};Le=new ui(q,kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,A(O),g(O),O.component,O,be(I),b(I)+q.length,H(O))}else{const kn=K(I,O,q);if(!kn.matched)return null;Ve=kn.consumedSegments,vt=kn.remainingSegments,Le=new ui(Ve,kn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,A(O),g(O),O.component,O,be(I),b(I)+Ve.length,H(O))}const fn=function io(B){return B.children?B.children:B.loadChildren?B._loadedConfig.routes:[]}(O),{segmentGroup:or,slicedSegments:Fn}=ye(I,Ve,vt,fn.filter(kn=>void 0===kn.redirectTo),this.relativeLinkResolution);if(0===Fn.length&&or.hasChildren()){const kn=this.processChildren(fn,or);return null===kn?null:[new Et(Le,kn)]}if(0===fn.length&&0===Fn.length)return[new Et(Le,[])];const Ln=g(O)===ae,Si=this.processSegment(fn,or,Fn,Ln?cn:ae);return null===Si?null:[new Et(Le,Si)]}}function Ki(B){const O=B.value.routeConfig;return O&&""===O.path&&void 0===O.redirectTo}function Hs(B){const O=[],I=new Set;for(const q of B){if(!Ki(q)){O.push(q);continue}const ae=O.find(Le=>q.value.routeConfig===Le.value.routeConfig);void 0!==ae?(ae.children.push(...q.children),I.add(ae)):O.push(q)}for(const q of I){const ae=Hs(q.children);O.push(new Et(q.value,ae))}return O.filter(q=>!I.has(q))}function be(B){let O=B;for(;O._sourceSegment;)O=O._sourceSegment;return O}function b(B){let O=B,I=O._segmentIndexShift?O._segmentIndexShift:0;for(;O._sourceSegment;)O=O._sourceSegment,I+=O._segmentIndexShift?O._segmentIndexShift:0;return I-1}function A(B){return B.data||{}}function H(B){return B.resolve||{}}function zt(B){return[...Object.keys(B),...Object.getOwnPropertySymbols(B)]}function nr(B){return(0,Ue.w)(O=>{const I=B(O);return I?(0,_.D)(I).pipe((0,Te.U)(()=>O)):(0,S.of)(O)})}class Zr extends class Tr{shouldDetach(O){return!1}store(O,I){}shouldAttach(O){return!1}retrieve(O){return null}shouldReuseRoute(O,I){return O.routeConfig===I.routeConfig}}{}const pr=new u.OlP("ROUTES");class xr{constructor(O,I,q,ae){this.injector=O,this.compiler=I,this.onLoadStartListener=q,this.onLoadEndListener=ae}load(O,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const ae=this.loadModuleFactory(I.loadChildren).pipe((0,Te.U)(Le=>{this.onLoadEndListener&&this.onLoadEndListener(I);const Ve=Le.create(O);return new pi(Yt(Ve.injector.get(pr,void 0,u.XFs.Self|u.XFs.Optional)).map(C),Ve)}),(0,re.K)(Le=>{throw I._loader$=void 0,Le}));return I._loader$=new oe.c(ae,()=>new Fe.x).pipe((0,ot.x)()),I._loader$}loadModuleFactory(O){return Rn(O()).pipe((0,Je.z)(I=>I instanceof u.YKP?(0,S.of)(I):(0,_.D)(this.compiler.compileModuleAsync(I))))}}class Ri{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,I){return O}}function ji(B){throw B}function as(B,O,I){return O.parse("/")}function si(B,O){return(0,S.of)(null)}const xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class B{constructor(I,q,ae,Le,Ve,vt,fn){this.rootComponentType=I,this.urlSerializer=q,this.rootContexts=ae,this.location=Le,this.config=fn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe.x,this.errorHandler=ji,this.malformedUriErrorHandler=as,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:si,afterPreactivation:si},this.urlHandlingStrategy=new Ri,this.routeReuseStrategy=new Zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ve.get(u.h0i),this.console=Ve.get(u.c2e);const Ln=Ve.get(u.R0b);this.isNgZoneEnabled=Ln instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(fn),this.currentUrlTree=function Wn(){return new U(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xr(Ve,vt,Si=>this.triggerEvent(new In(Si)),Si=>this.triggerEvent(new Gn(Si))),this.routerState=Vn(this.currentUrlTree,this.rootComponentType),this.transitions=new ee.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const q=this.events;return I.pipe((0,Ie.h)(ae=>0!==ae.id),(0,Te.U)(ae=>Object.assign(Object.assign({},ae),{extractedUrl:this.urlHandlingStrategy.extract(ae.rawUrl)})),(0,Ue.w)(ae=>{let Le=!1,Ve=!1;return(0,S.of)(ae).pipe((0,ut.b)(vt=>{this.currentNavigation={id:vt.id,initialUrl:vt.currentRawUrl,extractedUrl:vt.extractedUrl,trigger:vt.source,extras:vt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ue.w)(vt=>{const fn=this.browserUrlTree.toString(),or=!this.navigated||vt.extractedUrl.toString()!==fn||fn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||or)&&this.urlHandlingStrategy.shouldProcessUrl(vt.rawUrl))return Ys(vt.source)&&(this.browserUrlTree=vt.extractedUrl),(0,S.of)(vt).pipe((0,Ue.w)(Ln=>{const Si=this.transitions.getValue();return q.next(new mt(Ln.id,this.serializeUrl(Ln.extractedUrl),Ln.source,Ln.restoredState)),Si!==this.transitions.getValue()?ie.E:Promise.resolve(Ln)}),function Dr(B,O,I,q){return(0,Ue.w)(ae=>function Zn(B,O,I,q,ae){return new ir(B,O,I,q,ae).apply()}(B,O,I,ae.extractedUrl,q).pipe((0,Te.U)(Le=>Object.assign(Object.assign({},ae),{urlAfterRedirects:Le}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ut.b)(Ln=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ln.urlAfterRedirects})}),function xe(B,O,I,q,ae){return(0,Je.z)(Le=>function xa(B,O,I,q,ae="emptyOnly",Le="legacy"){try{const Ve=new No(B,O,I,q,ae,Le).recognize();return null===Ve?ko(new mo):(0,S.of)(Ve)}catch(Ve){return ko(Ve)}}(B,O,Le.urlAfterRedirects,I(Le.urlAfterRedirects),q,ae).pipe((0,Te.U)(Ve=>Object.assign(Object.assign({},Le),{targetSnapshot:Ve}))))}(this.rootComponentType,this.config,Ln=>this.serializeUrl(Ln),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ut.b)(Ln=>{if("eager"===this.urlUpdateStrategy){if(!Ln.extras.skipLocationChange){const kn=this.urlHandlingStrategy.merge(Ln.urlAfterRedirects,Ln.rawUrl);this.setBrowserUrl(kn,Ln)}this.browserUrlTree=Ln.urlAfterRedirects}const Si=new _n(Ln.id,this.serializeUrl(Ln.extractedUrl),this.serializeUrl(Ln.urlAfterRedirects),Ln.targetSnapshot);q.next(Si)}));if(or&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Si,extractedUrl:kn,source:nn,restoredState:On,extras:rs}=vt,za=new mt(Si,this.serializeUrl(kn),nn,On);q.next(za);const Ko=Vn(kn,this.rootComponentType).snapshot;return(0,S.of)(Object.assign(Object.assign({},vt),{targetSnapshot:Ko,urlAfterRedirects:kn,extras:Object.assign(Object.assign({},rs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=vt.rawUrl,vt.resolve(null),ie.E}),nr(vt=>{const{targetSnapshot:fn,id:or,extractedUrl:Fn,rawUrl:Ln,extras:{skipLocationChange:Si,replaceUrl:kn}}=vt;return this.hooks.beforePreactivation(fn,{navigationId:or,appliedUrlTree:Fn,rawUrlTree:Ln,skipLocationChange:!!Si,replaceUrl:!!kn})}),(0,ut.b)(vt=>{const fn=new Mt(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot);this.triggerEvent(fn)}),(0,Te.U)(vt=>Object.assign(Object.assign({},vt),{guards:G(vt.targetSnapshot,vt.currentSnapshot,this.rootContexts)})),function es(B,O){return(0,Je.z)(I=>{const{targetSnapshot:q,currentSnapshot:ae,guards:{canActivateChecks:Le,canDeactivateChecks:Ve}}=I;return 0===Ve.length&&0===Le.length?(0,S.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function vn(B,O,I,q){return(0,_.D)(B).pipe((0,Je.z)(ae=>function Ts(B,O,I,q,ae){const Le=O&&O.routeConfig?O.routeConfig.canDeactivate:null;if(!Le||0===Le.length)return(0,S.of)(!0);const Ve=Le.map(vt=>{const fn=Re(vt,O,ae);let or;if(function ns(B){return B&&Ii(B.canDeactivate)}(fn))or=Rn(fn.canDeactivate(B,O,I,q));else{if(!Ii(fn))throw new Error("Invalid CanDeactivate guard");or=Rn(fn(B,O,I,q))}return or.pipe((0,He.P)())});return(0,S.of)(Ve).pipe(Zi())}(ae.component,ae.route,I,O,q)),(0,He.P)(ae=>!0!==ae,!0))}(Ve,q,ae,B).pipe((0,Je.z)(vt=>vt&&function ys(B){return"boolean"==typeof B}(vt)?function ei(B,O,I,q){return(0,_.D)(O).pipe((0,Ce.b)(ae=>(0,ve.z)(function Li(B,O){return null!==B&&O&&O(new Qn(B)),(0,S.of)(!0)}(ae.route.parent,q),function go(B,O){return null!==B&&O&&O(new ar(B)),(0,S.of)(!0)}(ae.route,q),function ds(B,O,I){const q=O[O.length-1],Le=O.slice(0,O.length-1).reverse().map(Ve=>function L(B){const O=B.routeConfig?B.routeConfig.canActivateChild:null;return O&&0!==O.length?{node:B,guards:O}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>(0,_e.P)(()=>{const vt=Ve.guards.map(fn=>{const or=Re(fn,Ve.node,I);let Fn;if(function $r(B){return B&&Ii(B.canActivateChild)}(or))Fn=Rn(or.canActivateChild(q,B));else{if(!Ii(or))throw new Error("Invalid CanActivateChild guard");Fn=Rn(or(q,B))}return Fn.pipe((0,He.P)())});return(0,S.of)(vt).pipe(Zi())}));return(0,S.of)(Le).pipe(Zi())}(B,ae.path,I),function So(B,O,I){const q=O.routeConfig?O.routeConfig.canActivate:null;if(!q||0===q.length)return(0,S.of)(!0);const ae=q.map(Le=>(0,_e.P)(()=>{const Ve=Re(Le,O,I);let vt;if(function Gs(B){return B&&Ii(B.canActivate)}(Ve))vt=Rn(Ve.canActivate(O,B));else{if(!Ii(Ve))throw new Error("Invalid CanActivate guard");vt=Rn(Ve(O,B))}return vt.pipe((0,He.P)())}));return(0,S.of)(ae).pipe(Zi())}(B,ae.route,I))),(0,He.P)(ae=>!0!==ae,!0))}(q,Le,B,O):(0,S.of)(vt)),(0,Te.U)(vt=>Object.assign(Object.assign({},I),{guardsResult:vt})))})}(this.ngModule.injector,vt=>this.triggerEvent(vt)),(0,ut.b)(vt=>{if(Qi(vt.guardsResult)){const or=on(`Redirecting to "${this.serializeUrl(vt.guardsResult)}"`);throw or.url=vt.guardsResult,or}const fn=new At(vt.id,this.serializeUrl(vt.extractedUrl),this.serializeUrl(vt.urlAfterRedirects),vt.targetSnapshot,!!vt.guardsResult);this.triggerEvent(fn)}),(0,Ie.h)(vt=>!!vt.guardsResult||(this.restoreHistory(vt),this.cancelNavigationTransition(vt,""),!1)),nr(vt=>{if(vt.guards.canActivateChecks.length)return(0,S.of)(vt).pipe((0,ut.b)(fn=>{const or=new Ht(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);this.triggerEvent(or)}),(0,Ue.w)(fn=>{let or=!1;return(0,S.of)(fn).pipe(function Xe(B,O){return(0,Je.z)(I=>{const{targetSnapshot:q,guards:{canActivateChecks:ae}}=I;if(!ae.length)return(0,S.of)(I);let Le=0;return(0,_.D)(ae).pipe((0,Ce.b)(Ve=>function _t(B,O,I,q){return function bt(B,O,I,q){const ae=zt(B);if(0===ae.length)return(0,S.of)({});const Le={};return(0,_.D)(ae).pipe((0,Je.z)(Ve=>function pn(B,O,I,q){const ae=Re(B,O,q);return Rn(ae.resolve?ae.resolve(O,I):ae(O,I))}(B[Ve],O,I,q).pipe((0,ut.b)(vt=>{Le[Ve]=vt}))),ke(1),(0,Je.z)(()=>zt(Le).length===ae.length?(0,S.of)(Le):ie.E))}(B._resolve,B,O,q).pipe((0,Te.U)(Le=>(B._resolvedData=Le,B.data=Object.assign(Object.assign({},B.data),ni(B,I).resolve),null)))}(Ve.route,q,B,O)),(0,ut.b)(()=>Le++),ke(1),(0,Je.z)(Ve=>Le===ae.length?(0,S.of)(I):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ut.b)({next:()=>or=!0,complete:()=>{or||(this.restoreHistory(fn),this.cancelNavigationTransition(fn,"At least one route resolver didn't emit any value."))}}))}),(0,ut.b)(fn=>{const or=new xn(fn.id,this.serializeUrl(fn.extractedUrl),this.serializeUrl(fn.urlAfterRedirects),fn.targetSnapshot);this.triggerEvent(or)}))}),nr(vt=>{const{targetSnapshot:fn,id:or,extractedUrl:Fn,rawUrl:Ln,extras:{skipLocationChange:Si,replaceUrl:kn}}=vt;return this.hooks.afterPreactivation(fn,{navigationId:or,appliedUrlTree:Fn,rawUrlTree:Ln,skipLocationChange:!!Si,replaceUrl:!!kn})}),(0,Te.U)(vt=>{const fn=function ki(B,O,I){const q=Hi(B,O._root,I?I._root:void 0);return new Ut(q,O)}(this.routeReuseStrategy,vt.targetSnapshot,vt.currentRouterState);return Object.assign(Object.assign({},vt),{targetRouterState:fn})}),(0,ut.b)(vt=>{this.currentUrlTree=vt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(vt.urlAfterRedirects,vt.rawUrl),this.routerState=vt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(vt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,vt),this.browserUrlTree=vt.urlAfterRedirects)}),((B,O,I)=>(0,Te.U)(q=>(new ms(O,q.targetRouterState,q.currentRouterState,I).activate(B),q)))(this.rootContexts,this.routeReuseStrategy,vt=>this.triggerEvent(vt)),(0,ut.b)({next(){Le=!0},complete(){Le=!0}}),(0,Kt.x)(()=>{var vt;Le||Ve||this.cancelNavigationTransition(ae,`Navigation ID ${ae.id} is not equal to the current navigation id ${this.navigationId}`),(null===(vt=this.currentNavigation)||void 0===vt?void 0:vt.id)===ae.id&&(this.currentNavigation=null)}),(0,re.K)(vt=>{if(Ve=!0,function Ft(B){return B&&B[yr]}(vt)){const fn=Qi(vt.url);fn||(this.navigated=!0,this.restoreHistory(ae,!0));const or=new Qt(ae.id,this.serializeUrl(ae.extractedUrl),vt.message);q.next(or),fn?setTimeout(()=>{const Fn=this.urlHandlingStrategy.merge(vt.url,this.rawUrlTree),Ln={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ys(ae.source)};this.scheduleNavigation(Fn,"imperative",null,Ln,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})},0):ae.resolve(!1)}else{this.restoreHistory(ae,!0);const fn=new un(ae.id,this.serializeUrl(ae.extractedUrl),vt);q.next(fn);try{ae.resolve(this.errorHandler(vt))}catch(or){ae.reject(or)}}return ie.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const q="popstate"===I.type?"popstate":"hashchange";"popstate"===q&&setTimeout(()=>{var ae;const Le={replaceUrl:!0},Ve=(null===(ae=I.state)||void 0===ae?void 0:ae.navigationId)?I.state:null;if(Ve){const fn=Object.assign({},Ve);delete fn.navigationId,delete fn.\u0275routerPageId,0!==Object.keys(fn).length&&(Le.state=fn)}const vt=this.parseUrl(I.url);this.scheduleNavigation(vt,q,Ve,Le)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){ne(I),this.config=I.map(C),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,q={}){const{relativeTo:ae,queryParams:Le,fragment:Ve,queryParamsHandling:vt,preserveFragment:fn}=q,or=ae||this.routerState.root,Fn=fn?this.currentUrlTree.fragment:Ve;let Ln=null;switch(vt){case"merge":Ln=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Le);break;case"preserve":Ln=this.currentUrlTree.queryParams;break;default:Ln=Le||null}return null!==Ln&&(Ln=this.removeEmptyProps(Ln)),function $i(B,O,I,q,ae){if(0===I.length)return Ei(O.root,O.root,O.root,q,ae);const Le=function bs(B){if("string"==typeof B[0]&&1===B.length&&"/"===B[0])return new ss(!0,0,B);let O=0,I=!1;const q=B.reduce((ae,Le,Ve)=>{if("object"==typeof Le&&null!=Le){if(Le.outlets){const vt={};return Tn(Le.outlets,(fn,or)=>{vt[or]="string"==typeof fn?fn.split("/"):fn}),[...ae,{outlets:vt}]}if(Le.segmentPath)return[...ae,Le.segmentPath]}return"string"!=typeof Le?[...ae,Le]:0===Ve?(Le.split("/").forEach((vt,fn)=>{0==fn&&"."===vt||(0==fn&&""===vt?I=!0:".."===vt?O++:""!=vt&&ae.push(vt))}),ae):[...ae,Le]},[]);return new ss(I,O,q)}(I);if(Le.toRoot())return Ei(O.root,O.root,new Se([],{}),q,ae);const Ve=function Oi(B,O,I){if(B.isAbsolute)return new di(O.root,!0,0);if(-1===I.snapshot._lastPathIndex){const Le=I.snapshot._urlSegment;return new di(Le,Le===O.root,0)}const q=Wi(B.commands[0])?0:1;return function Rt(B,O,I){let q=B,ae=O,Le=I;for(;Le>ae;){if(Le-=ae,q=q.parent,!q)throw new Error("Invalid number of '../'");ae=q.segments.length}return new di(q,!1,ae-Le)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+q,B.numberOfDoubleDots)}(Le,O,B),vt=Ve.processChildren?hn(Ve.segmentGroup,Ve.index,Le.commands):Lt(Ve.segmentGroup,Ve.index,Le.commands);return Ei(O.root,Ve.segmentGroup,vt,q,ae)}(or,this.currentUrlTree,I,Ln,null!=Fn?Fn:null)}navigateByUrl(I,q={skipLocationChange:!1}){const ae=Qi(I)?I:this.parseUrl(I),Le=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Le,"imperative",null,q)}navigate(I,q={skipLocationChange:!1}){return function $s(B){for(let O=0;O<B.length;O++){const I=B[O];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${O}`)}}(I),this.navigateByUrl(this.createUrlTree(I,q),q)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let q;try{q=this.urlSerializer.parse(I)}catch(ae){q=this.malformedUriErrorHandler(ae,this.urlSerializer,I)}return q}isActive(I,q){let ae;if(ae=!0===q?Object.assign({},xs):!1===q?Object.assign({},yi):q,Qi(I))return Hn(this.currentUrlTree,I,ae);const Le=this.parseUrl(I);return Hn(this.currentUrlTree,Le,ae)}removeEmptyProps(I){return Object.keys(I).reduce((q,ae)=>{const Le=I[ae];return null!=Le&&(q[ae]=Le),q},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new qt(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,q,ae,Le,Ve){var vt,fn;if(this.disposed)return Promise.resolve(!1);let or,Fn,Ln;Ve?(or=Ve.resolve,Fn=Ve.reject,Ln=Ve.promise):Ln=new Promise((nn,On)=>{or=nn,Fn=On});const Si=++this.navigationId;let kn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ae=this.location.getState()),kn=ae&&ae.\u0275routerPageId?ae.\u0275routerPageId:Le.replaceUrl||Le.skipLocationChange?null!==(vt=this.browserPageId)&&void 0!==vt?vt:0:(null!==(fn=this.browserPageId)&&void 0!==fn?fn:0)+1):kn=0,this.setTransition({id:Si,targetPageId:kn,source:q,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:Le,resolve:or,reject:Fn,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(nn=>Promise.reject(nn))}setBrowserUrl(I,q){const ae=this.urlSerializer.serialize(I),Le=Object.assign(Object.assign({},q.extras.state),this.generateNgRouterState(q.id,q.targetPageId));this.location.isCurrentPathEqualTo(ae)||q.extras.replaceUrl?this.location.replaceState(ae,"",Le):this.location.go(ae,"",Le)}restoreHistory(I,q=!1){var ae,Le;if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)||0===Ve?this.currentUrlTree===(null===(Le=this.currentNavigation)||void 0===Le?void 0:Le.finalUrl)&&0===Ve&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ve)}else"replace"===this.canceledNavigationResolution&&(q&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,q){const ae=new Qt(I.id,this.serializeUrl(I.extractedUrl),q);this.triggerEvent(ae),I.resolve(!1)}generateNgRouterState(I,q){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:q}:{navigationId:I}}}return B.\u0275fac=function(I){u.$Z()},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac}),B})();function Ys(B){return"imperative"!==B}let hs=(()=>{class B{constructor(I,q,ae,Le,Ve){this.router=I,this.route=q,this.tabIndexAttribute=ae,this.renderer=Le,this.el=Ve,this.commands=null,this.onChanges=new Fe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const q=this.renderer,ae=this.el.nativeElement;null!==I?q.setAttribute(ae,"tabindex",I):q.removeAttribute(ae,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:eo(this.skipLocationChange),replaceUrl:eo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eo(this.preserveFragment)})}}return B.\u0275fac=function(I){return new(I||B)(u.Y36(bi),u.Y36(kr),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},B.\u0275dir=u.lG2({type:B,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,q){1&I&&u.NdJ("click",function(){return q.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),B})(),Xs=(()=>{class B{constructor(I,q,ae){this.router=I,this.route=q,this.locationStrategy=ae,this.commands=null,this.href=null,this.onChanges=new Fe.x,this.subscription=I.events.subscribe(Le=>{Le instanceof qt&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,q,ae,Le,Ve){if(0!==I||q||ae||Le||Ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const vt={skipLocationChange:eo(this.skipLocationChange),replaceUrl:eo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,vt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eo(this.preserveFragment)})}}return B.\u0275fac=function(I){return new(I||B)(u.Y36(bi),u.Y36(kr),u.Y36(En.S$))},B.\u0275dir=u.lG2({type:B,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,q){1&I&&u.NdJ("click",function(Le){return q.onClick(Le.button,Le.ctrlKey,Le.shiftKey,Le.altKey,Le.metaKey)}),2&I&&u.uIk("target",q.target)("href",q.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),B})();function eo(B){return""===B||!!B}class Ds{}class Er{preload(O,I){return(0,S.of)(null)}}let Mr=(()=>{class B{constructor(I,q,ae,Le){this.router=I,this.injector=ae,this.preloadingStrategy=Le,this.loader=new xr(ae,q,fn=>I.triggerEvent(new In(fn)),fn=>I.triggerEvent(new Gn(fn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ie.h)(I=>I instanceof qt),(0,Ce.b)(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(u.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,q){const ae=[];for(const Le of q)if(Le.loadChildren&&!Le.canLoad&&Le._loadedConfig){const Ve=Le._loadedConfig;ae.push(this.processRoutes(Ve.module,Ve.routes))}else Le.loadChildren&&!Le.canLoad?ae.push(this.preloadConfig(I,Le)):Le.children&&ae.push(this.processRoutes(I,Le.children));return(0,_.D)(ae).pipe((0,rn.J)(),(0,Te.U)(Le=>{}))}preloadConfig(I,q){return this.preloadingStrategy.preload(q,()=>(q._loadedConfig?(0,S.of)(q._loadedConfig):this.loader.load(I.injector,q)).pipe((0,Je.z)(Le=>(q._loadedConfig=Le,this.processRoutes(Le.module,Le.routes)))))}}return B.\u0275fac=function(I){return new(I||B)(u.LFG(bi),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Ds))},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac}),B})(),jr=(()=>{class B{constructor(I,q,ae={}){this.router=I,this.viewportScroller=q,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof mt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof qt&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ar&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,q){this.router.triggerEvent(new Ar(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,q))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return B.\u0275fac=function(I){u.$Z()},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac}),B})();const ls=new u.OlP("ROUTER_CONFIGURATION"),_s=new u.OlP("ROUTER_FORROOT_GUARD"),pe=[En.Ye,{provide:M,useClass:Z},{provide:bi,useFactory:function sr(B,O,I,q,ae,Le,Ve={},vt,fn){const or=new bi(null,B,O,I,q,ae,Yt(Le));return vt&&(or.urlHandlingStrategy=vt),fn&&(or.routeReuseStrategy=fn),function Lr(B,O){B.errorHandler&&(O.errorHandler=B.errorHandler),B.malformedUriErrorHandler&&(O.malformedUriErrorHandler=B.malformedUriErrorHandler),B.onSameUrlNavigation&&(O.onSameUrlNavigation=B.onSameUrlNavigation),B.paramsInheritanceStrategy&&(O.paramsInheritanceStrategy=B.paramsInheritanceStrategy),B.relativeLinkResolution&&(O.relativeLinkResolution=B.relativeLinkResolution),B.urlUpdateStrategy&&(O.urlUpdateStrategy=B.urlUpdateStrategy),B.canceledNavigationResolution&&(O.canceledNavigationResolution=B.canceledNavigationResolution)}(Ve,or),Ve.enableTracing&&or.events.subscribe(Fn=>{var Ln,Si;null===(Ln=console.group)||void 0===Ln||Ln.call(console,`Router Event: ${Fn.constructor.name}`),console.log(Fn.toString()),console.log(Fn),null===(Si=console.groupEnd)||void 0===Si||Si.call(console)}),or},deps:[M,vs,En.Ye,u.zs3,u.Sil,pr,ls,[class fi{},new u.FiY],[class mr{},new u.FiY]]},vs,{provide:kr,useFactory:function Jr(B){return B.routerState.root},deps:[bi]},Mr,Er,class rr{preload(O,I){return I().pipe((0,re.K)(()=>(0,S.of)(null)))}},{provide:ls,useValue:{enableTracing:!1}}];function De(){return new u.PXZ("Router",bi)}let st=(()=>{class B{constructor(I,q){}static forRoot(I,q){return{ngModule:B,providers:[pe,Pn(I),{provide:_s,useFactory:mn,deps:[[bi,new u.FiY,new u.tp0]]},{provide:ls,useValue:q||{}},{provide:En.S$,useFactory:jt,deps:[En.lw,[new u.tBr(En.mr),new u.FiY],ls]},{provide:jr,useFactory:Tt,deps:[bi,En.EM,ls]},{provide:Ds,useExisting:q&&q.preloadingStrategy?q.preloadingStrategy:Er},{provide:u.PXZ,multi:!0,useFactory:De},[ti,{provide:u.ip1,multi:!0,useFactory:Sr,deps:[ti]},{provide:zs,useFactory:Gi,deps:[ti]},{provide:u.tb,multi:!0,useExisting:zs}]]}}static forChild(I){return{ngModule:B,providers:[Pn(I)]}}}return B.\u0275fac=function(I){return new(I||B)(u.LFG(_s,8),u.LFG(bi,8))},B.\u0275mod=u.oAB({type:B}),B.\u0275inj=u.cJS({}),B})();function Tt(B,O,I){return I.scrollOffset&&O.setOffset(I.scrollOffset),new jr(B,O,I)}function jt(B,O,I={}){return I.useHash?new En.Do(B,O):new En.b0(B,O)}function mn(B){return"guarded"}function Pn(B){return[{provide:u.deG,multi:!0,useValue:B},{provide:pr,multi:!0,useValue:B}]}let ti=(()=>{class B{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Fe.x}appInitializer(){return this.injector.get(En.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let q=null;const ae=new Promise(vt=>q=vt),Le=this.injector.get(bi),Ve=this.injector.get(ls);return"disabled"===Ve.initialNavigation?(Le.setUpLocationChangeListener(),q(!0)):"enabled"===Ve.initialNavigation||"enabledBlocking"===Ve.initialNavigation?(Le.hooks.afterPreactivation=()=>this.initNavigation?(0,S.of)(null):(this.initNavigation=!0,q(!0),this.resultOfPreactivationDone),Le.initialNavigation()):q(!0),ae})}bootstrapListener(I){const q=this.injector.get(ls),ae=this.injector.get(Mr),Le=this.injector.get(jr),Ve=this.injector.get(bi),vt=this.injector.get(u.z2F);I===vt.components[0]&&(("enabledNonBlocking"===q.initialNavigation||void 0===q.initialNavigation)&&Ve.initialNavigation(),ae.setUpPreloading(),Le.init(),Ve.resetRootComponentType(vt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return B.\u0275fac=function(I){return new(I||B)(u.LFG(u.zs3))},B.\u0275prov=u.Yz7({token:B,factory:B.\u0275fac}),B})();function Sr(B){return B.appInitializer.bind(B)}function Gi(B){return B.bootstrapListener.bind(B)}const zs=new u.OlP("Router Initializer")},4969:(Xt,tt,y)=>{y.d(tt,{RI:()=>me,uG:()=>Pe,jS:()=>_e,lg:()=>$,jp:()=>ie,$O:()=>oe,E_:()=>Fe,RC:()=>Ie,j:()=>ue,ig:()=>$e,kJ:()=>ke});var u=y(3950),_=y(7634),S=y(7062),ee=y(9722),ce=y(7773),me=Object.prototype.hasOwnProperty;function Pe(Qe,Be){var xt=Qe.__typename,qe=Qe.id,Te=Qe._id;if("string"==typeof xt&&(Be&&(Be.keyObject=void 0!==qe?{id:qe}:void 0!==Te?{_id:Te}:void 0),void 0===qe&&(qe=Te),void 0!==qe))return"".concat(xt,":").concat("number"==typeof qe||"string"==typeof qe?qe:JSON.stringify(qe))}var ve={dataIdFromObject:Pe,addTypename:!0,resultCaching:!0,canonizeResults:!1};function _e(Qe){return(0,u.o)(ve,Qe)}function $(Qe){var Be=Qe.canonizeResults;return void 0===Be?ve.canonizeResults:Be}function ie(Qe,Be){return(0,_.Yk)(Be)?Qe.get(Be.__ref,"__typename"):Be&&Be.__typename}var oe=/^[_a-z][_0-9a-z]*/i;function Fe(Qe){var Be=Qe.match(oe);return Be?Be[0]:Qe}function Ie(Qe,Be,xt){return!!(0,S.s)(Be)&&(ke(Be)?Be.every(function(qe){return Ie(Qe,qe,xt)}):Qe.selections.every(function(qe){if((0,_.My)(qe)&&(0,ee.LZ)(qe,xt)){var Te=(0,_.u2)(qe);return me.call(Be,Te)&&(!qe.selectionSet||Ie(qe.selectionSet,Be[Te],xt))}return!0}))}function ue(Qe){return(0,S.s)(Qe)&&!(0,_.Yk)(Qe)&&!ke(Qe)}function $e(){return new ce.w0}var ke=function(Qe){return Array.isArray(Qe)}},3750:(Xt,tt,y)=>{y.d(tt,{h:()=>ve,B:()=>_e});var $,ie,u=y(655),S=(y(6686),y(9428)),ee=y(7062),ce=y(9545),me=y(4969),ve=function(){function Fe(){this.known=new(ce.sy?WeakSet:Set),this.pool=new S.B(ce.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return Fe.prototype.isKnown=function(Ie){return(0,ee.s)(Ie)&&this.known.has(Ie)},Fe.prototype.pass=function(Ie){if((0,ee.s)(Ie)){var ue=function Pe(Fe){return(0,ee.s)(Fe)?(0,me.kJ)(Fe)?Fe.slice(0):(0,u.pi)({__proto__:Object.getPrototypeOf(Fe)},Fe):Fe}(Ie);return this.passes.set(ue,Ie),ue}return Ie},Fe.prototype.admit=function(Ie){var ue=this;if((0,ee.s)(Ie)){var $e=this.passes.get(Ie);if($e)return $e;switch(Object.getPrototypeOf(Ie)){case Array.prototype:if(this.known.has(Ie))return Ie;var Qe=Ie.map(this.admit,this);return(Be=this.pool.lookupArray(Qe)).array||(this.known.add(Be.array=Qe),__DEV__&&Object.freeze(Qe)),Be.array;case null:case Object.prototype:if(this.known.has(Ie))return Ie;var xt=Object.getPrototypeOf(Ie),qe=[xt],Te=this.sortedKeys(Ie);qe.push(Te.json);var Be,Ue=qe.length;if(Te.sorted.forEach(function(J){qe.push(ue.admit(Ie[J]))}),!(Be=this.pool.lookupArray(qe)).object){var rt=Be.object=Object.create(xt);this.known.add(rt),Te.sorted.forEach(function(J,re){rt[J]=qe[Ue+re]}),__DEV__&&Object.freeze(rt)}return Be.object}}return Ie},Fe.prototype.sortedKeys=function(Ie){var ue=Object.keys(Ie),$e=this.pool.lookupArray(ue);if(!$e.keys){ue.sort();var ke=JSON.stringify(ue);($e.keys=this.keysByJSON.get(ke))||this.keysByJSON.set(ke,$e.keys={sorted:ue,json:ke})}return $e.keys},Fe}(),_e=Object.assign(function(Fe){if((0,ee.s)(Fe)){void 0===$&&oe();var Ie=$.admit(Fe),ue=ie.get(Ie);return void 0===ue&&ie.set(Ie,ue=JSON.stringify(Ie)),ue}return JSON.stringify(Fe)},{reset:oe});function oe(){$=new ve,ie=new(ce.mr?WeakMap:Map)}},6430:(Xt,tt,y)=>{y.d(tt,{ab:()=>S,li:()=>me,_v:()=>Pe,QS:()=>ve});var u=y(9769),S=new(y(3119).g7),ee=new WeakMap;function ce($){var ie=ee.get($);return ie||ee.set($,ie={vars:new Set,dep:(0,u.dP)()}),ie}function me($){ce($).vars.forEach(function(ie){return ie.forgetCache($)})}function Pe($){ce($).vars.forEach(function(ie){return ie.attachCache($)})}function ve($){var ie=new Set,oe=new Set,Fe=function(ue){if(arguments.length>0){if($!==ue){$=ue,ie.forEach(function(Qe){ce(Qe).dep.dirty(Fe),_e(Qe)});var $e=Array.from(oe);oe.clear(),$e.forEach(function(Qe){return Qe($)})}}else{var ke=S.getValue();ke&&(Ie(ke),ce(ke).dep(Fe))}return $};Fe.onNextChange=function(ue){return oe.add(ue),function(){oe.delete(ue)}};var Ie=Fe.attachCache=function(ue){return ie.add(ue),ce(ue).vars.add(Fe),Fe};return Fe.forgetCache=function(ue){return ie.delete(ue)},Fe}function _e($){$.broadcastWatches&&$.broadcastWatches()}},484:(Xt,tt,y)=>{y.d(tt,{i:()=>oe});var u=y(655),_=y(6686),S=y(4302),ce=y(591);function ve(Fe,Ie){return Ie?Ie(Fe):S.y.of()}function _e(Fe){return"function"==typeof Fe?new oe(Fe):Fe}function $(Fe){return Fe.request.length<=1}var ie=function(Fe){function Ie(ue,$e){var ke=Fe.call(this,ue)||this;return ke.link=$e,ke}return(0,u.ZT)(Ie,Fe),Ie}(Error),oe=function(){function Fe(Ie){Ie&&(this.request=Ie)}return Fe.empty=function(){return new Fe(function(){return S.y.of()})},Fe.from=function(Ie){return 0===Ie.length?Fe.empty():Ie.map(_e).reduce(function(ue,$e){return ue.concat($e)})},Fe.split=function(Ie,ue,$e){var ke=_e(ue),Qe=_e($e||new Fe(ve));return $(ke)&&$(Qe)?new Fe(function(Be){return Ie(Be)?ke.request(Be)||S.y.of():Qe.request(Be)||S.y.of()}):new Fe(function(Be,xt){return Ie(Be)?ke.request(Be,xt)||S.y.of():Qe.request(Be,xt)||S.y.of()})},Fe.execute=function(Ie,ue){return Ie.request(function ee(Fe,Ie){var ue=(0,u.pi)({},Fe);return Object.defineProperty(Ie,"setContext",{enumerable:!1,value:function(Qe){ue=(0,u.pi)((0,u.pi)({},ue),"function"==typeof Qe?Qe(ue):Qe)}}),Object.defineProperty(Ie,"getContext",{enumerable:!1,value:function(){return(0,u.pi)({},ue)}}),Ie}(ue.context,function me(Fe){var Ie={variables:Fe.variables||{},extensions:Fe.extensions||{},operationName:Fe.operationName,query:Fe.query};return Ie.operationName||(Ie.operationName="string"!=typeof Ie.query?(0,ce.rY)(Ie.query)||void 0:""),Ie}(function Pe(Fe){for(var Ie=["query","operationName","variables","extensions","context"],ue=0,$e=Object.keys(Fe);ue<$e.length;ue++){var ke=$e[ue];if(Ie.indexOf(ke)<0)throw __DEV__?new _.ej("illegal argument: ".concat(ke)):new _.ej(24)}return Fe}(ue))))||S.y.of()},Fe.concat=function(Ie,ue){var $e=_e(Ie);if($($e))return __DEV__&&_.kG.warn(new ie("You are calling concat on a terminating link, which will have no effect",$e)),$e;var ke=_e(ue);return $(ke)?new Fe(function(Qe){return $e.request(Qe,function(Be){return ke.request(Be)||S.y.of()})||S.y.of()}):new Fe(function(Qe,Be){return $e.request(Qe,function(xt){return ke.request(xt,Be)||S.y.of()})||S.y.of()})},Fe.prototype.split=function(Ie,ue,$e){return this.concat(Fe.split(Ie,ue,$e||new Fe(ve)))},Fe.prototype.concat=function(Ie){return Fe.concat(this,Ie)},Fe.prototype.request=function(Ie,ue){throw __DEV__?new _.ej("request is not implemented"):new _.ej(19)},Fe.prototype.onError=function(Ie,ue){if(ue&&ue.error)return ue.error(Ie),!1;throw Ie},Fe.prototype.setOnError=function(Ie){return this.onError=Ie,this},Fe}()},5355:(Xt,tt,y)=>{function u(_){return Array.isArray(_)&&_.length>0}y.d(tt,{O:()=>u})},9545:(Xt,tt,y)=>{y.d(tt,{mr:()=>u,sy:()=>_,aS:()=>S});var u="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),_="function"==typeof WeakSet,S="function"==typeof Symbol&&"function"==typeof Symbol.for},396:(Xt,tt,y)=>{y.d(tt,{X:()=>_});var u=Object.prototype.toString;function _(ee){return S(ee)}function S(ee,ce){switch(u.call(ee)){case"[object Array]":if((ce=ce||new Map).has(ee))return ce.get(ee);var me=ee.slice(0);return ce.set(ee,me),me.forEach(function(ve,_e){me[_e]=S(ve,ce)}),me;case"[object Object]":if((ce=ce||new Map).has(ee))return ce.get(ee);var Pe=Object.create(Object.getPrototypeOf(ee));return ce.set(ee,Pe),Object.keys(ee).forEach(function(ve){Pe[ve]=S(ee[ve],ce)}),Pe;default:return ee}}},3950:(Xt,tt,y)=>{function u(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];var ee=Object.create(null);return _.forEach(function(ce){!ce||Object.keys(ce).forEach(function(me){var Pe=ce[me];void 0!==Pe&&(ee[me]=Pe)})}),ee}y.d(tt,{o:()=>u})},8561:(Xt,tt,y)=>{y.d(tt,{X:()=>_});var u=new Map;function _(S){var ee=u.get(S)||1;return u.set(S,ee+1),"".concat(S,":").concat(ee,":").concat(Math.random().toString(36).slice(2))}},7773:(Xt,tt,y)=>{y.d(tt,{Ee:()=>ee,bw:()=>ce,w0:()=>Pe});var u=y(655),_=y(7062),S=Object.prototype.hasOwnProperty;function ee(){for(var ve=[],_e=0;_e<arguments.length;_e++)ve[_e]=arguments[_e];return ce(ve)}function ce(ve){var _e=ve[0]||{},$=ve.length;if($>1)for(var ie=new Pe,oe=1;oe<$;++oe)_e=ie.merge(_e,ve[oe]);return _e}var me=function(ve,_e,$){return this.merge(ve[$],_e[$])},Pe=function(){function ve(_e){void 0===_e&&(_e=me),this.reconciler=_e,this.isObject=_.s,this.pastCopies=new Set}return ve.prototype.merge=function(_e,$){for(var ie=this,oe=[],Fe=2;Fe<arguments.length;Fe++)oe[Fe-2]=arguments[Fe];return(0,_.s)($)&&(0,_.s)(_e)?(Object.keys($).forEach(function(Ie){if(S.call(_e,Ie)){var ue=_e[Ie];if($[Ie]!==ue){var $e=ie.reconciler.apply(ie,(0,u.ev)([_e,$,Ie],oe,!1));$e!==ue&&((_e=ie.shallowCopyForMerge(_e))[Ie]=$e)}}else(_e=ie.shallowCopyForMerge(_e))[Ie]=$[Ie]}),_e):$},ve.prototype.shallowCopyForMerge=function(_e){if((0,_.s)(_e)){if(this.pastCopies.has(_e)){if(!Object.isFrozen(_e))return _e;this.pastCopies.delete(_e)}_e=Array.isArray(_e)?_e.slice(0):(0,u.pi)({__proto__:Object.getPrototypeOf(_e)},_e),this.pastCopies.add(_e)}return _e},ve}()},7062:(Xt,tt,y)=>{function u(_){return null!==_&&"object"==typeof _}y.d(tt,{s:()=>u})},6686:(Xt,tt,y)=>{y.d(tt,{ej:()=>ce,kG:()=>me,wY:()=>oe});var u=y(655),_="Invariant Violation",S=Object.setPrototypeOf,ee=void 0===S?function(J,re){return J.__proto__=re,J}:S,ce=function(J){function re(Ce){void 0===Ce&&(Ce=_);var He=J.call(this,"number"==typeof Ce?_+": "+Ce+" (see https://github.com/apollographql/invariant-packages)":Ce)||this;return He.framesToPop=1,He.name=_,ee(He,re.prototype),He}return(0,u.ZT)(re,J),re}(Error);function me(J,re){if(!J)throw new ce(re)}var J,Pe=["debug","log","warn","error","silent"],ve=Pe.indexOf("log");function _e(J){return function(){if(Pe.indexOf(J)>=ve){var re=console[J]||console.log;return re.apply(console,arguments)}}}function oe(J){try{return J()}catch(re){}}(J=me||(me={})).debug=_e("debug"),J.log=_e("log"),J.warn=_e("warn"),J.error=_e("error");const Fe=oe(function(){return globalThis})||oe(function(){return window})||oe(function(){return self})||oe(function(){return global})||oe(function(){return oe.constructor("return this")()});var Ie="__",ue=[Ie,Ie].join("DEV");const ke=function $e(){try{return Boolean(__DEV__)}catch(J){return Object.defineProperty(Fe,ue,{value:"production"!==oe(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),Fe[ue]}}();function Qe(J){try{return J()}catch(re){}}var Be=Qe(function(){return globalThis})||Qe(function(){return window})||Qe(function(){return self})||Qe(function(){return global})||Qe(function(){return Qe.constructor("return this")()}),xt=!1;!function qe(){Be&&!Qe(function(){return"production"})&&!Qe(function(){return process})&&(Object.defineProperty(Be,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),xt=!0)}(),y(9826),function rt(){(function Te(){xt&&(delete Be.process,xt=!1)})()}(),function ze(){__DEV__?me("boolean"==typeof ke,ke):me("boolean"==typeof ke,36)}()},9722:(Xt,tt,y)=>{y.d(tt,{LZ:()=>S,FS:()=>ce,mj:()=>me});var u=y(6686),_=y(1335);function S(_e,$){var ie=_e.directives;return!ie||!ie.length||function ve(_e){var $=[];return _e&&_e.length&&_e.forEach(function(ie){if(function Pe(_e){var $=_e.name.value;return"skip"===$||"include"===$}(ie)){var oe=ie.arguments,Fe=ie.name.value;__DEV__?(0,u.kG)(oe&&1===oe.length,"Incorrect number of arguments for the @".concat(Fe," directive.")):(0,u.kG)(oe&&1===oe.length,38);var Ie=oe[0];__DEV__?(0,u.kG)(Ie.name&&"if"===Ie.name.value,"Invalid argument for the @".concat(Fe," directive.")):(0,u.kG)(Ie.name&&"if"===Ie.name.value,39);var ue=Ie.value;__DEV__?(0,u.kG)(ue&&("Variable"===ue.kind||"BooleanValue"===ue.kind),"Argument for the @".concat(Fe," directive must be a variable or a boolean value.")):(0,u.kG)(ue&&("Variable"===ue.kind||"BooleanValue"===ue.kind),40),$.push({directive:ie,ifArgument:Ie})}}),$}(ie).every(function(oe){var Fe=oe.directive,Ie=oe.ifArgument,ue=!1;return"Variable"===Ie.value.kind?(ue=$&&$[Ie.value.name.value],__DEV__?(0,u.kG)(void 0!==ue,"Invalid variable referenced in @".concat(Fe.name.value," directive.")):(0,u.kG)(void 0!==ue,37)):ue=Ie.value.value,"skip"===Fe.name.value?!ue:ue})}function ce(_e,$){return function ee(_e){var $=[];return(0,_.Vn)(_e,{Directive:function(ie){$.push(ie.name.value)}}),$}($).some(function(ie){return _e.indexOf(ie)>-1})}function me(_e){return _e&&ce(["client"],_e)&&ce(["export"],_e)}},9661:(Xt,tt,y)=>{y.d(tt,{Yk:()=>S,F:()=>ee,hi:()=>ce});var u=y(655),_=y(6686);function S(me,Pe){var ve=Pe,_e=[];return me.definitions.forEach(function(ie){if("OperationDefinition"===ie.kind)throw __DEV__?new _.ej("Found a ".concat(ie.operation," operation").concat(ie.name?" named '".concat(ie.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new _.ej(41);"FragmentDefinition"===ie.kind&&_e.push(ie)}),void 0===ve&&(__DEV__?(0,_.kG)(1===_e.length,"Found ".concat(_e.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,_.kG)(1===_e.length,42),ve=_e[0].name.value),(0,u.pi)((0,u.pi)({},me),{definitions:(0,u.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:ve}}]}}],me.definitions,!0)})}function ee(me){void 0===me&&(me=[]);var Pe={};return me.forEach(function(ve){Pe[ve.name.value]=ve}),Pe}function ce(me,Pe){switch(me.kind){case"InlineFragment":return me;case"FragmentSpread":var ve=Pe&&Pe[me.name.value];return __DEV__?(0,_.kG)(ve,"No fragment named ".concat(me.name.value,".")):(0,_.kG)(ve,43),ve;default:return null}}},591:(Xt,tt,y)=>{y.d(tt,{A$:()=>S,$H:()=>ee,rY:()=>ce,kU:()=>me,iW:()=>Pe,pD:()=>ve,p$:()=>_e,O4:()=>$});var u=y(6686),_=y(7634);function S(ie){__DEV__?(0,u.kG)(ie&&"Document"===ie.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,u.kG)(ie&&"Document"===ie.kind,44);var oe=ie.definitions.filter(function(Fe){return"FragmentDefinition"!==Fe.kind}).map(function(Fe){if("OperationDefinition"!==Fe.kind)throw __DEV__?new u.ej('Schema type definitions not allowed in queries. Found: "'.concat(Fe.kind,'"')):new u.ej(45);return Fe});return __DEV__?(0,u.kG)(oe.length<=1,"Ambiguous GraphQL document: contains ".concat(oe.length," operations")):(0,u.kG)(oe.length<=1,46),ie}function ee(ie){return S(ie),ie.definitions.filter(function(oe){return"OperationDefinition"===oe.kind})[0]}function ce(ie){return ie.definitions.filter(function(oe){return"OperationDefinition"===oe.kind&&oe.name}).map(function(oe){return oe.name.value})[0]||null}function me(ie){return ie.definitions.filter(function(oe){return"FragmentDefinition"===oe.kind})}function Pe(ie){var oe=ee(ie);return __DEV__?(0,u.kG)(oe&&"query"===oe.operation,"Must contain a query definition."):(0,u.kG)(oe&&"query"===oe.operation,47),oe}function ve(ie){__DEV__?(0,u.kG)("Document"===ie.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,u.kG)("Document"===ie.kind,48),__DEV__?(0,u.kG)(ie.definitions.length<=1,"Fragment must have exactly one definition."):(0,u.kG)(ie.definitions.length<=1,49);var oe=ie.definitions[0];return __DEV__?(0,u.kG)("FragmentDefinition"===oe.kind,"Must be a fragment definition."):(0,u.kG)("FragmentDefinition"===oe.kind,50),oe}function _e(ie){S(ie);for(var oe,Fe=0,Ie=ie.definitions;Fe<Ie.length;Fe++){var ue=Ie[Fe];if("OperationDefinition"===ue.kind){var $e=ue.operation;if("query"===$e||"mutation"===$e||"subscription"===$e)return ue}"FragmentDefinition"===ue.kind&&!oe&&(oe=ue)}if(oe)return oe;throw __DEV__?new u.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new u.ej(51)}function $(ie){var oe=Object.create(null),Fe=ie&&ie.variableDefinitions;return Fe&&Fe.length&&Fe.forEach(function(Ie){Ie.defaultValue&&(0,_.vb)(oe,Ie.variable.name,Ie.defaultValue)}),oe}},7634:(Xt,tt,y)=>{y.d(tt,{kQ:()=>ee,Yk:()=>ce,JW:()=>me,vb:()=>$e,vf:()=>ke,PT:()=>Be,NC:()=>Te,u2:()=>Ue,qw:()=>rt,My:()=>ze,Ao:()=>J});var u=y(6686),_=y(7062),S=y(9661);function ee(re){return{__ref:String(re)}}function ce(re){return Boolean(re&&"object"==typeof re&&"string"==typeof re.__ref)}function me(re){return(0,_.s)(re)&&"Document"===re.kind&&Array.isArray(re.definitions)}function $e(re,Ce,He,Je){if(function _e(re){return"IntValue"===re.kind}(He)||function $(re){return"FloatValue"===re.kind}(He))re[Ce.value]=Number(He.value);else if(function ve(re){return"BooleanValue"===re.kind}(He)||function Pe(re){return"StringValue"===re.kind}(He))re[Ce.value]=He.value;else if(function oe(re){return"ObjectValue"===re.kind}(He)){var ut={};He.fields.map(function(Kt){return $e(ut,Kt.name,Kt.value,Je)}),re[Ce.value]=ut}else if(function ie(re){return"Variable"===re.kind}(He))re[Ce.value]=(Je||{})[He.name.value];else if(function Fe(re){return"ListValue"===re.kind}(He))re[Ce.value]=He.values.map(function(Kt){var rn={};return $e(rn,Ce,Kt,Je),rn[Ce.value]});else if(function Ie(re){return"EnumValue"===re.kind}(He))re[Ce.value]=He.value;else{if(!function ue(re){return"NullValue"===re.kind}(He))throw __DEV__?new u.ej('The inline argument "'.concat(Ce.value,'" of kind "').concat(He.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new u.ej(52);re[Ce.value]=null}}function ke(re,Ce){var He=null;re.directives&&(He={},re.directives.forEach(function(ut){He[ut.name.value]={},ut.arguments&&ut.arguments.forEach(function(ot){return $e(He[ut.name.value],ot.name,ot.value,Ce)})}));var Je=null;return re.arguments&&re.arguments.length&&(Je={},re.arguments.forEach(function(ut){return $e(Je,ut.name,ut.value,Ce)})),Be(re.name.value,Je,He)}var Qe=["connection","include","skip","client","rest","export"],Be=Object.assign(function(re,Ce,He){if(Ce&&He&&He.connection&&He.connection.key){if(He.connection.filter&&He.connection.filter.length>0){var Je=He.connection.filter?He.connection.filter:[];Je.sort();var ut={};return Je.forEach(function(rn){ut[rn]=Ce[rn]}),"".concat(He.connection.key,"(").concat(xt(ut),")")}return He.connection.key}var ot=re;if(Ce){var Kt=xt(Ce);ot+="(".concat(Kt,")")}return He&&Object.keys(He).forEach(function(rn){-1===Qe.indexOf(rn)&&(He[rn]&&Object.keys(He[rn]).length?ot+="@".concat(rn,"(").concat(xt(He[rn]),")"):ot+="@".concat(rn))}),ot},{setStringify:function(re){var Ce=xt;return xt=re,Ce}}),xt=function(Ce){return JSON.stringify(Ce,qe)};function qe(re,Ce){return(0,_.s)(Ce)&&!Array.isArray(Ce)&&(Ce=Object.keys(Ce).sort().reduce(function(He,Je){return He[Je]=Ce[Je],He},{})),Ce}function Te(re,Ce){if(re.arguments&&re.arguments.length){var He={};return re.arguments.forEach(function(Je){return $e(He,Je.name,Je.value,Ce)}),He}return null}function Ue(re){return re.alias?re.alias.value:re.name.value}function rt(re,Ce,He){if("string"==typeof re.__typename)return re.__typename;for(var Je=0,ut=Ce.selections;Je<ut.length;Je++){var ot=ut[Je];if(ze(ot)){if("__typename"===ot.name.value)return re[Ue(ot)]}else{var Kt=rt(re,(0,S.hi)(ot,He).selectionSet,He);if("string"==typeof Kt)return Kt}}}function ze(re){return"Field"===re.kind}function J(re){return"InlineFragment"===re.kind}},3291:(Xt,tt,y)=>{y.d(tt,{Gw:()=>Fe,aL:()=>Te,ob:()=>Ue,Fo:()=>ue});var u=y(655),_=y(6686),S=y(1335),ee=y(591);function ce(rt,ze,J){var re=0;return rt.forEach(function(Ce,He){ze.call(this,Ce,He,rt)&&(rt[re++]=Ce)},J),rt.length=re,rt}var me=y(7634),Pe=y(9661),ve={kind:"Field",name:{kind:"Name",value:"__typename"}};function _e(rt,ze){return rt.selectionSet.selections.every(function(J){return"FragmentSpread"===J.kind&&_e(ze[J.name.value],ze)})}function $(rt){return _e((0,ee.$H)(rt)||(0,ee.pD)(rt),(0,Pe.F)((0,ee.kU)(rt)))?null:rt}function ie(rt){return function(J){return rt.some(function(re){return re.name&&re.name===J.name.value||re.test&&re.test(J)})}}function oe(rt,ze){var J=Object.create(null),re=[],Ce=Object.create(null),He=[],Je=$((0,S.Vn)(ze,{Variable:{enter:function(ut,ot,Kt){"VariableDefinition"!==Kt.kind&&(J[ut.name.value]=!0)}},Field:{enter:function(ut){if(rt&&ut.directives&&rt.some(function(Kt){return Kt.remove})&&ut.directives&&ut.directives.some(ie(rt)))return ut.arguments&&ut.arguments.forEach(function(Kt){"Variable"===Kt.value.kind&&re.push({name:Kt.value.name.value})}),ut.selectionSet&&qe(ut.selectionSet).forEach(function(Kt){He.push({name:Kt.name.value})}),null}},FragmentSpread:{enter:function(ut){Ce[ut.name.value]=!0}},Directive:{enter:function(ut){if(ie(rt)(ut))return null}}}));return Je&&ce(re,function(ut){return!!ut.name&&!J[ut.name]}).length&&(Je=function Be(rt,ze){var J=function Qe(rt){return function(J){return rt.some(function(re){return J.value&&"Variable"===J.value.kind&&J.value.name&&(re.name===J.value.name.value||re.test&&re.test(J))})}}(rt);return $((0,S.Vn)(ze,{OperationDefinition:{enter:function(re){return(0,u.pi)((0,u.pi)({},re),{variableDefinitions:re.variableDefinitions?re.variableDefinitions.filter(function(Ce){return!rt.some(function(He){return He.name===Ce.variable.name.value})}):[]})}},Field:{enter:function(re){var Ce=rt.some(function(Je){return Je.remove});if(Ce){var He=0;if(re.arguments&&re.arguments.forEach(function(Je){J(Je)&&(He+=1)}),1===He)return null}}},Argument:{enter:function(re){if(J(re))return null}}}))}(re,Je)),Je&&ce(He,function(ut){return!!ut.name&&!Ce[ut.name]}).length&&(Je=function xt(rt,ze){function J(re){if(rt.some(function(Ce){return Ce.name===re.name.value}))return null}return $((0,S.Vn)(ze,{FragmentSpread:{enter:J},FragmentDefinition:{enter:J}}))}(He,Je)),Je}var Fe=Object.assign(function(rt){return(0,S.Vn)(rt,{SelectionSet:{enter:function(ze,J,re){if(!re||"OperationDefinition"!==re.kind){var Ce=ze.selections;if(Ce&&!Ce.some(function(ut){return(0,me.My)(ut)&&("__typename"===ut.name.value||0===ut.name.value.lastIndexOf("__",0))})){var Je=re;if(!((0,me.My)(Je)&&Je.directives&&Je.directives.some(function(ut){return"export"===ut.name.value})))return(0,u.pi)((0,u.pi)({},ze),{selections:(0,u.ev)((0,u.ev)([],Ce,!0),[ve],!1)})}}}}})},{added:function(rt){return rt===ve}}),Ie={test:function(rt){var ze="connection"===rt.name.value;return ze&&(!rt.arguments||!rt.arguments.some(function(J){return"key"===J.name.value}))&&__DEV__&&_.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),ze}};function ue(rt){return oe([Ie],(0,ee.A$)(rt))}function qe(rt){var ze=[];return rt.selections.forEach(function(J){((0,me.My)(J)||(0,me.Ao)(J))&&J.selectionSet?qe(J.selectionSet).forEach(function(re){return ze.push(re)}):"FragmentSpread"===J.kind&&ze.push(J)}),ze}function Te(rt){return"query"===(0,ee.p$)(rt).operation?rt:(0,S.Vn)(rt,{OperationDefinition:{enter:function(Ce){return(0,u.pi)((0,u.pi)({},Ce),{operation:"query"})}}})}function Ue(rt){(0,ee.A$)(rt);var ze=oe([{test:function(J){return"client"===J.name.value},remove:!0}],rt);return ze&&(ze=(0,S.Vn)(ze,{FragmentDefinition:{enter:function(J){if(J.selectionSet&&J.selectionSet.selections.every(function(Ce){return(0,me.My)(Ce)&&"__typename"===Ce.name.value}))return null}}})),ze}},3942:(Xt,tt,y)=>{y.d(tt,{Z:()=>ue});var u=y(2090),_=y(4859),S=y(9681),ee=y(1877);class ce{constructor(ke,Qe){this._delegate=ke,this.firebase=Qe,(0,S._addComponent)(ke,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=ke.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this._delegate.automaticDataCollectionEnabled=ke}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ke=>{this._delegate.checkDestroyed(),ke()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(ke,Qe=S._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(ke);return!xt.isInitialized()&&"EXPLICIT"===(null===(Be=xt.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:Qe})}_removeServiceInstance(ke,Qe=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ke).clearInstance(Qe)}_addComponent(ke){(0,S._addComponent)(this._delegate,ke)}_addOrOverwriteComponent(ke){(0,S._addOrOverwriteComponent)(this._delegate,ke)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function _e(){const $e=function ve($e){const ke={},Qe={__esModule:!0,initializeApp:function qe(ze,J={}){const re=S.initializeApp(ze,J);if((0,u.r3)(ke,re.name))return ke[re.name];const Ce=new $e(re,Qe);return ke[re.name]=Ce,Ce},app:xt,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function Ue(ze){const J=ze.name,re=J.replace("-compat","");if(S._registerComponent(ze)&&"PUBLIC"===ze.type){const Ce=(He=xt())=>{if("function"!=typeof He[re])throw Pe.create("invalid-app-argument",{appName:J});return He[re]()};void 0!==ze.serviceProps&&(0,u.ZB)(Ce,ze.serviceProps),Qe[re]=Ce,$e.prototype[re]=function(...He){return this._getService.bind(this,J).apply(this,ze.multipleInstances?He:[])}}return"PUBLIC"===ze.type?Qe[re]:null},removeApp:function Be(ze){delete ke[ze]},useAsService:function rt(ze,J){return"serverAuth"===J?null:J},modularAPIs:S}};function xt(ze){if(!(0,u.r3)(ke,ze=ze||S._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:ze});return ke[ze]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function Te(){return Object.keys(ke).map(ze=>ke[ze])}}),xt.App=$e,Qe}(ce);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ke(Qe){(0,u.ZB)($e,Qe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),$e}(),ie=new ee.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ue=$;!function Ie($e){(0,S.registerVersion)("@firebase/app-compat","0.1.30",$e)}()},9681:(Xt,tt,y)=>{y.r(tt),y.d(tt,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>un,_addOrOverwriteComponent:()=>_n,_apps:()=>qt,_clearComponents:()=>xn,_components:()=>Qt,_getProvider:()=>At,_registerComponent:()=>Mt,_removeServiceInstance:()=>Ht,deleteApp:()=>cn,getApp:()=>Wr,getApps:()=>Ar,initializeApp:()=>ar,onLog:()=>yr,registerVersion:()=>dr,setLogLevel:()=>on});var u=y(9671),_=y(4859),S=y(1877),ee=y(2090),ce=y(8766);class me{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function Pe(W){const N=W.getComponent();return"VERSION"===(null==N?void 0:N.type)}(U)){const Se=U.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(U=>U).join(" ")}}const ve="@firebase/app",$=new S.Yd("@firebase/app"),ln="[DEFAULT]",mt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Qt=new Map;function un(W,N){try{W.container.addComponent(N)}catch(U){$.debug(`Component ${N.name} failed to register with FirebaseApp ${W.name}`,U)}}function _n(W,N){W.container.addOrOverwriteComponent(N)}function Mt(W){const N=W.name;if(Qt.has(N))return $.debug(`There were multiple attempts to register component ${N}.`),!1;Qt.set(N,W);for(const U of qt.values())un(U,W);return!0}function At(W,N){const U=W.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),W.container.getProvider(N)}function Ht(W,N,U=ln){At(W,N).clearInstance(U)}function xn(){Qt.clear()}const Gn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Qn{constructor(N,U,Se){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const Kn="9.9.1";function ar(W,N={}){"object"!=typeof N&&(N={name:N});const U=Object.assign({name:ln,automaticDataCollectionEnabled:!1},N),Se=U.name;if("string"!=typeof Se||!Se)throw Gn.create("bad-app-name",{appName:String(Se)});const ht=qt.get(Se);if(ht){if((0,ee.vZ)(W,ht.options)&&(0,ee.vZ)(U,ht.config))return ht;throw Gn.create("duplicate-app",{appName:Se})}const Gt=new _.H0(Se);for(const Nt of Qt.values())Gt.addComponent(Nt);const de=new Qn(W,U,Gt);return qt.set(Se,de),de}function Wr(W=ln){const N=qt.get(W);if(!N)throw Gn.create("no-app",{appName:W});return N}function Ar(){return Array.from(qt.values())}function cn(W){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(W){const N=W.name;qt.has(N)&&(qt.delete(N),yield Promise.all(W.container.getProviders().map(U=>U.delete())),W.isDeleted=!0)})).apply(this,arguments)}function dr(W,N,U){var Se;let ht=null!==(Se=mt[W])&&void 0!==Se?Se:W;U&&(ht+=`-${U}`);const Gt=ht.match(/\s|\//),de=N.match(/\s|\//);if(Gt||de){const Nt=[`Unable to register library "${ht}" with version "${N}":`];return Gt&&Nt.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Gt&&de&&Nt.push("and"),de&&Nt.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void $.warn(Nt.join(" "))}Mt(new _.wA(`${ht}-version`,()=>({library:ht,version:N}),"VERSION"))}function yr(W,N){if(null!==W&&"function"!=typeof W)throw Gn.create("invalid-log-argument");(0,S.Am)(W,N)}function on(W){(0,S.Ub)(W)}const Ke="firebase-heartbeat-store";let Bt=null;function Vt(){return Bt||(Bt=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(W,N)=>{0===N&&W.createObjectStore(Ke)}}).catch(W=>{throw Gn.create("storage-open",{originalErrorMessage:W.message})})),Bt}function en(){return(en=(0,u.Z)(function*(W){var N;try{return(yield Vt()).transaction(Ke).objectStore(Ke).get(Rn(W))}catch(U){throw Gn.create("storage-get",{originalErrorMessage:null===(N=U)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Cn(W,N){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(W,N){var U;try{const ht=(yield Vt()).transaction(Ke,"readwrite");return yield ht.objectStore(Ke).put(N,Rn(W)),ht.done}catch(Se){throw Gn.create("storage-set",{originalErrorMessage:null===(U=Se)||void 0===U?void 0:U.message})}})).apply(this,arguments)}function Rn(W){return`${W.name}!${W.options.appId}`}class Sn{constructor(N){this.container=N,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new Rr(U),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var N=this;return(0,u.Z)(function*(){const Se=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=Hn();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==ht&&!N._heartbeatsCache.heartbeats.some(Gt=>Gt.date===ht))return N._heartbeatsCache.heartbeats.push({date:ht,agent:Se}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(Gt=>{const de=new Date(Gt.date).valueOf();return Date.now()-de<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,u.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const U=Hn(),{heartbeatsToSend:Se,unsentEntries:ht}=function bn(W,N=1024){const U=[];let Se=W.slice();for(const ht of W){const Gt=U.find(de=>de.agent===ht.agent);if(Gt){if(Gt.dates.push(ht.date),ct(U)>N){Gt.dates.pop();break}}else if(U.push({agent:ht.agent,dates:[ht.date]}),ct(U)>N){U.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:U,unsentEntries:Se}}(N._heartbeatsCache.heartbeats),Gt=(0,ee.L)(JSON.stringify({version:2,heartbeats:Se}));return N._heartbeatsCache.lastSentHeartbeatDate=U,ht.length>0?(N._heartbeatsCache.heartbeats=ht,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),Gt})()}}function Hn(){return(new Date).toISOString().substring(0,10)}class Rr{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,u.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function Yt(W){return en.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var U=this;return(0,u.Z)(function*(){var Se;if(yield U._canUseIndexedDBPromise){const Gt=yield U.read();return Cn(U.app,{lastSentHeartbeatDate:null!==(Se=N.lastSentHeartbeatDate)&&void 0!==Se?Se:Gt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var U=this;return(0,u.Z)(function*(){var Se;if(yield U._canUseIndexedDBPromise){const Gt=yield U.read();return Cn(U.app,{lastSentHeartbeatDate:null!==(Se=N.lastSentHeartbeatDate)&&void 0!==Se?Se:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...N.heartbeats]})}})()}}function ct(W){return(0,ee.L)(JSON.stringify({version:2,heartbeats:W})).length}!function Ae(W){Mt(new _.wA("platform-logger",N=>new me(N),"PRIVATE")),Mt(new _.wA("heartbeat",N=>new Sn(N),"PRIVATE")),dr(ve,"0.7.29",W),dr(ve,"0.7.29","esm2017"),dr("fire-js","")}("")},4859:(Xt,tt,y)=>{y.d(tt,{wA:()=>S,H0:()=>ve});var u=y(9671),_=y(2090);class S{constructor($,ie,oe){this.name=$,this.instanceFactory=ie,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ee="[DEFAULT]";class ce{constructor($,ie){this.name=$,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const ie=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(ie)){const oe=new _.BH;if(this.instancesDeferred.set(ie,oe),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:ie});Fe&&oe.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(ie).promise}getImmediate($){var ie;const oe=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Fe=null!==(ie=null==$?void 0:$.optional)&&void 0!==ie&&ie;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Ie){if(Fe)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function Pe(_e){return"EAGER"===_e.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(ie){}for(const[ie,oe]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ie);try{const Ie=this.getOrInitializeService({instanceIdentifier:Fe});oe.resolve(Ie)}catch(Ie){}}}}clearInstance($=ee){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const ie=Array.from($.instances.values());yield Promise.all([...ie.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...ie.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ee){return this.instances.has($)}getOptions($=ee){return this.instancesOptions.get($)||{}}initialize($={}){const{options:ie={}}=$,oe=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:oe,options:ie});for(const[Ie,ue]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Ie)&&ue.resolve(Fe);return Fe}onInit($,ie){var oe;const Fe=this.normalizeInstanceIdentifier(ie),Ie=null!==(oe=this.onInitCallbacks.get(Fe))&&void 0!==oe?oe:new Set;Ie.add($),this.onInitCallbacks.set(Fe,Ie);const ue=this.instances.get(Fe);return ue&&$(ue,Fe),()=>{Ie.delete($)}}invokeOnInitCallbacks($,ie){const oe=this.onInitCallbacks.get(ie);if(oe)for(const Fe of oe)try{Fe($,ie)}catch(Ie){}}getOrInitializeService({instanceIdentifier:$,options:ie={}}){let oe=this.instances.get($);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=$,_e===ee?void 0:_e),options:ie}),this.instances.set($,oe),this.instancesOptions.set($,ie),this.invokeOnInitCallbacks(oe,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,oe)}catch(Fe){}var _e;return oe||null}normalizeInstanceIdentifier($=ee){return this.component?this.component.multipleInstances?$:ee:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor($){this.name=$,this.providers=new Map}addComponent($){const ie=this.getProvider($.name);if(ie.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);ie.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const ie=new ce($,this);return this.providers.set($,ie),ie}getProviders(){return Array.from(this.providers.values())}}},2833:(Xt,tt,y)=>{var u=y(9671),_=y(9681),S=y(4859),ee=y(2090),ce=y(8766);const me="@firebase/installations",Pe="0.5.12",_e=`w:${Pe}`,$="FIS_v2",$e=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(ft){return ft instanceof ee.ZR&&ft.code.includes("request-failed")}function Qe({projectId:ft}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ft}/installations`}function Be(ft){return{token:ft.token,requestStatus:2,expiresIn:J(ft.expiresIn),creationTime:Date.now()}}function xt(ft,$t){return qe.apply(this,arguments)}function qe(){return(qe=(0,u.Z)(function*(ft,$t){const $n=(yield $t.json()).error;return $e.create("request-failed",{requestName:ft,serverCode:$n.code,serverMessage:$n.message,serverStatus:$n.status})})).apply(this,arguments)}function Te({apiKey:ft}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ft})}function Ue(ft,{refreshToken:$t}){const yn=Te(ft);return yn.append("Authorization",function re(ft){return`${$} ${ft}`}($t)),yn}function rt(ft){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(ft){const $t=yield ft();return $t.status>=500&&$t.status<600?ft():$t})).apply(this,arguments)}function J(ft){return Number(ft.replace("s","000"))}function Ce(ft,$t){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*({appConfig:ft,heartbeatServiceProvider:$t},{fid:yn}){const $n=Qe(ft),gr=Te(ft),Et=$t.getImmediate({optional:!0});if(Et){const An=yield Et.getHeartbeatsHeader();An&&gr.append("x-firebase-client",An)}const Ut={method:"POST",headers:gr,body:JSON.stringify({fid:yn,authVersion:$,appId:ft.appId,sdkVersion:_e})},Vn=yield rt(()=>fetch($n,Ut));if(Vn.ok){const An=yield Vn.json();return{fid:An.fid||yn,registrationStatus:2,refreshToken:An.refreshToken,authToken:Be(An.authToken)}}throw yield xt("Create Installation",Vn)})).apply(this,arguments)}function Je(ft){return new Promise($t=>{setTimeout($t,ft)})}const ot=/^[cdef][\w-]{21}$/;function rn(){try{const ft=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ft),ft[0]=112+ft[0]%16;const yn=function En(ft){return function ut(ft){return btoa(String.fromCharCode(...ft)).replace(/\+/g,"-").replace(/\//g,"_")}(ft).substr(0,22)}(ft);return ot.test(yn)?yn:""}catch(ft){return""}}function ln(ft){return`${ft.appName}!${ft.appId}`}const mt=new Map;function qt(ft,$t){const yn=ln(ft);_n(yn,$t),function Mt(ft,$t){const yn=function Ht(){return!At&&"BroadcastChannel"in self&&(At=new BroadcastChannel("[Firebase] FID Change"),At.onmessage=ft=>{_n(ft.data.key,ft.data.fid)}),At}();yn&&yn.postMessage({key:ft,fid:$t}),function xn(){0===mt.size&&At&&(At.close(),At=null)}()}(yn,$t)}function _n(ft,$t){const yn=mt.get(ft);if(yn)for(const $n of yn)$n($t)}let At=null;const Qn="firebase-installations-store";let Kn=null;function ar(){return Kn||(Kn=(0,ce.X3)("firebase-installations-database",1,{upgrade:(ft,$t)=>{0===$t&&ft.createObjectStore(Qn)}})),Kn}function Wr(ft,$t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(ft,$t){const yn=ln(ft),gr=(yield ar()).transaction(Qn,"readwrite"),Et=gr.objectStore(Qn),gt=yield Et.get(yn);return yield Et.put($t,yn),yield gr.done,(!gt||gt.fid!==$t.fid)&&qt(ft,$t.fid),$t})).apply(this,arguments)}function cn(ft){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(ft){const $t=ln(ft),$n=(yield ar()).transaction(Qn,"readwrite");yield $n.objectStore(Qn).delete($t),yield $n.done})).apply(this,arguments)}function dr(ft,$t){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(ft,$t){const yn=ln(ft),gr=(yield ar()).transaction(Qn,"readwrite"),Et=gr.objectStore(Qn),gt=yield Et.get(yn),Ut=$t(gt);return void 0===Ut?yield Et.delete(yn):yield Et.put(Ut,yn),yield gr.done,Ut&&(!gt||gt.fid!==Ut.fid)&&qt(ft,Ut.fid),Ut})).apply(this,arguments)}function on(ft){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(ft){let $t;const yn=yield dr(ft.appConfig,$n=>{const gr=Ne($n),Et=Ke(ft,gr);return $t=Et.registrationPromise,Et.installationEntry});return""===yn.fid?{installationEntry:yield $t}:{installationEntry:yn,registrationPromise:$t}})).apply(this,arguments)}function Ne(ft){return Tn(ft||{fid:rn(),registrationStatus:0})}function Ke(ft,$t){if(0===$t.registrationStatus){if(!navigator.onLine)return{installationEntry:$t,registrationPromise:Promise.reject($e.create("app-offline"))};const yn={fid:$t.fid,registrationStatus:1,registrationTime:Date.now()},$n=function Bt(ft,$t){return Vt.apply(this,arguments)}(ft,yn);return{installationEntry:yn,registrationPromise:$n}}return 1===$t.registrationStatus?{installationEntry:$t,registrationPromise:Yt(ft)}:{installationEntry:$t}}function Vt(){return(Vt=(0,u.Z)(function*(ft,$t){try{const yn=yield Ce(ft,$t);return Wr(ft.appConfig,yn)}catch(yn){throw ke(yn)&&409===yn.customData.serverCode?yield cn(ft.appConfig):yield Wr(ft.appConfig,{fid:$t.fid,registrationStatus:0}),yn}})).apply(this,arguments)}function Yt(ft){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(ft){let $t=yield Cn(ft.appConfig);for(;1===$t.registrationStatus;)yield Je(100),$t=yield Cn(ft.appConfig);if(0===$t.registrationStatus){const{installationEntry:yn,registrationPromise:$n}=yield on(ft);return $n||yn}return $t})).apply(this,arguments)}function Cn(ft){return dr(ft,$t=>{if(!$t)throw $e.create("installation-not-found");return Tn($t)})}function Tn(ft){return function Rn(ft){return 1===ft.registrationStatus&&ft.registrationTime+1e4<Date.now()}(ft)?{fid:ft.fid,registrationStatus:0}:ft}function Wn(ft,$t){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*({appConfig:ft,heartbeatServiceProvider:$t},yn){const $n=Sn(ft,yn),gr=Ue(ft,yn),Et=$t.getImmediate({optional:!0});if(Et){const An=yield Et.getHeartbeatsHeader();An&&gr.append("x-firebase-client",An)}const Ut={method:"POST",headers:gr,body:JSON.stringify({installation:{sdkVersion:_e,appId:ft.appId}})},Vn=yield rt(()=>fetch($n,Ut));if(Vn.ok)return Be(yield Vn.json());throw yield xt("Generate Auth Token",Vn)})).apply(this,arguments)}function Sn(ft,{fid:$t}){return`${Qe(ft)}/${$t}/authTokens:generate`}function Hn(ft){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(ft,$t=!1){let yn;const $n=yield dr(ft.appConfig,Et=>{if(!U(Et))throw $e.create("not-registered");const gt=Et.authToken;if(!$t&&Se(gt))return Et;if(1===gt.requestStatus)return yn=Rr(ft,$t),Et;{if(!navigator.onLine)throw $e.create("app-offline");const Ut=Gt(Et);return yn=W(ft,Ut),Ut}});return yn?yield yn:$n.authToken})).apply(this,arguments)}function Rr(ft,$t){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(ft,$t){let yn=yield Ae(ft.appConfig);for(;1===yn.authToken.requestStatus;)yield Je(100),yn=yield Ae(ft.appConfig);const $n=yn.authToken;return 0===$n.requestStatus?Hn(ft,$t):$n})).apply(this,arguments)}function Ae(ft){return dr(ft,$t=>{if(!U($t))throw $e.create("not-registered");return function de(ft){return 1===ft.requestStatus&&ft.requestTime+1e4<Date.now()}($t.authToken)?Object.assign(Object.assign({},$t),{authToken:{requestStatus:0}}):$t})}function W(ft,$t){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)(function*(ft,$t){try{const yn=yield Wn(ft,$t),$n=Object.assign(Object.assign({},$t),{authToken:yn});return yield Wr(ft.appConfig,$n),yn}catch(yn){if(!ke(yn)||401!==yn.customData.serverCode&&404!==yn.customData.serverCode){const $n=Object.assign(Object.assign({},$t),{authToken:{requestStatus:0}});yield Wr(ft.appConfig,$n)}else yield cn(ft.appConfig);throw yn}})).apply(this,arguments)}function U(ft){return void 0!==ft&&2===ft.registrationStatus}function Se(ft){return 2===ft.requestStatus&&!function ht(ft){const $t=Date.now();return $t<ft.creationTime||ft.creationTime+ft.expiresIn<$t+36e5}(ft)}function Gt(ft){const $t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ft),{authToken:$t})}function M(){return(M=(0,u.Z)(function*(ft){const $t=ft,{installationEntry:yn,registrationPromise:$n}=yield on($t);return $n?$n.catch(console.error):Hn($t).catch(console.error),yn.fid})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(ft,$t=!1){const yn=ft;return yield Ye(yn),(yield Hn(yn,$t)).token})).apply(this,arguments)}function Ye(ft){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(ft){const{registrationPromise:$t}=yield on(ft);$t&&(yield $t)})).apply(this,arguments)}function Br(ft){return $e.create("missing-app-config-values",{valueName:ft})}const Xr="installations",gi=ft=>{const $t=ft.getProvider("app").getImmediate(),yn=function li(ft){if(!ft||!ft.options)throw Br("App Configuration");if(!ft.name)throw Br("App Name");const $t=["projectId","apiKey","appId"];for(const yn of $t)if(!ft.options[yn])throw Br(yn);return{appName:ft.name,projectId:ft.options.projectId,apiKey:ft.options.apiKey,appId:ft.options.appId}}($t);return{app:$t,appConfig:yn,heartbeatServiceProvider:(0,_._getProvider)($t,"heartbeat"),_delete:()=>Promise.resolve()}},Nr=ft=>{const $t=ft.getProvider("app").getImmediate(),yn=(0,_._getProvider)($t,Xr).getImmediate();return{getId:()=>function Nt(ft){return M.apply(this,arguments)}(yn),getToken:gr=>function Z(ft){return it.apply(this,arguments)}(yn,gr)}};(function Mn(){(0,_._registerComponent)(new S.wA(Xr,gi,"PUBLIC")),(0,_._registerComponent)(new S.wA("installations-internal",Nr,"PRIVATE"))})(),(0,_.registerVersion)(me,Pe),(0,_.registerVersion)(me,Pe,"esm2017")},1877:(Xt,tt,y)=>{y.d(tt,{in:()=>_,Yd:()=>Pe,Ub:()=>ve,Am:()=>_e});const u=[];var _=(()=>{return($=_||(_={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",_;var $})();const S={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},ee=_.INFO,ce={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},me=($,ie,...oe)=>{if(ie<$.logLevel)return;const Fe=(new Date).toISOString(),Ie=ce[ie];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ie](`[${Fe}]  ${$.name}:`,...oe)};class Pe{constructor(ie){this.name=ie,this._logLevel=ee,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in _))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?S[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...ie),this._logHandler(this,_.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...ie),this._logHandler(this,_.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,_.INFO,...ie),this._logHandler(this,_.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,_.WARN,...ie),this._logHandler(this,_.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...ie),this._logHandler(this,_.ERROR,...ie)}}function ve($){u.forEach(ie=>{ie.setLogLevel($)})}function _e($,ie){for(const oe of u){let Fe=null;ie&&ie.level&&(Fe=S[ie.level]),oe.userLogHandler=null===$?null:(Ie,ue,...$e)=>{const ke=$e.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch(Be){return null}}).filter(Qe=>Qe).join(" ");ue>=(null!=Fe?Fe:Ie.logLevel)&&$({level:_[ue].toLowerCase(),message:ke,args:$e,type:Ie.name})}}}},4370:(Xt,tt,y)=>{y.d(tt,{r:()=>ft,g4:()=>yn});var u=y(2090),_=y(1877),S=y(9681),ee=y(4859);y(2833);const me="@firebase/performance",Pe="0.5.12",ie="FB-PERF-TRACE-MEASURE",$e="@firebase/performance/config",ke="@firebase/performance/configexpire",Be="Performance",qe=new u.LL("performance",Be,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Te=new _.Yd(Be);let Ue,rt,re,ot;Te.logLevel=_.in.INFO;class ze{constructor(gt){if(this.window=gt,!gt)throw qe.create("no window");this.performance=gt.performance,this.PerformanceObserver=gt.PerformanceObserver,this.windowLocation=gt.location,this.navigator=gt.navigator,this.document=gt.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=gt.localStorage),gt.perfMetrics&&gt.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=gt.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(gt){!this.performance||!this.performance.mark||this.performance.mark(gt)}measure(gt,Ut,Vn){!this.performance||!this.performance.measure||this.performance.measure(gt,Ut,Vn)}getEntriesByType(gt){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(gt):[]}getEntriesByName(gt){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(gt):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,u.zI)()?!!(0,u.hl)()||(Te.info("IndexedDB is not supported by current browswer"),!1):(Te.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(gt,Ut){this.PerformanceObserver&&new this.PerformanceObserver(An=>{for(const kr of An.getEntries())Ut(kr)}).observe({entryTypes:[gt]})}static getInstance(){return void 0===Ue&&(Ue=new ze(rt)),Ue}}function He(){return re}function ut(Et,gt){const Ut=Et.length-gt.length;if(Ut<0||Ut>1)throw qe.create("invalid String merger input");const Vn=[];for(let An=0;An<Et.length;An++)Vn.push(Et.charAt(An)),gt.length>An&&Vn.push(gt.charAt(An));return Vn.join("")}class Kt{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ut("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ut("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===ot&&(ot=new Kt),ot}}var rn=(()=>{return(Et=rn||(rn={}))[Et.UNKNOWN=0]="UNKNOWN",Et[Et.VISIBLE=1]="VISIBLE",Et[Et.HIDDEN=2]="HIDDEN",rn;var Et})();const En=["firebase_","google_","ga_"],ln=new RegExp("^[a-zA-Z]\\w*$");function Qt(){const Et=ze.getInstance().navigator;return"serviceWorker"in Et?Et.serviceWorker.controller?2:3:1}function un(){switch(ze.getInstance().document.visibilityState){case"visible":return rn.VISIBLE;case"hidden":return rn.HIDDEN;default:return rn.UNKNOWN}}function _n(){const gt=ze.getInstance().navigator.connection;switch(gt&&gt.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Ht(Et){var gt;const Ut=null===(gt=Et.options)||void 0===gt?void 0:gt.appId;if(!Ut)throw qe.create("no app id");return Ut}const Qn={loggingEnabled:!0};const cn="Could not fetch config, will use default configs";function dr(Et){if(!Et)return Et;const gt=Kt.getInstance(),Ut=Et.entries||{};return gt.loggingEnabled=void 0!==Ut.fpr_enabled?"true"===String(Ut.fpr_enabled):Qn.loggingEnabled,Ut.fpr_log_source?gt.logSource=Number(Ut.fpr_log_source):Qn.logSource&&(gt.logSource=Qn.logSource),Ut.fpr_log_endpoint_url?gt.logEndPointUrl=Ut.fpr_log_endpoint_url:Qn.logEndPointUrl&&(gt.logEndPointUrl=Qn.logEndPointUrl),Ut.fpr_log_transport_key?gt.transportKey=Ut.fpr_log_transport_key:Qn.transportKey&&(gt.transportKey=Qn.transportKey),void 0!==Ut.fpr_vc_network_request_sampling_rate?gt.networkRequestsSamplingRate=Number(Ut.fpr_vc_network_request_sampling_rate):void 0!==Qn.networkRequestsSamplingRate&&(gt.networkRequestsSamplingRate=Qn.networkRequestsSamplingRate),void 0!==Ut.fpr_vc_trace_sampling_rate?gt.tracesSamplingRate=Number(Ut.fpr_vc_trace_sampling_rate):void 0!==Qn.tracesSamplingRate&&(gt.tracesSamplingRate=Qn.tracesSamplingRate),gt.logTraceAfterSampling=on(gt.tracesSamplingRate),gt.logNetworkAfterSampling=on(gt.networkRequestsSamplingRate),Et}function on(Et){return Math.random()<=Et}let Ne,Ft=1;function Ke(Et){return Ft=2,Ne=Ne||function Vt(Et){return function Yt(){const Et=ze.getInstance().document;return new Promise(gt=>{if(Et&&"complete"!==Et.readyState){const Ut=()=>{"complete"===Et.readyState&&(Et.removeEventListener("readystatechange",Ut),gt())};Et.addEventListener("readystatechange",Ut)}else gt()})}().then(()=>function Ce(Et){const gt=Et.getId();return gt.then(Ut=>{re=Ut}),gt}(Et.installations)).then(gt=>function ar(Et,gt){const Ut=function Wr(){const Et=ze.getInstance().localStorage;if(!Et)return;const gt=Et.getItem(ke);if(!gt||!function yr(Et){return Number(Et)>Date.now()}(gt))return;const Ut=Et.getItem($e);if(Ut)try{return JSON.parse(Ut)}catch(Vn){return}}();return Ut?(dr(Ut),Promise.resolve()):function Fr(Et,gt){return function Je(Et){const gt=Et.getToken();return gt.then(Ut=>{}),gt}(Et.installations).then(Ut=>{const Vn=function xn(Et){var gt;const Ut=null===(gt=Et.options)||void 0===gt?void 0:gt.projectId;if(!Ut)throw qe.create("no project id");return Ut}(Et.app),An=function In(Et){var gt;const Ut=null===(gt=Et.options)||void 0===gt?void 0:gt.apiKey;if(!Ut)throw qe.create("no api key");return Ut}(Et.app),ni=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${Vn}/namespaces/fireperf:fetch?key=${An}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${Ut}`},body:JSON.stringify({app_instance_id:gt,app_instance_id_token:Ut,app_id:Ht(Et.app),app_version:"0.5.12",sdk_version:"0.0.1"})});return fetch(ni).then(Ai=>{if(Ai.ok)return Ai.json();throw qe.create("RC response not ok")})}).catch(()=>{Te.info(cn)})}(Et,gt).then(dr).then(Vn=>function Ar(Et){const gt=ze.getInstance().localStorage;!Et||!gt||(gt.setItem($e,JSON.stringify(Et)),gt.setItem(ke,String(Date.now()+60*Kt.getInstance().configTimeToLive*60*1e3)))}(Vn),()=>{})}(Et,gt)).then(()=>en(),()=>en())}(Et),Ne}function en(){Ft=3}let Se,tr=3,Sn=[],Hn=!1;function Rr(Et){setTimeout(()=>{if(0!==tr){if(!Sn.length)return Rr(1e4);!function ct(){const Et=Sn.splice(0,1e3),gt=Et.map(Vn=>({source_extension_json_proto3:Vn.message,event_time_ms:String(Vn.eventTime)}));(function Ae(Et,gt){return function W(Et){const gt=Kt.getInstance().getFlTransportFullUrl();return fetch(gt,{method:"POST",body:JSON.stringify(Et)})}(Et).then(Ut=>(Ut.ok||Te.info("Call to Firebase backend failed."),Ut.json())).then(Ut=>{const Vn=Number(Ut.nextRequestWaitMillis);let An=1e4;isNaN(Vn)||(An=Math.max(Vn,An));const kr=Ut.logResponseDetails;Array.isArray(kr)&&kr.length>0&&"RETRY_REQUEST_LATER"===kr[0].responseAction&&(Sn=[...gt,...Sn],Te.info("Retry transport request later.")),tr=3,Rr(An)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Kt.getInstance().logSource,log_event:gt},Et).catch(()=>{Sn=[...Et,...Sn],tr--,Te.info(`Tries left: ${tr}.`),Rr(1e4)})}()}},Et)}function ht(Et,gt){Se||(Se=function U(Et){return(...gt)=>{!function N(Et){if(!Et.eventTime||!Et.message)throw qe.create("invalid cc log");Sn=[...Sn,Et]}({message:Et(...gt),eventTime:Date.now()})}}(M)),Se(Et,gt)}function Gt(Et){const gt=Kt.getInstance();!gt.instrumentationEnabled&&Et.isAuto||!gt.dataCollectionEnabled&&!Et.isAuto||!ze.getInstance().requiredApisAvailable()||Et.isAuto&&un()!==rn.VISIBLE||(function Bt(){return 3===Ft}()?de(Et):Ke(Et.performanceController).then(()=>de(Et),()=>de(Et)))}function de(Et){if(!He())return;const gt=Kt.getInstance();!gt.loggingEnabled||!gt.logTraceAfterSampling||setTimeout(()=>ht(Et,1),0)}function M(Et,gt){return 0===gt?function Z(Et){const gt={url:Et.url,http_method:Et.httpMethod||0,http_response_code:200,response_payload_bytes:Et.responsePayloadBytes,client_start_time_us:Et.startTimeUs,time_to_response_initiated_us:Et.timeToResponseInitiatedUs,time_to_response_completed_us:Et.timeToResponseCompletedUs},Ut={application_info:Ye(Et.performanceController.app),network_request_metric:gt};return JSON.stringify(Ut)}(Et):function it(Et){const gt={name:Et.name,is_auto:Et.isAuto,client_start_time_us:Et.startTimeUs,duration_us:Et.durationUs};0!==Object.keys(Et.counters).length&&(gt.counters=Et.counters);const Ut=Et.getAttributes();0!==Object.keys(Ut).length&&(gt.custom_attributes=Ut);const Vn={application_info:Ye(Et.performanceController.app),trace_metric:gt};return JSON.stringify(Vn)}(Et)}function Ye(Et){return{google_app_id:Ht(Et),app_instance_id:He(),web_app_info:{sdk_version:"0.5.12",page_url:ze.getInstance().getUrl(),service_worker_status:Qt(),visibility_state:un(),effective_connection_type:_n()},application_process_state:0}}const yt=["_fp","_fcp","_fid"];class Un{constructor(gt,Ut,Vn=!1,An){this.performanceController=gt,this.name=Ut,this.isAuto=Vn,this.state=1,this.customAttributes={},this.counters={},this.api=ze.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=An||`${ie}-${this.randomId}-${this.name}`,An&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw qe.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw qe.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Gt(this)}record(gt,Ut,Vn){if(gt<=0)throw qe.create("nonpositive trace startTime",{traceName:this.name});if(Ut<=0)throw qe.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*Ut),this.startTimeUs=Math.floor(1e3*gt),Vn&&Vn.attributes&&(this.customAttributes=Object.assign({},Vn.attributes)),Vn&&Vn.metrics)for(const An of Object.keys(Vn.metrics))isNaN(Number(Vn.metrics[An]))||(this.counters[An]=Math.floor(Number(Vn.metrics[An])));Gt(this)}incrementMetric(gt,Ut=1){this.putMetric(gt,void 0===this.counters[gt]?Ut:this.counters[gt]+Ut)}putMetric(gt,Ut){if(!function dt(Et,gt){return!(0===Et.length||Et.length>100)&&(gt&&gt.startsWith("_wt_")&&yt.indexOf(Et)>-1||!Et.startsWith("_"))}(gt,this.name))throw qe.create("invalid custom metric name",{customMetricName:gt});this.counters[gt]=function Jn(Et){const gt=Math.floor(Et);return gt<Et&&Te.info(`Metric value should be an Integer, setting the value as : ${gt}.`),gt}(null!=Ut?Ut:0)}getMetric(gt){return this.counters[gt]||0}putAttribute(gt,Ut){const Vn=function Mt(Et){return!(0===Et.length||Et.length>40||En.some(Ut=>Et.startsWith(Ut))||!Et.match(ln))}(gt),An=function At(Et){return 0!==Et.length&&Et.length<=100}(Ut);if(Vn&&An)this.customAttributes[gt]=Ut;else{if(!Vn)throw qe.create("invalid attribute name",{attributeName:gt});if(!An)throw qe.create("invalid attribute value",{attributeValue:Ut})}}getAttribute(gt){return this.customAttributes[gt]}removeAttribute(gt){void 0!==this.customAttributes[gt]&&delete this.customAttributes[gt]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(gt){this.startTimeUs=gt}setDuration(gt){this.durationUs=gt}calculateTraceMetrics(){const gt=this.api.getEntriesByName(this.traceMeasure),Ut=gt&&gt[0];Ut&&(this.durationUs=Math.floor(1e3*Ut.duration),this.startTimeUs=Math.floor(1e3*(Ut.startTime+this.api.getTimeOrigin())))}static createOobTrace(gt,Ut,Vn,An){const kr=ze.getInstance().getUrl();if(!kr)return;const ni=new Un(gt,"_wt_"+kr,!0),Ai=Math.floor(1e3*ze.getInstance().getTimeOrigin());if(ni.setStartTime(Ai),Ut&&Ut[0]&&(ni.setDuration(Math.floor(1e3*Ut[0].duration)),ni.putMetric("domInteractive",Math.floor(1e3*Ut[0].domInteractive)),ni.putMetric("domContentLoadedEventEnd",Math.floor(1e3*Ut[0].domContentLoadedEventEnd)),ni.putMetric("loadEventEnd",Math.floor(1e3*Ut[0].loadEventEnd))),Vn){const hi=Vn.find(ri=>"first-paint"===ri.name);hi&&hi.startTime&&ni.putMetric("_fp",Math.floor(1e3*hi.startTime));const vi=Vn.find(ri=>"first-contentful-paint"===ri.name);vi&&vi.startTime&&ni.putMetric("_fcp",Math.floor(1e3*vi.startTime)),An&&ni.putMetric("_fid",Math.floor(1e3*An))}Gt(ni)}static createUserTimingTrace(gt,Ut){Gt(new Un(gt,Ut,!1,Ut))}}function vr(Et,gt){const Ut=gt;if(!Ut||void 0===Ut.responseStart)return;const Vn=ze.getInstance().getTimeOrigin(),An=Math.floor(1e3*(Ut.startTime+Vn)),kr=Ut.responseStart?Math.floor(1e3*(Ut.responseStart-Ut.startTime)):void 0,ni=Math.floor(1e3*(Ut.responseEnd-Ut.startTime));!function Nt(Et){const gt=Kt.getInstance();if(!gt.instrumentationEnabled)return;const Ut=Et.url,Vn=gt.logEndPointUrl.split("?")[0],An=gt.flTransportEndpointUrl.split("?")[0];Ut===Vn||Ut===An||!gt.loggingEnabled||!gt.logNetworkAfterSampling||setTimeout(()=>ht(Et,0),0)}({performanceController:Et,url:Ut.name&&Ut.name.split("?")[0],responsePayloadBytes:Ut.transferSize,startTimeUs:An,timeToResponseInitiatedUs:kr,timeToResponseCompletedUs:ni})}function li(Et){!He()||(setTimeout(()=>function Xr(Et){const gt=ze.getInstance(),Ut=gt.getEntriesByType("navigation"),Vn=gt.getEntriesByType("paint");if(gt.onFirstInputDelay){let An=setTimeout(()=>{Un.createOobTrace(Et,Ut,Vn),An=void 0},5e3);gt.onFirstInputDelay(kr=>{An&&(clearTimeout(An),Un.createOobTrace(Et,Ut,Vn,kr))})}else Un.createOobTrace(Et,Ut,Vn)}(Et),0),setTimeout(()=>function Br(Et){const gt=ze.getInstance(),Ut=gt.getEntriesByType("resource");for(const Vn of Ut)vr(Et,Vn);gt.setupObserver("resource",Vn=>vr(Et,Vn))}(Et),0),setTimeout(()=>function _r(Et){const gt=ze.getInstance(),Ut=gt.getEntriesByType("measure");for(const Vn of Ut)gi(Et,Vn);gt.setupObserver("measure",Vn=>gi(Et,Vn))}(Et),0))}function gi(Et,gt){const Ut=gt.name;Ut.substring(0,ie.length)!==ie&&Un.createUserTimingTrace(Et,Ut)}class Nr{constructor(gt,Ut){this.app=gt,this.installations=Ut,this.initialized=!1}_init(gt){this.initialized||(void 0!==(null==gt?void 0:gt.dataCollectionEnabled)&&(this.dataCollectionEnabled=gt.dataCollectionEnabled),void 0!==(null==gt?void 0:gt.instrumentationEnabled)&&(this.instrumentationEnabled=gt.instrumentationEnabled),ze.getInstance().requiredApisAvailable()?(0,u.eu)().then(Ut=>{Ut&&(function bn(){Hn||(Rr(5500),Hn=!0)}(),Ke(this).then(()=>li(this),()=>li(this)),this.initialized=!0)}).catch(Ut=>{Te.info(`Environment doesn't support IndexedDB: ${Ut}`)}):Te.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(gt){Kt.getInstance().instrumentationEnabled=gt}get instrumentationEnabled(){return Kt.getInstance().instrumentationEnabled}set dataCollectionEnabled(gt){Kt.getInstance().dataCollectionEnabled=gt}get dataCollectionEnabled(){return Kt.getInstance().dataCollectionEnabled}}function ft(Et=(0,S.getApp)()){return Et=(0,u.m9)(Et),(0,S._getProvider)(Et,"performance").getImmediate()}function yn(Et,gt){return Et=(0,u.m9)(Et),new Un(Et,gt)}const $n=(Et,{options:gt})=>{const Ut=Et.getProvider("app").getImmediate(),Vn=Et.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==Ut.name)throw qe.create("FB not default");if("undefined"==typeof window)throw qe.create("no window");!function J(Et){rt=Et}(window);const An=new Nr(Ut,Vn);return An._init(gt),An};!function gr(){(0,S._registerComponent)(new ee.wA("performance",$n,"PUBLIC")),(0,S.registerVersion)(me,Pe),(0,S.registerVersion)(me,Pe,"esm2017")}()},9444:(Xt,tt,y)=>{y.d(tt,{zu:()=>Gs,_M:()=>Ti,VG:()=>vs,Ps:()=>Q});var u=y(5e3),_=(()=>{return(C=_||(_={}))[C.loading=1]="loading",C[C.setVariables=2]="setVariables",C[C.fetchMore=3]="fetchMore",C[C.refetch=4]="refetch",C[C.poll=6]="poll",C[C.ready=7]="ready",C[C.error=8]="error",_;var C})();function S(C){return!!C&&C<7}var ee=y(655),ce=y(6686),me=y(484),Pe=me.i.execute,_e=y(1335),$=y(4302),ie=function(C,g){var E;try{E=JSON.stringify(C)}catch(K){var V=__DEV__?new ce.ej("Network request failed. ".concat(g," is not serializable: ").concat(K.message)):new ce.ej(21);throw V.parseError=K,V}return E},Fe=function(C,g,E){var V=new Error(E);throw V.name="ServerError",V.response=C,V.statusCode=C.status,V.result=g,V},Ie=Object.prototype.hasOwnProperty,ke=y(2465),qe={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Te=function(C,g){return g(C)};function ze(C){if(C){var g=Object.create(null);return Object.keys(Object(C)).forEach(function(E){g[E.toLowerCase()]=C[E]}),g}return C}function Ce(C){return new $.y(function(g){g.error(C)})}var He=(0,ce.wY)(function(){return fetch}),Je=function(C){void 0===C&&(C={});var g=C.uri,E=void 0===g?"/graphql":g,V=C.fetch,K=C.print,ye=void 0===K?Te:K,et=C.includeExtensions,Dt=C.useGETForQueries,Ct=C.includeUnusedVariables,It=void 0!==Ct&&Ct,F=(0,ee._T)(C,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(C){if(!C&&"undefined"==typeof fetch)throw __DEV__?new ce.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ce.ej(20)}(V||He);var X={http:{includeExtensions:et},options:F.fetchOptions,credentials:F.credentials,headers:F.headers};return new me.i(function(k){var ge=function(C,g){return C.getContext().uri||("function"==typeof g?g(C):g||"/graphql")}(k,E),We=k.getContext(),pt={};if(We.clientAwareness){var Pt=We.clientAwareness,dn=Pt.name,fr=Pt.version;dn&&(pt["apollographql-client-name"]=dn),fr&&(pt["apollographql-client-version"]=fr)}var Y,Zn=(0,ee.pi)((0,ee.pi)({},pt),We.headers),lr=function rt(C,g){for(var E=[],V=2;V<arguments.length;V++)E[V-2]=arguments[V];var K={},ye={};E.forEach(function(X){K=(0,ee.pi)((0,ee.pi)((0,ee.pi)({},K),X.options),{headers:(0,ee.pi)((0,ee.pi)({},K.headers),ze(X.headers))}),X.credentials&&(K.credentials=X.credentials),ye=(0,ee.pi)((0,ee.pi)({},ye),X.http)});var Dt=C.extensions,It=C.query,F={operationName:C.operationName,variables:C.variables};return ye.includeExtensions&&(F.extensions=Dt),ye.includeQuery&&(F.query=g(It,ke.S)),{options:K,body:F}}(k,ye,qe,X,{http:We.http,options:We.fetchOptions,credentials:We.credentials,headers:Zn}),wr=lr.options,Dr=lr.body;if(Dr.variables&&!It){var qr=new Set(Object.keys(Dr.variables));(0,_e.Vn)(k.query,{Variable:function(Ui,es,vn){vn&&"VariableDefinition"!==vn.kind&&qr.delete(Ui.name.value)}}),qr.size&&(Dr.variables=(0,ee.pi)({},Dr.variables),qr.forEach(function(Ui){delete Dr.variables[Ui]}))}if(!wr.signal){var G=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var C=new AbortController;return{controller:C,signal:C.signal}}();(Y=G.controller)&&(wr.signal=G.signal)}if(Dt&&!k.query.definitions.some(function(Ui){return"OperationDefinition"===Ui.kind&&"mutation"===Ui.operation})&&(wr.method="GET"),"GET"===wr.method){var Yn=function re(C,g){var E=[],V=function(X,k){E.push("".concat(X,"=").concat(encodeURIComponent(k)))};if("query"in g&&V("query",g.query),g.operationName&&V("operationName",g.operationName),g.variables){var K=void 0;try{K=ie(g.variables,"Variables map")}catch(X){return{parseError:X}}V("variables",K)}if(g.extensions){var ye=void 0;try{ye=ie(g.extensions,"Extensions map")}catch(X){return{parseError:X}}V("extensions",ye)}var et="",Dt=C,Ct=C.indexOf("#");-1!==Ct&&(et=C.substr(Ct),Dt=C.substr(0,Ct));var It=-1===Dt.indexOf("?")?"?":"&";return{newURI:Dt+It+E.join("&")+et}}(ge,Dr),ci=Yn.newURI,Xi=Yn.parseError;if(Xi)return Ce(Xi);ge=ci}else try{wr.body=ie(Dr,"Payload")}catch(Ui){return Ce(Ui)}return new $.y(function(Ui){return(V||(0,ce.wY)(function(){return fetch})||He)(ge,wr).then(function(vn){return k.setContext({response:vn}),vn}).then(function ue(C){return function(g){return g.text().then(function(E){try{return JSON.parse(E)}catch(K){var V=K;throw V.name="ServerParseError",V.response=g,V.statusCode=g.status,V.bodyText=E,V}}).then(function(E){return g.status>=300&&Fe(g,E,"Response not successful: Received status code ".concat(g.status)),!Array.isArray(E)&&!Ie.call(E,"data")&&!Ie.call(E,"errors")&&Fe(g,E,"Server response was missing for query '".concat(Array.isArray(C)?C.map(function(V){return V.operationName}):C.operationName,"'.")),E})}}(k)).then(function(vn){return Ui.next(vn),Ui.complete(),vn}).catch(function(vn){"AbortError"!==vn.name&&(vn.result&&vn.result.errors&&vn.result.data&&Ui.next(vn.result),Ui.error(vn))}),function(){Y&&Y.abort()}})})},ut=function(C){function g(E){void 0===E&&(E={});var V=C.call(this,Je(E).request)||this;return V.options=E,V}return(0,ee.ZT)(g,C),g}(me.i),ot=y(7883),Kt=y(3750),rn=y(9545);function En(C,g,E){return new $.y(function(V){var K=V.next,ye=V.error,et=V.complete,Dt=0,Ct=!1,It={then:function(ge){return new Promise(function(We){return We(ge())})}};function F(ge,We){return ge?function(pt){++Dt;var Pt=function(){return ge(pt)};It=It.then(Pt,Pt).then(function(dn){--Dt,K&&K.call(V,dn),Ct&&X.complete()},function(dn){throw--Dt,dn}).catch(function(dn){ye&&ye.call(V,dn)})}:function(pt){return We&&We.call(V,pt)}}var X={next:F(g,K),error:F(E,ye),complete:function(){Ct=!0,Dt||et&&et.call(V)}},k=C.subscribe(X);return function(){return k.unsubscribe()}})}function ln(C){return C.errors&&C.errors.length>0||!1}var mt=y(591),qt=y(3291),Qt=y(9722),un=y(7634),_n=y(7062),Mt=y(8561);function At(C,g,E){var V=[];C.forEach(function(K){return K[g]&&V.push(K)}),V.forEach(function(K){return K[g](E)})}function Ht(C){function g(E){Object.defineProperty(C,E,{value:$.y})}return rn.aS&&Symbol.species&&g(Symbol.species),g("@@species"),C}function xn(C){return C&&"function"==typeof C.then}var In=function(C){function g(E){var V=C.call(this,function(K){return V.addObserver(K),function(){return V.removeObserver(K)}})||this;return V.observers=new Set,V.addCount=0,V.promise=new Promise(function(K,ye){V.resolve=K,V.reject=ye}),V.handlers={next:function(K){null!==V.sub&&(V.latest=["next",K],At(V.observers,"next",K))},error:function(K){var ye=V.sub;null!==ye&&(ye&&setTimeout(function(){return ye.unsubscribe()}),V.sub=null,V.latest=["error",K],V.reject(K),At(V.observers,"error",K))},complete:function(){if(null!==V.sub){var K=V.sources.shift();K?xn(K)?K.then(function(ye){return V.sub=ye.subscribe(V.handlers)}):V.sub=K.subscribe(V.handlers):(V.sub=null,V.latest&&"next"===V.latest[0]?V.resolve(V.latest[1]):V.resolve(),At(V.observers,"complete"))}}},V.cancel=function(K){V.reject(K),V.sources=[],V.handlers.complete()},V.promise.catch(function(K){}),"function"==typeof E&&(E=[new $.y(E)]),xn(E)?E.then(function(K){return V.start(K)},V.handlers.error):V.start(E),V}return(0,ee.ZT)(g,C),g.prototype.start=function(E){void 0===this.sub&&(this.sources=Array.from(E),this.handlers.complete())},g.prototype.deliverLastMessage=function(E){if(this.latest){var V=this.latest[0],K=E[V];K&&K.call(E,this.latest[1]),null===this.sub&&"next"===V&&E.complete&&E.complete()}},g.prototype.addObserver=function(E){this.observers.has(E)||(this.deliverLastMessage(E),this.observers.add(E),++this.addCount)},g.prototype.removeObserver=function(E,V){this.observers.delete(E)&&--this.addCount<1&&!V&&this.handlers.error(new Error("Observable cancelled prematurely"))},g.prototype.cleanup=function(E){var V=this,K=!1,ye=function(){K||(K=!0,V.observers.delete(et),E())},et={next:ye,error:ye,complete:ye},Dt=this.addCount;this.addObserver(et),this.addCount=Dt},g}($.y);Ht(In);var Gn=y(5355),ar=function(C){function g(E){var V=E.graphQLErrors,K=E.clientErrors,ye=E.networkError,et=E.errorMessage,Dt=E.extraInfo,Ct=C.call(this,et)||this;return Ct.graphQLErrors=V||[],Ct.clientErrors=K||[],Ct.networkError=ye||null,Ct.message=et||function(C){var g="";return((0,Gn.O)(C.graphQLErrors)||(0,Gn.O)(C.clientErrors))&&(C.graphQLErrors||[]).concat(C.clientErrors||[]).forEach(function(V){g+="".concat(V?V.message:"Error message not found.","\n")}),C.networkError&&(g+="".concat(C.networkError.message,"\n")),g=g.replace(/\n$/,"")}(Ct),Ct.extraInfo=Dt,Ct.__proto__=g.prototype,Ct}return(0,ee.ZT)(g,C),g}(Error),Wr=y(396),Ar=y(3950);function cn(C,g){return(0,Ar.o)(C,g,g.variables&&{variables:(0,ee.pi)((0,ee.pi)({},C.variables),g.variables)})}var Fr=Object.assign,dr=Object.hasOwnProperty,yr=function(C){function g(E){var V=E.queryManager,K=E.queryInfo,ye=E.options,et=C.call(this,function(Ct){try{var It=Ct._subscription._observer;It&&!It.error&&(It.error=Ft)}catch(k){}var F=!et.observers.size;et.observers.add(Ct);var X=et.last;return X&&X.error?Ct.error&&Ct.error(X.error):X&&X.result&&Ct.next&&Ct.next(X.result),F&&et.reobserve().catch(function(){}),function(){et.observers.delete(Ct)&&!et.observers.size&&et.tearDownQuery()}})||this;et.observers=new Set,et.subscriptions=new Set,et.queryInfo=K,et.queryManager=V,et.isTornDown=!1,et.options=(0,ee.pi)({initialFetchPolicy:ye.fetchPolicy||"cache-first"},ye),et.queryId=K.queryId||V.generateQueryId();var Dt=(0,mt.$H)(et.query);return et.queryName=Dt&&Dt.name&&Dt.name.value,et}return(0,ee.ZT)(g,C),Object.defineProperty(g.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),g.prototype.result=function(){var E=this;return new Promise(function(V,K){var ye={next:function(Dt){V(Dt),E.observers.delete(ye),E.observers.size||E.queryManager.removeQuery(E.queryId),setTimeout(function(){et.unsubscribe()},0)},error:K},et=E.subscribe(ye)})},g.prototype.getCurrentResult=function(E){void 0===E&&(E=!0);var V=this.getLastResult(!0),K=this.queryInfo.networkStatus||V&&V.networkStatus||_.ready,ye=(0,ee.pi)((0,ee.pi)({},V),{loading:S(K),networkStatus:K}),et=this.options.fetchPolicy,Dt=void 0===et?"cache-first":et;if("network-only"!==Dt&&"no-cache"!==Dt&&"standby"!==Dt&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var Ct=this.queryInfo.getDiff();(Ct.complete||this.options.returnPartialData)&&(ye.data=Ct.result),(0,ot.D)(ye.data,{})&&(ye.data=void 0),Ct.complete?(delete ye.partial,Ct.complete&&ye.networkStatus===_.loading&&("cache-first"===Dt||"cache-only"===Dt)&&(ye.networkStatus=_.ready,ye.loading=!1)):ye.partial=!0,__DEV__&&!Ct.complete&&!this.options.partialRefetch&&!ye.loading&&!ye.data&&!ye.error&&Ne(Ct.missing)}return E&&this.updateLastResult(ye),ye},g.prototype.isDifferentFromLastResult=function(E){return!this.last||!(0,ot.D)(this.last.result,E)},g.prototype.getLast=function(E,V){var K=this.last;if(K&&K[E]&&(!V||(0,ot.D)(K.variables,this.variables)))return K[E]},g.prototype.getLastResult=function(E){return this.getLast("result",E)},g.prototype.getLastError=function(E){return this.getLast("error",E)},g.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},g.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},g.prototype.refetch=function(E){var V,K={pollInterval:0},ye=this.options.fetchPolicy;if(K.fetchPolicy="cache-and-network"===ye?ye:"no-cache"===ye?"no-cache":"network-only",__DEV__&&E&&dr.call(E,"variables")){var et=(0,mt.iW)(this.query),Dt=et.variableDefinitions;(!Dt||!Dt.some(function(Ct){return"variables"===Ct.variable.name.value}))&&__DEV__&&ce.kG.warn("Called refetch(".concat(JSON.stringify(E),") for query ").concat((null===(V=et.name)||void 0===V?void 0:V.value)||JSON.stringify(et),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return E&&!(0,ot.D)(this.options.variables,E)&&(K.variables=this.options.variables=(0,ee.pi)((0,ee.pi)({},this.options.variables),E)),this.queryInfo.resetLastWrite(),this.reobserve(K,_.refetch)},g.prototype.fetchMore=function(E){var V=this,K=(0,ee.pi)((0,ee.pi)({},E.query?E:(0,ee.pi)((0,ee.pi)((0,ee.pi)((0,ee.pi)({},this.options),{query:this.query}),E),{variables:(0,ee.pi)((0,ee.pi)({},this.options.variables),E.variables)})),{fetchPolicy:"no-cache"}),ye=this.queryManager.generateQueryId(),et=this.queryInfo,Dt=et.networkStatus;et.networkStatus=_.fetchMore,K.notifyOnNetworkStatusChange&&this.observe();var Ct=new Set;return this.queryManager.fetchQuery(ye,K,_.fetchMore).then(function(It){return V.queryManager.removeQuery(ye),et.networkStatus===_.fetchMore&&(et.networkStatus=Dt),V.queryManager.cache.batch({update:function(F){var X=E.updateQuery;X?F.updateQuery({query:V.query,variables:V.variables,returnPartialData:!0,optimistic:!1},function(k){return X(k,{fetchMoreResult:It.data,variables:K.variables})}):F.writeQuery({query:K.query,variables:K.variables,data:It.data})},onWatchUpdated:function(F){Ct.add(F.query)}}),It}).finally(function(){Ct.has(V.query)||on(V)})},g.prototype.subscribeToMore=function(E){var V=this,K=this.queryManager.startGraphQLSubscription({query:E.document,variables:E.variables,context:E.context}).subscribe({next:function(ye){var et=E.updateQuery;et&&V.updateQuery(function(Dt,Ct){return et(Dt,{subscriptionData:ye,variables:Ct.variables})})},error:function(ye){E.onError?E.onError(ye):__DEV__&&ce.kG.error("Unhandled GraphQL subscription error",ye)}});return this.subscriptions.add(K),function(){V.subscriptions.delete(K)&&K.unsubscribe()}},g.prototype.setOptions=function(E){return this.reobserve(E)},g.prototype.setVariables=function(E){return(0,ot.D)(this.variables,E)?this.observers.size?this.result():Promise.resolve():(this.options.variables=E,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:E},_.setVariables):Promise.resolve())},g.prototype.updateQuery=function(E){var V=this.queryManager,ye=E(V.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});ye&&(V.cache.writeQuery({query:this.options.query,data:ye,variables:this.variables}),V.broadcastQueries())},g.prototype.startPolling=function(E){this.options.pollInterval=E,this.updatePolling()},g.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},g.prototype.applyNextFetchPolicy=function(E,V){if(V.nextFetchPolicy){var K=V.fetchPolicy,ye=void 0===K?"cache-first":K,et=V.initialFetchPolicy,Dt=void 0===et?ye:et;V.fetchPolicy="function"==typeof V.nextFetchPolicy?V.nextFetchPolicy(ye,{reason:E,options:V,observable:this,initialFetchPolicy:Dt}):"variables-changed"===E?Dt:V.nextFetchPolicy}return V.fetchPolicy},g.prototype.fetch=function(E,V){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,E,V)},g.prototype.updatePolling=function(){var E=this;if(!this.queryManager.ssrMode){var K=this.pollingInfo,ye=this.options.pollInterval;if(!ye)return void(K&&(clearTimeout(K.timeout),delete this.pollingInfo));if(!K||K.interval!==ye){__DEV__?(0,ce.kG)(ye,"Attempted to start a polling query without a polling interval."):(0,ce.kG)(ye,10),(K||(this.pollingInfo={})).interval=ye;var Dt=function(){E.pollingInfo&&(S(E.queryInfo.networkStatus)?Ct():E.reobserve({fetchPolicy:"network-only"},_.poll).then(Ct,Ct))},Ct=function(){var It=E.pollingInfo;It&&(clearTimeout(It.timeout),It.timeout=setTimeout(Dt,It.interval))};Ct()}}},g.prototype.updateLastResult=function(E,V){return void 0===V&&(V=this.variables),this.last=(0,ee.pi)((0,ee.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?E:(0,Wr.X)(E),variables:V}),(0,Gn.O)(E.errors)||delete this.last.error,this.last},g.prototype.reobserve=function(E,V){var K=this;this.isTornDown=!1;var ye=V===_.refetch||V===_.fetchMore||V===_.poll,et=this.options.variables,Dt=this.options.fetchPolicy,Ct=cn(this.options,E||{}),It=ye?Ct:Fr(this.options,Ct);ye||(this.updatePolling(),E&&E.variables&&!(0,ot.D)(E.variables,et)&&(!E.fetchPolicy||E.fetchPolicy===Dt)&&(this.applyNextFetchPolicy("variables-changed",It),void 0===V&&(V=_.setVariables)));var F=It.variables&&(0,ee.pi)({},It.variables),X=this.fetch(It,V),k={next:function(ge){K.reportResult(ge,F)},error:function(ge){K.reportError(ge,F)}};return ye||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=X,this.observer=k),X.addObserver(k),X.promise},g.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},g.prototype.reportResult=function(E,V){var K=this.getLastError();(K||this.isDifferentFromLastResult(E))&&((K||!E.partial||this.options.returnPartialData)&&this.updateLastResult(E,V),At(this.observers,"next",E))},g.prototype.reportError=function(E,V){var K=(0,ee.pi)((0,ee.pi)({},this.getLastResult()),{error:E,errors:E.graphQLErrors,networkStatus:_.error,loading:!1});this.updateLastResult(K,V),At(this.observers,"error",this.last.error=E)},g.prototype.hasObservers=function(){return this.observers.size>0},g.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(E){return E.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},g}($.y);function on(C){var g=C.options,E=g.fetchPolicy,V=g.nextFetchPolicy;return"cache-and-network"===E||"network-only"===E?C.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=V,"function"==typeof V?V.apply(this,arguments):E}}):C.reobserve()}function Ft(C){__DEV__&&ce.kG.error("Unhandled error",C.message,C.stack)}function Ne(C){__DEV__&&C&&__DEV__&&ce.kG.debug("Missing cache result fields: ".concat(JSON.stringify(C)),C)}Ht(yr);var Ke=y(7773),Bt=y(9661),Vt=y(6430),Yt=function(){function C(g){var V=g.client,K=g.resolvers,ye=g.fragmentMatcher;this.cache=g.cache,V&&(this.client=V),K&&this.addResolvers(K),ye&&this.setFragmentMatcher(ye)}return C.prototype.addResolvers=function(g){var E=this;this.resolvers=this.resolvers||{},Array.isArray(g)?g.forEach(function(V){E.resolvers=(0,Ke.Ee)(E.resolvers,V)}):this.resolvers=(0,Ke.Ee)(this.resolvers,g)},C.prototype.setResolvers=function(g){this.resolvers={},this.addResolvers(g)},C.prototype.getResolvers=function(){return this.resolvers||{}},C.prototype.runResolvers=function(g){var E=g.document,V=g.remoteResult,K=g.context,ye=g.variables,et=g.onlyRunForcedResolvers,Dt=void 0!==et&&et;return(0,ee.mG)(this,void 0,void 0,function(){return(0,ee.Jh)(this,function(Ct){return E?[2,this.resolveDocument(E,V.data,K,ye,this.fragmentMatcher,Dt).then(function(It){return(0,ee.pi)((0,ee.pi)({},V),{data:It.result})})]:[2,V]})})},C.prototype.setFragmentMatcher=function(g){this.fragmentMatcher=g},C.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},C.prototype.clientQuery=function(g){return(0,Qt.FS)(["client"],g)&&this.resolvers?g:null},C.prototype.serverQuery=function(g){return(0,qt.ob)(g)},C.prototype.prepareContext=function(g){var E=this.cache;return(0,ee.pi)((0,ee.pi)({},g),{cache:E,getCacheKey:function(V){return E.identify(V)}})},C.prototype.addExportedVariables=function(g,E,V){return void 0===E&&(E={}),void 0===V&&(V={}),(0,ee.mG)(this,void 0,void 0,function(){return(0,ee.Jh)(this,function(K){return g?[2,this.resolveDocument(g,this.buildRootValueFromCache(g,E)||{},this.prepareContext(V),E).then(function(ye){return(0,ee.pi)((0,ee.pi)({},E),ye.exportedVariables)})]:[2,(0,ee.pi)({},E)]})})},C.prototype.shouldForceResolvers=function(g){var E=!1;return(0,_e.Vn)(g,{Directive:{enter:function(V){if("client"===V.name.value&&V.arguments&&(E=V.arguments.some(function(K){return"always"===K.name.value&&"BooleanValue"===K.value.kind&&!0===K.value.value})))return _e.$_}}}),E},C.prototype.buildRootValueFromCache=function(g,E){return this.cache.diff({query:(0,qt.aL)(g),variables:E,returnPartialData:!0,optimistic:!1}).result},C.prototype.resolveDocument=function(g,E,V,K,ye,et){return void 0===V&&(V={}),void 0===K&&(K={}),void 0===ye&&(ye=function(){return!0}),void 0===et&&(et=!1),(0,ee.mG)(this,void 0,void 0,function(){var Dt,Ct,It,F,X,k,ge,We,pt;return(0,ee.Jh)(this,function(Pt){return Dt=(0,mt.p$)(g),Ct=(0,mt.kU)(g),It=(0,Bt.F)(Ct),X=(F=Dt.operation)?F.charAt(0).toUpperCase()+F.slice(1):"Query",ge=(k=this).cache,We=k.client,pt={fragmentMap:It,context:(0,ee.pi)((0,ee.pi)({},V),{cache:ge,client:We}),variables:K,fragmentMatcher:ye,defaultOperationType:X,exportedVariables:{},onlyRunForcedResolvers:et},[2,this.resolveSelectionSet(Dt.selectionSet,E,pt).then(function(dn){return{result:dn,exportedVariables:pt.exportedVariables}})]})})},C.prototype.resolveSelectionSet=function(g,E,V){return(0,ee.mG)(this,void 0,void 0,function(){var K,ye,et,Dt,It=this;return(0,ee.Jh)(this,function(F){return K=V.fragmentMap,ye=V.context,et=V.variables,Dt=[E],[2,Promise.all(g.selections.map(function(X){return(0,ee.mG)(It,void 0,void 0,function(){var k;return(0,ee.Jh)(this,function(We){return(0,Qt.LZ)(X,et)?(0,un.My)(X)?[2,this.resolveField(X,E,V).then(function(pt){var Pt;void 0!==pt&&Dt.push(((Pt={})[(0,un.u2)(X)]=pt,Pt))})]:((0,un.Ao)(X)?k=X:(k=K[X.name.value],__DEV__?(0,ce.kG)(k,"No fragment named ".concat(X.name.value)):(0,ce.kG)(k,9)),k&&k.typeCondition&&V.fragmentMatcher(E,k.typeCondition.name.value,ye)?[2,this.resolveSelectionSet(k.selectionSet,E,V).then(function(pt){Dt.push(pt)})]:[2]):[2]})})})).then(function(){return(0,Ke.bw)(Dt)})]})})},C.prototype.resolveField=function(g,E,V){return(0,ee.mG)(this,void 0,void 0,function(){var K,ye,et,Dt,Ct,It,F,X,k,ge=this;return(0,ee.Jh)(this,function(We){return K=V.variables,ye=g.name.value,et=(0,un.u2)(g),Dt=ye!==et,Ct=E[et]||E[ye],It=Promise.resolve(Ct),(!V.onlyRunForcedResolvers||this.shouldForceResolvers(g))&&(F=E.__typename||V.defaultOperationType,(X=this.resolvers&&this.resolvers[F])&&(k=X[Dt?ye:et])&&(It=Promise.resolve(Vt.ab.withValue(this.cache,k,[E,(0,un.NC)(g,K),V.context,{field:g,fragmentMap:V.fragmentMap}])))),[2,It.then(function(pt){return void 0===pt&&(pt=Ct),g.directives&&g.directives.forEach(function(Pt){"export"===Pt.name.value&&Pt.arguments&&Pt.arguments.forEach(function(dn){"as"===dn.name.value&&"StringValue"===dn.value.kind&&(V.exportedVariables[dn.value.value]=pt)})}),g.selectionSet&&null!=pt?Array.isArray(pt)?ge.resolveSubSelectedArray(g,pt,V):g.selectionSet?ge.resolveSelectionSet(g.selectionSet,pt,V):void 0:pt})]})})},C.prototype.resolveSubSelectedArray=function(g,E,V){var K=this;return Promise.all(E.map(function(ye){return null===ye?null:Array.isArray(ye)?K.resolveSubSelectedArray(g,ye,V):g.selectionSet?K.resolveSelectionSet(g.selectionSet,ye,V):void 0}))},C}(),en=new(rn.mr?WeakMap:Map);function Cn(C,g){var E=C[g];"function"==typeof E&&(C[g]=function(){return en.set(C,(en.get(C)+1)%1e15),E.apply(this,arguments)})}function Tn(C){C.notifyTimeout&&(clearTimeout(C.notifyTimeout),C.notifyTimeout=void 0)}var Rn=function(){function C(g,E){void 0===E&&(E=g.generateQueryId()),this.queryId=E,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var V=this.cache=g.cache;en.has(V)||(en.set(V,0),Cn(V,"evict"),Cn(V,"modify"),Cn(V,"reset"))}return C.prototype.init=function(g){var E=g.networkStatus||_.loading;return this.variables&&this.networkStatus!==_.loading&&!(0,ot.D)(this.variables,g.variables)&&(E=_.setVariables),(0,ot.D)(g.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:g.document,variables:g.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:E}),g.observableQuery&&this.setObservableQuery(g.observableQuery),g.lastRequestId&&(this.lastRequestId=g.lastRequestId),this},C.prototype.reset=function(){Tn(this),this.lastDiff=void 0,this.dirty=!1},C.prototype.getDiff=function(g){void 0===g&&(g=this.variables);var E=this.getDiffOptions(g);if(this.lastDiff&&(0,ot.D)(E,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=g);var V=this.observableQuery;if(V&&"no-cache"===V.options.fetchPolicy)return{complete:!1};var K=this.cache.diff(E);return this.updateLastDiff(K,E),K},C.prototype.updateLastDiff=function(g,E){this.lastDiff=g?{diff:g,options:E||this.getDiffOptions()}:void 0},C.prototype.getDiffOptions=function(g){var E;return void 0===g&&(g=this.variables),{query:this.document,variables:g,returnPartialData:!0,optimistic:!0,canonizeResults:null===(E=this.observableQuery)||void 0===E?void 0:E.options.canonizeResults}},C.prototype.setDiff=function(g){var E=this,V=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(g),!this.dirty&&!(0,ot.D)(V&&V.result,g&&g.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return E.notify()},0)))},C.prototype.setObservableQuery=function(g){var E=this;g!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=g,g?(g.queryInfo=this,this.listeners.add(this.oqListener=function(){E.getDiff().fromOptimisticTransaction?g.observe():on(g)})):delete this.oqListener)},C.prototype.notify=function(){var g=this;Tn(this),this.shouldNotify()&&this.listeners.forEach(function(E){return E(g)}),this.dirty=!1},C.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(S(this.networkStatus)&&this.observableQuery){var g=this.observableQuery.options.fetchPolicy;if("cache-only"!==g&&"cache-and-network"!==g)return!1}return!0},C.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=C.prototype.cancel,this.subscriptions.forEach(function(E){return E.unsubscribe()});var g=this.observableQuery;g&&g.stopPolling()}},C.prototype.cancel=function(){},C.prototype.updateWatch=function(g){var E=this;void 0===g&&(g=this.variables);var V=this.observableQuery;if(!V||"no-cache"!==V.options.fetchPolicy){var K=(0,ee.pi)((0,ee.pi)({},this.getDiffOptions(g)),{watcher:this,callback:function(ye){return E.setDiff(ye)}});(!this.lastWatch||!(0,ot.D)(K,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=K))}},C.prototype.resetLastWrite=function(){this.lastWrite=void 0},C.prototype.shouldWrite=function(g,E){var V=this.lastWrite;return!(V&&V.dmCount===en.get(this.cache)&&(0,ot.D)(E,V.variables)&&(0,ot.D)(g.data,V.result.data))},C.prototype.markResult=function(g,E,V){var K=this;this.graphQLErrors=(0,Gn.O)(g.errors)?g.errors:[],this.reset(),"no-cache"===E.fetchPolicy?this.updateLastDiff({result:g.data,complete:!0},this.getDiffOptions(E.variables)):0!==V&&(Wn(g,E.errorPolicy)?this.cache.performTransaction(function(ye){if(K.shouldWrite(g,E.variables))ye.writeQuery({query:K.document,data:g.data,variables:E.variables,overwrite:1===V}),K.lastWrite={result:g,variables:E.variables,dmCount:en.get(K.cache)};else if(K.lastDiff&&K.lastDiff.diff.complete)return void(g.data=K.lastDiff.diff.result);var et=K.getDiffOptions(E.variables),Dt=ye.diff(et);K.stopped||K.updateWatch(E.variables),K.updateLastDiff(Dt,et),Dt.complete&&(g.data=Dt.result)}):this.lastWrite=void 0)},C.prototype.markReady=function(){return this.networkError=null,this.networkStatus=_.ready},C.prototype.markError=function(g){return this.networkStatus=_.error,this.lastWrite=void 0,this.reset(),g.graphQLErrors&&(this.graphQLErrors=g.graphQLErrors),g.networkError&&(this.networkError=g.networkError),g},C}();function Wn(C,g){void 0===g&&(g="none");var E="ignore"===g||"all"===g,V=!ln(C);return!V&&E&&C.data&&(V=!0),V}var tr=Object.prototype.hasOwnProperty,Sn=function(){function C(g){var E=g.cache,V=g.link,K=g.defaultOptions,ye=g.queryDeduplication,et=void 0!==ye&&ye,Dt=g.onBroadcast,Ct=g.ssrMode,It=void 0!==Ct&&Ct,F=g.clientAwareness,X=void 0===F?{}:F,k=g.localState,ge=g.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(rn.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=E,this.link=V,this.defaultOptions=K||Object.create(null),this.queryDeduplication=et,this.clientAwareness=X,this.localState=k||new Yt({cache:E}),this.ssrMode=It,this.assumeImmutableResults=!!ge,(this.onBroadcast=Dt)&&(this.mutationStore=Object.create(null))}return C.prototype.stop=function(){var g=this;this.queries.forEach(function(E,V){g.stopQueryNoBroadcast(V)}),this.cancelPendingFetches(__DEV__?new ce.ej("QueryManager stopped while query was in flight"):new ce.ej(11))},C.prototype.cancelPendingFetches=function(g){this.fetchCancelFns.forEach(function(E){return E(g)}),this.fetchCancelFns.clear()},C.prototype.mutate=function(g){var E,V,K=g.mutation,ye=g.variables,et=g.optimisticResponse,Dt=g.updateQueries,Ct=g.refetchQueries,It=void 0===Ct?[]:Ct,F=g.awaitRefetchQueries,X=void 0!==F&&F,k=g.update,ge=g.onQueryUpdated,We=g.fetchPolicy,pt=void 0===We?(null===(E=this.defaultOptions.mutate)||void 0===E?void 0:E.fetchPolicy)||"network-only":We,Pt=g.errorPolicy,dn=void 0===Pt?(null===(V=this.defaultOptions.mutate)||void 0===V?void 0:V.errorPolicy)||"none":Pt,fr=g.keepRootFields,Zn=g.context;return(0,ee.mG)(this,void 0,void 0,function(){var ir,lr,wr;return(0,ee.Jh)(this,function(Dr){switch(Dr.label){case 0:return __DEV__?(0,ce.kG)(K,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,ce.kG)(K,12),__DEV__?(0,ce.kG)("network-only"===pt||"no-cache"===pt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,ce.kG)("network-only"===pt||"no-cache"===pt,13),ir=this.generateMutationId(),K=this.transform(K).document,ye=this.getVariables(K,ye),this.transform(K).hasClientExports?[4,this.localState.addExportedVariables(K,ye,Zn)]:[3,2];case 1:ye=Dr.sent(),Dr.label=2;case 2:return lr=this.mutationStore&&(this.mutationStore[ir]={mutation:K,variables:ye,loading:!0,error:null}),et&&this.markMutationOptimistic(et,{mutationId:ir,document:K,variables:ye,fetchPolicy:pt,errorPolicy:dn,context:Zn,updateQueries:Dt,update:k,keepRootFields:fr}),this.broadcastQueries(),wr=this,[2,new Promise(function(qr,Y){return En(wr.getObservableFromLink(K,(0,ee.pi)((0,ee.pi)({},Zn),{optimisticResponse:et}),ye,!1),function(G){if(ln(G)&&"none"===dn)throw new ar({graphQLErrors:G.errors});lr&&(lr.loading=!1,lr.error=null);var L=(0,ee.pi)({},G);return"function"==typeof It&&(It=It(L)),"ignore"===dn&&ln(L)&&delete L.errors,wr.markMutationResult({mutationId:ir,result:L,document:K,variables:ye,fetchPolicy:pt,errorPolicy:dn,context:Zn,update:k,updateQueries:Dt,awaitRefetchQueries:X,refetchQueries:It,removeOptimistic:et?ir:void 0,onQueryUpdated:ge,keepRootFields:fr})}).subscribe({next:function(G){wr.broadcastQueries(),qr(G)},error:function(G){lr&&(lr.loading=!1,lr.error=G),et&&wr.cache.removeOptimistic(ir),wr.broadcastQueries(),Y(G instanceof ar?G:new ar({networkError:G}))}})})]}})})},C.prototype.markMutationResult=function(g,E){var V=this;void 0===E&&(E=this.cache);var K=g.result,ye=[],et="no-cache"===g.fetchPolicy;if(!et&&Wn(K,g.errorPolicy)){ye.push({result:K.data,dataId:"ROOT_MUTATION",query:g.document,variables:g.variables});var Dt=g.updateQueries;Dt&&this.queries.forEach(function(It,F){var X=It.observableQuery,k=X&&X.queryName;if(k&&tr.call(Dt,k)){var ge=Dt[k],We=V.queries.get(F),pt=We.document,Pt=We.variables,dn=E.diff({query:pt,variables:Pt,returnPartialData:!0,optimistic:!1}),fr=dn.result;if(dn.complete&&fr){var ir=ge(fr,{mutationResult:K,queryName:pt&&(0,mt.rY)(pt)||void 0,queryVariables:Pt});ir&&ye.push({result:ir,dataId:"ROOT_QUERY",query:pt,variables:Pt})}}})}if(ye.length>0||g.refetchQueries||g.update||g.onQueryUpdated||g.removeOptimistic){var Ct=[];if(this.refetchQueries({updateCache:function(It){et||ye.forEach(function(k){return It.write(k)});var F=g.update;if(F){if(!et){var X=It.diff({id:"ROOT_MUTATION",query:V.transform(g.document).asQuery,variables:g.variables,optimistic:!1,returnPartialData:!0});X.complete&&(K=(0,ee.pi)((0,ee.pi)({},K),{data:X.result}))}F(It,K,{context:g.context,variables:g.variables})}!et&&!g.keepRootFields&&It.modify({id:"ROOT_MUTATION",fields:function(k,ge){return"__typename"===ge.fieldName?k:ge.DELETE}})},include:g.refetchQueries,optimistic:!1,removeOptimistic:g.removeOptimistic,onQueryUpdated:g.onQueryUpdated||null}).forEach(function(It){return Ct.push(It)}),g.awaitRefetchQueries||g.onQueryUpdated)return Promise.all(Ct).then(function(){return K})}return Promise.resolve(K)},C.prototype.markMutationOptimistic=function(g,E){var V=this,K="function"==typeof g?g(E.variables):g;return this.cache.recordOptimisticTransaction(function(ye){try{V.markMutationResult((0,ee.pi)((0,ee.pi)({},E),{result:{data:K}}),ye)}catch(et){__DEV__&&ce.kG.error(et)}},E.mutationId)},C.prototype.fetchQuery=function(g,E,V){return this.fetchQueryObservable(g,E,V).promise},C.prototype.getQueryStore=function(){var g=Object.create(null);return this.queries.forEach(function(E,V){g[V]={variables:E.variables,networkStatus:E.networkStatus,networkError:E.networkError,graphQLErrors:E.graphQLErrors}}),g},C.prototype.resetErrors=function(g){var E=this.queries.get(g);E&&(E.networkError=void 0,E.graphQLErrors=[])},C.prototype.transform=function(g){var E=this.transformCache;if(!E.has(g)){var V=this.cache.transformDocument(g),K=(0,qt.Fo)(this.cache.transformForLink(V)),ye=this.localState.clientQuery(V),et=K&&this.localState.serverQuery(K),Dt={document:V,hasClientExports:(0,Qt.mj)(V),hasForcedResolvers:this.localState.shouldForceResolvers(V),clientQuery:ye,serverQuery:et,defaultVars:(0,mt.O4)((0,mt.$H)(V)),asQuery:(0,ee.pi)((0,ee.pi)({},V),{definitions:V.definitions.map(function(It){return"OperationDefinition"===It.kind&&"query"!==It.operation?(0,ee.pi)((0,ee.pi)({},It),{operation:"query"}):It})})},Ct=function(It){It&&!E.has(It)&&E.set(It,Dt)};Ct(g),Ct(V),Ct(ye),Ct(et)}return E.get(g)},C.prototype.getVariables=function(g,E){return(0,ee.pi)((0,ee.pi)({},this.transform(g).defaultVars),E)},C.prototype.watchQuery=function(g){void 0===(g=(0,ee.pi)((0,ee.pi)({},g),{variables:this.getVariables(g.query,g.variables)})).notifyOnNetworkStatusChange&&(g.notifyOnNetworkStatusChange=!1);var E=new Rn(this),V=new yr({queryManager:this,queryInfo:E,options:g});return this.queries.set(V.queryId,E),E.init({document:V.query,observableQuery:V,variables:V.variables}),V},C.prototype.query=function(g,E){var V=this;return void 0===E&&(E=this.generateQueryId()),__DEV__?(0,ce.kG)(g.query,"query option is required. You must specify your GraphQL document in the query option."):(0,ce.kG)(g.query,14),__DEV__?(0,ce.kG)("Document"===g.query.kind,'You must wrap the query string in a "gql" tag.'):(0,ce.kG)("Document"===g.query.kind,15),__DEV__?(0,ce.kG)(!g.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,ce.kG)(!g.returnPartialData,16),__DEV__?(0,ce.kG)(!g.pollInterval,"pollInterval option only supported on watchQuery."):(0,ce.kG)(!g.pollInterval,17),this.fetchQuery(E,g).finally(function(){return V.stopQuery(E)})},C.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},C.prototype.generateRequestId=function(){return this.requestIdCounter++},C.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},C.prototype.stopQueryInStore=function(g){this.stopQueryInStoreNoBroadcast(g),this.broadcastQueries()},C.prototype.stopQueryInStoreNoBroadcast=function(g){var E=this.queries.get(g);E&&E.stop()},C.prototype.clearStore=function(g){return void 0===g&&(g={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ce.ej("Store reset while query was in flight (not completed in link chain)"):new ce.ej(18)),this.queries.forEach(function(E){E.observableQuery?E.networkStatus=_.loading:E.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(g)},C.prototype.getObservableQueries=function(g){var E=this;void 0===g&&(g="active");var V=new Map,K=new Map,ye=new Set;return Array.isArray(g)&&g.forEach(function(et){"string"==typeof et?K.set(et,!1):(0,un.JW)(et)?K.set(E.transform(et).document,!1):(0,_n.s)(et)&&et.query&&ye.add(et)}),this.queries.forEach(function(et,Dt){var Ct=et.observableQuery,It=et.document;if(Ct){if("all"===g)return void V.set(Dt,Ct);var F=Ct.queryName;if("standby"===Ct.options.fetchPolicy||"active"===g&&!Ct.hasObservers())return;("active"===g||F&&K.has(F)||It&&K.has(It))&&(V.set(Dt,Ct),F&&K.set(F,!0),It&&K.set(It,!0))}}),ye.size&&ye.forEach(function(et){var Dt=(0,Mt.X)("legacyOneTimeQuery"),Ct=E.getQuery(Dt).init({document:et.query,variables:et.variables}),It=new yr({queryManager:E,queryInfo:Ct,options:(0,ee.pi)((0,ee.pi)({},et),{fetchPolicy:"network-only"})});(0,ce.kG)(It.queryId===Dt),Ct.setObservableQuery(It),V.set(Dt,It)}),__DEV__&&K.size&&K.forEach(function(et,Dt){et||__DEV__&&ce.kG.warn("Unknown query ".concat("string"==typeof Dt?"named ":"").concat(JSON.stringify(Dt,null,2)," requested in refetchQueries options.include array"))}),V},C.prototype.reFetchObservableQueries=function(g){var E=this;void 0===g&&(g=!1);var V=[];return this.getObservableQueries(g?"all":"active").forEach(function(K,ye){var et=K.options.fetchPolicy;K.resetLastResults(),(g||"standby"!==et&&"cache-only"!==et)&&V.push(K.refetch()),E.getQuery(ye).setDiff(null)}),this.broadcastQueries(),Promise.all(V)},C.prototype.setObservableQuery=function(g){this.getQuery(g.queryId).setObservableQuery(g)},C.prototype.startGraphQLSubscription=function(g){var E=this,V=g.query,K=g.fetchPolicy,ye=g.errorPolicy,et=g.variables,Dt=g.context,Ct=void 0===Dt?{}:Dt;V=this.transform(V).document,et=this.getVariables(V,et);var It=function(X){return E.getObservableFromLink(V,Ct,X).map(function(k){if("no-cache"!==K&&(Wn(k,ye)&&E.cache.write({query:V,result:k.data,dataId:"ROOT_SUBSCRIPTION",variables:X}),E.broadcastQueries()),ln(k))throw new ar({graphQLErrors:k.errors});return k})};if(this.transform(V).hasClientExports){var F=this.localState.addExportedVariables(V,et,Ct).then(It);return new $.y(function(X){var k=null;return F.then(function(ge){return k=ge.subscribe(X)},X.error),function(){return k&&k.unsubscribe()}})}return It(et)},C.prototype.stopQuery=function(g){this.stopQueryNoBroadcast(g),this.broadcastQueries()},C.prototype.stopQueryNoBroadcast=function(g){this.stopQueryInStoreNoBroadcast(g),this.removeQuery(g)},C.prototype.removeQuery=function(g){this.fetchCancelFns.delete(g),this.queries.has(g)&&(this.getQuery(g).stop(),this.queries.delete(g))},C.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(g){return g.notify()})},C.prototype.getLocalState=function(){return this.localState},C.prototype.getObservableFromLink=function(g,E,V,K){var et,ye=this;void 0===K&&(K=null!==(et=null==E?void 0:E.queryDeduplication)&&void 0!==et?et:this.queryDeduplication);var Dt,Ct=this.transform(g).serverQuery;if(Ct){var F=this.inFlightLinkObservables,X=this.link,k={query:Ct,variables:V,operationName:(0,mt.rY)(Ct)||void 0,context:this.prepareContext((0,ee.pi)((0,ee.pi)({},E),{forceFetch:!K}))};if(E=k.context,K){var ge=F.get(Ct)||new Map;F.set(Ct,ge);var We=(0,Kt.B)(V);if(!(Dt=ge.get(We))){var pt=new In([Pe(X,k)]);ge.set(We,Dt=pt),pt.cleanup(function(){ge.delete(We)&&ge.size<1&&F.delete(Ct)})}}else Dt=new In([Pe(X,k)])}else Dt=new In([$.y.of({data:{}})]),E=this.prepareContext(E);var Pt=this.transform(g).clientQuery;return Pt&&(Dt=En(Dt,function(dn){return ye.localState.runResolvers({document:Pt,remoteResult:dn,context:E,variables:V})})),Dt},C.prototype.getResultsFromLink=function(g,E,V){var K=g.lastRequestId=this.generateRequestId();return En(this.getObservableFromLink(g.document,V.context,V.variables),function(ye){var et=(0,Gn.O)(ye.errors);if(K>=g.lastRequestId){if(et&&"none"===V.errorPolicy)throw g.markError(new ar({graphQLErrors:ye.errors}));g.markResult(ye,V,E),g.markReady()}var Dt={data:ye.data,loading:!1,networkStatus:_.ready};return et&&"ignore"!==V.errorPolicy&&(Dt.errors=ye.errors,Dt.networkStatus=_.error),Dt},function(ye){var et=function Qn(C){return C.hasOwnProperty("graphQLErrors")}(ye)?ye:new ar({networkError:ye});throw K>=g.lastRequestId&&g.markError(et),et})},C.prototype.fetchQueryObservable=function(g,E,V){var K=this;void 0===V&&(V=_.loading);var ye=this.transform(E.query).document,et=this.getVariables(ye,E.variables),Dt=this.getQuery(g),Ct=this.defaultOptions.watchQuery,It=E.fetchPolicy,X=E.errorPolicy,ge=E.returnPartialData,pt=E.notifyOnNetworkStatusChange,dn=E.context,Zn=Object.assign({},E,{query:ye,variables:et,fetchPolicy:void 0===It?Ct&&Ct.fetchPolicy||"cache-first":It,errorPolicy:void 0===X?Ct&&Ct.errorPolicy||"none":X,returnPartialData:void 0!==ge&&ge,notifyOnNetworkStatusChange:void 0!==pt&&pt,context:void 0===dn?{}:dn}),ir=function(wr){return Zn.variables=wr,K.fetchQueryByPolicy(Dt,Zn,V)};this.fetchCancelFns.set(g,function(wr){setTimeout(function(){return lr.cancel(wr)})});var lr=new In(this.transform(Zn.query).hasClientExports?this.localState.addExportedVariables(Zn.query,Zn.variables,Zn.context).then(ir):ir(Zn.variables));return lr.cleanup(function(){K.fetchCancelFns.delete(g),Dt.observableQuery&&Dt.observableQuery.applyNextFetchPolicy("after-fetch",E)}),lr},C.prototype.refetchQueries=function(g){var E=this,V=g.updateCache,K=g.include,ye=g.optimistic,et=void 0!==ye&&ye,Dt=g.removeOptimistic,Ct=void 0===Dt?et?(0,Mt.X)("refetchQueries"):void 0:Dt,It=g.onQueryUpdated,F=new Map;K&&this.getObservableQueries(K).forEach(function(k,ge){F.set(ge,{oq:k,lastDiff:E.getQuery(ge).getDiff()})});var X=new Map;return V&&this.cache.batch({update:V,optimistic:et&&Ct||!1,removeOptimistic:Ct,onWatchUpdated:function(k,ge,We){var pt=k.watcher instanceof Rn&&k.watcher.observableQuery;if(pt){if(It){F.delete(pt.queryId);var Pt=It(pt,ge,We);return!0===Pt&&(Pt=pt.refetch()),!1!==Pt&&X.set(pt,Pt),Pt}null!==It&&F.set(pt.queryId,{oq:pt,lastDiff:We,diff:ge})}}}),F.size&&F.forEach(function(k,ge){var dn,We=k.oq,pt=k.lastDiff,Pt=k.diff;if(It){if(!Pt){var fr=We.queryInfo;fr.reset(),Pt=fr.getDiff()}dn=It(We,Pt,pt)}(!It||!0===dn)&&(dn=We.refetch()),!1!==dn&&X.set(We,dn),ge.indexOf("legacyOneTimeQuery")>=0&&E.stopQueryNoBroadcast(ge)}),Ct&&this.cache.removeOptimistic(Ct),X},C.prototype.fetchQueryByPolicy=function(g,E,V){var K=this,ye=E.query,et=E.variables,Dt=E.fetchPolicy,Ct=E.refetchWritePolicy,It=E.errorPolicy,F=E.returnPartialData,X=E.context,k=E.notifyOnNetworkStatusChange,ge=g.networkStatus;g.init({document:this.transform(ye).document,variables:et,networkStatus:V});var We=function(){return g.getDiff(et)},pt=function(ir,lr){void 0===lr&&(lr=g.networkStatus||_.loading);var wr=ir.result;__DEV__&&!F&&!(0,ot.D)(wr,{})&&Ne(ir.missing);var Dr=function(qr){return $.y.of((0,ee.pi)({data:qr,loading:S(lr),networkStatus:lr},ir.complete?null:{partial:!0}))};return wr&&K.transform(ye).hasForcedResolvers?K.localState.runResolvers({document:ye,remoteResult:{data:wr},context:X,variables:et,onlyRunForcedResolvers:!0}).then(function(qr){return Dr(qr.data||void 0)}):Dr(wr)},Pt="no-cache"===Dt?0:V===_.refetch&&"merge"!==Ct?1:2,dn=function(){return K.getResultsFromLink(g,Pt,{variables:et,context:X,fetchPolicy:Dt,errorPolicy:It})},fr=k&&"number"==typeof ge&&ge!==V&&S(V);switch(Dt){default:case"cache-first":return(Zn=We()).complete?[pt(Zn,g.markReady())]:F||fr?[pt(Zn),dn()]:[dn()];case"cache-and-network":var Zn;return(Zn=We()).complete||F||fr?[pt(Zn),dn()]:[dn()];case"cache-only":return[pt(We(),g.markReady())];case"network-only":return fr?[pt(We()),dn()]:[dn()];case"no-cache":return fr?[pt(g.getDiff()),dn()]:[dn()];case"standby":return[]}},C.prototype.getQuery=function(g){return g&&!this.queries.has(g)&&this.queries.set(g,new Rn(this,g)),this.queries.get(g)},C.prototype.prepareContext=function(g){void 0===g&&(g={});var E=this.localState.prepareContext(g);return(0,ee.pi)((0,ee.pi)({},E),{clientAwareness:this.clientAwareness})},C}(),Hn=!1,bn=function(){function C(g){var E=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var V=g.uri,et=g.cache,Dt=g.ssrMode,Ct=void 0!==Dt&&Dt,It=g.ssrForceFetchDelay,F=void 0===It?0:It,X=g.connectToDevTools,k=void 0===X?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:X,ge=g.queryDeduplication,We=void 0===ge||ge,pt=g.defaultOptions,Pt=g.assumeImmutableResults,dn=void 0!==Pt&&Pt,fr=g.resolvers,Zn=g.typeDefs,ir=g.fragmentMatcher,lr=g.name,wr=g.version,Dr=g.link;if(Dr||(Dr=V?new ut({uri:V,credentials:g.credentials,headers:g.headers}):me.i.empty()),!et)throw __DEV__?new ce.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ce.ej(7);if(this.link=Dr,this.cache=et,this.disableNetworkFetches=Ct||F>0,this.queryDeduplication=We,this.defaultOptions=pt||Object.create(null),this.typeDefs=Zn,F&&setTimeout(function(){return E.disableNetworkFetches=!1},F),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),k&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Hn&&__DEV__&&(Hn=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var qr=window.navigator,Y=qr&&qr.userAgent,G=void 0;"string"==typeof Y&&(Y.indexOf("Chrome/")>-1?G="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Y.indexOf("Firefox/")>-1&&(G="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),G&&__DEV__&&ce.kG.log("Download the Apollo DevTools for a better development experience: "+G)}this.version="3.6.2",this.localState=new Yt({cache:et,client:this,resolvers:fr,fragmentMatcher:ir}),this.queryManager=new Sn({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:We,ssrMode:Ct,clientAwareness:{name:lr,version:wr},localState:this.localState,assumeImmutableResults:dn,onBroadcast:k?function(){E.devToolsHookCb&&E.devToolsHookCb({action:{},state:{queries:E.queryManager.getQueryStore(),mutations:E.queryManager.mutationStore||{}},dataWithOptimisticResults:E.cache.extract(!0)})}:void 0})}return C.prototype.stop=function(){this.queryManager.stop()},C.prototype.watchQuery=function(g){return this.defaultOptions.watchQuery&&(g=cn(this.defaultOptions.watchQuery,g)),this.disableNetworkFetches&&("network-only"===g.fetchPolicy||"cache-and-network"===g.fetchPolicy)&&(g=(0,ee.pi)((0,ee.pi)({},g),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(g)},C.prototype.query=function(g){return this.defaultOptions.query&&(g=cn(this.defaultOptions.query,g)),__DEV__?(0,ce.kG)("cache-and-network"!==g.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,ce.kG)("cache-and-network"!==g.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===g.fetchPolicy&&(g=(0,ee.pi)((0,ee.pi)({},g),{fetchPolicy:"cache-first"})),this.queryManager.query(g)},C.prototype.mutate=function(g){return this.defaultOptions.mutate&&(g=cn(this.defaultOptions.mutate,g)),this.queryManager.mutate(g)},C.prototype.subscribe=function(g){return this.queryManager.startGraphQLSubscription(g)},C.prototype.readQuery=function(g,E){return void 0===E&&(E=!1),this.cache.readQuery(g,E)},C.prototype.readFragment=function(g,E){return void 0===E&&(E=!1),this.cache.readFragment(g,E)},C.prototype.writeQuery=function(g){this.cache.writeQuery(g),this.queryManager.broadcastQueries()},C.prototype.writeFragment=function(g){this.cache.writeFragment(g),this.queryManager.broadcastQueries()},C.prototype.__actionHookForDevTools=function(g){this.devToolsHookCb=g},C.prototype.__requestRaw=function(g){return Pe(this.link,g)},C.prototype.resetStore=function(){var g=this;return Promise.resolve().then(function(){return g.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(g.resetStoreCallbacks.map(function(E){return E()}))}).then(function(){return g.reFetchObservableQueries()})},C.prototype.clearStore=function(){var g=this;return Promise.resolve().then(function(){return g.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(g.clearStoreCallbacks.map(function(E){return E()}))})},C.prototype.onResetStore=function(g){var E=this;return this.resetStoreCallbacks.push(g),function(){E.resetStoreCallbacks=E.resetStoreCallbacks.filter(function(V){return V!==g})}},C.prototype.onClearStore=function(g){var E=this;return this.clearStoreCallbacks.push(g),function(){E.clearStoreCallbacks=E.clearStoreCallbacks.filter(function(V){return V!==g})}},C.prototype.reFetchObservableQueries=function(g){return this.queryManager.reFetchObservableQueries(g)},C.prototype.refetchQueries=function(g){var E=this.queryManager.refetchQueries(g),V=[],K=[];E.forEach(function(et,Dt){V.push(Dt),K.push(et)});var ye=Promise.all(K);return ye.queries=V,ye.results=K,ye.catch(function(et){__DEV__&&ce.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(et))}),ye},C.prototype.getObservableQueries=function(g){return void 0===g&&(g="active"),this.queryManager.getObservableQueries(g)},C.prototype.extract=function(g){return this.cache.extract(g)},C.prototype.restore=function(g){return this.cache.restore(g)},C.prototype.addResolvers=function(g){this.localState.addResolvers(g)},C.prototype.setResolvers=function(g){this.localState.setResolvers(g)},C.prototype.getResolvers=function(){return this.localState.getResolvers()},C.prototype.setLocalStateFragmentMatcher=function(g){this.localState.setFragmentMatcher(g)},C.prototype.setLink=function(g){this.link=this.queryManager.link=g},C}();function ct(C,g){if(!Boolean(C))throw new Error(null!=g?g:"Unexpected invariant triggered.")}const Ae=/\r\n|[\n\r]/g;function W(C,g){let E=0,V=1;for(const K of C.body.matchAll(Ae)){if("number"==typeof K.index||ct(!1),K.index>=g)break;E=K.index+K[0].length,V+=1}return{line:V,column:g+1-E}}function U(C,g){const E=C.locationOffset.column-1,V="".padStart(E)+C.body,K=g.line-1,et=g.line+(C.locationOffset.line-1),Ct=g.column+(1===g.line?E:0),It=`${C.name}:${et}:${Ct}\n`,F=V.split(/\r\n|[\n\r]/g),X=F[K];if(X.length>120){const k=Math.floor(Ct/80),ge=Ct%80,We=[];for(let pt=0;pt<X.length;pt+=80)We.push(X.slice(pt,pt+80));return It+Se([[`${et} |`,We[0]],...We.slice(1,k+1).map(pt=>["|",pt]),["|","^".padStart(ge)],["|",We[k+1]]])}return It+Se([[et-1+" |",F[K-1]],[`${et} |`,X],["|","^".padStart(Ct)],[`${et+1} |`,F[K+1]]])}function Se(C){const g=C.filter(([V,K])=>void 0!==K),E=Math.max(...g.map(([V])=>V.length));return g.map(([V,K])=>V.padStart(E)+(K?" "+K:"")).join("\n")}class Gt extends Error{constructor(g,...E){var V,K,ye;const{nodes:et,source:Dt,positions:Ct,path:It,originalError:F,extensions:X}=function ht(C){const g=C[0];return null==g||"kind"in g||"length"in g?{nodes:g,source:C[1],positions:C[2],path:C[3],originalError:C[4],extensions:C[5]}:g}(E);super(g),this.name="GraphQLError",this.path=null!=It?It:void 0,this.originalError=null!=F?F:void 0,this.nodes=de(Array.isArray(et)?et:et?[et]:void 0);const k=de(null===(V=this.nodes)||void 0===V?void 0:V.map(We=>We.loc).filter(We=>null!=We));this.source=null!=Dt?Dt:null==k||null===(K=k[0])||void 0===K?void 0:K.source,this.positions=null!=Ct?Ct:null==k?void 0:k.map(We=>We.start),this.locations=Ct&&Dt?Ct.map(We=>W(Dt,We)):null==k?void 0:k.map(We=>W(We.source,We.start));const ge=function Rr(C){return"object"==typeof C&&null!==C}(null==F?void 0:F.extensions)?null==F?void 0:F.extensions:void 0;this.extensions=null!==(ye=null!=X?X:ge)&&void 0!==ye?ye:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=F&&F.stack?Object.defineProperty(this,"stack",{value:F.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Gt):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let g=this.message;if(this.nodes)for(const E of this.nodes)E.loc&&(g+="\n\n"+U((C=E.loc).source,W(C.source,C.start)));else if(this.source&&this.locations)for(const E of this.locations)g+="\n\n"+U(this.source,E);var C;return g}toJSON(){const g={message:this.message};return null!=this.locations&&(g.locations=this.locations),null!=this.path&&(g.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(g.extensions=this.extensions),g}}function de(C){return void 0===C||0===C.length?void 0:C}function Z(C,g,E){return new Gt(`Syntax Error: ${E}`,{source:C,positions:[g]})}var it=y(6298);let Ye;var C;(C=Ye||(Ye={})).QUERY="QUERY",C.MUTATION="MUTATION",C.SUBSCRIPTION="SUBSCRIPTION",C.FIELD="FIELD",C.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",C.FRAGMENT_SPREAD="FRAGMENT_SPREAD",C.INLINE_FRAGMENT="INLINE_FRAGMENT",C.VARIABLE_DEFINITION="VARIABLE_DEFINITION",C.SCHEMA="SCHEMA",C.SCALAR="SCALAR",C.OBJECT="OBJECT",C.FIELD_DEFINITION="FIELD_DEFINITION",C.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",C.INTERFACE="INTERFACE",C.UNION="UNION",C.ENUM="ENUM",C.ENUM_VALUE="ENUM_VALUE",C.INPUT_OBJECT="INPUT_OBJECT",C.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION";var je=y(2289),nt=y(2032),yt=y(6009);let dt;!function(C){C.SOF="<SOF>",C.EOF="<EOF>",C.BANG="!",C.DOLLAR="$",C.AMP="&",C.PAREN_L="(",C.PAREN_R=")",C.SPREAD="...",C.COLON=":",C.EQUALS="=",C.AT="@",C.BRACKET_L="[",C.BRACKET_R="]",C.BRACE_L="{",C.PIPE="|",C.BRACE_R="}",C.NAME="Name",C.INT="Int",C.FLOAT="Float",C.STRING="String",C.BLOCK_STRING="BlockString",C.COMMENT="Comment"}(dt||(dt={}));class Jn{constructor(g){const E=new it.WU(dt.SOF,0,0,0,0);this.source=g,this.lastToken=E,this.token=E,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let g=this.token;if(g.kind!==dt.EOF)do{if(g.next)g=g.next;else{const E=gi(this,g.end);g.next=E,E.prev=g,g=E}}while(g.kind===dt.COMMENT);return g}}function vr(C){return C>=0&&C<=55295||C>=57344&&C<=1114111}function Kr(C,g){return li(C.charCodeAt(g))&&Br(C.charCodeAt(g+1))}function li(C){return C>=55296&&C<=56319}function Br(C){return C>=56320&&C<=57343}function Xr(C,g){const E=C.source.body.codePointAt(g);if(void 0===E)return dt.EOF;if(E>=32&&E<=126){const V=String.fromCodePoint(E);return'"'===V?"'\"'":`"${V}"`}return"U+"+E.toString(16).toUpperCase().padStart(4,"0")}function _r(C,g,E,V,K){return new it.WU(g,E,V,C.line,1+E-C.lineStart,K)}function gi(C,g){const E=C.source.body,V=E.length;let K=g;for(;K<V;){const ye=E.charCodeAt(K);switch(ye){case 65279:case 9:case 32:case 44:++K;continue;case 10:++K,++C.line,C.lineStart=K;continue;case 13:10===E.charCodeAt(K+1)?K+=2:++K,++C.line,C.lineStart=K;continue;case 35:return Nr(C,K);case 33:return _r(C,dt.BANG,K,K+1);case 36:return _r(C,dt.DOLLAR,K,K+1);case 38:return _r(C,dt.AMP,K,K+1);case 40:return _r(C,dt.PAREN_L,K,K+1);case 41:return _r(C,dt.PAREN_R,K,K+1);case 46:if(46===E.charCodeAt(K+1)&&46===E.charCodeAt(K+2))return _r(C,dt.SPREAD,K,K+3);break;case 58:return _r(C,dt.COLON,K,K+1);case 61:return _r(C,dt.EQUALS,K,K+1);case 64:return _r(C,dt.AT,K,K+1);case 91:return _r(C,dt.BRACKET_L,K,K+1);case 93:return _r(C,dt.BRACKET_R,K,K+1);case 123:return _r(C,dt.BRACE_L,K,K+1);case 124:return _r(C,dt.PIPE,K,K+1);case 125:return _r(C,dt.BRACE_R,K,K+1);case 34:return 34===E.charCodeAt(K+1)&&34===E.charCodeAt(K+2)?Ut(C,K):$t(C,K)}if((0,yt.X1)(ye)||45===ye)return Mn(C,K,ye);if((0,yt.LQ)(ye))return Vn(C,K);throw Z(C.source,K,39===ye?"Unexpected single quote character ('), did you mean to use a double quote (\")?":vr(ye)||Kr(E,K)?`Unexpected character: ${Xr(C,K)}.`:`Invalid character: ${Xr(C,K)}.`)}return _r(C,dt.EOF,V,V)}function Nr(C,g){const E=C.source.body,V=E.length;let K=g+1;for(;K<V;){const ye=E.charCodeAt(K);if(10===ye||13===ye)break;if(vr(ye))++K;else{if(!Kr(E,K))break;K+=2}}return _r(C,dt.COMMENT,g,K,E.slice(g+1,K))}function Mn(C,g,E){const V=C.source.body;let K=g,ye=E,et=!1;if(45===ye&&(ye=V.charCodeAt(++K)),48===ye){if(ye=V.charCodeAt(++K),(0,yt.X1)(ye))throw Z(C.source,K,`Invalid number, unexpected digit after 0: ${Xr(C,K)}.`)}else K=ft(C,K,ye),ye=V.charCodeAt(K);if(46===ye&&(et=!0,ye=V.charCodeAt(++K),K=ft(C,K,ye),ye=V.charCodeAt(K)),(69===ye||101===ye)&&(et=!0,ye=V.charCodeAt(++K),(43===ye||45===ye)&&(ye=V.charCodeAt(++K)),K=ft(C,K,ye),ye=V.charCodeAt(K)),46===ye||(0,yt.LQ)(ye))throw Z(C.source,K,`Invalid number, expected digit but got: ${Xr(C,K)}.`);return _r(C,et?dt.FLOAT:dt.INT,g,K,V.slice(g,K))}function ft(C,g,E){if(!(0,yt.X1)(E))throw Z(C.source,g,`Invalid number, expected digit but got: ${Xr(C,g)}.`);const V=C.source.body;let K=g+1;for(;(0,yt.X1)(V.charCodeAt(K));)++K;return K}function $t(C,g){const E=C.source.body,V=E.length;let K=g+1,ye=K,et="";for(;K<V;){const Dt=E.charCodeAt(K);if(34===Dt)return et+=E.slice(ye,K),_r(C,dt.STRING,g,K+1,et);if(92!==Dt){if(10===Dt||13===Dt)break;if(vr(Dt))++K;else{if(!Kr(E,K))throw Z(C.source,K,`Invalid character within String: ${Xr(C,K)}.`);K+=2}}else{et+=E.slice(ye,K);const Ct=117===E.charCodeAt(K+1)?123===E.charCodeAt(K+2)?yn(C,K):$n(C,K):gt(C,K);et+=Ct.value,K+=Ct.size,ye=K}}throw Z(C.source,K,"Unterminated string.")}function yn(C,g){const E=C.source.body;let V=0,K=3;for(;K<12;){const ye=E.charCodeAt(g+K++);if(125===ye){if(K<5||!vr(V))break;return{value:String.fromCodePoint(V),size:K}}if(V=V<<4|Et(ye),V<0)break}throw Z(C.source,g,`Invalid Unicode escape sequence: "${E.slice(g,g+K)}".`)}function $n(C,g){const E=C.source.body,V=gr(E,g+2);if(vr(V))return{value:String.fromCodePoint(V),size:6};if(li(V)&&92===E.charCodeAt(g+6)&&117===E.charCodeAt(g+7)){const K=gr(E,g+8);if(Br(K))return{value:String.fromCodePoint(V,K),size:12}}throw Z(C.source,g,`Invalid Unicode escape sequence: "${E.slice(g,g+6)}".`)}function gr(C,g){return Et(C.charCodeAt(g))<<12|Et(C.charCodeAt(g+1))<<8|Et(C.charCodeAt(g+2))<<4|Et(C.charCodeAt(g+3))}function Et(C){return C>=48&&C<=57?C-48:C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:-1}function gt(C,g){const E=C.source.body;switch(E.charCodeAt(g+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Z(C.source,g,`Invalid character escape sequence: "${E.slice(g,g+2)}".`)}function Ut(C,g){const E=C.source.body,V=E.length;let K=C.lineStart,ye=g+3,et=ye,Dt="";const Ct=[];for(;ye<V;){const It=E.charCodeAt(ye);if(34===It&&34===E.charCodeAt(ye+1)&&34===E.charCodeAt(ye+2)){Dt+=E.slice(et,ye),Ct.push(Dt);const F=_r(C,dt.BLOCK_STRING,g,ye+3,(0,nt.wv)(Ct).join("\n"));return C.line+=Ct.length-1,C.lineStart=K,F}if(92!==It||34!==E.charCodeAt(ye+1)||34!==E.charCodeAt(ye+2)||34!==E.charCodeAt(ye+3))if(10!==It&&13!==It)if(vr(It))++ye;else{if(!Kr(E,ye))throw Z(C.source,ye,`Invalid character within String: ${Xr(C,ye)}.`);ye+=2}else Dt+=E.slice(et,ye),Ct.push(Dt),13===It&&10===E.charCodeAt(ye+1)?ye+=2:++ye,Dt="",et=ye,K=ye;else Dt+=E.slice(et,ye),et=ye+1,ye+=4}throw Z(C.source,ye,"Unterminated string.")}function Vn(C,g){const E=C.source.body,V=E.length;let K=g+1;for(;K<V;){const ye=E.charCodeAt(K);if(!(0,yt.HQ)(ye))break;++K}return _r(C,dt.NAME,g,K,E.slice(g,K))}var An=y(9826);class Yr{constructor(g,E){const V=(0,An.T)(g)?g:new An.H(g);this._lexer=new Jn(V),this._options=E}parseName(){const g=this.expectToken(dt.NAME);return this.node(g,{kind:je.h.NAME,value:g.value})}parseDocument(){return this.node(this._lexer.token,{kind:je.h.DOCUMENT,definitions:this.many(dt.SOF,this.parseDefinition,dt.EOF)})}parseDefinition(){if(this.peek(dt.BRACE_L))return this.parseOperationDefinition();const g=this.peekDescription(),E=g?this._lexer.lookahead():this._lexer.token;if(E.kind===dt.NAME){switch(E.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(g)throw Z(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(E.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(E)}parseOperationDefinition(){const g=this._lexer.token;if(this.peek(dt.BRACE_L))return this.node(g,{kind:je.h.OPERATION_DEFINITION,operation:it.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const E=this.parseOperationType();let V;return this.peek(dt.NAME)&&(V=this.parseName()),this.node(g,{kind:je.h.OPERATION_DEFINITION,operation:E,name:V,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const g=this.expectToken(dt.NAME);switch(g.value){case"query":return it.ku.QUERY;case"mutation":return it.ku.MUTATION;case"subscription":return it.ku.SUBSCRIPTION}throw this.unexpected(g)}parseVariableDefinitions(){return this.optionalMany(dt.PAREN_L,this.parseVariableDefinition,dt.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:je.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(dt.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(dt.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const g=this._lexer.token;return this.expectToken(dt.DOLLAR),this.node(g,{kind:je.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:je.h.SELECTION_SET,selections:this.many(dt.BRACE_L,this.parseSelection,dt.BRACE_R)})}parseSelection(){return this.peek(dt.SPREAD)?this.parseFragment():this.parseField()}parseField(){const g=this._lexer.token,E=this.parseName();let V,K;return this.expectOptionalToken(dt.COLON)?(V=E,K=this.parseName()):K=E,this.node(g,{kind:je.h.FIELD,alias:V,name:K,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(dt.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(g){return this.optionalMany(dt.PAREN_L,g?this.parseConstArgument:this.parseArgument,dt.PAREN_R)}parseArgument(g=!1){const E=this._lexer.token,V=this.parseName();return this.expectToken(dt.COLON),this.node(E,{kind:je.h.ARGUMENT,name:V,value:this.parseValueLiteral(g)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const g=this._lexer.token;this.expectToken(dt.SPREAD);const E=this.expectOptionalKeyword("on");return!E&&this.peek(dt.NAME)?this.node(g,{kind:je.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(g,{kind:je.h.INLINE_FRAGMENT,typeCondition:E?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var g;const E=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(g=this._options)||void 0===g?void 0:g.allowLegacyFragmentVariables)?this.node(E,{kind:je.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(E,{kind:je.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(g){const E=this._lexer.token;switch(E.kind){case dt.BRACKET_L:return this.parseList(g);case dt.BRACE_L:return this.parseObject(g);case dt.INT:return this._lexer.advance(),this.node(E,{kind:je.h.INT,value:E.value});case dt.FLOAT:return this._lexer.advance(),this.node(E,{kind:je.h.FLOAT,value:E.value});case dt.STRING:case dt.BLOCK_STRING:return this.parseStringLiteral();case dt.NAME:switch(this._lexer.advance(),E.value){case"true":return this.node(E,{kind:je.h.BOOLEAN,value:!0});case"false":return this.node(E,{kind:je.h.BOOLEAN,value:!1});case"null":return this.node(E,{kind:je.h.NULL});default:return this.node(E,{kind:je.h.ENUM,value:E.value})}case dt.DOLLAR:if(g){if(this.expectToken(dt.DOLLAR),this._lexer.token.kind===dt.NAME)throw Z(this._lexer.source,E.start,`Unexpected variable "$${this._lexer.token.value}" in constant value.`);throw this.unexpected(E)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const g=this._lexer.token;return this._lexer.advance(),this.node(g,{kind:je.h.STRING,value:g.value,block:g.kind===dt.BLOCK_STRING})}parseList(g){return this.node(this._lexer.token,{kind:je.h.LIST,values:this.any(dt.BRACKET_L,()=>this.parseValueLiteral(g),dt.BRACKET_R)})}parseObject(g){return this.node(this._lexer.token,{kind:je.h.OBJECT,fields:this.any(dt.BRACE_L,()=>this.parseObjectField(g),dt.BRACE_R)})}parseObjectField(g){const E=this._lexer.token,V=this.parseName();return this.expectToken(dt.COLON),this.node(E,{kind:je.h.OBJECT_FIELD,name:V,value:this.parseValueLiteral(g)})}parseDirectives(g){const E=[];for(;this.peek(dt.AT);)E.push(this.parseDirective(g));return E}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(g){const E=this._lexer.token;return this.expectToken(dt.AT),this.node(E,{kind:je.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(g)})}parseTypeReference(){const g=this._lexer.token;let E;if(this.expectOptionalToken(dt.BRACKET_L)){const V=this.parseTypeReference();this.expectToken(dt.BRACKET_R),E=this.node(g,{kind:je.h.LIST_TYPE,type:V})}else E=this.parseNamedType();return this.expectOptionalToken(dt.BANG)?this.node(g,{kind:je.h.NON_NULL_TYPE,type:E}):E}parseNamedType(){return this.node(this._lexer.token,{kind:je.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(dt.STRING)||this.peek(dt.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("schema");const V=this.parseConstDirectives(),K=this.many(dt.BRACE_L,this.parseOperationTypeDefinition,dt.BRACE_R);return this.node(g,{kind:je.h.SCHEMA_DEFINITION,description:E,directives:V,operationTypes:K})}parseOperationTypeDefinition(){const g=this._lexer.token,E=this.parseOperationType();this.expectToken(dt.COLON);const V=this.parseNamedType();return this.node(g,{kind:je.h.OPERATION_TYPE_DEFINITION,operation:E,type:V})}parseScalarTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("scalar");const V=this.parseName(),K=this.parseConstDirectives();return this.node(g,{kind:je.h.SCALAR_TYPE_DEFINITION,description:E,name:V,directives:K})}parseObjectTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("type");const V=this.parseName(),K=this.parseImplementsInterfaces(),ye=this.parseConstDirectives(),et=this.parseFieldsDefinition();return this.node(g,{kind:je.h.OBJECT_TYPE_DEFINITION,description:E,name:V,interfaces:K,directives:ye,fields:et})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(dt.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(dt.BRACE_L,this.parseFieldDefinition,dt.BRACE_R)}parseFieldDefinition(){const g=this._lexer.token,E=this.parseDescription(),V=this.parseName(),K=this.parseArgumentDefs();this.expectToken(dt.COLON);const ye=this.parseTypeReference(),et=this.parseConstDirectives();return this.node(g,{kind:je.h.FIELD_DEFINITION,description:E,name:V,arguments:K,type:ye,directives:et})}parseArgumentDefs(){return this.optionalMany(dt.PAREN_L,this.parseInputValueDef,dt.PAREN_R)}parseInputValueDef(){const g=this._lexer.token,E=this.parseDescription(),V=this.parseName();this.expectToken(dt.COLON);const K=this.parseTypeReference();let ye;this.expectOptionalToken(dt.EQUALS)&&(ye=this.parseConstValueLiteral());const et=this.parseConstDirectives();return this.node(g,{kind:je.h.INPUT_VALUE_DEFINITION,description:E,name:V,type:K,defaultValue:ye,directives:et})}parseInterfaceTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("interface");const V=this.parseName(),K=this.parseImplementsInterfaces(),ye=this.parseConstDirectives(),et=this.parseFieldsDefinition();return this.node(g,{kind:je.h.INTERFACE_TYPE_DEFINITION,description:E,name:V,interfaces:K,directives:ye,fields:et})}parseUnionTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("union");const V=this.parseName(),K=this.parseConstDirectives(),ye=this.parseUnionMemberTypes();return this.node(g,{kind:je.h.UNION_TYPE_DEFINITION,description:E,name:V,directives:K,types:ye})}parseUnionMemberTypes(){return this.expectOptionalToken(dt.EQUALS)?this.delimitedMany(dt.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("enum");const V=this.parseName(),K=this.parseConstDirectives(),ye=this.parseEnumValuesDefinition();return this.node(g,{kind:je.h.ENUM_TYPE_DEFINITION,description:E,name:V,directives:K,values:ye})}parseEnumValuesDefinition(){return this.optionalMany(dt.BRACE_L,this.parseEnumValueDefinition,dt.BRACE_R)}parseEnumValueDefinition(){const g=this._lexer.token,E=this.parseDescription(),V=this.parseEnumValueName(),K=this.parseConstDirectives();return this.node(g,{kind:je.h.ENUM_VALUE_DEFINITION,description:E,name:V,directives:K})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Z(this._lexer.source,this._lexer.token.start,`${hi(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("input");const V=this.parseName(),K=this.parseConstDirectives(),ye=this.parseInputFieldsDefinition();return this.node(g,{kind:je.h.INPUT_OBJECT_TYPE_DEFINITION,description:E,name:V,directives:K,fields:ye})}parseInputFieldsDefinition(){return this.optionalMany(dt.BRACE_L,this.parseInputValueDef,dt.BRACE_R)}parseTypeSystemExtension(){const g=this._lexer.lookahead();if(g.kind===dt.NAME)switch(g.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(g)}parseSchemaExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const E=this.parseConstDirectives(),V=this.optionalMany(dt.BRACE_L,this.parseOperationTypeDefinition,dt.BRACE_R);if(0===E.length&&0===V.length)throw this.unexpected();return this.node(g,{kind:je.h.SCHEMA_EXTENSION,directives:E,operationTypes:V})}parseScalarTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const E=this.parseName(),V=this.parseConstDirectives();if(0===V.length)throw this.unexpected();return this.node(g,{kind:je.h.SCALAR_TYPE_EXTENSION,name:E,directives:V})}parseObjectTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const E=this.parseName(),V=this.parseImplementsInterfaces(),K=this.parseConstDirectives(),ye=this.parseFieldsDefinition();if(0===V.length&&0===K.length&&0===ye.length)throw this.unexpected();return this.node(g,{kind:je.h.OBJECT_TYPE_EXTENSION,name:E,interfaces:V,directives:K,fields:ye})}parseInterfaceTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const E=this.parseName(),V=this.parseImplementsInterfaces(),K=this.parseConstDirectives(),ye=this.parseFieldsDefinition();if(0===V.length&&0===K.length&&0===ye.length)throw this.unexpected();return this.node(g,{kind:je.h.INTERFACE_TYPE_EXTENSION,name:E,interfaces:V,directives:K,fields:ye})}parseUnionTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const E=this.parseName(),V=this.parseConstDirectives(),K=this.parseUnionMemberTypes();if(0===V.length&&0===K.length)throw this.unexpected();return this.node(g,{kind:je.h.UNION_TYPE_EXTENSION,name:E,directives:V,types:K})}parseEnumTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const E=this.parseName(),V=this.parseConstDirectives(),K=this.parseEnumValuesDefinition();if(0===V.length&&0===K.length)throw this.unexpected();return this.node(g,{kind:je.h.ENUM_TYPE_EXTENSION,name:E,directives:V,values:K})}parseInputObjectTypeExtension(){const g=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const E=this.parseName(),V=this.parseConstDirectives(),K=this.parseInputFieldsDefinition();if(0===V.length&&0===K.length)throw this.unexpected();return this.node(g,{kind:je.h.INPUT_OBJECT_TYPE_EXTENSION,name:E,directives:V,fields:K})}parseDirectiveDefinition(){const g=this._lexer.token,E=this.parseDescription();this.expectKeyword("directive"),this.expectToken(dt.AT);const V=this.parseName(),K=this.parseArgumentDefs(),ye=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const et=this.parseDirectiveLocations();return this.node(g,{kind:je.h.DIRECTIVE_DEFINITION,description:E,name:V,arguments:K,repeatable:ye,locations:et})}parseDirectiveLocations(){return this.delimitedMany(dt.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const g=this._lexer.token,E=this.parseName();if(Object.prototype.hasOwnProperty.call(Ye,E.value))return E;throw this.unexpected(g)}node(g,E){var V;return!0!==(null===(V=this._options)||void 0===V?void 0:V.noLocation)&&(E.loc=new it.Ye(g,this._lexer.lastToken,this._lexer.source)),E}peek(g){return this._lexer.token.kind===g}expectToken(g){const E=this._lexer.token;if(E.kind===g)return this._lexer.advance(),E;throw Z(this._lexer.source,E.start,`Expected ${vi(g)}, found ${hi(E)}.`)}expectOptionalToken(g){return this._lexer.token.kind===g&&(this._lexer.advance(),!0)}expectKeyword(g){const E=this._lexer.token;if(E.kind!==dt.NAME||E.value!==g)throw Z(this._lexer.source,E.start,`Expected "${g}", found ${hi(E)}.`);this._lexer.advance()}expectOptionalKeyword(g){const E=this._lexer.token;return E.kind===dt.NAME&&E.value===g&&(this._lexer.advance(),!0)}unexpected(g){const E=null!=g?g:this._lexer.token;return Z(this._lexer.source,E.start,`Unexpected ${hi(E)}.`)}any(g,E,V){this.expectToken(g);const K=[];for(;!this.expectOptionalToken(V);)K.push(E.call(this));return K}optionalMany(g,E,V){if(this.expectOptionalToken(g)){const K=[];do{K.push(E.call(this))}while(!this.expectOptionalToken(V));return K}return[]}many(g,E,V){this.expectToken(g);const K=[];do{K.push(E.call(this))}while(!this.expectOptionalToken(V));return K}delimitedMany(g,E){this.expectOptionalToken(g);const V=[];do{V.push(E.call(this))}while(this.expectOptionalToken(g));return V}}function hi(C){const g=C.value;return vi(C.kind)+(null!=g?` "${g}"`:"")}function vi(C){return function Un(C){return C===dt.BANG||C===dt.DOLLAR||C===dt.AMP||C===dt.PAREN_L||C===dt.PAREN_R||C===dt.SPREAD||C===dt.COLON||C===dt.EQUALS||C===dt.AT||C===dt.BRACKET_L||C===dt.BRACKET_R||C===dt.BRACE_L||C===dt.PIPE||C===dt.BRACE_R}(C)?`"${C}"`:C}var ri=new Map,Ir=new Map,ki=!0,Hi=!1;function ii(C){return C.replace(/[\s,]+/g," ").trim()}function _i(C){var g=ii(C);if(!ri.has(g)){var E=function kr(C,g){return new Yr(C,g).parseDocument()}(C,{experimentalFragmentVariables:Hi,allowLegacyFragmentVariables:Hi});if(!E||"Document"!==E.kind)throw new Error("Not a valid GraphQL document.");ri.set(g,function Wi(C){var g=new Set(C.definitions);g.forEach(function(V){V.loc&&delete V.loc,Object.keys(V).forEach(function(K){var ye=V[K];ye&&"object"==typeof ye&&g.add(ye)})});var E=C.loc;return E&&(delete E.startToken,delete E.endToken),C}(function $i(C){var g=new Set,E=[];return C.definitions.forEach(function(V){if("FragmentDefinition"===V.kind){var K=V.name.value,ye=function Di(C){return ii(C.source.body.substring(C.start,C.end))}(V.loc),et=Ir.get(K);et&&!et.has(ye)?ki&&console.warn("Warning: fragment with name "+K+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):et||Ir.set(K,et=new Set),et.add(ye),g.has(ye)||(g.add(ye),E.push(V))}else E.push(V)}),(0,ee.pi)((0,ee.pi)({},C),{definitions:E})}(E)))}return ri.get(g)}function Ei(C){for(var g=[],E=1;E<arguments.length;E++)g[E-1]=arguments[E];"string"==typeof C&&(C=[C]);var V=C[0];return g.forEach(function(K,ye){V+=K&&"Document"===K.kind?K.loc.source.body:K,V+=C[ye+1]}),_i(V)}var Oi_gql=Ei,Oi_resetCaches=function gs(){ri.clear(),Ir.clear()},Oi_disableFragmentWarnings=function ss(){ki=!1},Oi_enableExperimentalFragmentVariables=function bs(){Hi=!0},Oi_disableExperimentalFragmentVariables=function di(){Hi=!1};(function(C){C.gql=Oi_gql,C.resetCaches=Oi_resetCaches,C.disableFragmentWarnings=Oi_disableFragmentWarnings,C.enableExperimentalFragmentVariables=Oi_enableExperimentalFragmentVariables,C.disableExperimentalFragmentVariables=Oi_disableExperimentalFragmentVariables})(Ei||(Ei={})),Ei.default=Ei;var Ot=y(8306),Lt=y(233),hn=y(8822),jn=y(8996),er=y(4004),Ur=y(8675),mi=y(5363);function Qr(C){return new Ot.y(g=>(C().then(E=>{g.closed||(g.next(E),g.complete())},E=>{g.closed||g.error(E)}),()=>g.unsubscribe()))}class ms{constructor(g){this.zone=g,this.now=Date.now?Date.now:()=>+new Date}schedule(g,E=0,V){return this.zone.run(()=>Lt.N.schedule(g,E,V))}}function os(C){return C[hn.L]=()=>C,C}function pi(C,g){return C.pipe((0,mi.Q)(new ms(g)))}function Ii(C,g,E){return C&&void 0!==C[g]?C[g]:E}class Qi{constructor(g,E,V){this.obsQuery=g;const K=pi((0,jn.D)(os(this.obsQuery)),E);this.valueChanges=V.useInitialLoading?K.pipe(function ys(C){return function(E){return new Ot.y(function(K){const ye=C.getCurrentResult(),{loading:et,errors:Dt,error:Ct,partial:It,data:F}=ye,{partialRefetch:X,fetchPolicy:k}=C.options,ge=Dt||Ct;return X&&It&&(!F||0===Object.keys(F).length)&&"cache-only"!==k&&!et&&!ge&&K.next(Object.assign(Object.assign({},ye),{loading:!0,networkStatus:_.loading})),E.subscribe(K)})}}(this.obsQuery)):K,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(g){return this.obsQuery.refetch(g)}fetchMore(g){return this.obsQuery.fetchMore(g)}subscribeToMore(g){return this.obsQuery.subscribeToMore(g)}updateQuery(g){return this.obsQuery.updateQuery(g)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(g){return this.obsQuery.startPolling(g)}setOptions(g){return this.obsQuery.setOptions(g)}setVariables(g){return this.obsQuery.setVariables(g)}}const Js=new u.OlP("APOLLO_FLAGS"),Gs=new u.OlP("APOLLO_OPTIONS"),$r=new u.OlP("APOLLO_NAMED_OPTIONS");class ns{constructor(g,E,V){this.ngZone=g,this.flags=E,this._client=V,this.useInitialLoading=Ii(E,"useInitialLoading",!1),this.useMutationLoading=Ii(E,"useMutationLoading",!1)}watchQuery(g){return new Qi(this.ensureClient().watchQuery(Object.assign({},g)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},g))}query(g){return Qr(()=>this.ensureClient().query(Object.assign({},g)))}mutate(g){var E;return function Ni(C,g){return g?C.pipe((0,Ur.O)({loading:!0}),(0,er.U)(E=>Object.assign(Object.assign({},E),{loading:!!E.loading}))):C.pipe((0,er.U)(E=>Object.assign(Object.assign({},E),{loading:!1})))}(Qr(()=>this.ensureClient().mutate(Object.assign({},g))),null!==(E=g.useMutationLoading)&&void 0!==E?E:this.useMutationLoading)}subscribe(g,E){const V=(0,jn.D)(os(this.ensureClient().subscribe(Object.assign({},g))));return E&&!0!==E.useZone?V:pi(V,this.ngZone)}getClient(){return this.client}setClient(g){this.client=g}get client(){return this._client}set client(g){if(this._client)throw new Error("Client has been already defined");this._client=g}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let Ti=(()=>{class C extends ns{constructor(E,V,K,ye){if(super(E,ye),this._ngZone=E,this.map=new Map,V&&this.createDefault(V),K&&"object"==typeof K)for(let et in K)K.hasOwnProperty(et)&&this.createNamed(et,K[et])}create(E,V){Zi(V)?this.createDefault(E):this.createNamed(V,E)}default(){return this}use(E){return Zi(E)?this.default():this.map.get(E)}createDefault(E){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new bn(E))}createNamed(E,V){if(this.map.has(E))throw new Error(`Client ${E} has been already created`);this.map.set(E,new ns(this._ngZone,this.flags,new bn(V)))}removeClient(E){Zi(E)?this._client=void 0:this.map.delete(E)}}return C.\u0275fac=function(E){return new(E||C)(u.LFG(u.R0b),u.LFG(Gs,8),u.LFG($r,8),u.LFG(Js,8))},C.\u0275prov=u.Yz7({token:C,factory:C.\u0275fac}),C})();function Zi(C){return!C||"default"===C}const Ps=[Ti];let vs=(()=>{class C{}return C.\u0275fac=function(E){return new(E||C)},C.\u0275mod=u.oAB({type:C}),C.\u0275inj=u.cJS({providers:Ps}),C})();const Q=function ne(C,...g){return Ei(C,...g)}},4047:(Xt,tt,y)=>{function u(_,S){if(!Boolean(_))throw new Error(S)}y.d(tt,{a:()=>u})},744:(Xt,tt,y)=>{function S($){return ee($,[])}function ee($,ie){switch(typeof $){case"string":return JSON.stringify($);case"function":return $.name?`[function ${$.name}]`:"[function]";case"object":return function ce($,ie){if(null===$)return"null";if(ie.includes($))return"[Circular]";const oe=[...ie,$];if(function me($){return"function"==typeof $.toJSON}($)){const Fe=$.toJSON();if(Fe!==$)return"string"==typeof Fe?Fe:ee(Fe,oe)}else if(Array.isArray($))return function ve($,ie){if(0===$.length)return"[]";if(ie.length>2)return"[Array]";const oe=Math.min(10,$.length),Fe=$.length-oe,Ie=[];for(let ue=0;ue<oe;++ue)Ie.push(ee($[ue],ie));return 1===Fe?Ie.push("... 1 more item"):Fe>1&&Ie.push(`... ${Fe} more items`),"["+Ie.join(", ")+"]"}($,oe);return function Pe($,ie){const oe=Object.entries($);return 0===oe.length?"{}":ie.length>2?"["+function _e($){const ie=Object.prototype.toString.call($).replace(/^\[object /,"").replace(/]$/,"");if("Object"===ie&&"function"==typeof $.constructor){const oe=$.constructor.name;if("string"==typeof oe&&""!==oe)return oe}return ie}($)+"]":"{ "+oe.map(([Ie,ue])=>Ie+": "+ee(ue,ie)).join(", ")+" }"}($,oe)}($,ie);default:return String($)}}y.d(tt,{X:()=>S})},6298:(Xt,tt,y)=>{y.d(tt,{Ye:()=>u,WU:()=>_,h8:()=>S,UG:()=>ce,ku:()=>me});class u{constructor(ve,_e,$){this.start=ve.start,this.end=_e.end,this.startToken=ve,this.endToken=_e,this.source=$}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _{constructor(ve,_e,$,ie,oe,Fe){this.kind=ve,this.start=_e,this.end=$,this.line=ie,this.column=oe,this.value=Fe,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ee=new Set(Object.keys(S));function ce(Pe){const ve=null==Pe?void 0:Pe.kind;return"string"==typeof ve&&ee.has(ve)}let me;var Pe;(Pe=me||(me={})).QUERY="query",Pe.MUTATION="mutation",Pe.SUBSCRIPTION="subscription"},2032:(Xt,tt,y)=>{y.d(tt,{wv:()=>_,LZ:()=>ce});var u=y(6009);function _(me){var Pe;let ve=Number.MAX_SAFE_INTEGER,_e=null,$=-1;for(let oe=0;oe<me.length;++oe){var ie;const Fe=me[oe],Ie=S(Fe);Ie!==Fe.length&&(_e=null!==(ie=_e)&&void 0!==ie?ie:oe,$=oe,0!==oe&&Ie<ve&&(ve=Ie))}return me.map((oe,Fe)=>0===Fe?oe:oe.slice(ve)).slice(null!==(Pe=_e)&&void 0!==Pe?Pe:0,$+1)}function S(me){let Pe=0;for(;Pe<me.length&&(0,u.FD)(me.charCodeAt(Pe));)++Pe;return Pe}function ce(me,Pe){const ve=me.replace(/"""/g,'\\"""'),_e=ve.split(/\r\n|[\n\r]/g),$=1===_e.length,ie=_e.length>1&&_e.slice(1).every(Be=>0===Be.length||(0,u.FD)(Be.charCodeAt(0))),oe=ve.endsWith('\\"""'),Fe=me.endsWith('"')&&!oe,Ie=me.endsWith("\\"),ue=Fe||Ie,$e=!(null!=Pe&&Pe.minimize)&&(!$||me.length>70||ue||ie||oe);let ke="";const Qe=$&&(0,u.FD)(me.charCodeAt(0));return($e&&!Qe||ie)&&(ke+="\n"),ke+=ve,($e||ue)&&(ke+="\n"),'"""'+ke+'"""'}},6009:(Xt,tt,y)=>{function u(me){return 9===me||32===me}function _(me){return me>=48&&me<=57}function S(me){return me>=97&&me<=122||me>=65&&me<=90}function ee(me){return S(me)||95===me}function ce(me){return S(me)||_(me)||95===me}y.d(tt,{FD:()=>u,X1:()=>_,LQ:()=>ee,HQ:()=>ce})},2289:(Xt,tt,y)=>{let u;var _;y.d(tt,{h:()=>u}),(_=u||(u={})).NAME="Name",_.DOCUMENT="Document",_.OPERATION_DEFINITION="OperationDefinition",_.VARIABLE_DEFINITION="VariableDefinition",_.SELECTION_SET="SelectionSet",_.FIELD="Field",_.ARGUMENT="Argument",_.FRAGMENT_SPREAD="FragmentSpread",_.INLINE_FRAGMENT="InlineFragment",_.FRAGMENT_DEFINITION="FragmentDefinition",_.VARIABLE="Variable",_.INT="IntValue",_.FLOAT="FloatValue",_.STRING="StringValue",_.BOOLEAN="BooleanValue",_.NULL="NullValue",_.ENUM="EnumValue",_.LIST="ListValue",_.OBJECT="ObjectValue",_.OBJECT_FIELD="ObjectField",_.DIRECTIVE="Directive",_.NAMED_TYPE="NamedType",_.LIST_TYPE="ListType",_.NON_NULL_TYPE="NonNullType",_.SCHEMA_DEFINITION="SchemaDefinition",_.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",_.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",_.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",_.FIELD_DEFINITION="FieldDefinition",_.INPUT_VALUE_DEFINITION="InputValueDefinition",_.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",_.UNION_TYPE_DEFINITION="UnionTypeDefinition",_.ENUM_TYPE_DEFINITION="EnumTypeDefinition",_.ENUM_VALUE_DEFINITION="EnumValueDefinition",_.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",_.DIRECTIVE_DEFINITION="DirectiveDefinition",_.SCHEMA_EXTENSION="SchemaExtension",_.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",_.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",_.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",_.UNION_TYPE_EXTENSION="UnionTypeExtension",_.ENUM_TYPE_EXTENSION="EnumTypeExtension",_.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"},2465:(Xt,tt,y)=>{y.d(tt,{S:()=>Pe});var u=y(2032);const S=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ee(ue){return ce[ue.charCodeAt(0)]}const ce=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var me=y(1335);function Pe(ue){return(0,me.Vn)(ue,_e)}const _e={Name:{leave:ue=>ue.value},Variable:{leave:ue=>"$"+ue.name},Document:{leave:ue=>$(ue.definitions,"\n\n")},OperationDefinition:{leave(ue){const $e=oe("(",$(ue.variableDefinitions,", "),")"),ke=$([ue.operation,$([ue.name,$e]),$(ue.directives," ")]," ");return("query"===ke?"":ke+" ")+ue.selectionSet}},VariableDefinition:{leave:({variable:ue,type:$e,defaultValue:ke,directives:Qe})=>ue+": "+$e+oe(" = ",ke)+oe(" ",$(Qe," "))},SelectionSet:{leave:({selections:ue})=>ie(ue)},Field:{leave({alias:ue,name:$e,arguments:ke,directives:Qe,selectionSet:Be}){const xt=oe("",ue,": ")+$e;let qe=xt+oe("(",$(ke,", "),")");return qe.length>80&&(qe=xt+oe("(\n",Fe($(ke,"\n")),"\n)")),$([qe,$(Qe," "),Be]," ")}},Argument:{leave:({name:ue,value:$e})=>ue+": "+$e},FragmentSpread:{leave:({name:ue,directives:$e})=>"..."+ue+oe(" ",$($e," "))},InlineFragment:{leave:({typeCondition:ue,directives:$e,selectionSet:ke})=>$(["...",oe("on ",ue),$($e," "),ke]," ")},FragmentDefinition:{leave:({name:ue,typeCondition:$e,variableDefinitions:ke,directives:Qe,selectionSet:Be})=>`fragment ${ue}${oe("(",$(ke,", "),")")} on ${$e} ${oe("",$(Qe," ")," ")}`+Be},IntValue:{leave:({value:ue})=>ue},FloatValue:{leave:({value:ue})=>ue},StringValue:{leave:({value:ue,block:$e})=>$e?(0,u.LZ)(ue):function _(ue){return`"${ue.replace(S,ee)}"`}(ue)},BooleanValue:{leave:({value:ue})=>ue?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:ue})=>ue},ListValue:{leave:({values:ue})=>"["+$(ue,", ")+"]"},ObjectValue:{leave:({fields:ue})=>"{"+$(ue,", ")+"}"},ObjectField:{leave:({name:ue,value:$e})=>ue+": "+$e},Directive:{leave:({name:ue,arguments:$e})=>"@"+ue+oe("(",$($e,", "),")")},NamedType:{leave:({name:ue})=>ue},ListType:{leave:({type:ue})=>"["+ue+"]"},NonNullType:{leave:({type:ue})=>ue+"!"},SchemaDefinition:{leave:({description:ue,directives:$e,operationTypes:ke})=>oe("",ue,"\n")+$(["schema",$($e," "),ie(ke)]," ")},OperationTypeDefinition:{leave:({operation:ue,type:$e})=>ue+": "+$e},ScalarTypeDefinition:{leave:({description:ue,name:$e,directives:ke})=>oe("",ue,"\n")+$(["scalar",$e,$(ke," ")]," ")},ObjectTypeDefinition:{leave:({description:ue,name:$e,interfaces:ke,directives:Qe,fields:Be})=>oe("",ue,"\n")+$(["type",$e,oe("implements ",$(ke," & ")),$(Qe," "),ie(Be)]," ")},FieldDefinition:{leave:({description:ue,name:$e,arguments:ke,type:Qe,directives:Be})=>oe("",ue,"\n")+$e+(Ie(ke)?oe("(\n",Fe($(ke,"\n")),"\n)"):oe("(",$(ke,", "),")"))+": "+Qe+oe(" ",$(Be," "))},InputValueDefinition:{leave:({description:ue,name:$e,type:ke,defaultValue:Qe,directives:Be})=>oe("",ue,"\n")+$([$e+": "+ke,oe("= ",Qe),$(Be," ")]," ")},InterfaceTypeDefinition:{leave:({description:ue,name:$e,interfaces:ke,directives:Qe,fields:Be})=>oe("",ue,"\n")+$(["interface",$e,oe("implements ",$(ke," & ")),$(Qe," "),ie(Be)]," ")},UnionTypeDefinition:{leave:({description:ue,name:$e,directives:ke,types:Qe})=>oe("",ue,"\n")+$(["union",$e,$(ke," "),oe("= ",$(Qe," | "))]," ")},EnumTypeDefinition:{leave:({description:ue,name:$e,directives:ke,values:Qe})=>oe("",ue,"\n")+$(["enum",$e,$(ke," "),ie(Qe)]," ")},EnumValueDefinition:{leave:({description:ue,name:$e,directives:ke})=>oe("",ue,"\n")+$([$e,$(ke," ")]," ")},InputObjectTypeDefinition:{leave:({description:ue,name:$e,directives:ke,fields:Qe})=>oe("",ue,"\n")+$(["input",$e,$(ke," "),ie(Qe)]," ")},DirectiveDefinition:{leave:({description:ue,name:$e,arguments:ke,repeatable:Qe,locations:Be})=>oe("",ue,"\n")+"directive @"+$e+(Ie(ke)?oe("(\n",Fe($(ke,"\n")),"\n)"):oe("(",$(ke,", "),")"))+(Qe?" repeatable":"")+" on "+$(Be," | ")},SchemaExtension:{leave:({directives:ue,operationTypes:$e})=>$(["extend schema",$(ue," "),ie($e)]," ")},ScalarTypeExtension:{leave:({name:ue,directives:$e})=>$(["extend scalar",ue,$($e," ")]," ")},ObjectTypeExtension:{leave:({name:ue,interfaces:$e,directives:ke,fields:Qe})=>$(["extend type",ue,oe("implements ",$($e," & ")),$(ke," "),ie(Qe)]," ")},InterfaceTypeExtension:{leave:({name:ue,interfaces:$e,directives:ke,fields:Qe})=>$(["extend interface",ue,oe("implements ",$($e," & ")),$(ke," "),ie(Qe)]," ")},UnionTypeExtension:{leave:({name:ue,directives:$e,types:ke})=>$(["extend union",ue,$($e," "),oe("= ",$(ke," | "))]," ")},EnumTypeExtension:{leave:({name:ue,directives:$e,values:ke})=>$(["extend enum",ue,$($e," "),ie(ke)]," ")},InputObjectTypeExtension:{leave:({name:ue,directives:$e,fields:ke})=>$(["extend input",ue,$($e," "),ie(ke)]," ")}};function $(ue,$e=""){var ke;return null!==(ke=null==ue?void 0:ue.filter(Qe=>Qe).join($e))&&void 0!==ke?ke:""}function ie(ue){return oe("{\n",Fe($(ue,"\n")),"\n}")}function oe(ue,$e,ke=""){return null!=$e&&""!==$e?ue+$e+ke:""}function Fe(ue){return oe("  ",ue.replace(/\n/g,"\n  "))}function Ie(ue){var $e;return null!==($e=null==ue?void 0:ue.some(ke=>ke.includes("\n")))&&void 0!==$e&&$e}},9826:(Xt,tt,y)=>{y.d(tt,{H:()=>ee,T:()=>ce});var u=y(4047),_=y(744);class ee{constructor(Pe,ve="GraphQL request",_e={line:1,column:1}){"string"==typeof Pe||(0,u.a)(!1,`Body must be a string. Received: ${(0,_.X)(Pe)}.`),this.body=Pe,this.name=ve,this.locationOffset=_e,this.locationOffset.line>0||(0,u.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,u.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function ce(me){return me instanceof ee}},1335:(Xt,tt,y)=>{y.d(tt,{$_:()=>ce,Vn:()=>me});var u=y(4047),_=y(744),S=y(6298),ee=y(2289);const ce=Object.freeze({});function me($,ie,oe=S.h8){const Fe=new Map;for(const re of Object.values(ee.h))Fe.set(re,ve(ie,re));let Ie,xt,qe,ue=Array.isArray($),$e=[$],ke=-1,Qe=[],Be=$;const Te=[],Ue=[];do{ke++;const re=ke===$e.length,Ce=re&&0!==Qe.length;if(re){if(xt=0===Ue.length?void 0:Te[Te.length-1],Be=qe,qe=Ue.pop(),Ce)if(ue){Be=Be.slice();let Je=0;for(const[ut,ot]of Qe){const Kt=ut-Je;null===ot?(Be.splice(Kt,1),Je++):Be[Kt]=ot}}else{Be=Object.defineProperties({},Object.getOwnPropertyDescriptors(Be));for(const[Je,ut]of Qe)Be[Je]=ut}ke=Ie.index,$e=Ie.keys,Qe=Ie.edits,ue=Ie.inArray,Ie=Ie.prev}else if(qe){if(xt=ue?ke:$e[ke],Be=qe[xt],null==Be)continue;Te.push(xt)}let He;if(!Array.isArray(Be)){var rt,ze;(0,S.UG)(Be)||(0,u.a)(!1,`Invalid AST Node: ${(0,_.X)(Be)}.`);const Je=re?null===(rt=Fe.get(Be.kind))||void 0===rt?void 0:rt.leave:null===(ze=Fe.get(Be.kind))||void 0===ze?void 0:ze.enter;if(He=null==Je?void 0:Je.call(ie,Be,xt,qe,Te,Ue),He===ce)break;if(!1===He){if(!re){Te.pop();continue}}else if(void 0!==He&&(Qe.push([xt,He]),!re)){if(!(0,S.UG)(He)){Te.pop();continue}Be=He}}var J;void 0===He&&Ce&&Qe.push([xt,Be]),re?Te.pop():(Ie={inArray:ue,index:ke,keys:$e,edits:Qe,prev:Ie},ue=Array.isArray(Be),$e=ue?Be:null!==(J=oe[Be.kind])&&void 0!==J?J:[],ke=-1,Qe=[],qe&&Ue.push(qe),qe=Be)}while(void 0!==Ie);return 0!==Qe.length?Qe[Qe.length-1][1]:$}function ve($,ie){const oe=$[ie];return"object"==typeof oe?oe:"function"==typeof oe?{enter:oe,leave:void 0}:{enter:$.enter,leave:$.leave}}},8766:(Xt,tt,y)=>{y.d(tt,{Lj:()=>qe,X3:()=>xt});var u=y(9671);let S,ee;const Pe=new WeakMap,ve=new WeakMap,_e=new WeakMap,$=new WeakMap,ie=new WeakMap;let Ie={get(J,re,Ce){if(J instanceof IDBTransaction){if("done"===re)return ve.get(J);if("objectStoreNames"===re)return J.objectStoreNames||_e.get(J);if("store"===re)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return Qe(J[re])},set:(J,re,Ce)=>(J[re]=Ce,!0),has:(J,re)=>J instanceof IDBTransaction&&("done"===re||"store"===re)||re in J};function ke(J){return"function"==typeof J?function $e(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...re){return J.apply(Be(this),re),Qe(Pe.get(this))}:function(...re){return Qe(J.apply(Be(this),re))}:function(re,...Ce){const He=J.call(Be(this),re,...Ce);return _e.set(He,re.sort?re.sort():[re]),Qe(He)}}(J):(J instanceof IDBTransaction&&function Fe(J){if(ve.has(J))return;const re=new Promise((Ce,He)=>{const Je=()=>{J.removeEventListener("complete",ut),J.removeEventListener("error",ot),J.removeEventListener("abort",ot)},ut=()=>{Ce(),Je()},ot=()=>{He(J.error||new DOMException("AbortError","AbortError")),Je()};J.addEventListener("complete",ut),J.addEventListener("error",ot),J.addEventListener("abort",ot)});ve.set(J,re)}(J),((J,re)=>re.some(Ce=>J instanceof Ce))(J,function ce(){return S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,Ie):J)}function Qe(J){if(J instanceof IDBRequest)return function oe(J){const re=new Promise((Ce,He)=>{const Je=()=>{J.removeEventListener("success",ut),J.removeEventListener("error",ot)},ut=()=>{Ce(Qe(J.result)),Je()},ot=()=>{He(J.error),Je()};J.addEventListener("success",ut),J.addEventListener("error",ot)});return re.then(Ce=>{Ce instanceof IDBCursor&&Pe.set(Ce,J)}).catch(()=>{}),ie.set(re,J),re}(J);if($.has(J))return $.get(J);const re=ke(J);return re!==J&&($.set(J,re),ie.set(re,J)),re}const Be=J=>ie.get(J);function xt(J,re,{blocked:Ce,upgrade:He,blocking:Je,terminated:ut}={}){const ot=indexedDB.open(J,re),Kt=Qe(ot);return He&&ot.addEventListener("upgradeneeded",rn=>{He(Qe(ot.result),rn.oldVersion,rn.newVersion,Qe(ot.transaction))}),Ce&&ot.addEventListener("blocked",()=>Ce()),Kt.then(rn=>{ut&&rn.addEventListener("close",()=>ut()),Je&&rn.addEventListener("versionchange",()=>Je())}).catch(()=>{}),Kt}function qe(J,{blocked:re}={}){const Ce=indexedDB.deleteDatabase(J);return re&&Ce.addEventListener("blocked",()=>re()),Qe(Ce).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],rt=new Map;function ze(J,re){if(!(J instanceof IDBDatabase)||re in J||"string"!=typeof re)return;if(rt.get(re))return rt.get(re);const Ce=re.replace(/FromIndex$/,""),He=re!==Ce,Je=Ue.includes(Ce);if(!(Ce in(He?IDBIndex:IDBObjectStore).prototype)||!Je&&!Te.includes(Ce))return;const ut=function(){var ot=(0,u.Z)(function*(Kt,...rn){const En=this.transaction(Kt,Je?"readwrite":"readonly");let ln=En.store;return He&&(ln=ln.index(rn.shift())),(yield Promise.all([ln[Ce](...rn),Je&&En.done]))[0]});return function(rn){return ot.apply(this,arguments)}}();return rt.set(re,ut),ut}!function ue(J){Ie=J(Ie)}(J=>rb(nb({},J),{get:(re,Ce,He)=>ze(re,Ce)||J.get(re,Ce,He),has:(re,Ce)=>!!ze(re,Ce)||J.has(re,Ce)}))},4302:(Xt,tt,y)=>{function S(ze,J){(null==J||J>ze.length)&&(J=ze.length);for(var re=0,Ce=new Array(J);re<J;re++)Ce[re]=ze[re];return Ce}function ee(ze,J){for(var re=0;re<J.length;re++){var Ce=J[re];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ze,Ce.key,Ce)}}function ce(ze,J,re){return J&&ee(ze.prototype,J),re&&ee(ze,re),ze}y.d(tt,{y:()=>rt});var me=function(){return"function"==typeof Symbol},Pe=function(ze){return me()&&Boolean(Symbol[ze])},ve=function(ze){return Pe(ze)?Symbol[ze]:"@@"+ze};me()&&!Pe("observable")&&(Symbol.observable=Symbol("observable"));var _e=ve("iterator"),$=ve("observable"),ie=ve("species");function oe(ze,J){var re=ze[J];if(null!=re){if("function"!=typeof re)throw new TypeError(re+" is not a function");return re}}function Fe(ze){var J=ze.constructor;return void 0!==J&&null===(J=J[ie])&&(J=void 0),void 0!==J?J:rt}function ue(ze){ue.log?ue.log(ze):setTimeout(function(){throw ze})}function $e(ze){Promise.resolve().then(function(){try{ze()}catch(J){ue(J)}})}function ke(ze){var J=ze._cleanup;if(void 0!==J&&(ze._cleanup=void 0,J))try{if("function"==typeof J)J();else{var re=oe(J,"unsubscribe");re&&re.call(J)}}catch(Ce){ue(Ce)}}function Qe(ze){ze._observer=void 0,ze._queue=void 0,ze._state="closed"}function xt(ze,J,re){ze._state="running";var Ce=ze._observer;try{var He=oe(Ce,J);switch(J){case"next":He&&He.call(Ce,re);break;case"error":if(Qe(ze),!He)throw re;He.call(Ce,re);break;case"complete":Qe(ze),He&&He.call(Ce)}}catch(Je){ue(Je)}"closed"===ze._state?ke(ze):"running"===ze._state&&(ze._state="ready")}function qe(ze,J,re){if("closed"!==ze._state){if("buffering"===ze._state)return void ze._queue.push({type:J,value:re});if("ready"!==ze._state)return ze._state="buffering",ze._queue=[{type:J,value:re}],void $e(function(){return function Be(ze){var J=ze._queue;if(J){ze._queue=void 0,ze._state="ready";for(var re=0;re<J.length&&(xt(ze,J[re].type,J[re].value),"closed"!==ze._state);++re);}}(ze)});xt(ze,J,re)}}var Te=function(){function ze(re,Ce){this._cleanup=void 0,this._observer=re,this._queue=void 0,this._state="initializing";var He=new Ue(this);try{this._cleanup=Ce.call(void 0,He)}catch(Je){He.error(Je)}"initializing"===this._state&&(this._state="ready")}return ze.prototype.unsubscribe=function(){"closed"!==this._state&&(Qe(this),ke(this))},ce(ze,[{key:"closed",get:function(){return"closed"===this._state}}]),ze}(),Ue=function(){function ze(re){this._subscription=re}var J=ze.prototype;return J.next=function(Ce){qe(this._subscription,"next",Ce)},J.error=function(Ce){qe(this._subscription,"error",Ce)},J.complete=function(){qe(this._subscription,"complete")},ce(ze,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),ze}(),rt=function(){function ze(re){if(!(this instanceof ze))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof re)throw new TypeError("Observable initializer must be a function");this._subscriber=re}var J=ze.prototype;return J.subscribe=function(Ce){return("object"!=typeof Ce||null===Ce)&&(Ce={next:Ce,error:arguments[1],complete:arguments[2]}),new Te(Ce,this._subscriber)},J.forEach=function(Ce){var He=this;return new Promise(function(Je,ut){if("function"==typeof Ce)var Kt=He.subscribe({next:function(rn){try{Ce(rn,ot)}catch(En){ut(En),Kt.unsubscribe()}},error:ut,complete:Je});else ut(new TypeError(Ce+" is not a function"));function ot(){Kt.unsubscribe(),Je()}})},J.map=function(Ce){var He=this;if("function"!=typeof Ce)throw new TypeError(Ce+" is not a function");return new(Fe(this))(function(ut){return He.subscribe({next:function(ot){try{ot=Ce(ot)}catch(Kt){return ut.error(Kt)}ut.next(ot)},error:function(ot){ut.error(ot)},complete:function(){ut.complete()}})})},J.filter=function(Ce){var He=this;if("function"!=typeof Ce)throw new TypeError(Ce+" is not a function");return new(Fe(this))(function(ut){return He.subscribe({next:function(ot){try{if(!Ce(ot))return}catch(Kt){return ut.error(Kt)}ut.next(ot)},error:function(ot){ut.error(ot)},complete:function(){ut.complete()}})})},J.reduce=function(Ce){var He=this;if("function"!=typeof Ce)throw new TypeError(Ce+" is not a function");var Je=Fe(this),ut=arguments.length>1,ot=!1,Kt=arguments[1],rn=Kt;return new Je(function(En){return He.subscribe({next:function(ln){var mt=!ot;if(ot=!0,!mt||ut)try{rn=Ce(rn,ln)}catch(qt){return En.error(qt)}else rn=ln},error:function(ln){En.error(ln)},complete:function(){if(!ot&&!ut)return En.error(new TypeError("Cannot reduce an empty sequence"));En.next(rn),En.complete()}})})},J.concat=function(){for(var Ce=this,He=arguments.length,Je=new Array(He),ut=0;ut<He;ut++)Je[ut]=arguments[ut];var ot=Fe(this);return new ot(function(Kt){var rn,En=0;return function ln(mt){rn=mt.subscribe({next:function(qt){Kt.next(qt)},error:function(qt){Kt.error(qt)},complete:function(){En===Je.length?(rn=void 0,Kt.complete()):ln(ot.from(Je[En++]))}})}(Ce),function(){rn&&(rn.unsubscribe(),rn=void 0)}})},J.flatMap=function(Ce){var He=this;if("function"!=typeof Ce)throw new TypeError(Ce+" is not a function");var Je=Fe(this);return new Je(function(ut){var ot=[],Kt=He.subscribe({next:function(En){if(Ce)try{En=Ce(En)}catch(mt){return ut.error(mt)}var ln=Je.from(En).subscribe({next:function(mt){ut.next(mt)},error:function(mt){ut.error(mt)},complete:function(){var mt=ot.indexOf(ln);mt>=0&&ot.splice(mt,1),rn()}});ot.push(ln)},error:function(En){ut.error(En)},complete:function(){rn()}});function rn(){Kt.closed&&0===ot.length&&ut.complete()}return function(){ot.forEach(function(En){return En.unsubscribe()}),Kt.unsubscribe()}})},J[$]=function(){return this},ze.from=function(Ce){var He="function"==typeof this?this:ze;if(null==Ce)throw new TypeError(Ce+" is not an object");var Je=oe(Ce,$);if(Je){var ut=Je.call(Ce);if(Object(ut)!==ut)throw new TypeError(ut+" is not an object");return function Ie(ze){return ze instanceof rt}(ut)&&ut.constructor===He?ut:new He(function(ot){return ut.subscribe(ot)})}if(Pe("iterator")&&(Je=oe(Ce,_e)))return new He(function(ot){$e(function(){if(!ot.closed){for(var rn,Kt=function u(ze,J){var re="undefined"!=typeof Symbol&&ze[Symbol.iterator]||ze["@@iterator"];if(re)return(re=re.call(ze)).next.bind(re);if(Array.isArray(ze)||(re=function _(ze,J){if(ze){if("string"==typeof ze)return S(ze,J);var re=Object.prototype.toString.call(ze).slice(8,-1);if("Object"===re&&ze.constructor&&(re=ze.constructor.name),"Map"===re||"Set"===re)return Array.from(ze);if("Arguments"===re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return S(ze,J)}}(ze))||J&&ze&&"number"==typeof ze.length){re&&(ze=re);var Ce=0;return function(){return Ce>=ze.length?{done:!0}:{done:!1,value:ze[Ce++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Je.call(Ce));!(rn=Kt()).done;)if(ot.next(rn.value),ot.closed)return;ot.complete()}})});if(Array.isArray(Ce))return new He(function(ot){$e(function(){if(!ot.closed){for(var Kt=0;Kt<Ce.length;++Kt)if(ot.next(Ce[Kt]),ot.closed)return;ot.complete()}})});throw new TypeError(Ce+" is not observable")},ze.of=function(){for(var Ce=arguments.length,He=new Array(Ce),Je=0;Je<Ce;Je++)He[Je]=arguments[Je];var ut="function"==typeof this?this:ze;return new ut(function(ot){$e(function(){if(!ot.closed){for(var Kt=0;Kt<He.length;++Kt)if(ot.next(He[Kt]),ot.closed)return;ot.complete()}})})},ce(ze,null,[{key:ie,get:function(){return this}}]),ze}();me()&&Object.defineProperty(rt,Symbol("extensions"),{value:{symbol:$,hostReportError:ue},configurable:!0})}},Xt=>{Xt(Xt.s=1246)}]);