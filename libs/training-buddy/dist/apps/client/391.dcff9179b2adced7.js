"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[391],{391:(P,A,i)=>{i.r(A),i.d(A,{ClientSignupFeatureModule:()=>J});var v=i(9808),C=i(5357),m=i(3075),c=i(9444),e=i(5e3),r=i(1271),a=i(2160),u=i(3954),f=i(2786),p=i(9224),d=i(7322),_=i(7531),x=i(7423),l=i(5245),Z=i(6856),w=i(4107),T=i(508),y=i(623);function U(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userNameSurname.errors.error_msg," ")}}function N(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userEmail.errors.error_msg," ")}}function k(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userPassword.errors.error_msg," ")}}function O(n,g){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Date of Birth is required "),e.qZA())}function I(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userCellNumber.errors.error_msg," ")}}function F(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userGender.errors.error_msg," ")}}function q(n,g){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.signupFrm.controls.userLocation.errors.error_msg," ")}}const L=function(n){return{"background-image":n}},D=[{path:"",component:(()=>{class n{constructor(t,o,s,h,b){this.snack=t,this.frm=o,this.apollo=s,this.router=h,this.cookieService=b,this.img="https://images.unsplash.com/photo-1607962837359-5e7e89f86776?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80",this.frmBuilder=o,this.hide=!0,this.latitude=0,this.longitude=0,this.vicinity=""}ngOnInit(){this.signupFrm=this.frm.group({userNameSurname:["",this.validateNameSurname],userEmail:["",this.validateEmail],userPassword:["",this.validatePassword],userDOB:["",m.kI.required],userCellNumber:["",this.validateCellNumber],userGender:["",this.validateGender],userLocation:["",this.validateLocation]})}signup(){for(const S in this.signupFrm.controls)if(this.signupFrm.controls[S].invalid)return;const o=this.signupFrm.controls.userEmail.value;this.querySignup(this.signupFrm.controls.userNameSurname.value,o,this.signupFrm.controls.userPassword.value,this.signupFrm.controls.userDOB.value,this.signupFrm.controls.userCellNumber.value,this.signupFrm.controls.userGender.value,this.vicinity,this.longitude,this.latitude).subscribe({next:S=>{this.cookieService.set("id",S.data.signup.message),this.cookieService.set("email",o),this.router.navigate(["/configureprofile"])},error:()=>{this.snack.open("Signup failed, please try again.","X",{duration:2e3})}})}querySignup(t,o,s,h,b,M,S,G,R){const $=t.split(" ")[0],j=t.split(" ")[1];return this.apollo.mutate({mutation:c.Ps`
            mutation{
              signup(userDto: {
                userName: "${$}",
                userSurname: "${j}",
                location: "${S}",
                gender: "${M}",
                email: "${o}",
                cellNumber: "${b}",
                password: "${s}",
                dob: "${h}"
                longitude: ${G}
                latitude: ${R}
                stravaToken: "${"myToken"}"
              }){
                message
              }
            }
          `})}onAutocompleteSelected(t){this.vicinity=t.vicinity}onLocationSelected(t){null!=t&&(this.latitude=t.latitude,this.longitude=t.longitude)}validateNameSurname(t){return/(([A-Z]|[a-z]))+ ([A-Z]|([a-z]))+/.test(t.value)?null:{error_msg:"Name and surname is required"}}validateEmail(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.value)?null:{error_msg:"Valid email is required"}}validatePassword(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#$@!%&*?])[A-Z a-z\d#$@!%&*?]{8,}$/.test(t.value)?null:{error_msg:"Min length 8, 1x Uppercase, 1x Lowercase, 1x Special Char"}}validateCellNumber(t){const s=t.value.replace(/ /g,"");return/^[0-9]{10,10}$/.test(s)?null:{error_msg:"Valid phone number is required"}}validateGender(t){return/[M]|[F]/.test(t.value)?null:{error_msg:"Valid choice required"}}validateLocation(t){return 0==t.value.length?{error_msg:"Location is required"}:null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.ux),e.Y36(m.qu),e.Y36(c._M),e.Y36(C.F0),e.Y36(a.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["training-buddy-signup"]],decls:95,vars:17,consts:[["id","back",1,"background-filter",3,"ngStyle"],["cols","1","rowHeight","fit"],[1,"flex","row"],["id","visual"],["id","imagecard"],["id","contentcard flex-center-content"],["height","85","id","logodesktop","dark","true"],["id","strava"],["id","devices"],["id","description"],["id","form"],[3,"formGroup"],[1,"flex-center-content"],["height","60","id","logomobile","dark","true"],[1,"text-center"],["appearance","outline"],["formControlName","userNameSurname","id","userNameSurname","matInput","","type","text","placeholder","John Smith","name","userNameSurname"],[4,"ngIf"],["formControlName","userEmail","id","userEmail","matInput","","type","email","placeholder","user@domain.com","name","userEmail"],["formControlName","userPassword","id","userPassword","matInput","","name","userPassword",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"fullhint"],["formControlName","userDOB","id","userDOB","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","userCellNumber","id","userCellNumber","matInput","","type","tel","placeholder","Phone Number","name","userCellNumber"],["formControlName","userGender","id","userGender","name","userGender"],["value","M"],["value","F"],["formControlName","userLocation","matInput","","matGoogleMapsAutocomplete","",3,"onAutocompleteSelected","onLocationSelected"],[1,"row","pBy"],[1,"b"],[1,"r"],[1,"y"],[1,"g"],[1,"submitButton","mt-3"],["id","signup","mat-raised-button","","color","primary",1,"text-center","ml-1",3,"click"],[1,"logIn"],["routerLink","/login",1,"logInLink"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-grid-list",1)(2,"mat-grid-tile")(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div"),e._UZ(8,"training-buddy-logo",6),e.qZA()(),e.TgZ(9,"div",7),e._UZ(10,"div",8),e.qZA(),e.TgZ(11,"div",9),e._uU(12," Lorem ipsum, dolor sit amet consectetur adipisicing elit. In, harum minus libero nisi vitae blanditiis omnis fugit reiciendis exercitationem quidem. "),e.qZA()()(),e.TgZ(13,"mat-card")(14,"div",10)(15,"mat-card-content")(16,"form",11)(17,"div",12),e._UZ(18,"training-buddy-logo",13),e.qZA(),e.TgZ(19,"h1",14),e._uU(20,"Sign Up"),e.qZA(),e.TgZ(21,"mat-form-field",15)(22,"mat-label"),e._uU(23,"Name and Surname"),e.qZA(),e._UZ(24,"input",16),e.YNc(25,U,2,1,"mat-error",17),e.qZA(),e.TgZ(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"Email"),e.qZA(),e._UZ(29,"input",18),e.YNc(30,N,2,1,"mat-error",17),e.qZA(),e.TgZ(31,"mat-form-field",15)(32,"mat-label"),e._uU(33,"Password"),e.qZA(),e._UZ(34,"input",19),e.TgZ(35,"button",20),e.NdJ("click",function(){return o.hide=!o.hide}),e.TgZ(36,"mat-icon"),e._uU(37),e.qZA()(),e.YNc(38,k,2,1,"mat-error",17),e.TgZ(39,"mat-hint",21)(40,"div"),e._uU(41," Min length 8, 1x Uppercase, 1x Lowercase, 1x Special Char "),e.qZA()()(),e.TgZ(42,"mat-form-field",15)(43,"mat-label"),e._uU(44,"Date of Birth"),e.qZA(),e._UZ(45,"input",22)(46,"mat-datepicker-toggle",23)(47,"mat-datepicker",null,24),e.YNc(49,O,2,0,"mat-error",17),e.qZA(),e.TgZ(50,"mat-form-field",15)(51,"mat-label"),e._uU(52,"Phone Number"),e.qZA(),e._UZ(53,"input",25),e.YNc(54,I,2,1,"mat-error",17),e.qZA(),e.TgZ(55,"mat-form-field",15)(56,"mat-label"),e._uU(57,"Gender"),e.qZA(),e.TgZ(58,"mat-select",26)(59,"mat-option",27),e._uU(60,"Male"),e.qZA(),e.TgZ(61,"mat-option",28),e._uU(62,"Female"),e.qZA()(),e.YNc(63,F,2,1,"mat-error",17),e.qZA(),e.TgZ(64,"mat-form-field",15)(65,"mat-label"),e._uU(66,"Location"),e.qZA(),e.TgZ(67,"input",29),e.NdJ("onAutocompleteSelected",function(h){return o.onAutocompleteSelected(h)})("onLocationSelected",function(h){return o.onLocationSelected(h)}),e.qZA(),e.YNc(68,q,2,1,"mat-error",17),e.TgZ(69,"mat-hint",21)(70,"div")(71,"div",30)(72,"p"),e._uU(73,"powered by"),e.qZA(),e._uU(74,"\xa0"),e.TgZ(75,"p",31),e._uU(76,"G"),e.qZA(),e.TgZ(77,"p",32),e._uU(78,"o"),e.qZA(),e.TgZ(79,"p",33),e._uU(80,"o"),e.qZA(),e.TgZ(81,"p",31),e._uU(82,"g"),e.qZA(),e.TgZ(83,"p",34),e._uU(84,"l"),e.qZA(),e.TgZ(85,"p",32),e._uU(86,"e"),e.qZA()()()()(),e.TgZ(87,"div",35)(88,"button",36),e.NdJ("click",function(){return o.signup()}),e._uU(89,"Sign Up"),e.qZA(),e.TgZ(90,"div",37)(91,"p"),e._uU(92,"Have An Account?"),e.qZA(),e.TgZ(93,"p",38),e._uU(94,"Log In"),e.qZA()()()()()()()()()()()),2&t){const s=e.MAs(48);e.Q6J("ngStyle",e.VKq(15,L,"url("+o.img+")")),e.xp6(16),e.Q6J("formGroup",o.signupFrm),e.xp6(9),e.Q6J("ngIf",o.signupFrm.controls.userNameSurname.errors),e.xp6(5),e.Q6J("ngIf",o.signupFrm.controls.userEmail.errors),e.xp6(4),e.Q6J("type",o.hide?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",o.hide),e.xp6(2),e.Oqu(o.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",o.signupFrm.controls.userPassword.errors),e.xp6(7),e.Q6J("matDatepicker",s),e.xp6(1),e.Q6J("for",s),e.xp6(3),e.Q6J("ngIf",o.signupFrm.controls.userDOB.errors),e.xp6(5),e.Q6J("ngIf",o.signupFrm.controls.userCellNumber.errors),e.xp6(9),e.Q6J("ngIf",o.signupFrm.controls.userGender.errors),e.xp6(5),e.Q6J("ngIf",o.signupFrm.controls.userLocation.errors)}},directives:[v.PC,u.Il,u.DX,f.R,p.a8,p.dn,m._Y,m.JL,m.sg,d.KE,d.hX,m.Fj,_.Nt,m.JJ,m.u,v.O5,d.TO,x.lW,d.R9,l.Hw,d.bx,Z.hl,Z.nW,Z.Mq,w.gD,T.ey,y.QT,C.rH],styles:["mat-grid-list[_ngcontent-%COMP%]{height:100vw;max-height:90vh;min-height:800px;position:relative;top:4%}@media (max-width: 300px){mat-grid-list[_ngcontent-%COMP%]{background-color:transparent}}@media (max-width: 1035px){mat-grid-list[_ngcontent-%COMP%]{height:100vh}}.flex[_ngcontent-%COMP%]{display:flex}.row[_ngcontent-%COMP%]{flex-direction:row!important}mat-card[_ngcontent-%COMP%]{height:auto;box-shadow:none!important;border-radius:0 10px 10px 0}#imagecard[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:10px 0 0 10px;display:flex;flex-direction:column;justify-content:center}@media (max-width: 1150px){mat-card[_ngcontent-%COMP%]{box-shadow:none!important;border-radius:10px}#visual[_ngcontent-%COMP%]{display:none!important}#logomobile[_ngcontent-%COMP%]{display:block!important;margin-top:5%}}#logodesktop[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin:auto!important}#logomobile[_ngcontent-%COMP%]{display:none}.flex-center-content[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center}#contentcard[_ngcontent-%COMP%]{width:600px}#logodesktop[_ngcontent-%COMP%]{width:600px!important}#form[_ngcontent-%COMP%]{max-width:400px;width:80vw!important;border-radius:10px}#visual[_ngcontent-%COMP%]{max-width:600px;background-color:#fff;border-radius:10px 0 0 10px;max-height:703px}.text-center[_ngcontent-%COMP%]{text-align:center;margin-top:2%}.submitButton[_ngcontent-%COMP%]{text-align:center;width:100%}.forgotpassword[_ngcontent-%COMP%]{text-align:right;text-decoration:underline}mat-form-field[_ngcontent-%COMP%]{display:block}#signup[_ngcontent-%COMP%]{width:100%;background-color:#1b1a1b!important}.logIn[_ngcontent-%COMP%]{text-align:right;margin-top:1%;display:flex;flex-direction:row;justify-content:flex-end}.logInLink[_ngcontent-%COMP%]{text-decoration:underline;color:#4350af;margin-left:1%}.logInLink[_ngcontent-%COMP%]:hover{cursor:pointer}  .mat-form-field-wrapper{margin-bottom:-1.25em}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.b[_ngcontent-%COMP%]{color:#4285f4}.r[_ngcontent-%COMP%]{color:#ea4335}.y[_ngcontent-%COMP%]{color:#fbbc05}.g[_ngcontent-%COMP%]{color:#34a853}p[_ngcontent-%COMP%]{font-size:12px!important;margin-bottom:0!important}.fullhint[_ngcontent-%COMP%]{width:100%!important}#background[_ngcontent-%COMP%], #back[_ngcontent-%COMP%]{width:100vw!important;height:100%;object-fit:cover;background-size:cover;background-repeat:no-repeat}mat-error[_ngcontent-%COMP%]{text-align:right}mat-hint[_ngcontent-%COMP%]{text-align:right!important}#description[_ngcontent-%COMP%]{width:70%;opacity:.7;margin:0 auto;text-align:center;word-wrap:normal;font-size:medium;line-height:1.7;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}#rule[_ngcontent-%COMP%]{width:80%;margin-left:auto!important;margin-right:auto!important}#strava[_ngcontent-%COMP%]{width:100%;height:445px!important;display:flex;flex-direction:row;align-items:center;justify-content:center}#stravainfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#stravalogo[_ngcontent-%COMP%]{height:630px!important}#devices[_ngcontent-%COMP%]{background-image:url(deviceview.94e7486dcca7fe0d.png);object-fit:cover;background-repeat:no-repeat;width:550px!important;height:440px!important;transform:scale(.7)}"]}),n})()}];let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[C.Bz.forChild(D)],C.Bz]}),n})();var B=i(7918);let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[m.qu,c._M,a.N],imports:[[v.ez,E,B.W,y.Sr,m.UX,m.u5]]}),n})()},2160:(P,A,i)=>{i.d(A,{N:()=>m});var v=i(5e3),C=i(9808);let m=(()=>{class c{constructor(r,a){this.document=r,this.platformId=a,this.documentIsAccessible=(0,C.NF)(this.platformId)}static getCookieRegExp(r){const a=r.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+a+"|;\\s*"+a+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(r){try{return decodeURIComponent(r)}catch(a){return r}}check(r){return!!this.documentIsAccessible&&(r=encodeURIComponent(r),c.getCookieRegExp(r).test(this.document.cookie))}get(r){if(this.documentIsAccessible&&this.check(r)){r=encodeURIComponent(r);const u=c.getCookieRegExp(r).exec(this.document.cookie);return u[1]?c.safeDecodeURIComponent(u[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const r={},a=this.document;return a.cookie&&""!==a.cookie&&a.cookie.split(";").forEach(u=>{const[f,p]=u.split("=");r[c.safeDecodeURIComponent(f.replace(/^ /,""))]=c.safeDecodeURIComponent(p)}),r}set(r,a,u,f,p,d,_){if(!this.documentIsAccessible)return;if("number"==typeof u||u instanceof Date||f||p||d||_)return void this.set(r,a,{expires:u,path:f,domain:p,secure:d,sameSite:_||"Lax"});let x=encodeURIComponent(r)+"="+encodeURIComponent(a)+";";const l=u||{};l.expires&&(x+="number"==typeof l.expires?"expires="+new Date((new Date).getTime()+1e3*l.expires*60*60*24).toUTCString()+";":"expires="+l.expires.toUTCString()+";"),l.path&&(x+="path="+l.path+";"),l.domain&&(x+="domain="+l.domain+";"),!1===l.secure&&"None"===l.sameSite&&(l.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${r} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),l.secure&&(x+="secure;"),l.sameSite||(l.sameSite="Lax"),x+="sameSite="+l.sameSite+";",this.document.cookie=x}delete(r,a,u,f,p="Lax"){if(!this.documentIsAccessible)return;const d=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(r,"",{expires:d,path:a,domain:u,secure:f,sameSite:p})}deleteAll(r,a,u,f="Lax"){if(!this.documentIsAccessible)return;const p=this.getAll();for(const d in p)p.hasOwnProperty(d)&&this.delete(d,r,a,u,f)}}return c.\u0275fac=function(r){return new(r||c)(v.LFG(C.K0),v.LFG(v.Lbi))},c.\u0275prov=v.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);