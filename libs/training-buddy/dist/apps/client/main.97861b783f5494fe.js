"use strict";var vD=Object.defineProperty,_D=Object.defineProperties,ED=Object.getOwnPropertyDescriptors,tb=Object.getOwnPropertySymbols,bD=Object.prototype.hasOwnProperty,wD=Object.prototype.propertyIsEnumerable,nb=(Zt,nt,m)=>nt in Zt?vD(Zt,nt,{enumerable:!0,configurable:!0,writable:!0,value:m}):Zt[nt]=m,rb=(Zt,nt)=>{for(var m in nt||(nt={}))bD.call(nt,m)&&nb(Zt,m,nt[m]);if(tb)for(var m of tb(nt))wD.call(nt,m)&&nb(Zt,m,nt[m]);return Zt},ib=(Zt,nt)=>_D(Zt,ED(nt));(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{3583:(Zt,nt,m)=>{m.d(nt,{su:()=>Vt,W7:()=>De}),m(655);var _=m(5e3);m(8306),m(576),m(3268),m(1135),m(8996),m(5963),m(6451),m(7579),m(4707),m(5577),m(4482),m(5032),m(5403),m(3900),m(4004),m(4782),m(8675),m(5684),m(1884),m(2722),m(9808);let De=(()=>{class pe{}return pe.\u0275fac=function(T){return new(T||pe)},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})();class An{getNativeWindow(){return window}}class mn{getNativeDocument(){return document}}const _t=[An,mn];var $t=(()=>{return(pe=$t||($t={}))[pe.HTTP=1]="HTTP",pe[pe.HTTPS=2]="HTTPS",pe[pe.AUTO=3]="AUTO",$t;var pe})();const zt=new _.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let ln=(()=>{class pe extends De{constructor(T=null,Z,at,et){super(),this.localeId=et,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=T||{},this._windowRef=Z,this._documentRef=at}load(){const T=this._windowRef.getNativeWindow();if(T.google&&T.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const Z=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(Z)return this._assignScriptLoadingPromise(Z),this._scriptLoadingPromise;const at=this._documentRef.getNativeDocument().createElement("script");return at.type="text/javascript",at.async=!0,at.defer=!0,at.id=this._SCRIPT_ID,at.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(at),this._documentRef.getNativeDocument().body.appendChild(at),this._scriptLoadingPromise}_assignScriptLoadingPromise(T){this._scriptLoadingPromise=new Promise((Z,at)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{Z()},T.onerror=et=>{at(et)}})}_getScriptSrc(T){let at;switch(this._config&&this._config.protocol||$t.HTTPS){case $t.AUTO:at="";break;case $t.HTTP:at="http:";break;case $t.HTTPS:at="https:"}const Ge={v:this._config.apiVersion||"quarterly",callback:T,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||("en-US"!==this.localeId?this.localeId:null)};return`${at}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(Ge).filter(vt=>null!=Ge[vt]).filter(vt=>!Array.isArray(Ge[vt])||Array.isArray(Ge[vt])&&Ge[vt].length>0).map(vt=>{const ht=Ge[vt];return Array.isArray(ht)?{key:vt,value:ht.join(",")}:{key:vt,value:Ge[vt]}}).map(vt=>`${vt.key}=${vt.value}`).join("&")}`}}return pe.\u0275fac=function(T){return new(T||pe)(_.LFG(zt,8),_.LFG(An),_.LFG(mn),_.LFG(_.soG))},pe.\u0275prov=_.Yz7({token:pe,factory:pe.\u0275fac}),pe})(),Vt=(()=>{class pe{static forRoot(T){return{ngModule:pe,providers:[..._t,{provide:De,useClass:ln},{provide:zt,useValue:T}]}}}return pe.\u0275fac=function(T){return new(T||pe)},pe.\u0275mod=_.oAB({type:pe}),pe.\u0275inj=_.cJS({}),pe})()},440:(Zt,nt,m)=>{m.d(nt,{nm:()=>Yi});var u=m(6351);m(5e3),m(5867);var Je=m(9671),xe=m(9681),je=m(4859),st=m(2090),Ke=m(1877);const ee=new Map,re={activated:!1,tokenObservers:[]},De={initialized:!1,enabled:!1};function He(Tt){return ee.get(Tt)||re}function Xe(Tt,Ct){ee.set(Tt,Ct)}function dt(){return De}class $t{constructor(Ct,kt,ae,K,W){if(this.operation=Ct,this.retryPolicy=kt,this.getWaitDuration=ae,this.lowerBound=K,this.upperBound=W,this.pending=null,this.nextErrorWaitInterval=K,K>W)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ct){var kt=this;return(0,Je.Z)(function*(){kt.stop();try{kt.pending=new st.BH,yield function zt(Tt){return new Promise(Ct=>{setTimeout(Ct,Tt)})}(kt.getNextRun(Ct)),kt.pending.resolve(),yield kt.pending.promise,kt.pending=new st.BH,yield kt.operation(),kt.pending.resolve(),yield kt.pending.promise,kt.process(!0).catch(()=>{})}catch(ae){kt.retryPolicy(ae)?kt.process(!1).catch(()=>{}):kt.stop()}})()}getNextRun(Ct){if(Ct)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const kt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),kt}}}const _n=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function St(Tt){if(!He(Tt).activated)throw _n.create("use-before-activation",{appName:Tt.name})}function wn(Tt,Ct){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,Je.Z)(function*({url:Tt,body:Ct},kt){var ae,K;const W={"Content-Type":"application/json"},oe=kt.getImmediate({optional:!0});if(oe){const vn=yield oe.getHeartbeatsHeader();vn&&(W["X-Firebase-Client"]=vn)}const We={method:"POST",body:JSON.stringify(Ct),headers:W};let it,mt;try{it=yield fetch(Tt,We)}catch(vn){throw _n.create("fetch-network-error",{originalErrorMessage:null===(ae=vn)||void 0===ae?void 0:ae.message})}if(200!==it.status)throw _n.create("fetch-status-error",{httpStatus:it.status});try{mt=yield it.json()}catch(vn){throw _n.create("fetch-parse-error",{originalErrorMessage:null===(K=vn)||void 0===K?void 0:K.message})}const rn=mt.ttl.match(/^([\d.]+)(s)$/);if(!rn||!rn[2]||isNaN(Number(rn[1])))throw _n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mt.ttl}`});const un=1e3*Number(rn[1]),jt=Date.now();return{token:mt.token,expireTimeMillis:jt+un,issuedAtTimeMillis:jt}})).apply(this,arguments)}function hr(Tt,Ct){const{projectId:kt,appId:ae,apiKey:K}=Tt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${kt}/apps/${ae}:exchangeDebugToken?key=${K}`,body:{debug_token:Ct}}}const pn="firebase-app-check-store";let Er=null;function vr(){return Er||(Er=new Promise((Tt,Ct)=>{var kt;try{const ae=indexedDB.open("firebase-app-check-database",1);ae.onsuccess=K=>{Tt(K.target.result)},ae.onerror=K=>{var W;Ct(_n.create("storage-open",{originalErrorMessage:null===(W=K.target.error)||void 0===W?void 0:W.message}))},ae.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(pn,{keyPath:"compositeKey"})}}catch(ae){Ct(_n.create("storage-open",{originalErrorMessage:null===(kt=ae)||void 0===kt?void 0:kt.message}))}}),Er)}function Nt(){return(Nt=(0,Je.Z)(function*(Tt,Ct){const ae=(yield vr()).transaction(pn,"readwrite"),W=ae.objectStore(pn).put({compositeKey:Tt,value:Ct});return new Promise((oe,We)=>{W.onsuccess=it=>{oe()},ae.onerror=it=>{var mt;We(_n.create("storage-set",{originalErrorMessage:null===(mt=it.target.error)||void 0===mt?void 0:mt.message}))}})})).apply(this,arguments)}const Ln=new Ke.Yd("@firebase/app-check");function rr(Tt,Ct){return(0,st.hl)()?function Ot(Tt,Ct){return function Ft(Tt,Ct){return Nt.apply(this,arguments)}(function On(Tt){return`${Tt.options.appId}-${Tt.name}`}(Tt),Ct)}(Tt,Ct).catch(kt=>{Ln.warn(`Failed to write token to IndexedDB. Error: ${kt}`)}):Promise.resolve()}function In(){return dt().enabled}function Zr(){return ct.apply(this,arguments)}function ct(){return(ct=(0,Je.Z)(function*(){const Tt=dt();if(Tt.enabled&&Tt.token)return Tt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const z={error:"UNKNOWN_ERROR"};function k(Tt){return st.US.encodeString(JSON.stringify(Tt),!1)}function B(Tt){return Te.apply(this,arguments)}function Te(){return(Te=(0,Je.Z)(function*(Tt,Ct=!1){const kt=Tt.app;St(kt);const ae=He(kt);let W,K=ae.token;if(!K){const it=yield ae.cachedTokenPromise;it&&Z(it)&&(K=it)}if(!Ct&&K&&Z(K))return{token:K.token};let We,oe=!1;if(In()){ae.exchangeTokenPromise||(ae.exchangeTokenPromise=wn(hr(kt,yield Zr()),Tt.heartbeatServiceProvider).then(mt=>(ae.exchangeTokenPromise=void 0,mt)),oe=!0);const it=yield ae.exchangeTokenPromise;return yield rr(kt,it),Xe(kt,Object.assign(Object.assign({},ae),{token:it})),{token:it.token}}try{ae.exchangeTokenPromise||(ae.exchangeTokenPromise=ae.provider.getToken().then(it=>(ae.exchangeTokenPromise=void 0,it)),oe=!0),K=yield ae.exchangeTokenPromise}catch(it){"appCheck/throttled"===it.code?Ln.warn(it.message):Ln.error(it),W=it}return K?(We={token:K.token},Xe(kt,Object.assign(Object.assign({},ae),{token:K})),yield rr(kt,K)):We=at(W),oe&&T(kt,We),We})).apply(this,arguments)}function Vt(Tt,Ct){const kt=He(Tt),ae=kt.tokenObservers.filter(K=>K.next!==Ct);0===ae.length&&kt.tokenRefresher&&kt.tokenRefresher.isRunning()&&kt.tokenRefresher.stop(),Xe(Tt,Object.assign(Object.assign({},kt),{tokenObservers:ae}))}function pe(Tt){const{app:Ct}=Tt,kt=He(Ct);let ae=kt.tokenRefresher;ae||(ae=function Rt(Tt){const{app:Ct}=Tt;return new $t((0,Je.Z)(function*(){let ae;if(ae=He(Ct).token?yield B(Tt,!0):yield B(Tt),ae.error)throw ae.error}),()=>!0,()=>{const kt=He(Ct);if(kt.token){let ae=kt.token.issuedAtTimeMillis+.5*(kt.token.expireTimeMillis-kt.token.issuedAtTimeMillis)+3e5;return ae=Math.min(ae,kt.token.expireTimeMillis-3e5),Math.max(0,ae-Date.now())}return 0},3e4,96e4)}(Tt),Xe(Ct,Object.assign(Object.assign({},kt),{tokenRefresher:ae}))),!ae.isRunning()&&kt.isTokenAutoRefreshEnabled&&ae.start()}function T(Tt,Ct){const kt=He(Tt).tokenObservers;for(const ae of kt)try{"EXTERNAL"===ae.type&&null!=Ct.error?ae.error(Ct.error):ae.next(Ct)}catch(K){}}function Z(Tt){return Tt.expireTimeMillis-Date.now()>0}function at(Tt){return{token:k(z),error:Tt}}class et{constructor(Ct,kt){this.app=Ct,this.heartbeatServiceProvider=kt}_delete(){const{tokenObservers:Ct}=He(this.app);for(const kt of Ct)Vt(this.app,kt.next);return Promise.resolve()}}const ls="app-check-internal";!function bi(){(0,xe._registerComponent)(new je.wA("app-check",Tt=>function Ge(Tt,Ct){return new et(Tt,Ct)}(Tt.getProvider("app").getImmediate(),Tt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Tt,Ct,kt)=>{Tt.getProvider(ls).initialize()})),(0,xe._registerComponent)(new je.wA(ls,Tt=>function rt(Tt){return{getToken:Ct=>B(Tt,Ct),addTokenListener:Ct=>function ft(Tt,Ct,kt,ae){const{app:K}=Tt,W=He(K),oe={next:kt,error:ae,type:Ct};if(Xe(K,Object.assign(Object.assign({},W),{tokenObservers:[...W.tokenObservers,oe]})),W.token&&Z(W.token)){const We=W.token;Promise.resolve().then(()=>{kt({token:We.token}),pe(Tt)}).catch(()=>{})}W.cachedTokenPromise.then(()=>pe(Tt))}(Tt,"INTERNAL",Ct),removeTokenListener:Ct=>Vt(Tt.app,Ct)}}(Tt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xe.registerVersion)("@firebase/app-check","0.5.12")}();class Yi{constructor(){return(0,u.vb)("app-check")}}"undefined"!=typeof window&&window},6271:(Zt,nt,m)=>{m.d(nt,{ST:()=>Mg,yb:()=>S_});var u=m(5e3),_=m(4986),x=m(8306),te=m(8996),he=m(9646),_e=m(6351),Re=m(4482),ve=m(5403);function be(){return(0,Re.e)((i,e)=>{let t,s=!1;i.subscribe((0,ve.x)(e,l=>{const h=t;t=l,s&&e.next([h,l]),s=!0}))})}var ee,H=m(8675),ie=m(4004),ue=m(5026),Pe=m(1884),Me=m(9300),de=m(2011),$e=m(9808),Ye=(m(1451),m(3942)),Ne=m(9671),It=m(9681),Je=m(4859),xe=m(1877),je=m(2090),st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ke={},re=re||{},De=st||self;function He(){}function Xe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function dt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Xt="closure_uid_"+(1e9*Math.random()>>>0),on=0;function An(i,e,t){return i.call.apply(i.bind,arguments)}function mn(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function _t(i,e,t){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?An:mn).apply(null,arguments)}function $t(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function zt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(s,l,h){for(var g=Array(arguments.length-2),O=2;O<arguments.length;O++)g[O-2]=arguments[O];return e.prototype[l].apply(s,g)}}function ln(){this.s=this.s,this.o=this.o}var xt={};ln.prototype.s=!1,ln.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function ut(i){return Object.prototype.hasOwnProperty.call(i,Xt)&&i[Xt]||(i[Xt]=++on)}(this);delete xt[i]}},ln.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const St=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Gt=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const s=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<s;h++)h in l&&e.call(t,l[h],h,i)};function wn(i){return Array.prototype.concat.apply([],arguments)}function Vn(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function fr(i){return/^[\s\xa0]*$/.test(i)}var Lr,Kn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function hr(i,e){return-1!=i.indexOf(e)}function qr(i,e){return i<e?-1:i>e?1:0}e:{var pn=De.navigator;if(pn){var Yr=pn.userAgent;if(Yr){Lr=Yr;break e}}Lr=""}function Er(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function vr(i){const e={};for(const t in i)e[t]=i[t];return e}var dn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let h=0;h<dn.length;h++)t=dn[h],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Le(i){return Le[" "](i),i}Le[" "]=He;var zn,i,Ft=hr(Lr,"Opera"),Nt=hr(Lr,"Trident")||hr(Lr,"MSIE"),Ht=hr(Lr,"Edge"),nn=Ht||Nt,On=hr(Lr,"Gecko")&&!(hr(Lr.toLowerCase(),"webkit")&&!hr(Lr,"Edge"))&&!(hr(Lr,"Trident")||hr(Lr,"MSIE"))&&!hr(Lr,"Edge"),Ln=hr(Lr.toLowerCase(),"webkit")&&!hr(Lr,"Edge");function xn(){var i=De.document;return i?i.documentMode:void 0}e:{var rr="",Bn=(i=Lr,On?/rv:([^\);]+)(\)|;)/.exec(i):Ht?/Edge\/([\d\.]+)/.exec(i):Nt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ln?/WebKit\/(\S+)/.exec(i):Ft?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Bn&&(rr=Bn?Bn[1]:""),Nt){var Gn=xn();if(null!=Gn&&Gn>parseFloat(rr)){zn=String(Gn);break e}}zn=rr}var In={};var z=De.document&&Nt&&(xn()||parseInt(zn,10))||void 0,k=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{De.addEventListener("test",He,e),De.removeEventListener("test",He,e)}catch(t){}return i}();function B(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Te(i,e){if(B.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(On){e:{try{Le(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ft[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Te.Z.h.call(this)}}B.prototype.h=function(){this.defaultPrevented=!0},zt(Te,B);var ft={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),pe=0;function Rt(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=l,this.key=++pe,this.ca=this.fa=!1}function T(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Z(i){this.src=i,this.g={},this.h=0}function at(i,e){var t=e.type;if(t in i.g){var h,s=i.g[t],l=St(s,e);(h=0<=l)&&Array.prototype.splice.call(s,l,1),h&&(T(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function et(i,e,t,s){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==s)return l}return-1}Z.prototype.add=function(i,e,t,s,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var g=et(i,e,s,l);return-1<g?(e=i[g],t||(e.fa=!1)):((e=new Rt(e,this.src,h,!!s,l)).fa=t,i.push(e)),e};var Ge="closure_lm_"+(1e6*Math.random()|0),rt={};function vt(i,e,t,s,l){if(s&&s.once)return $n(i,e,t,s,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)vt(i,e[h],t,s,l);return null}return t=Gi(t),i&&i[Vt]?i.N(e,t,dt(s)?!!s.capture:!!s,l):ht(i,e,t,!1,s,l)}function ht(i,e,t,s,l,h){if(!e)throw Error("Invalid event type");var g=dt(l)?!!l.capture:!!l,O=fi(i);if(O||(i[Ge]=O=new Z(i)),(t=O.add(e,t,s,g,h)).proxy)return t;if(s=function Qn(){var e=si;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)k||(l=g),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Ai(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function $n(i,e,t,s,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)$n(i,e[h],t,s,l);return null}return t=Gi(t),i&&i[Vt]?i.O(e,t,dt(s)?!!s.capture:!!s,l):ht(i,e,t,!0,s,l)}function Cr(i,e,t,s,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)Cr(i,e[h],t,s,l);else s=dt(s)?!!s.capture:!!s,t=Gi(t),i&&i[Vt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=et(h=i.g[e],t,s,l))&&(T(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=fi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=et(e,t,s,l)),(t=-1<i?e[i]:null)&&ai(t))}function ai(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Vt])at(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(Ai(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=fi(e))?(at(t,i),0==t.h&&(t.src=null,e[Ge]=null)):T(i)}}}function Ai(i){return i in rt?rt[i]:rt[i]="on"+i}function si(i,e){if(i.ca)i=!0;else{e=new Te(e,this);var t=i.listener,s=i.ia||i.src;i.fa&&ai(i),i=t.call(s,e)}return i}function fi(i){return(i=i[Ge])instanceof Z?i:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(i){return"function"==typeof i?i:(i[br]||(i[br]=function(e){return i.handleEvent(e)}),i[br])}function Qr(){ln.call(this),this.i=new Z(this),this.P=this,this.I=null}function Rn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new B(e,i);else if(e instanceof B)e.target=e.target||i;else{var l=e;Ot(e=new B(s,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var g=e.g=t[h];l=Yn(g,s,!0,e)&&l}if(l=Yn(g=e.g=i,s,!0,e)&&l,l=Yn(g,s,!1,e)&&l,t)for(h=0;h<t.length;h++)l=Yn(g=e.g=t[h],s,!1,e)&&l}function Yn(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var g=e[h];if(g&&!g.ca&&g.capture==t){var O=g.listener,ne=g.ia||g.src;g.fa&&at(i.i,g),l=!1!==O.call(ne,s)&&l}}return l&&!s.defaultPrevented}zt(Qr,ln),Qr.prototype[Vt]=!0,Qr.prototype.removeEventListener=function(i,e,t,s){Cr(this,i,e,t,s)},Qr.prototype.M=function(){if(Qr.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)T(t[s]);delete i.g[e],i.h--}}this.I=null},Qr.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Qr.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var jr=De.JSON.stringify;function Ei(){var i=Xi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var $r,ii=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ci,i=>i.reset());class ci{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hr(i){De.setTimeout(()=>{throw i},0)}function Si(i,e){$r||function mr(){var i=De.Promise.resolve(void 0);$r=function(){i.then(ls)}}(),Mi||($r(),Mi=!0),Xi.add(i,e)}var Mi=!1,Xi=new class mi{constructor(){this.h=this.g=null}add(e,t){const s=ii.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ls(){for(var i;i=Ei();){try{i.h.call(i.g)}catch(t){Hr(t)}var e=ii;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Mi=!1}function bi(i,e){Qr.call(this),this.h=i||1,this.g=e||De,this.j=_t(this.kb,this),this.l=Date.now()}function ni(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Pi(i,e,t){if("function"==typeof i)t&&(i=_t(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=_t(i.handleEvent,i)}return 2147483647<Number(e)?-1:De.setTimeout(i,e||0)}function Yi(i){i.g=Pi(()=>{i.g=null,i.i&&(i.i=!1,Yi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}zt(bi,Qr),(ee=bi.prototype).da=!1,ee.S=null,ee.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rn(this,"tick"),this.da&&(ni(this),this.start()))}},ee.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ee.M=function(){bi.Z.M.call(this),ni(this),delete this.g};class pi extends ln{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yi(this)}M(){super.M(),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(i){ln.call(this),this.h=i,this.g={}}zt(xr,ln);var es=[];function Hi(i,e,t,s){Array.isArray(t)||(t&&(es[0]=t.toString()),t=es);for(var l=0;l<t.length;l++){var h=vt(e,t[l],s||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function gi(i){Er(i.g,function(e,t){this.g.hasOwnProperty(t)&&ai(e)},i),i.g={}}function Li(){this.g=!0}function wi(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bs(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var g=1;g<l.length;g++)l[g]=""}}}return jr(t)}catch(O){return e}}(i,t)+(s?" "+s:"")})}xr.prototype.M=function(){xr.Z.M.call(this),gi(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Li.prototype.Aa=function(){this.g=!1},Li.prototype.info=function(){};var ws={},Rs=null;function yi(){return Rs=Rs||new Qr}function ns(i){B.call(this,ws.Ma,i)}function Tt(i){const e=yi();Rn(e,new ns(e,i))}function Ct(i,e){B.call(this,ws.STAT_EVENT,i),this.stat=e}function kt(i){const e=yi();Rn(e,new Ct(e,i))}function ae(i,e){B.call(this,ws.Na,i),this.size=e}function K(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){i()},e)}ws.Ma="serverreachability",zt(ns,B),ws.STAT_EVENT="statevent",zt(Ct,B),ws.Na="timingevent",zt(ae,B);var W={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function We(){}function mt(){}We.prototype.h=null;var vn,rn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function un(){B.call(this,"d")}function jt(){B.call(this,"c")}function Un(){}function Nn(i,e,t,s){this.l=i,this.j=e,this.m=t,this.X=s||1,this.V=new xr(this),this.P=wr,this.W=new bi(i=nn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}zt(un,B),zt(jt,B),zt(Un,We),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},vn=new Un;var wr=45e3,ir={},Fr={};function Dr(i,e,t){i.K=1,i.v=wt(Yt(e)),i.s=t,i.U=!0,Rr(i,null)}function Rr(i,e){i.F=Date.now(),Bi(i),i.A=Yt(i.v);var t=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),Wn(t.h,"t",s),i.C=0,t=i.l.H,i.h=new Jn,i.g=Bs(i.l,t?e:null,!i.s),0<i.O&&(i.L=new pi(_t(i.Ia,i,i.g),i.O)),Hi(i.V,i.g,"readystatechange",i.gb),e=i.H?vr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Tt(1),function us(i,e,t,s,l,h){i.info(function(){if(i.g)if(h)for(var g="",O=h.split("&"),ne=0;ne<O.length;ne++){var we=O[ne].split("=");if(1<we.length){var qe=we[0];we=we[1];var bt=qe.split("_");g=2<=bt.length&&"type"==bt[1]?g+(qe+"=")+we+"&":g+(qe+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Jr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ur(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=$i(i,t),l==Fr){4==e&&(i.o=4,kt(14),s=!1),wi(i.j,i.m,null,"[Incomplete Response]");break}if(l==ir){i.o=4,kt(15),wi(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}wi(i.j,i.m,l,null),Q(i,l)}Jr(i)&&l!=Fr&&l!=ir&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,kt(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ts(e),e.L=!0,kt(11))):(wi(i.j,i.m,t,"[Invalid Chunked Response]"),oi(i),Is(i))}function $i(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?Fr:(t=Number(e.substring(t,s)),isNaN(t)?ir:(s+=1)+t>e.length?Fr:(e=e.substr(s,t),i.C=s+t,e))}function Bi(i){i.Y=Date.now()+i.P,Ri(i,i.P)}function Ri(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=K(_t(i.eb,i),e)}function vi(i){i.B&&(De.clearTimeout(i.B),i.B=null)}function Is(i){0==i.l.G||i.I||Or(i.l,i)}function oi(i){vi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ni(i.W),gi(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Q(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Qi(t.i,i)))if(t.I=i.N,!i.J&&Qi(t.i,i)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(we){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=K(_t(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;er(t),xs(t)}co(t),kt(18)}if(1>=Wo(t.i)&&t.ka){try{t.ka()}catch(we){}t.ka=void 0}}else ki(t,11)}else if((i.J||t.g==i)&&er(t),!fr(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let we=l[e];if(t.U=we[0],we=we[1],2==t.G)if("c"==we[0]){t.J=we[1],t.la=we[2];const qe=we[3];null!=qe&&(t.ma=qe,t.h.info("VER="+t.ma));const bt=we[4];null!=bt&&(t.za=bt,t.h.info("SVER="+t.za));const Jt=we[5];null!=Jt&&"number"==typeof Jt&&0<Jt&&(t.K=s=1.5*Jt,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const En=i.g;if(En){const kn=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kn){var h=s.i;!h.g&&(hr(kn,"spdy")||hr(kn,"quic")||hr(kn,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Po(h,h.h),h.h=null))}if(s.D){const ar=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(s.sa=ar,Ze(s.F,s.D,ar))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var g=i;if((s=t).oa=fs(s,s.H?s.la:null,s.W),g.J){oo(s.i,g);var O=g,ne=s.K;ne&&O.setTimeout(ne),O.B&&(vi(O),Bi(O)),s.g=g}else ro(s);0<t.l.length&&Ls(t)}else"stop"!=we[0]&&"close"!=we[0]||ki(t,7);else 3==t.G&&("stop"==we[0]||"close"==we[0]?"stop"==we[0]?ki(t,7):ui(t):"noop"!=we[0]&&t.j&&t.j.wa(we),t.A=0)}Tt(4)}catch(we){}}function R(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Xe(i)||"string"==typeof i)Gt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Xe(i)||"string"==typeof i){t=[];for(var s=i.length,l=0;l<s;l++)t.push(l)}else for(l in t=[],s=0,i)t[s++]=l;s=function w(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Xe(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length;for(var h=0;h<l;h++)e.call(void 0,s[h],t&&t[h],i)}}function X(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof X)for(t=i.T(),s=0;s<t.length;s++)this.set(t[s],i.get(t[s]));else for(s in i)this.set(s,i[s])}function ge(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var s=i.g[e];tt(i.h,s)&&(i.g[t++]=s),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)tt(l,s=i.g[e])||(i.g[t++]=s,l[s]=1),e++;i.g.length=t}}function tt(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ee=Nn.prototype).setTimeout=function(i){this.P=i},ee.gb=function(i){i=i.target;const e=this.L;e&&3==gr(i)?e.l():this.Ia(i)},ee.Ia=function(i){try{if(i==this.g)e:{const qe=gr(this.g);var e=this.g.Da();const bt=this.g.ba();if(!(3>qe)&&(3!=qe||nn||this.g&&(this.h.h||this.g.ga()||Pr(this.g)))){this.I||4!=qe||7==e||Tt(8==e||0>=bt?3:2),vi(this);var t=this.g.ba();this.N=t;t:if(Jr(this)){var s=Pr(this.g);i="";var l=s.length,h=4==gr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){oi(this),Is(this);var g="";break t}this.h.i=new De.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:h&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==t,function ss(i,e,t,s,l,h,g){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+g})}(this.j,this.u,this.A,this.m,this.X,qe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var O,ne=this.g;if((O=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fr(O)){var we=O;break t}}we=null}if(!(t=we)){this.i=!1,this.o=3,kt(12),oi(this),Is(this);break e}wi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Q(this,t)}this.U?(Ur(this,qe,g),nn&&this.i&&3==qe&&(Hi(this.V,this.W,"tick",this.fb),this.W.start())):(wi(this.j,this.m,g,null),Q(this,g)),4==qe&&oi(this),this.i&&!this.I&&(4==qe?Or(this.l,this):(this.i=!1,Bi(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,kt(12)):(this.o=0,kt(13)),oi(this),Is(this)}}}catch(qe){}},ee.fb=function(){if(this.g){var i=gr(this.g),e=this.g.ga();this.C<e.length&&(vi(this),Ur(this,i,e),this.i&&4!=i&&Bi(this))}},ee.cancel=function(){this.I=!0,oi(this)},ee.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Oi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Tt(3),kt(17)),oi(this),this.o=2,Is(this)):Ri(this,this.Y-i)},(ee=X.prototype).R=function(){ge(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ee.T=function(){return ge(this),this.g.concat()},ee.get=function(i,e){return tt(this.h,i)?this.h[i]:e},ee.set=function(i,e){tt(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ee.forEach=function(i,e){for(var t=this.T(),s=0;s<t.length;s++){var l=t[s],h=this.get(l);i.call(e,h,l,this)}};var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tn(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof tn){this.g=void 0!==e?e:i.g,L(this,i.j),this.s=i.s,se(this,i.i),F(this,i.m),this.l=i.l,e=i.h;var t=new j;t.i=e.i,e.g&&(t.g=new X(e.g),t.h=e.h),Ce(this,t),this.o=i.o}else i&&(t=String(i).match(At))?(this.g=!!e,L(this,t[1]||"",!0),this.s=tr(t[2]||""),se(this,t[3]||"",!0),F(this,t[4]),this.l=tr(t[5]||"",!0),Ce(this,t[6]||"",!0),this.o=tr(t[7]||"")):(this.g=!!e,this.h=new j(null,this.g))}function Yt(i){return new tn(i)}function L(i,e,t){i.j=t?tr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function se(i,e,t){i.i=t?tr(e,!0):e}function F(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ce(i,e,t){e instanceof j?(i.h=e,function hs(i,e){e&&!i.j&&(P(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Oe(this,s),Wn(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=cr(e,Xr)),i.h=new j(e,i.g))}function Ze(i,e,t){i.h.set(e,t)}function wt(i){return Ze(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function tr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function cr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,lr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function lr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}tn.prototype.toString=function(){var i=[],e=this.j;e&&i.push(cr(e,dr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(cr(e,dr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(cr(t,"/"==t.charAt(0)?Sr:Tr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",cr(t,Y)),i.join("")};var dr=/[#\/\?@]/g,Tr=/[#\?:]/g,Sr=/[#\?]/g,Xr=/[#\?@]/g,Y=/#/g;function j(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function P(i){i.g||(i.g=new X,i.h=0,i.i&&function Wt(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var h=i[t].substring(0,s);l=i[t].substring(s+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Oe(i,e){P(i),e=li(i,e),tt(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,tt((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&ge(i)))}function sn(i,e){return P(i),e=li(i,e),tt(i.g.h,e)}function Wn(i,e,t){Oe(i,e),0<t.length&&(i.i=null,i.g.set(li(i,e),Vn(t)),i.h+=t.length)}function li(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Gs(i){this.l=i||gn,i=De.PerformanceNavigationTiming?0<(i=De.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ee=j.prototype).add=function(i,e){P(this),this.i=null,i=li(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},ee.forEach=function(i,e){P(this),this.g.forEach(function(t,s){Gt(t,function(l){i.call(e,l,s,this)},this)},this)},ee.T=function(){P(this);for(var i=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var l=i[s],h=0;h<l.length;h++)t.push(e[s]);return t},ee.R=function(i){P(this);var e=[];if("string"==typeof i)sn(this,i)&&(e=wn(e,this.g.get(li(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=wn(e,i[t])}return e},ee.set=function(i,e){return P(this),this.i=null,sn(this,i=li(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ee.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],l=encodeURIComponent(String(s));s=this.R(s);for(var h=0;h<s.length;h++){var g=l;""!==s[h]&&(g+="="+encodeURIComponent(String(s[h]))),i.push(g)}}return this.i=i.join("&")};var gn=10;function ri(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Wo(i){return i.h?1:i.g?i.g.size:0}function Qi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Po(i,e){i.g?i.g.add(e):i.h=e}function oo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ns(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Vn(i.i)}function Do(){}function ia(){this.g=new Do}function Ja(i,e,t){const s=t||"";try{R(i,function(l,h){let g=l;dt(l)&&(g=jr(l)),e.push(s+h+"="+encodeURIComponent(g))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function ao(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch(h){}}function go(i){this.l=i.$b||null,this.j=i.ib||!1}function rs(i,e){Qr.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gs.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Do.prototype.stringify=function(i){return De.JSON.stringify(i,void 0)},Do.prototype.parse=function(i){return De.JSON.parse(i,void 0)},zt(go,We),go.prototype.g=function(){return new rs(this.l,this.j)},go.prototype.i=function(i){return function(){return i}}({}),zt(rs,Qr);var Hs=0;function sa(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Ee(i){i.readyState=4,i.l=null,i.j=null,i.A=null,v(i)}function v(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ee=rs.prototype).open=function(i,e){if(this.readyState!=Hs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,v(this)},ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||De).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ee(this)),this.readyState=Hs},ee.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,v(this)),this.g&&(this.readyState=3,v(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==De.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sa(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ee.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ee(this):v(this),3==this.readyState&&sa(this)}},ee.Ua=function(i){this.g&&(this.response=this.responseText=i,Ee(this))},ee.Ta=function(i){this.g&&(this.response=i,Ee(this))},ee.ha=function(){this.g&&Ee(this)},ee.setRequestHeader=function(i,e){this.v.append(i,e)},ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var D=De.JSON.parse;function G(i){Qr.call(this),this.headers=new X,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ie,this.K=this.L=!1}zt(G,Qr);var Ie="",Qe=/^https?$/i,yt=["POST","PUT"];function Lt(i){return"content-type"==i.toLowerCase()}function fn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Xn(i),Mr(i)}function Xn(i){i.D||(i.D=!0,Rn(i,"complete"),Rn(i,"error"))}function pr(i){if(i.h&&void 0!==re&&(!i.C[1]||4!=gr(i)||2!=i.ba()))if(i.v&&4==gr(i))Pi(i.Fa,0,i);else if(Rn(i,"readystatechange"),4==gr(i)){i.h=!1;try{const O=i.ba();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===O){var l=String(i.H).match(At)[1]||null;if(!l&&De.self&&De.self.location){var h=De.self.location.protocol;l=h.substr(0,h.length-1)}s=!Qe.test(l?l.toLowerCase():"")}t=s}if(t)Rn(i,"complete"),Rn(i,"success");else{i.m=6;try{var g=2<gr(i)?i.g.statusText:""}catch(ne){g=""}i.j=g+" ["+i.ba()+"]",Xn(i)}}finally{Mr(i)}}}function Mr(i,e){if(i.g){ei(i);const t=i.g,s=i.C[0]?He:null;i.g=null,i.C=null,e||Rn(i,"ready");try{t.onreadystatechange=s}catch(l){}}}function ei(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(De.clearTimeout(i.A),i.A=null)}function gr(i){return i.g?i.g.readyState:0}function Pr(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ie:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zi(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function Di(i){let e="";return Er(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ze(i,e,t))}function Zi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ds(i){this.za=0,this.l=[],this.h=new Li,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zi("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zi("baseRetryDelayMs",5e3,i),this.$a=Zi("retryDelaySeedMs",1e4,i),this.Ya=Zi("forwardChannelMaxRetries",2,i),this.ra=Zi("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Gs(i&&i.concurrentRequestLimit),this.Ca=new ia,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ui(i){if(Ci(i),3==i.G){var e=i.V++,t=Yt(i.F);Ze(t,"SID",i.J),Ze(t,"RID",e),Ze(t,"TYPE","terminate"),Qs(i,t),(e=new Nn(i,i.h,e,void 0)).K=2,e.v=wt(Yt(t)),t=!1,De.navigator&&De.navigator.sendBeacon&&(t=De.navigator.sendBeacon(e.v.toString(),"")),!t&&De.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bs(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Bi(e)}gs(i)}function xs(i){i.g&&(Ts(i),i.g.cancel(),i.g=null)}function Ci(i){xs(i),i.u&&(De.clearTimeout(i.u),i.u=null),er(i),i.i.cancel(),i.m&&("number"==typeof i.m&&De.clearTimeout(i.m),i.m=null)}function Ii(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ls(i)}function Ls(i){ri(i.i)||i.m||(i.m=!0,Si(i.Ha,i),i.C=0)}function Ys(i,e){var t;t=e?e.m:i.V++;const s=Yt(i.F);Ze(s,"SID",i.J),Ze(s,"RID",t),Ze(s,"AID",i.U),Qs(i,s),i.o&&i.s&&zi(s,i.o,i.s),t=new Nn(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=uo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Po(i.i,t),Dr(t,s,e)}function Qs(i,e){i.j&&R({},function(t,s){Ze(e,s,t)})}function uo(i,e,t){t=Math.min(i.l.length,t);var s=i.j?_t(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const g=["count="+t];-1==h?0<t?(h=l[0].h,g.push("ofs="+h)):h=0:g.push("ofs="+h);let O=!0;for(let ne=0;ne<t;ne++){let we=l[ne].h;const qe=l[ne].g;if(we-=h,0>we)h=Math.max(0,l[ne].h-100),O=!1;else try{Ja(qe,g,"req"+we+"_")}catch(bt){s&&s(qe)}}if(O){s=g.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,s}function ro(i){i.g||i.u||(i.Y=1,Si(i.Ga,i),i.A=0)}function co(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=K(_t(i.Ga,i),zr(i,i.A)),i.A++,0))}function Ts(i){null!=i.B&&(De.clearTimeout(i.B),i.B=null)}function sr(i){i.g=new Nn(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Yt(i.oa);Ze(e,"RID","rpc"),Ze(e,"SID",i.J),Ze(e,"CI",i.N?"0":"1"),Ze(e,"AID",i.U),Qs(i,e),Ze(e,"TYPE","xmlhttp"),i.o&&i.s&&zi(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=wt(Yt(e)),t.s=null,t.U=!0,Rr(t,i)}function er(i){null!=i.v&&(De.clearTimeout(i.v),i.v=null)}function Or(i,e){var t=null;if(i.g==e){er(i),Ts(i),i.g=null;var s=2}else{if(!Qi(i.i,e))return;t=e.D,oo(i.i,e),s=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Rn(s=yi(),new ae(s,t,e,l)),Ls(i)}else ro(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==s&&function lo(i,e){return!(Wo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=K(_t(i.Ha,i,e),zr(i,i.C)),i.C++,0)))}(i,e)||2==s&&co(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:ki(i,5);break;case 4:ki(i,10);break;case 3:ki(i,6);break;default:ki(i,2)}}function zr(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ki(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var s=_t(i.jb,i);t||(t=new tn("//www.google.com/images/cleardot.gif"),De.location&&"http"==De.location.protocol||L(t,"https"),wt(t)),function Ko(i,e){const t=new Li;if(De.Image){const s=new Image;s.onload=$t(ao,t,s,"TestLoadImage: loaded",!0,e),s.onerror=$t(ao,t,s,"TestLoadImage: error",!1,e),s.onabort=$t(ao,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=$t(ao,t,s,"TestLoadImage: timeout",!1,e),De.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else kt(2);i.G=0,i.j&&i.j.va(e),gs(i),Ci(i)}function gs(i){i.G=0,i.I=-1,i.j&&((0!=Ns(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Vn(i.l),i.l.length=0),i.j.ua())}function fs(i,e,t){let s=function Bt(i){return i instanceof tn?Yt(i):new tn(i,void 0)}(t);if(""!=s.i)e&&se(s,e+"."+s.i),F(s,s.m);else{const l=De.location;s=function Dn(i,e,t,s){var l=new tn(null,void 0);return i&&L(l,i),e&&se(l,e),t&&F(l,t),s&&(l.l=s),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Er(i.aa,function(l,h){Ze(s,h,l)}),t=i.sa,(e=i.D)&&t&&Ze(s,e,t),Ze(s,"VER",i.ma),Qs(i,s),s}function Bs(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new G(t&&i.Ba&&!i.qa?new go({ib:!0}):i.qa)).L=i.H,e}function _i(){}function ko(){if(Nt&&!(10<=Number(z)))throw Error("Environmental error: no available transport.")}function Vs(i,e){Qr.call(this),this.g=new Ds(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!fr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Fi(this)}function Ss(i){un.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Co(){jt.call(this),this.status=1}function Fi(i){this.g=i}(ee=G.prototype).ea=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vn.g(),this.C=function it(i){return i.h||(i.h=i.i())}(this.u?this.u:vn),this.g.onreadystatechange=_t(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void fn(this,h)}i=t||"";const l=new X(this.headers);s&&R(s,function(h,g){l.set(g,h)}),s=function Sn(i){e:{var e=Lt;const t=i.length,s="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in s&&e.call(void 0,s[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=De.FormData&&i instanceof De.FormData,!(0<=St(yt,e))||s||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,g){this.g.setRequestHeader(g,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ei(this),0<this.B&&((this.K=function Et(i){return Nt&&function Zr(){return function ze(i){var e=In;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Kn(String(zn)).split("."),t=Kn("9").split("."),s=Math.max(e.length,t.length);for(let g=0;0==i&&g<s;g++){var l=e[g]||"",h=t[g]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=qr(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||qr(0==l[2].length,0==h[2].length)||qr(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.pa,this)):this.A=Pi(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){fn(this,h)}},ee.pa=function(){void 0!==re&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Rn(this,"complete"),Rn(this,"abort"),Mr(this))},ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mr(this,!0)),G.Z.M.call(this)},ee.Fa=function(){this.s||(this.F||this.v||this.l?pr(this):this.cb())},ee.cb=function(){pr(this)},ee.ba=function(){try{return 2<gr(this)?this.g.status:-1}catch(i){return-1}},ee.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ee.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),D(e)}},ee.Da=function(){return this.m},ee.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ee=Ds.prototype).ma=8,ee.G=1,ee.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ee.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Nn(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=vr(h),Ot(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uo(this,l,e),Ze(t=Yt(this.F),"RID",i),Ze(t,"CVER",22),this.D&&Ze(t,"X-HTTP-Session-Id",this.D),Qs(this,t),this.o&&h&&zi(t,this.o,h),Po(this.i,l),this.Ra&&Ze(t,"TYPE","init"),this.ja?(Ze(t,"$req",e),Ze(t,"SID","null"),l.$=!0,Dr(l,t,null)):Dr(l,t,e),this.G=2}}else 3==this.G&&(i?Ys(this,i):0==this.l.length||ri(this.i)||Ys(this))},ee.Ga=function(){if(this.u=null,sr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=K(_t(this.bb,this),i)}},ee.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kt(10),xs(this),sr(this))},ee.ab=function(){null!=this.v&&(this.v=null,xs(this),co(this),kt(19))},ee.jb=function(i){i?(this.h.info("Successfully pinged google.com"),kt(2)):(this.h.info("Failed to ping google.com"),kt(1))},(ee=_i.prototype).xa=function(){},ee.wa=function(){},ee.va=function(){},ee.ua=function(){},ee.Oa=function(){},ko.prototype.g=function(i,e){return new Vs(i,e)},zt(Vs,Qr),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Si(_t(i.hb,i,e))),kt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=fs(i,null,i.W),Ls(i)},Vs.prototype.close=function(){ui(this.g)},Vs.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ii(this.g,e)}else this.v?((e={}).__data__=jr(i),Ii(this.g,e)):Ii(this.g,i)},Vs.prototype.M=function(){this.g.j=null,delete this.j,ui(this.g),delete this.g,Vs.Z.M.call(this)},zt(Ss,un),zt(Co,jt),zt(Fi,_i),Fi.prototype.xa=function(){Rn(this.g,"a")},Fi.prototype.wa=function(i){Rn(this.g,new Ss(i))},Fi.prototype.va=function(i){Rn(this.g,new Co(i))},Fi.prototype.ua=function(){Rn(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,W.NO_ERROR=0,W.TIMEOUT=8,W.HTTP_ERROR=6,oe.COMPLETE="complete",mt.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,G.prototype.listenOnce=G.prototype.O,G.prototype.getLastError=G.prototype.La,G.prototype.getLastErrorCode=G.prototype.Da,G.prototype.getStatus=G.prototype.ba,G.prototype.getResponseJson=G.prototype.Qa,G.prototype.getResponseText=G.prototype.ga,G.prototype.send=G.prototype.ea;var Zs=Ke.createWebChannelTransport=function(){return new ko},oa=Ke.getStatEventTarget=function(){return yi()},Js=Ke.ErrorCode=W,ma=Ke.EventType=oe,Xa=Ke.Event=ws,ho=Ke.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Va=Ke.FetchXmlHttpFactory=go,Wi=Ke.WebChannel=mt,Ta=Ke.XhrIo=G;const N="@firebase/firestore";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let C="9.9.1";const q=new xe.Yd("@firebase/firestore");function ce(){return q.logLevel}function Ve(i,...e){if(q.logLevel<=xe.in.DEBUG){const t=e.map(Zn);q.debug(`Firestore (${C}): ${i}`,...t)}}function gt(i,...e){if(q.logLevel<=xe.in.ERROR){const t=e.map(Zn);q.error(`Firestore (${C}): ${i}`,...t)}}function cn(i,...e){if(q.logLevel<=xe.in.WARN){const t=e.map(Zn);q.warn(`Firestore (${C}): ${i}`,...t)}}function Zn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Pn(i="Unexpected state"){const e=`FIRESTORE (${C}) INTERNAL ASSERTION FAILED: `+i;throw gt(e),new Error(e)}function Mn(i,e){i||Pn()}function Tn(i,e){return i}const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Cn extends je.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(S.UNAUTHENTICATED))}shutdown(){}}class Ma{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bu{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const h=we=>this.i!==l?(l=this.i,t(we)):Promise.resolve();let g=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ts,e.enqueueRetryable(()=>h(this.currentUser))};const O=()=>{const we=g;e.enqueueRetryable((0,Ne.Z)(function*(){yield we.promise,yield h(s.currentUser)}))},ne=we=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=we,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(we=>ne(we)),setTimeout(()=>{if(!this.auth){const we=this.t.getImmediate({optional:!0});we?ne(we):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ts)}},0),O()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Mn("string"==typeof s.accessToken),new Sa(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new S(e)}}class Oa{constructor(e,t,s){this.type="FirstParty",this.user=S.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class gl{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Oa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(S.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=h=>{null!=h.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.p;return this.p=h.token,Ve("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const l=h=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.p=t.token,new ya(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ml(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class Ao{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=ml(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%e.length))}return s}}function I(i,e){return i<e?-1:i>e?1:0}function ye(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function b(i){return i+"\0"}class ${constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Cn(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Cn(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Cn(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Cn(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $.fromMillis(Date.now())}static fromDate(e){return $.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new $(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?I(this.nanoseconds,e.nanoseconds):I(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new $(0,0))}static max(){return new me(new $(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ot{constructor(e,t,s){void 0===t?t=0:t>e.length&&Pn(),void 0===s?s=e.length-t:s>e.length-t&&Pn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===ot.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ot?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=e.get(l),g=t.get(l);if(h<g)return-1;if(h>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends ot{construct(e,t,s){return new Kt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const hn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends ot{construct(e,t,s){return new Br(e,t,s)}static isValidIdentifier(e){return hn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(0===s.length)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let g=!1;for(;l<e.length;){const O=e[l];if("\\"===O){if(l+1===e.length)throw new Cn(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const ne=e[l+1];if("\\"!==ne&&"."!==ne&&"`"!==ne)throw new Cn(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=ne,l+=2}else"`"===O?(g=!g,l++):"."!==O||g?(s+=O,l++):(h(),l++)}if(h(),g)throw new Cn(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class jn{constructor(e){this.path=e}static fromPath(e){return new jn(Kt.fromString(e))}static fromName(e){return new jn(Kt.fromString(e).popFirst(5))}static empty(){return new jn(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jn(new Kt(e.slice()))}}class mo{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function Us(i){return i.fields.find(e=>2===e.kind)}function aa(i){return i.fields.filter(e=>2!==e.kind)}mo.UNKNOWN_ID=-1;class el{constructor(e,t){this.fieldPath=e,this.kind=t}}class tl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tl(0,Vr.min())}}function Yo(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=me.fromTimestamp(1e9===s?new $(t+1,0):new $(t,s));return new Vr(l,jn.empty(),e)}function Fl(i){return new Vr(i.readTime,i.key,-1)}class Vr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vr(me.min(),jn.empty(),-1)}static max(){return new Vr(me.max(),jn.empty(),-1)}}function Io(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=jn.comparator(i.documentKey,e.documentKey),0!==t?t:I(i.largestBatchId,e.largestBatchId))}const Qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Uc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function la(i){return yo.apply(this,arguments)}function yo(){return yo=(0,Ne.Z)(function*(i){if(i.code!==Qt.FAILED_PRECONDITION||i.message!==Qo)throw i;Ve("LocalStore","Unexpectedly lost primary lease")}),yo.apply(this,arguments)}class qt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qt((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof qt?t:qt.resolve(t)}catch(t){return qt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):qt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):qt.reject(t)}static resolve(e){return new qt((t,s)=>{t(e)})}static reject(e){return new qt((t,s)=>{s(e)})}static waitFor(e){return new qt((t,s)=>{let l=0,h=0,g=!1;e.forEach(O=>{++l,O.next(()=>{++h,g&&h===l&&t()},ne=>s(ne))}),g=!0,h===l&&t()})}static or(e){let t=qt.resolve(!1);for(const s of e)t=t.next(l=>l?qt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,h)=>{s.push(t.call(this,l,h))}),this.waitFor(s)}static mapArray(e,t){return new qt((s,l)=>{const h=e.length,g=new Array(h);let O=0;for(let ne=0;ne<h;ne++){const we=ne;t(e[we]).next(qe=>{g[we]=qe,++O,O===h&&s(g)},qe=>l(qe))}})}static doWhile(e,t){return new qt((s,l)=>{const h=()=>{!0===e()?t().next(()=>{h()},l):s()};h()})}}class va{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ts,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new ua(e,t.error)):this.T.resolve()},this.transaction.onerror=s=>{const l=nl(s.target.error);this.T.reject(new ua(e,l))}}static open(e,t,s,l){try{return new va(t,e.transaction(l,s))}catch(h){throw new ua(t,h)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _a(t)}}class io{constructor(e,t,s){this.name=e,this.version=t,this.P=s,12.2===io.v((0,je.z$)())&&gt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),ca(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,je.hl)())return!1;if(io.S())return!0;const e=(0,je.z$)(),t=io.v(e),s=0<t&&t<10,l=io.D(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||h)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static D(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}k(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=g=>{s(g.target.result)},h.onblocked=()=>{l(new ua(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=g=>{const O=g.target.error;l("VersionError"===O.name?new Cn(Qt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new Cn(Qt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new ua(e,O))},h.onupgradeneeded=g=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.P.O(g.target.result,h.transaction,g.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=s=>t.M(s)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var h=this;return(0,Ne.Z)(function*(){const g="readonly"===t;let O=0;for(;;){++O;try{h.db=yield h.k(e);const ne=va.open(h.db,e,g?"readonly":"readwrite",s),we=l(ne).next(qe=>(ne.R(),qe)).catch(qe=>(ne.abort(qe),qt.reject(qe))).toPromise();return we.catch(()=>{}),yield ne.A,we}catch(ne){const we=ne,qe="FirebaseError"!==we.name&&O<3;if(Ve("SimpleDb","Transaction failed with error:",we.message,"Retrying:",qe),h.close(),!qe)return Promise.reject(we)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yl{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return ca(this.$.delete())}}class ua extends Cn{constructor(e,t){super(Qt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vo(i){return"IndexedDbTransactionError"===i.name}class _a{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ca(s)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),ca(this.store.add(e))}get(e){return ca(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),ca(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),ca(this.store.count())}K(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),h=[];return this.G(l,(g,O)=>{h.push(O)}).next(()=>h)}{const l=this.store.getAll(s.range);return new qt((h,g)=>{l.onerror=O=>{g(O.target.error)},l.onsuccess=O=>{h(O.target.result)}})}}j(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new qt((l,h)=>{s.onerror=g=>{h(g.target.error)},s.onsuccess=g=>{l(g.target.result)}})}W(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.H=!1;const l=this.cursor(s);return this.G(l,(h,g,O)=>O.delete())}J(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.G(l,t)}Y(e){const t=this.cursor({});return new qt((s,l)=>{t.onerror=h=>{const g=nl(h.target.error);l(g)},t.onsuccess=h=>{const g=h.target.result;g?e(g.primaryKey,g.value).next(O=>{O?g.continue():s()}):s()}})}G(e,t){const s=[];return new qt((l,h)=>{e.onerror=g=>{h(g.target.error)},e.onsuccess=g=>{const O=g.target.result;if(!O)return void l();const ne=new yl(O),we=t(O.primaryKey,O.value,ne);if(we instanceof qt){const qe=we.catch(bt=>(ne.done(),qt.reject(bt)));s.push(qe)}ne.isDone?l():null===ne.U?O.continue():O.continue(ne.U)}}).next(()=>qt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.H?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ca(i){return new qt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=nl(s.target.error);t(l)}})}let wu=!1;function nl(i){const e=io.v((0,je.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new Cn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wu||(wu=!0,setTimeout(()=>{throw s},0)),s}}return i}class fo{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{Ve("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(s){vo(s)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield la(s)}yield t.Z(1)}))}}class Nl{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.et(s,e))})()}et(e,t){const s=new Set;let l=t,h=!0;return qt.doWhile(()=>!0===h&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!s.has(g))return Ve("IndexBackiller",`Processing collection: ${g}`),this.nt(e,g,l).next(O=>{l-=O,s.add(g)});h=!1})).next(()=>t-l)}nt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(h=>{const g=h.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.st(l,h)).next(O=>(Ve("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,t,O))).next(()=>g.size)}))}st(e,t){let s=e;return t.changes.forEach((l,h)=>{const g=Fl(h);Io(g,s)>0&&(s=g)}),new Vr(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class js{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.it(s),this.rt=s=>t.writeSequenceNumber(s))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function zd(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ra(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ll(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}js.ot=-1;class os{constructor(e,t){this.comparator=e,this.root=t||Xs.EMPTY}insert(e,t){return new os(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xs.BLACK,null,null))}remove(e){return new os(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}}class ja{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xs{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=null!=s?s:Xs.RED,this.left=null!=l?l:Xs.EMPTY,this.right=null!=h?h:Xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new Xs(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Xs.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}}Xs.EMPTY=null,Xs.RED=!0,Xs.BLACK=!1,Xs.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new Xs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ji{constructor(e){this.comparator=e,this.data=new os(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zo(this.data.getIterator())}getIteratorFrom(e){return new Zo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ji(this.comparator);return t.data=e,t}}class Zo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pa(i){return i.hasNext()?i.getNext():void 0}class cs{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new cs([])}unionWith(e){let t=new Ji(Br.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ye(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cs(t)}static fromUint8Array(e){const t=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return I(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const rl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(i){if(Mn(!!i),"string"==typeof i){let e=0;const t=rl.exec(i);if(Mn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ms(i.seconds),nanos:ms(i.nanos)}}function ms(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function il(i){return"string"==typeof i?Cs.fromBase64String(i):Cs.fromUint8Array(i)}function U(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function J(i){const e=i.mapValue.fields.__previous_value__;return U(e)?J(e):e}function ke(i){const e=xo(i.mapValue.fields.__local_write_time__.timestampValue);return new $(e.seconds,e.nanos)}class pt{constructor(e,t,s,l,h,g,O,ne){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=O,this.useFetchStreams=ne}}class Pt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pt&&e.projectId===this.projectId&&e.database===this.database}}function en(i){return null==i}function yn(i){return 0===i&&1/i==-1/0}function nr(i){return"number"==typeof i&&Number.isInteger(i)&&!yn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ar={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ti={nullValue:"NULL_VALUE"};function Wr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?U(i)?4:Yu(i)?9007199254740991:10:Pn()}function _r(i,e){if(i===e)return!0;const t=Wr(i);if(t!==Wr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ke(i).isEqual(ke(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=xo(s.timestampValue),g=xo(l.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,il(i.bytesValue).isEqual(il(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return ms(s.geoPointValue.latitude)===ms(l.geoPointValue.latitude)&&ms(s.geoPointValue.longitude)===ms(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return ms(s.integerValue)===ms(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=ms(s.doubleValue),g=ms(l.doubleValue);return h===g?yn(h)===yn(g):isNaN(h)&&isNaN(g)}return!1}(i,e);case 9:return ye(i.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(s,l){const h=s.mapValue.fields||{},g=l.mapValue.fields||{};if(zd(h)!==zd(g))return!1;for(const O in h)if(h.hasOwnProperty(O)&&(void 0===g[O]||!_r(h[O],g[O])))return!1;return!0}(i,e);default:return Pn()}var l}function Ps(i,e){return void 0!==(i.values||[]).find(t=>_r(t,e))}function As(i,e){if(i===e)return 0;const t=Wr(i),s=Wr(e);if(t!==s)return I(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return I(i.booleanValue,e.booleanValue);case 2:return function(l,h){const g=ms(l.integerValue||l.doubleValue),O=ms(h.integerValue||h.doubleValue);return g<O?-1:g>O?1:g===O?0:isNaN(g)?isNaN(O)?0:-1:1}(i,e);case 3:return No(i.timestampValue,e.timestampValue);case 4:return No(ke(i),ke(e));case 5:return I(i.stringValue,e.stringValue);case 6:return function(l,h){const g=il(l),O=il(h);return g.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const g=l.split("/"),O=h.split("/");for(let ne=0;ne<g.length&&ne<O.length;ne++){const we=I(g[ne],O[ne]);if(0!==we)return we}return I(g.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const g=I(ms(l.latitude),ms(h.latitude));return 0!==g?g:I(ms(l.longitude),ms(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const g=l.values||[],O=h.values||[];for(let ne=0;ne<g.length&&ne<O.length;++ne){const we=As(g[ne],O[ne]);if(we)return we}return I(g.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===Ar.mapValue&&h===Ar.mapValue)return 0;if(l===Ar.mapValue)return 1;if(h===Ar.mapValue)return-1;const g=l.fields||{},O=Object.keys(g),ne=h.fields||{},we=Object.keys(ne);O.sort(),we.sort();for(let qe=0;qe<O.length&&qe<we.length;++qe){const bt=I(O[qe],we[qe]);if(0!==bt)return bt;const Jt=As(g[O[qe]],ne[we[qe]]);if(0!==Jt)return Jt}return I(O.length,we.length)}(i.mapValue,e.mapValue);default:throw Pn()}}function No(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return I(i,e);const t=xo(i),s=xo(e),l=I(t.seconds,s.seconds);return 0!==l?l:I(t.nanos,s.nanos)}function $s(i){return da(i)}function da(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=xo(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?il(i.bytesValue).toBase64():"referenceValue"in i?jn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",h=!0;for(const g of s.values||[])h?h=!1:l+=",",l+=da(g);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let h="{",g=!0;for(const O of l)g?g=!1:h+=",",h+=`${O}:${da(s.fields[O])}`;return h+"}"}(i.mapValue):Pn();var e}function _o(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vl(i){return!!i&&"integerValue"in i}function Jo(i){return!!i&&"arrayValue"in i}function Xo(i){return!!i&&"nullValue"in i}function ea(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sl(i){return!!i&&"mapValue"in i}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Yu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vl(i){return"nullValue"in i?ti:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_o(Pt.empty(),jn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Pn()}function Du(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_o(Pt.empty(),jn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ar:Pn()}function Kd(i,e){const t=As(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function jc(i,e){const t=As(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!sl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Br.emptyPath(),s={},l=[];e.forEach((g,O)=>{if(!t.isImmediateParentOf(O)){const ne=this.getFieldsMap(t);this.applyChanges(ne,s,l),s={},l=[],t=O.popLast()}g?s[O.lastSegment()]=Bl(g):l.push(O.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());sl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];sl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Ra(t,(l,h)=>e[l]=h);for(const l of s)delete e[l]}clone(){return new so(Bl(this.value))}}function qd(i){const e=[];return Ra(i.fields,(t,s)=>{const l=new Br([t]);if(sl(s)){const h=qd(s.mapValue).fields;if(0===h.length)e.push(l);else for(const g of h)e.push(l.child(g))}else e.push(l)}),new cs(e)}class ys{constructor(e,t,s,l,h,g){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.data=h,this.documentState=g}static newInvalidDocument(e){return new ys(e,0,me.min(),me.min(),so.empty(),0)}static newFoundDocument(e,t,s){return new ys(e,1,t,me.min(),s,0)}static newNoDocument(e,t){return new ys(e,2,t,me.min(),so.empty(),0)}static newUnknownDocument(e,t){return new ys(e,3,t,me.min(),so.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Of{constructor(e,t=null,s=[],l=[],h=null,g=null,O=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=g,this.endAt=O,this.ut=null}}function Cu(i,e=null,t=[],s=[],l=null,h=null,g=null){return new Of(i,e,t,s,l,h,g)}function _l(i){const e=Tn(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(l=s).field.canonicalString()+l.op.toString()+$s(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),en(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>$s(s)).join(",")),e.ut=t}return e.ut}function El(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Ha(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(s=e.filters[l]).op||!t.field.isEqual(s.field)||!_r(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hc(i.startAt,e.startAt)&&Hc(i.endAt,e.endAt)}function Ga(i){return jn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Zu(i,e){return i.filters.filter(t=>t instanceof zs&&t.field.isEqual(e))}function Yd(i,e,t){let s=ti,l=!0;for(const h of Zu(i,e)){let g=ti,O=!0;switch(h.op){case"<":case"<=":g=Vl(h.value);break;case"==":case"in":case">=":g=h.value;break;case">":g=h.value,O=!1;break;case"!=":case"not-in":g=ti}Kd({value:s,inclusive:l},{value:g,inclusive:O})<0&&(s=g,l=O)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=t.position[h];Kd({value:s,inclusive:l},{value:g,inclusive:t.inclusive})<0&&(s=g,l=t.inclusive);break}return{value:s,inclusive:l}}function Rf(i,e,t){let s=Ar,l=!0;for(const h of Zu(i,e)){let g=Ar,O=!0;switch(h.op){case">=":case">":g=Du(h.value),O=!1;break;case"==":case"in":case"<=":g=h.value;break;case"<":g=h.value,O=!1;break;case"!=":case"not-in":g=Ar}jc({value:s,inclusive:l},{value:g,inclusive:O})>0&&(s=g,l=O)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const g=t.position[h];jc({value:s,inclusive:l},{value:g,inclusive:t.inclusive})>0&&(s=g,l=t.inclusive);break}return{value:s,inclusive:l}}class zs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,s):new Au(e,t,s):"array-contains"===t?new bl(e,s):"in"===t?new Pf(e,s):"not-in"===t?new Jd(e,s):"array-contains-any"===t?new kf(e,s):new zs(e,t,s)}static ct(e,t,s){return"in"===t?new Qd(e,s):new Zd(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(As(t,this.value)):null!==t&&Wr(this.value)===Wr(t)&&this.at(As(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Au extends zs{constructor(e,t,s){super(e,t,s),this.key=jn.fromName(s.referenceValue)}matches(e){const t=jn.comparator(e.key,this.key);return this.at(t)}}class Qd extends zs{constructor(e,t){super(e,"in",t),this.keys=Gc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Zd extends zs{constructor(e,t){super(e,"not-in",t),this.keys=Gc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Gc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>jn.fromName(s.referenceValue))}class bl extends zs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jo(t)&&Ps(t.arrayValue,this.value)}}class Pf extends zs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ps(this.value.arrayValue,t)}}class Jd extends zs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ps(this.value.arrayValue,t)}}class kf extends zs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ps(this.value.arrayValue,s))}}class ol{constructor(e,t){this.position=e,this.inclusive=t}}class Ul{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ha(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function $a(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],g=i.position[l];if(s=h.field.isKeyField()?jn.comparator(jn.fromName(g.referenceValue),t.key):As(g,t.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Hc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!_r(i.position[t],e.position[t]))return!1;return!0}class Ea{constructor(e,t=null,s=[],l=[],h=null,g="F",O=null,ne=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=g,this.startAt=O,this.endAt=ne,this.lt=null,this.ft=null}}function Xd(i,e,t,s,l,h,g,O){return new Ea(i,e,t,s,l,h,g,O)}function wl(i){return new Ea(i)}function Iu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ju(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Xu(i){return null!==i.collectionGroup}function Dl(i){const e=Tn(i);if(null===e.lt){e.lt=[];const t=Ju(e),s=Iu(e);if(null!==t&&null===s)t.isKeyField()||e.lt.push(new Ul(t)),e.lt.push(new Ul(Br.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.lt.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Ul(Br.keyField(),h))}}}return e.lt}function ha(i){const e=Tn(i);if(!e.ft)if("F"===e.limitType)e.ft=Cu(e.path,e.collectionGroup,Dl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Dl(e))t.push(new Ul(h.field,"desc"===h.dir?"asc":"desc"));const s=e.endAt?new ol(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new ol(e.startAt.position,e.startAt.inclusive):null;e.ft=Cu(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e.ft}function eh(i,e,t){return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ec(i,e){return El(ha(i),ha(e))&&i.limitType===e.limitType}function Nf(i){return`${_l(ha(i))}|lt:${i.limitType}`}function ta(i){return`Query(target=${function Qu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${$s(s.value)}`;var s}).join(", ")}]`),en(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>$s(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>$s(t)).join(",")),`Target(${e})`}(ha(i))}; limitType=${i.limitType})`}function tc(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):jn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,h,g){const O=$a(l,h,g);return l.inclusive?O<=0:O<0}(t.startAt,Dl(t),s)||t.endAt&&!function(l,h,g){const O=$a(l,h,g);return l.inclusive?O>=0:O>0}(t.endAt,Dl(t),s)));var t,s}function ba(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function al(i){return(e,t)=>{let s=!1;for(const l of Dl(i)){const h=th(l,e,t);if(0!==h)return h;s=s||l.field.isKeyField()}return 0}}function th(i,e,t){const s=i.field.isKeyField()?jn.comparator(e.key,t.key):function(l,h,g){const O=h.data.field(l),ne=g.data.field(l);return null!==O&&null!==ne?As(O,ne):Pn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pn()}}function xu(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yn(e)?"-0":e}}function $c(i){return{integerValue:""+i}}function Lf(i,e){return nr(e)?$c(e):xu(i,e)}class Tu{constructor(){this._=void 0}}function Vg(i,e,t){return i instanceof ll?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof Gl?Bf(i,e):i instanceof ul?nh(i,e):function(s,l){const h=jl(s,l),g=nc(h)+nc(s._t);return vl(h)&&vl(s._t)?$c(g):xu(s.wt,g)}(i,e)}function zc(i,e,t){return i instanceof Gl?Bf(i,e):i instanceof ul?nh(i,e):t}function jl(i,e){return i instanceof Cl?vl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class ll extends Tu{}class Gl extends Tu{constructor(e){super(),this.elements=e}}function Bf(i,e){const t=rh(e);for(const s of i.elements)t.some(l=>_r(l,s))||t.push(s);return{arrayValue:{values:t}}}class ul extends Tu{constructor(e){super(),this.elements=e}}function nh(i,e){let t=rh(e);for(const s of i.elements)t=t.filter(l=>!_r(l,s));return{arrayValue:{values:t}}}class Cl extends Tu{constructor(e,t){super(),this.wt=e,this._t=t}}function nc(i){return ms(i.integerValue||i.doubleValue)}function rh(i){return Jo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Hl{constructor(e,t){this.field=e,this.transform=t}}class rc{constructor(e,t){this.version=e,this.transformResults=t}}class _s{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ps{}function ih(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Kl(i.key,_s.none()):new zl(i.key,i.data,_s.none());{const t=i.data,s=so.empty();let l=new Ji(Br.comparator);for(let h of e.fields)if(!l.has(h)){let g=t.field(h);null===g&&h.length>1&&(h=h.popLast(),g=t.field(h)),null===g?s.delete(h):s.set(h,g),l=l.add(h)}return new za(i.key,s,new cs(l.toArray()),_s.none())}}function Vf(i,e,t){i instanceof zl?function(s,l,h){const g=s.value.clone(),O=Wl(s.fieldTransforms,l,h.transformResults);g.setAll(O),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):i instanceof za?function(s,l,h){if(!ic(s.precondition,l))return void l.convertToUnknownDocument(h.version);const g=Wl(s.fieldTransforms,l,h.transformResults),O=l.data;O.setAll(oh(s)),O.setAll(g),l.convertToFoundDocument(h.version,O).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Al(i,e,t,s){return i instanceof zl?function(l,h,g,O){if(!ic(l.precondition,h))return g;const ne=l.value.clone(),we=Uf(l.fieldTransforms,O,h);return ne.setAll(we),h.convertToFoundDocument(h.version,ne).setHasLocalMutations(),null}(i,e,t,s):i instanceof za?function(l,h,g,O){if(!ic(l.precondition,h))return g;const ne=Uf(l.fieldTransforms,O,h),we=h.data;return we.setAll(oh(l)),we.setAll(ne),h.convertToFoundDocument(h.version,we).setHasLocalMutations(),null===g?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(qe=>qe.field))}(i,e,t,s):(g=t,ic(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g);var h,g}function Wc(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=jl(s.transform,l||null);null!=h&&(null===t&&(t=so.empty()),t.set(s.field,h))}return t||null}function sh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&ye(t,s,(l,h)=>function $l(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof Gl&&s instanceof Gl||t instanceof ul&&s instanceof ul?ye(t.elements,s.elements,_r):t instanceof Cl&&s instanceof Cl?_r(t._t,s._t):t instanceof ll&&s instanceof ll);var t,s}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class zl extends ps{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class za extends ps{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function oh(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Wl(i,e,t){const s=new Map;Mn(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],g=h.transform,O=e.data.field(h.field);s.set(h.field,zc(g,O,t[l]))}return s}function Uf(i,e,t){const s=new Map;for(const l of i){const h=l.transform,g=t.data.field(l.field);s.set(l.field,Vg(h,g,e))}return s}class Kl extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Il extends ps{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class To{constructor(e){this.count=e}}var ks,Ni;function sc(i){switch(i){default:return Pn();case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0}}function eo(i){if(void 0===i)return gt("GRPC error has no .code"),Qt.UNKNOWN;switch(i){case ks.OK:return Qt.OK;case ks.CANCELLED:return Qt.CANCELLED;case ks.UNKNOWN:return Qt.UNKNOWN;case ks.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case ks.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case ks.INTERNAL:return Qt.INTERNAL;case ks.UNAVAILABLE:return Qt.UNAVAILABLE;case ks.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case ks.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case ks.NOT_FOUND:return Qt.NOT_FOUND;case ks.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case ks.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case ks.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case ks.ABORTED:return Qt.ABORTED;case ks.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case ks.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case ks.DATA_LOSS:return Qt.DATA_LOSS;default:return Pn()}}(Ni=ks||(ks={}))[Ni.OK=0]="OK",Ni[Ni.CANCELLED=1]="CANCELLED",Ni[Ni.UNKNOWN=2]="UNKNOWN",Ni[Ni.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ni[Ni.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ni[Ni.NOT_FOUND=5]="NOT_FOUND",Ni[Ni.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ni[Ni.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ni[Ni.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ni[Ni.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ni[Ni.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ni[Ni.ABORTED=10]="ABORTED",Ni[Ni.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ni[Ni.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ni[Ni.INTERNAL=13]="INTERNAL",Ni[Ni.UNAVAILABLE=14]="UNAVAILABLE",Ni[Ni.DATA_LOSS=15]="DATA_LOSS";class Lo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,h]of s)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(t,s)=>{for(const[l,h]of s)e(l,h)})}isEmpty(){return Ll(this.inner)}size(){return this.innerSize}}const oc=new os(jn.comparator);function Bo(){return oc}const ac=new os(jn.comparator);function ql(...i){let e=ac;for(const t of i)e=e.insert(t.key,t);return e}function Vo(i){let e=ac;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function So(){return Yl()}function Kc(){return Yl()}function Yl(){return new Lo(i=>i.toString(),(i,e)=>i.isEqual(e))}const qc=new os(jn.comparator),Yc=new Ji(jn.comparator);function di(...i){let e=Yc;for(const t of i)e=e.add(t);return e}const ah=new Ji(I);function lc(){return ah}class Uo{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,t)),new Uo(me.min(),s,lc(),Bo(),di())}}class Ql{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ql(Cs.EMPTY_BYTE_STRING,t,di(),di(),di())}}class uc{constructor(e,t,s,l){this.gt=e,this.removedTargetIds=t,this.key=s,this.yt=l}}class Zl{constructor(e,t){this.targetId=e,this.It=t}}class lh{constructor(e,t,s=Cs.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class Qc{constructor(){this.Tt=0,this.Et=dc(),this.At=Cs.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=di(),t=di(),s=di();return this.Et.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Pn()}}),new Ql(this.At,this.Rt,e,t,s)}Dt(){this.bt=!1,this.Et=dc()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class jo{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Bo(),this.Bt=cc(),this.Lt=new Ji(I)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const s=this.Qt(t);switch(e.state){case 0:this.jt(t)&&s.Vt(e.resumeToken);break;case 1:s.kt(),s.Pt||s.Dt(),s.Vt(e.resumeToken);break;case 2:s.kt(),s.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(s.Ot(),s.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),s.Vt(e.resumeToken));break;default:Pn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((s,l)=>{this.jt(l)&&t(l)})}zt(e){const t=e.targetId,s=e.It.count,l=this.Ht(t);if(l){const h=l.target;if(Ga(h))if(0===s){const g=new jn(h.path);this.Kt(t,g,ys.newNoDocument(g,me.min()))}else Mn(1===s);else this.Jt(t)!==s&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((h,g)=>{const O=this.Ht(g);if(O){if(h.current&&Ga(O.target)){const ne=new jn(O.target.path);null!==this.$t.get(ne)||this.Xt(g,ne)||this.Kt(g,ne,ys.newNoDocument(ne,e))}h.vt&&(t.set(g,h.St()),h.Dt())}});let s=di();this.Bt.forEach((h,g)=>{let O=!0;g.forEachWhile(ne=>{const we=this.Ht(ne);return!we||2===we.purpose||(O=!1,!1)}),O&&(s=s.add(h))}),this.$t.forEach((h,g)=>g.setReadTime(e));const l=new Uo(e,t,this.Lt,this.$t,s);return this.$t=Bo(),this.Bt=cc(),this.Lt=new Ji(I),l}qt(e,t){if(!this.jt(e))return;const s=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,s),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,s){if(!this.jt(e))return;const l=this.Qt(e);this.Xt(e,t)?l.Ct(t,1):l.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),s&&(this.$t=this.$t.insert(t,s))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Qc,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Ji(I),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Qc),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function cc(){return new os(jn.comparator)}function dc(){return new os(jn.comparator)}const uh={asc:"ASCENDING",desc:"DESCENDING"},Wa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Su{constructor(e,t){this.databaseId=e,this.dt=t}}function Jl(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zc(i,e){return i.dt?e.toBase64():e.toUint8Array()}function ch(i,e){return Jl(i,e.toTimestamp())}function Ws(i){return Mn(!!i),me.fromTimestamp(function(e){const t=xo(e);return new $(t.seconds,t.nanos)}(i))}function Jc(i,e){return(t=i,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function dh(i){const e=Kt.fromString(i);return Mn(ed(e)),e}function ka(i,e){return Jc(i.databaseId,e.path)}function to(i,e){const t=dh(e);if(t.get(1)!==i.databaseId.projectId)throw new Cn(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Cn(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new jn(A(t))}function y(i,e){return Jc(i.databaseId,e)}function d(i){const e=dh(i);return 4===e.length?Kt.emptyPath():A(e)}function f(i){return new Kt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function A(i){return Mn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function le(i,e,t){return{name:ka(i,e),fields:t.value.mapValue.fields}}function Ue(i,e,t){const s=to(i,e.name),l=Ws(e.updateTime),h=new so({mapValue:{fields:e.fields}}),g=ys.newFoundDocument(s,l,h);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Hn(i,e){let t;if(e instanceof zl)t={update:le(i,e.key,e.value)};else if(e instanceof Kl)t={delete:ka(i,e.key)};else if(e instanceof za)t={update:le(i,e.key,e.data),updateMask:Xc(e.fieldMask)};else{if(!(e instanceof Il))return Pn();t={verify:ka(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const g=h.transform;if(g instanceof ll)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ul)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Cl)return{fieldPath:h.field.canonicalString(),increment:g._t};throw Pn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:ch(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Pn()),t;var l}function ur(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?_s.updateTime(Ws(l.updateTime)):void 0!==l.exists?_s.exists(l.exists):_s.none():_s.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(h,g){let O=null;"setToServerValue"in g?(Mn("REQUEST_TIME"===g.setToServerValue),O=new ll):"appendMissingElements"in g?O=new Gl(g.appendMissingElements.values||[]):"removeAllFromArray"in g?O=new ul(g.removeAllFromArray.values||[]):"increment"in g?O=new Cl(h,g.increment):Pn();const ne=Br.fromServerFormat(g.fieldPath);return new Hl(ne,O)}(i,l)):[];var l;if(e.update){const l=to(i,e.update.name),h=new so({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new cs((e.updateMask.fieldPaths||[]).map(we=>Br.fromServerFormat(we)));return new za(l,h,g,t,s)}return new zl(l,h,t,s)}if(e.delete){const l=to(i,e.delete);return new Kl(l,t)}if(e.verify){const l=to(i,e.verify);return new Il(l,t)}return Pn()}function kr(i,e){return{documents:[y(i,e.path)]}}function Fs(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=y(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=y(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(ne){if(0===ne.length)return;const we=ne.map(qe=>function(bt){if("=="===bt.op){if(ea(bt.value))return{unaryFilter:{field:dl(bt.field),op:"IS_NAN"}};if(Xo(bt.value))return{unaryFilter:{field:dl(bt.field),op:"IS_NULL"}}}else if("!="===bt.op){if(ea(bt.value))return{unaryFilter:{field:dl(bt.field),op:"IS_NOT_NAN"}};if(Xo(bt.value))return{unaryFilter:{field:dl(bt.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(bt.field),op:hc(bt.op),value:bt.value}}}(qe));return 1===we.length?we[0]:{compositeFilter:{op:"AND",filters:we}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(ne){if(0!==ne.length)return ne.map(we=>{return{field:dl((qe=we).field),direction:cl(qe.dir)};var qe})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const g=(we=e.limit,i.dt||en(we)?we:{value:we});var we,O,ne;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(t.structuredQuery.endAt={before:!(ne=e.endAt).inclusive,values:ne.position}),t}function Go(i){let e=d(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Mn(1===s);const qe=t.from[0];qe.allDescendants?l=qe.collectionId:e=e.child(qe.collectionId)}let h=[];t.where&&(h=hh(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(qe=>{return new Ul(hl((bt=qe).field),function(Jt){switch(Jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(bt.direction));var bt}));let O=null;t.limit&&(O=function(qe){let bt;return bt="object"==typeof qe?qe.value:qe,en(bt)?null:bt}(t.limit));let ne=null;var qe;t.startAt&&(ne=new ol((qe=t.startAt).values||[],!!qe.before));let we=null;return t.endAt&&(we=function(qe){return new ol(qe.values||[],!qe.before)}(t.endAt)),Xd(e,l,g,h,O,"F",ne,we)}function hh(i){return i?void 0!==i.unaryFilter?[fh(i)]:void 0!==i.fieldFilter?[fc(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>hh(e)).reduce((e,t)=>e.concat(t)):Pn():[]}function cl(i){return uh[i]}function hc(i){return Wa[i]}function dl(i){return{fieldPath:i.canonicalString()}}function hl(i){return Br.fromServerFormat(i.fieldPath)}function fc(i){return zs.create(hl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(i.fieldFilter.op),i.fieldFilter.value)}function fh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=hl(i.unaryFilter.field);return zs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=hl(i.unaryFilter.field);return zs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hl(i.unaryFilter.field);return zs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hl(i.unaryFilter.field);return zs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}function Xc(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ed(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Mo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ph(e)),e=td(i.get(t),e);return ph(e)}function td(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function ph(i){return i+"\x01\x01"}function Ka(i){const e=i.length;if(Mn(e>=2),2===e)return Mn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Kt.emptyPath();const t=e-2,s=[];let l="";for(let h=0;h<e;){const g=i.indexOf("\x01",h);switch((g<0||g>t)&&Pn(),i.charAt(g+1)){case"\x01":const O=i.substring(h,g);let ne;0===l.length?ne=O:(l+=O,ne=l,l=""),s.push(ne);break;case"\x10":l+=i.substring(h,g),l+="\0";break;case"\x11":l+=i.substring(h,g+1);break;default:Pn()}h=g+2}return new Kt(s)}const gh=["userId","batchId"];function nd(i,e){return[i,Mo(e)]}function mh(i,e,t){return[i,Mo(e),t]}const av={},lv=["prefixPath","collectionGroup","readTime","documentId"],Ug=["prefixPath","collectionGroup","documentId"],jg=["collectionGroup","readTime","prefixPath","documentId"],Ou=["canonicalId","targetId"],Gg=["targetId","path"],Hg=["path","targetId"],uv=["collectionId","parent"],yh=["indexId","uid"],cv=["uid","sequenceNumber"],$g=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zg=["indexId","uid","orderedDocumentKey"],Wg=["userId","collectionPath","documentId"],jf=["userId","collectionPath","largestBatchId"],Kg=["userId","collectionGroup","largestBatchId"],rd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],vh=[...rd,"documentOverlays"],Gf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_h=Gf,qg=[..._h,"indexConfiguration","indexState","indexEntries"];class id extends Uc{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ks(i,e){const t=Tn(i);return io.N(t.ee,e)}class Hf{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&Vf(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Al(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Al(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Kc();return this.mutations.forEach(l=>{const h=e.get(l.key),g=h.overlayedDocument;let O=this.applyToLocalView(g,h.mutatedFields);O=t.has(l.key)?null:O;const ne=ih(g,O);null!==ne&&s.set(l.key,ne),g.isValidDocument()||g.convertToNoDocument(me.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),di())}isEqual(e){return this.batchId===e.batchId&&ye(this.mutations,e.mutations,(t,s)=>sh(t,s))&&ye(this.baseMutations,e.baseMutations,(t,s)=>sh(t,s))}}class Eh{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Mn(e.mutations.length===s.length);let l=qc;const h=e.mutations;for(let g=0;g<h.length;g++)l=l.insert(h[g].key,s[g].version);return new Eh(e,t,s,l)}}class $f{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xl{constructor(e,t,s,l,h=me.min(),g=me.min(),O=Cs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=O}withSequenceNumber(e){return new Xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zf{constructor(e){this.ne=e}}function Kf(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ka(l=i.ne,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Jl(l,h.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:eu(e.version)};else{if(!e.isUnknownDocument())return Pn();s.unknownDocument={path:t.path.toArray(),version:eu(e.version)}}var l,h;return s}function qf(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function eu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(i){const e=new $(i.seconds,i.nanoseconds);return me.fromTimestamp(e)}function tu(i,e){const t=(e.baseMutations||[]).map(h=>ur(i.ne,h));for(let h=0;h<e.mutations.length-1;++h){const g=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(g.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const s=e.mutations.map(h=>ur(i.ne,h)),l=$.fromMillis(e.localWriteTimeMs);return new Hf(e.batchId,l,t,s)}function sd(i){const e=Ru(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ru(i.lastLimboFreeSnapshotVersion):me.min();let s;var l;return void 0!==i.query.documents?(Mn(1===(l=i.query).documents.length),s=ha(wl(d(l.documents[0])))):s=ha(Go(i.query)),new Xl(s,i.targetId,0,i.lastListenSequenceNumber,e,t,Cs.fromBase64String(i.resumeToken))}function Yg(i,e){const t=eu(e.snapshotVersion),s=eu(e.lastLimboFreeSnapshotVersion);let l;l=Ga(e.target)?kr(i.ne,e.target):Fs(i.ne,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_l(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function wa(i){const e=Go({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?eh(e,e.limit,"L"):e}function Yf(i,e){return new $f(e.largestBatchId,ur(i.ne,e.overlayMutation))}function Qf(i,e){const t=e.path.lastSegment();return[i,Mo(e.path.popLast()),t]}function Qg(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:eu(s.readTime),documentKey:Mo(s.documentKey.path),largestBatchId:s.largestBatchId}}class dv{getBundleMetadata(e,t){return Zg(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Ru(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Zg(e).put({bundleId:(s=t).id,createTime:eu(Ws(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Jg(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:wa(l.bundledQuery),readTime:Ru(l.readTime)};var l})}saveNamedQuery(e,t){return Jg(e).put({name:(s=t).name,readTime:eu(Ws(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Zg(i){return Ks(i,"bundles")}function Jg(i){return Ks(i,"namedQueries")}class od{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new od(e,t.uid||"")}getOverlay(e,t){return ad(e).get(Qf(this.userId,t)).next(s=>s?Yf(this.wt,s):null)}getOverlays(e,t){const s=So();return qt.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((h,g)=>{const O=new $f(t,g);l.push(this.ie(e,O))}),qt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(g=>l.add(Mo(g.getCollectionPath())));const h=[];return l.forEach(g=>{const O=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,s+1],!1,!0);h.push(ad(e).W("collectionPathOverlayIndex",O))}),qt.waitFor(h)}getOverlaysForCollection(e,t,s){const l=So(),h=Mo(t),g=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,Number.POSITIVE_INFINITY],!0);return ad(e).K("collectionPathOverlayIndex",g).next(O=>{for(const ne of O){const we=Yf(this.wt,ne);l.set(we.getKey(),we)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const h=So();let g;const O=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ad(e).J({index:"collectionGroupOverlayIndex",range:O},(ne,we,qe)=>{const bt=Yf(this.wt,we);h.size()<l||bt.largestBatchId===g?(h.set(bt.getKey(),bt),g=bt.largestBatchId):qe.done()}).next(()=>h)}ie(e,t){return ad(e).put(function(s,l,h){const[g,O,ne]=Qf(l,h.mutation.key);return{userId:l,collectionPath:O,documentId:ne,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Hn(s.ne,h.mutation)}}(this.wt,this.userId,t))}}function ad(i){return Ks(i,"documentOverlays")}class Pu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ms(e.integerValue));else if("doubleValue"in e){const s=ms(e.doubleValue);isNaN(s)?this.ce(t,13):(this.ce(t,15),yn(s)?t.ae(0):t.ae(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ce(t,20),"string"==typeof s?t.he(s):(t.he(`${s.seconds||""}`),t.ae(s.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(il(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ce(t,45),t.ae(s.latitude||0),t.ae(s.longitude||0)}else"mapValue"in e?Yu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Pn()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const s=e.fields||{};this.ce(t,55);for(const l of Object.keys(s))this.le(l,t),this.oe(s[l],t)}me(e,t){const s=e.values||[];this.ce(t,50);for(const l of s)this.oe(l,t)}_e(e,t){this.ce(t,37),jn.fromName(e).path.forEach(s=>{this.ce(t,60),this.ge(s,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function hv(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function hi(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const h=hv(255&t[l]);if(s+=h,8!==h)break}return s}(i);return Math.ceil(e/8)}Pu.ye=new Pu;class Xg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ie(s.value),s=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ie(s);else if(s<2048)this.Ie(960|s>>>6),this.Ie(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|s>>>12),this.Ie(128|63&s>>>6),this.Ie(128|63&s);else{const l=t.codePointAt(0);this.Ie(240|l>>>18),this.Ie(128|63&l>>>12),this.Ie(128|63&l>>>6),this.Ie(128|63&l)}}this.Te()}Pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const l=t.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}ve(e){const t=this.Ve(e),s=hi(t);this.Se(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}De(e){const t=this.Ve(e),s=hi(t);this.Se(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class em{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class tm{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class nu{constructor(){this.Me=new Xg,this.Fe=new em(this.Me),this.$e=new tm(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Oo{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Oo(this.indexId,this.documentKey,this.arrayValue,s)}}function ru(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=nm(i.arrayValue,e.arrayValue),0!==t?t:(t=nm(i.directionalValue,e.directionalValue),0!==t?t:jn.comparator(i.documentKey,e.documentKey)))}function nm(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class Zf{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const s=t;s.ht()?this.Ke=s:this.qe.push(s)}}Ge(e){const t=Us(e);if(void 0!==t&&!this.Qe(t))return!1;const s=aa(e);let l=0,h=0;for(;l<s.length&&this.Qe(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.Ke){const g=s[l];if(!this.je(this.Ke,g)||!this.We(this.Ue[h++],g))return!1;++l}for(;l<s.length;++l){const g=s[l];if(h>=this.Ue.length||!this.We(this.Ue[h++],g))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class xl{constructor(){this.ze=new ld}addToCollectionParentIndex(e,t){return this.ze.add(t),qt.resolve()}getCollectionParents(e,t){return qt.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return qt.resolve()}deleteFieldIndex(e,t){return qt.resolve()}getDocumentsMatchingTarget(e,t){return qt.resolve(null)}getIndexType(e,t){return qt.resolve(0)}getFieldIndexes(e,t){return qt.resolve([])}getNextCollectionGroupToUpdate(e){return qt.resolve(null)}getMinOffset(e,t){return qt.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,t){return qt.resolve(Vr.min())}updateCollectionGroup(e,t,s){return qt.resolve()}updateIndexEntries(e,t){return qt.resolve()}}class ld{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new Ji(Kt.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ji(Kt.comparator)).toArray()}}const ud=new Uint8Array(0);class Jf{constructor(e,t){this.user=e,this.databaseId=t,this.He=new ld,this.Je=new Lo(s=>_l(s),(s,l)=>El(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const h={collectionId:s,parent:Mo(l)};return fv(e).put(h)}return qt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[b(t),""],!1,!0);return fv(e).K(l).next(h=>{for(const g of h){if(g.collectionId!==t)break;s.push(Ka(g.parent))}return s})}addFieldIndex(e,t){const s=Xf(e),l={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var g;delete l.indexId;const h=s.add(l);if(t.indexState){const g=iu(e);return h.next(O=>{g.put(Qg(O,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return h.next()}deleteFieldIndex(e,t){const s=Xf(e),l=iu(e),h=pc(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=pc(e);let l=!0;const h=new Map;return qt.forEach(this.Ye(t),g=>this.Xe(e,g).next(O=>{l&&(l=!!O),h.set(g,O)})).next(()=>{if(l){let g=di();const O=[];return qt.forEach(h,(ne,we)=>{var qe;Ve("IndexedDbIndexManager",`Using index ${qe=ne,`id=${qe.indexId}|cg=${qe.collectionGroup}|f=${qe.fields.map(is=>`${is.fieldPath}:${is.kind}`).join(",")}`} to execute ${_l(t)}`);const bt=function(is,Ti){const Ki=Us(Ti);if(void 0===Ki)return null;for(const as of Zu(is,Ki.fieldPath))switch(as.op){case"array-contains-any":return as.value.arrayValue.values||[];case"array-contains":return[as.value]}return null}(we,ne),Jt=function(is,Ti){const Ki=new Map;for(const as of aa(Ti))for(const zo of Zu(is,as.fieldPath))switch(zo.op){case"==":case"in":Ki.set(as.fieldPath.canonicalString(),zo.value);break;case"not-in":case"!=":return Ki.set(as.fieldPath.canonicalString(),zo.value),Array.from(Ki.values())}return null}(we,ne),En=function(is,Ti){const Ki=[];let as=!0;for(const zo of aa(Ti)){const Gd=0===zo.kind?Yd(is,zo.fieldPath,is.startAt):Rf(is,zo.fieldPath,is.startAt);Ki.push(Gd.value),as&&(as=Gd.inclusive)}return new ol(Ki,as)}(we,ne),kn=function(is,Ti){const Ki=[];let as=!0;for(const zo of aa(Ti)){const Gd=0===zo.kind?Rf(is,zo.fieldPath,is.endAt):Yd(is,zo.fieldPath,is.endAt);Ki.push(Gd.value),as&&(as=Gd.inclusive)}return new ol(Ki,as)}(we,ne),ar=this.Ze(ne,we,En),yr=this.Ze(ne,we,kn),ji=this.tn(ne,we,Jt),ds=this.en(ne.indexId,bt,ar,En.inclusive,yr,kn.inclusive,ji);return qt.forEach(ds,is=>s.j(is,t.limit).next(Ti=>{Ti.forEach(Ki=>{const as=jn.fromSegments(Ki.documentKey);g.has(as)||(g=g.add(as),O.push(as))})}))}).next(()=>O)}return qt.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,s,l,h,g,O){const ne=(null!=t?t.length:1)*Math.max(s.length,h.length),we=ne/(null!=t?t.length:1),qe=[];for(let bt=0;bt<ne;++bt){const Jt=t?this.nn(t[bt/we]):ud,En=this.sn(e,Jt,s[bt%we],l),kn=this.rn(e,Jt,h[bt%we],g),ar=O.map(yr=>this.sn(e,Jt,yr,!0));qe.push(...this.createRange(En,kn,ar))}return qe}sn(e,t,s,l){const h=new Oo(e,jn.empty(),t,s);return l?h:h.Le()}rn(e,t,s,l){const h=new Oo(e,jn.empty(),t,s);return l?h.Le():h}Xe(e,t){const s=new Zf(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{let g=null;for(const O of h)s.Ge(O)&&(!g||O.fields.length>g.fields.length)&&(g=O);return g})}getIndexType(e,t){let s=2;return qt.forEach(this.Ye(t),l=>this.Xe(e,l).next(h=>{h?0!==s&&h.fields.length<function(g){let O=new Ji(Br.comparator),ne=!1;for(const we of g.filters){const qe=we;qe.field.isKeyField()||("array-contains"===qe.op||"array-contains-any"===qe.op?ne=!0:O=O.add(qe.field))}for(const we of g.orderBy)we.field.isKeyField()||(O=O.add(we.field));return O.size+(ne?1:0)}(l)&&(s=1):s=0})).next(()=>s)}on(e,t){const s=new nu;for(const l of aa(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const g=s.Be(l.kind);Pu.ye.re(h,g)}return s.Oe()}nn(e){const t=new nu;return Pu.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const s=new nu;return Pu.ye.re(_o(this.databaseId,t),s.Be(function(l){const h=aa(l);return 0===h.length?0:h[h.length-1].kind}(e))),s.Oe()}tn(e,t,s){if(null===s)return[];let l=[];l.push(new nu);let h=0;for(const g of aa(e)){const O=s[h++];for(const ne of l)if(this.cn(t,g.fieldPath)&&Jo(O))l=this.an(l,g,O);else{const we=ne.Be(g.kind);Pu.ye.re(O,we)}}return this.hn(l)}Ze(e,t,s){return this.tn(e,t,s.position)}hn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Oe();return t}an(e,t,s){const l=[...e],h=[];for(const g of s.arrayValue.values||[])for(const O of l){const ne=new nu;ne.seed(O.Oe()),Pu.ye.re(g,ne.Be(t.kind)),h.push(ne)}return h}cn(e,t){return!!e.filters.find(s=>s instanceof zs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Xf(e),l=iu(e);return(t?s.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.K()).next(h=>{const g=[];return qt.forEach(h,O=>l.get([O.indexId,this.uid]).next(ne=>{g.push(function(we,qe){const bt=qe?new tl(qe.sequenceNumber,new Vr(Ru(qe.readTime),new jn(Ka(qe.documentKey)),qe.largestBatchId)):tl.empty(),Jt=we.fields.map(([En,kn])=>new el(Br.fromServerFormat(En),kn));return new mo(we.indexId,we.collectionGroup,Jt,bt)}(O,ne))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const h=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:I(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=Xf(e),h=iu(e);return this.ln(e).next(g=>l.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(O=>qt.forEach(O,ne=>h.put(Qg(ne.indexId,this.user,g,s)))))}updateIndexEntries(e,t){const s=new Map;return qt.forEach(t,(l,h)=>{const g=s.get(l.collectionGroup);return(g?qt.resolve(g):this.getFieldIndexes(e,l.collectionGroup)).next(O=>(s.set(l.collectionGroup,O),qt.forEach(O,ne=>this.fn(e,l,ne).next(we=>{const qe=this.dn(h,ne);return we.isEqual(qe)?qt.resolve():this._n(e,h,ne,we,qe)}))))})}wn(e,t,s,l){return pc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.un(s,t.key),documentKey:t.key.path.toArray()})}mn(e,t,s,l){return pc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.un(s,t.key),t.key.path.toArray()])}fn(e,t,s){const l=pc(e);let h=new Ji(ru);return l.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.un(s,t)])},(g,O)=>{h=h.add(new Oo(s.indexId,t,O.arrayValue,O.directionalValue))}).next(()=>h)}dn(e,t){let s=new Ji(ru);const l=this.on(t,e);if(null==l)return s;const h=Us(t);if(null!=h){const g=e.data.field(h.fieldPath);if(Jo(g))for(const O of g.arrayValue.values||[])s=s.add(new Oo(t.indexId,e.key,this.nn(O),l))}else s=s.add(new Oo(t.indexId,e.key,ud,l));return s}_n(e,t,s,l,h){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(O,ne,we,qe,bt){const Jt=O.getIterator(),En=ne.getIterator();let kn=Pa(Jt),ar=Pa(En);for(;kn||ar;){let yr=!1,ji=!1;if(kn&&ar){const ds=we(kn,ar);ds<0?ji=!0:ds>0&&(yr=!0)}else null!=kn?ji=!0:yr=!0;yr?(qe(ar),ar=Pa(En)):ji?(bt(kn),kn=Pa(Jt)):(kn=Pa(Jt),ar=Pa(En))}}(l,h,ru,O=>{g.push(this.wn(e,t,s,O))},O=>{g.push(this.mn(e,t,s,O))}),qt.waitFor(g)}ln(e){let t=1;return iu(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((g,O)=>ru(g,O)).filter((g,O,ne)=>!O||0!==ru(g,ne[O-1]));const l=[];l.push(e);for(const g of s){const O=ru(g,e),ne=ru(g,t);if(0===O)l[0]=e.Le();else if(O>0&&ne<0)l.push(g),l.push(g.Le());else if(ne>0)break}l.push(t);const h=[];for(let g=0;g<l.length;g+=2)h.push(IDBKeyRange.bound([l[g].indexId,this.uid,l[g].arrayValue,l[g].directionalValue,ud,[]],[l[g+1].indexId,this.uid,l[g+1].arrayValue,l[g+1].directionalValue,ud,[]]));return h}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cd)}getMinOffset(e,t){return qt.mapArray(this.Ye(t),s=>this.Xe(e,s).next(l=>l||Pn())).next(cd)}}function fv(i){return Ks(i,"collectionParents")}function pc(i){return Ks(i,"indexEntries")}function Xf(i){return Ks(i,"indexConfiguration")}function iu(i){return Ks(i,"indexState")}function cd(i){Mn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Io(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Vr(e.readTime,e.documentKey,t)}const bh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ho{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ho(e,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wh(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),h=[],g=IDBKeyRange.only(t.batchId);let O=0;const ne=s.J({range:g},(qe,bt,Jt)=>(O++,Jt.delete()));h.push(ne.next(()=>{Mn(1===O)}));const we=[];for(const qe of t.mutations){const bt=mh(e,qe.key.path,t.batchId);h.push(l.delete(bt)),we.push(qe.key)}return qt.waitFor(h).next(()=>we)}function ep(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Pn();e=i.noDocument}return JSON.stringify(e).length}Ho.DEFAULT_COLLECTION_PERCENTILE=10,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ho.DEFAULT=new Ho(41943040,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ho.DISABLED=new Ho(-1,0,0);class Dh{constructor(e,t,s,l){this.userId=e,this.wt=t,this.indexManager=s,this.referenceDelegate=l,this.gn={}}static se(e,t,s,l){Mn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new Dh(h,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return su(e).J({index:"userMutationsIndex",range:s},(l,h,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const h=gc(e),g=su(e);return g.add({}).next(O=>{Mn("number"==typeof O);const ne=new Hf(O,t,s,l),we=function(Jt,En,kn){const ar=kn.baseMutations.map(ji=>Hn(Jt.ne,ji)),yr=kn.mutations.map(ji=>Hn(Jt.ne,ji));return{userId:En,batchId:kn.batchId,localWriteTimeMs:kn.localWriteTime.toMillis(),baseMutations:ar,mutations:yr}}(this.wt,this.userId,ne),qe=[];let bt=new Ji((Jt,En)=>I(Jt.canonicalString(),En.canonicalString()));for(const Jt of l){const En=mh(this.userId,Jt.key.path,O);bt=bt.add(Jt.key.path.popLast()),qe.push(g.put(we)),qe.push(h.put(En,av))}return bt.forEach(Jt=>{qe.push(this.indexManager.addToCollectionParentIndex(e,Jt))}),e.addOnCommittedListener(()=>{this.gn[O]=ne.keys()}),qt.waitFor(qe).next(()=>ne)})}lookupMutationBatch(e,t){return su(e).get(t).next(s=>s?(Mn(s.userId===this.userId),tu(this.wt,s)):null)}yn(e,t){return this.gn[t]?qt.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.gn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let h=null;return su(e).J({index:"userMutationsIndex",range:l},(g,O,ne)=>{O.userId===this.userId&&(Mn(O.batchId>=s),h=tu(this.wt,O)),ne.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return su(e).J({index:"userMutationsIndex",range:t,reverse:!0},(l,h,g)=>{s=h.batchId,g.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return su(e).K("userMutationsIndex",t).next(s=>s.map(l=>tu(this.wt,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=nd(this.userId,t.path),l=IDBKeyRange.lowerBound(s),h=[];return gc(e).J({range:l},(g,O,ne)=>{const[we,qe,bt]=g,Jt=Ka(qe);if(we===this.userId&&t.path.isEqual(Jt))return su(e).get(bt).next(En=>{if(!En)throw Pn();Mn(En.userId===this.userId),h.push(tu(this.wt,En))});ne.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ji(I);const l=[];return t.forEach(h=>{const g=nd(this.userId,h.path),O=IDBKeyRange.lowerBound(g),ne=gc(e).J({range:O},(we,qe,bt)=>{const[Jt,En,kn]=we,ar=Ka(En);Jt===this.userId&&h.path.isEqual(ar)?s=s.add(kn):bt.done()});l.push(ne)}),qt.waitFor(l).next(()=>this.pn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,h=nd(this.userId,s),g=IDBKeyRange.lowerBound(h);let O=new Ji(I);return gc(e).J({range:g},(ne,we,qe)=>{const[bt,Jt,En]=ne,kn=Ka(Jt);bt===this.userId&&s.isPrefixOf(kn)?kn.length===l&&(O=O.add(En)):qe.done()}).next(()=>this.pn(e,O))}pn(e,t){const s=[],l=[];return t.forEach(h=>{l.push(su(e).get(h).next(g=>{if(null===g)throw Pn();Mn(g.userId===this.userId),s.push(tu(this.wt,g))}))}),qt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return wh(e.ee,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),qt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return qt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return gc(e).J({range:s},(h,g,O)=>{if(h[0]===this.userId){const ne=Ka(h[1]);l.push(ne)}else O.done()}).next(()=>{Mn(0===l.length)})})}containsKey(e,t){return rm(e,this.userId,t)}Tn(e){return tp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rm(i,e,t){const s=nd(e,t.path),l=s[1],h=IDBKeyRange.lowerBound(s);let g=!1;return gc(i).J({range:h,H:!0},(O,ne,we)=>{const[qe,bt,Jt]=O;qe===e&&bt===l&&(g=!0),we.done()}).next(()=>g)}function su(i){return Ks(i,"mutations")}function gc(i){return Ks(i,"documentMutations")}function tp(i){return Ks(i,"mutationQueues")}class mc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new mc(0)}static Rn(){return new mc(-1)}}class pv{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const s=new mc(t.highestTargetId);return t.highestTargetId=s.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>me.fromTimestamp(new $(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.bn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Pn(e,l)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(s=>(s.targetCount+=1,this.Vn(t,s),this.Pn(e,s))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>dd(e).delete(t.targetId)).next(()=>this.bn(e)).next(s=>(Mn(s.targetCount>0),s.targetCount-=1,this.Pn(e,s)))}removeTargets(e,t,s){let l=0;const h=[];return dd(e).J((g,O)=>{const ne=sd(O);ne.sequenceNumber<=t&&null===s.get(ne.targetId)&&(l++,h.push(this.removeTargetData(e,ne)))}).next(()=>qt.waitFor(h)).next(()=>l)}forEachTarget(e,t){return dd(e).J((s,l)=>{const h=sd(l);t(h)})}bn(e){return np(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}Pn(e,t){return np(e).put("targetGlobalKey",t)}vn(e,t){return dd(e).put(Yg(this.wt,t))}Vn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=_l(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let h=null;return dd(e).J({range:l,index:"queryTargetsIndex"},(g,O,ne)=>{const we=sd(O);El(t,we.target)&&(h=we,ne.done())}).next(()=>h)}addMatchingKeys(e,t,s){const l=[],h=Tl(e);return t.forEach(g=>{const O=Mo(g.path);l.push(h.put({targetId:s,path:O})),l.push(this.referenceDelegate.addReference(e,s,g))}),qt.waitFor(l)}removeMatchingKeys(e,t,s){const l=Tl(e);return qt.forEach(t,h=>{const g=Mo(h.path);return qt.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(e,s,h)])})}removeMatchingKeysForTargetId(e,t){const s=Tl(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=Tl(e);let h=di();return l.J({range:s,H:!0},(g,O,ne)=>{const we=Ka(g[1]),qe=new jn(we);h=h.add(qe)}).next(()=>h)}containsKey(e,t){const s=Mo(t.path),l=IDBKeyRange.bound([s],[b(s)],!1,!0);let h=0;return Tl(e).J({index:"documentTargetsIndex",H:!0,range:l},([g,O],ne,we)=>{0!==g&&(h++,we.done())}).next(()=>h>0)}te(e,t){return dd(e).get(t).next(s=>s?sd(s):null)}}function dd(i){return Ks(i,"targets")}function np(i){return Ks(i,"targetGlobal")}function Tl(i){return Ks(i,"targetDocuments")}function im([i,e],[t,s]){const l=I(i,t);return 0===l?I(e,s):l}class rp{constructor(e){this.Sn=e,this.buffer=new Ji(im),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();im(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y0{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){vo(s)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield la(s)}yield t.kn(3e5)}))}}class v0{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return qt.resolve(js.ot);const s=new rp(t);return this.On.forEachTarget(e,l=>s.xn(l.sequenceNumber)).next(()=>this.On.Fn(e,l=>s.xn(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.On.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),qt.resolve(bh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bh):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let s,l,h,g,O,ne,we;const qe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(bt=>(bt>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${bt}`),l=this.params.maximumSequenceNumbersToCollect):l=bt,g=Date.now(),this.nthSequenceNumber(e,l))).next(bt=>(s=bt,O=Date.now(),this.removeTargets(e,s,t))).next(bt=>(h=bt,ne=Date.now(),this.removeOrphanedDocuments(e,s))).next(bt=>(we=Date.now(),ce()<=xe.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-qe}ms\n\tDetermined least recently used ${l} in `+(O-g)+`ms\n\tRemoved ${h} targets in `+(ne-O)+`ms\n\tRemoved ${bt} documents in `+(we-ne)+`ms\nTotal Duration: ${we-qe}ms`),qt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:bt})))}}class _0{constructor(e,t){this.db=e,this.garbageCollector=new v0(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}Bn(e){let t=0;return this.Fn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(s,l)=>t(l))}addReference(e,t,s){return ip(e,s)}removeReference(e,t,s){return ip(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return ip(e,t)}Un(e,t){return function(s,l){let h=!1;return tp(s).Y(g=>rm(s,g,l).next(O=>(O&&(h=!0),qt.resolve(!O)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Ln(e,(g,O)=>{if(O<=t){const ne=this.Un(e,g).next(we=>{if(!we)return h++,s.getEntry(e,g).next(()=>(s.removeEntry(g,me.min()),Tl(e).delete([0,Mo(g.path)])))});l.push(ne)}}).next(()=>qt.waitFor(l)).next(()=>s.apply(e)).next(()=>h)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return ip(e,t)}Ln(e,t){const s=Tl(e);let l,h=js.ot;return s.J({index:"documentTargetsIndex"},([g,O],{path:ne,sequenceNumber:we})=>{0===g?(h!==js.ot&&t(new jn(Ka(l)),h),h=we,l=ne):h=js.ot}).next(()=>{h!==js.ot&&t(new jn(Ka(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ip(i,e){return Tl(i).put((s=i.currentSequenceNumber,{targetId:0,path:Mo(e.path),sequenceNumber:s}));var s}class gv{constructor(){this.changes=new Lo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?qt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E0{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return yc(e).put(s)}removeEntry(e,t,s){return yc(e).delete(function(l,h){const g=l.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],qf(h),g[g.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.qn(e,s)))}getEntry(e,t){let s=ys.newInvalidDocument(t);return yc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fa(t))},(l,h)=>{s=this.Kn(t,h)}).next(()=>s)}Gn(e,t){let s={size:0,document:ys.newInvalidDocument(t)};return yc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Fa(t))},(l,h)=>{s={document:this.Kn(t,h),size:ep(h)}}).next(()=>s)}getEntries(e,t){let s=Bo();return this.Qn(e,t,(l,h)=>{const g=this.Kn(l,h);s=s.insert(l,g)}).next(()=>s)}jn(e,t){let s=Bo(),l=new os(jn.comparator);return this.Qn(e,t,(h,g)=>{const O=this.Kn(h,g);s=s.insert(h,O),l=l.insert(h,ep(g))}).next(()=>({documents:s,Wn:l}))}Qn(e,t,s){if(t.isEmpty())return qt.resolve();let l=new Ji(sm);t.forEach(ne=>l=l.add(ne));const h=IDBKeyRange.bound(Fa(l.first()),Fa(l.last())),g=l.getIterator();let O=g.getNext();return yc(e).J({index:"documentKeyIndex",range:h},(ne,we,qe)=>{const bt=jn.fromSegments([...we.prefixPath,we.collectionGroup,we.documentId]);for(;O&&sm(O,bt)<0;)s(O,null),O=g.getNext();O&&O.isEqual(bt)&&(s(O,we),O=g.hasNext()?g.getNext():null),O?qe.q(Fa(O)):qe.done()}).next(()=>{for(;O;)s(O,null),O=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,s){const l=[t.popLast().toArray(),t.lastSegment(),qf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yc(e).K(IDBKeyRange.bound(l,h,!0)).next(g=>{let O=Bo();for(const ne of g){const we=this.Kn(jn.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);O=O.insert(we.key,we)}return O})}getAllFromCollectionGroup(e,t,s,l){let h=Bo();const g=Ch(t,s),O=Ch(t,Vr.max());return yc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,O,!0)},(ne,we,qe)=>{const bt=this.Kn(jn.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);h=h.insert(bt.key,bt),h.size===l&&qe.done()}).next(()=>h)}newChangeBuffer(e){return new b0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yv(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}qn(e,t){return yv(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const s=function Wf(i,e){let t;if(e.document)t=Ue(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=jn.fromSegments(e.noDocument.path),l=Ru(e.noDocument.readTime);t=ys.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pn();{const s=jn.fromSegments(e.unknownDocument.path),l=Ru(e.unknownDocument.version);t=ys.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new $(s[0],s[1]);return me.fromTimestamp(l)}(e.readTime)),t}(this.wt,t);if(!s.isNoDocument()||!s.version.isEqual(me.min()))return s}return ys.newInvalidDocument(e)}}function mv(i){return new E0(i)}class b0 extends gv{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Lo(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new Ji((h,g)=>I(h.canonicalString(),g.canonicalString()));return this.changes.forEach((h,g)=>{const O=this.Hn.get(h);if(t.push(this.zn.removeEntry(e,h,O.readTime)),g.isValidDocument()){const ne=Kf(this.zn.wt,g);l=l.add(h.path.popLast()),s+=ep(ne)-O.size,t.push(this.zn.addEntry(e,h,ne))}else if(s-=O.size,this.trackRemovals){const ne=Kf(this.zn.wt,g.convertToNoDocument(me.min()));t.push(this.zn.addEntry(e,h,ne))}}),l.forEach(h=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.zn.updateMetadata(e,s)),qt.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(s=>(this.Hn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:s,Wn:l})=>(l.forEach((h,g)=>{this.Hn.set(h,{size:g,readTime:s.get(h).readTime})}),s))}}function yv(i){return Ks(i,"remoteDocumentGlobal")}function yc(i){return Ks(i,"remoteDocumentsV14")}function Fa(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ch(i,e){const t=e.documentKey.path.toArray();return[i,qf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sm(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let h=0;h<t.length-2&&h<s.length-2;++h)if(l=I(t[h],s[h]),l)return l;return l=I(t.length,s.length),l||(l=I(t[t.length-2],s[s.length-2]),l||I(t[t.length-1],s[s.length-1]))}class om{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ah{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.getBaseDocument(e,t,s))).next(l=>(null!==s&&Al(s.mutation,l,cs.empty(),$.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,di()).next(()=>s))}getLocalViewOfDocuments(e,t,s=di()){const l=So();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(h=>{let g=ql();return h.forEach((O,ne)=>{g=g.insert(O,ne.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const s=So();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,di()))}populateOverlays(e,t,s){const l=[];return s.forEach(h=>{t.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(e,l).next(h=>{h.forEach((g,O)=>{t.set(g,O)})})}computeViews(e,t,s,l){let h=Bo();const g=Yl(),O=Yl();return t.forEach((ne,we)=>{const qe=s.get(we.key);l.has(we.key)&&(void 0===qe||qe.mutation instanceof za)?h=h.insert(we.key,we):void 0!==qe&&(g.set(we.key,qe.mutation.getFieldMask()),Al(qe.mutation,we,qe.mutation.getFieldMask(),$.now()))}),this.recalculateAndSaveOverlays(e,h).next(ne=>(ne.forEach((we,qe)=>g.set(we,qe)),t.forEach((we,qe)=>{var bt;return O.set(we,new om(qe,null!==(bt=g.get(we))&&void 0!==bt?bt:null))}),O))}recalculateAndSaveOverlays(e,t){const s=Yl();let l=new os((g,O)=>g-O),h=di();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const O of g)O.keys().forEach(ne=>{const we=t.get(ne);if(null===we)return;let qe=s.get(ne)||cs.empty();qe=O.applyToLocalView(we,qe),s.set(ne,qe);const bt=(l.get(O.batchId)||di()).add(ne);l=l.insert(O.batchId,bt)})}).next(()=>{const g=[],O=l.getReverseIterator();for(;O.hasNext();){const ne=O.getNext(),we=ne.key,qe=ne.value,bt=Kc();qe.forEach(Jt=>{if(!h.has(Jt)){const En=ih(t.get(Jt),s.get(Jt));null!==En&&bt.set(Jt,En),h=h.add(Jt)}}),g.push(this.documentOverlayCache.saveOverlays(e,we,bt))}return qt.waitFor(g)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return jn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(h=>{const g=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):qt.resolve(So());let O=-1,ne=h;return g.next(we=>qt.forEach(we,(qe,bt)=>(O<bt.largestBatchId&&(O=bt.largestBatchId),h.get(qe)?qt.resolve():this.getBaseDocument(e,qe,bt).next(Jt=>{ne=ne.insert(qe,Jt)}))).next(()=>this.populateOverlays(e,we,h)).next(()=>this.computeViews(e,ne,we,di())).next(qe=>({batchId:O,changes:Vo(qe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jn(t)).next(s=>{let l=ql();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let h=ql();return this.indexManager.getCollectionParents(e,l).next(g=>qt.forEach(g,O=>{const ne=(we=t,qe=O.child(l),new Ea(qe,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,qe;return this.getDocumentsMatchingCollectionQuery(e,ne,s).next(we=>{we.forEach((qe,bt)=>{h=h.insert(qe,bt)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(h=>(l=h,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(h=>{h.forEach((O,ne)=>{const we=ne.getKey();null===l.get(we)&&(l=l.insert(we,ys.newInvalidDocument(we)))});let g=ql();return l.forEach((O,ne)=>{const we=h.get(O);void 0!==we&&Al(we.mutation,ne,cs.empty(),$.now()),tc(t,ne)&&(g=g.insert(O,ne))}),g})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):qt.resolve(ys.newInvalidDocument(t))}}class am{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return qt.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var s;return this.Jn.set(t.id,{id:(s=t).id,version:s.version,createTime:Ws(s.createTime)}),qt.resolve()}getNamedQuery(e,t){return qt.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(s=t).name,query:wa(s.bundledQuery),readTime:Ws(s.readTime)}),qt.resolve();var s}}class sp{constructor(){this.overlays=new os(jn.comparator),this.Xn=new Map}getOverlay(e,t){return qt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=So();return qt.forEach(t,l=>this.getOverlay(e,l).next(h=>{null!==h&&s.set(l,h)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,h)=>{this.ie(e,t,h)}),qt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.Xn.get(s);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Xn.delete(s)),qt.resolve()}getOverlaysForCollection(e,t,s){const l=So(),h=t.length+1,g=new jn(t.child("")),O=this.overlays.getIteratorFrom(g);for(;O.hasNext();){const ne=O.getNext().value,we=ne.getKey();if(!t.isPrefixOf(we.path))break;we.path.length===h&&ne.largestBatchId>s&&l.set(ne.getKey(),ne)}return qt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new os((we,qe)=>we-qe);const g=this.overlays.getIterator();for(;g.hasNext();){const we=g.getNext().value;if(we.getKey().getCollectionGroup()===t&&we.largestBatchId>s){let qe=h.get(we.largestBatchId);null===qe&&(qe=So(),h=h.insert(we.largestBatchId,qe)),qe.set(we.getKey(),we)}}const O=So(),ne=h.getIterator();for(;ne.hasNext()&&(ne.getNext().value.forEach((we,qe)=>O.set(we,qe)),!(O.size()>=l)););return qt.resolve(O)}ie(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const g=this.Xn.get(l.largestBatchId).delete(s.key);this.Xn.set(l.largestBatchId,g)}this.overlays=this.overlays.insert(s.key,new $f(t,s));let h=this.Xn.get(t);void 0===h&&(h=di(),this.Xn.set(t,h)),this.Xn.set(t,h.add(s.key))}}class op{constructor(){this.Zn=new Ji(Ms.ts),this.es=new Ji(Ms.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new Ms(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new Ms(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new jn(new Kt([])),s=new Ms(t,e),l=new Ms(t,e+1),h=[];return this.es.forEachInRange([s,l],g=>{this.rs(g),h.push(g.key)}),h}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new jn(new Kt([])),s=new Ms(t,e),l=new Ms(t,e+1);let h=di();return this.es.forEachInRange([s,l],g=>{h=h.add(g.key)}),h}containsKey(e){const t=new Ms(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ms{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return jn.comparator(e.key,t.key)||I(e.ls,t.ls)}static ns(e,t){return I(e.ls,t.ls)||jn.comparator(e.key,t.key)}}class lm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Ji(Ms.ts)}checkEmpty(e){return qt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const h=this.fs;this.fs++;const g=new Hf(h,t,s,l);this.mutationQueue.push(g);for(const O of l)this.ds=this.ds.add(new Ms(O.key,h)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return qt.resolve(g)}lookupMutationBatch(e,t){return qt.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ws(t+1),h=l<0?0:l;return qt.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return qt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return qt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ms(t,0),l=new Ms(t,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([s,l],g=>{const O=this._s(g.ls);h.push(O)}),qt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ji(I);return t.forEach(l=>{const h=new Ms(l,0),g=new Ms(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,g],O=>{s=s.add(O.ls)})}),qt.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;jn.isDocumentKey(h)||(h=h.child(""));const g=new Ms(new jn(h),0);let O=new Ji(I);return this.ds.forEachWhile(ne=>{const we=ne.key.path;return!!s.isPrefixOf(we)&&(we.length===l&&(O=O.add(ne.ls)),!0)},g),qt.resolve(this.gs(O))}gs(e){const t=[];return e.forEach(s=>{const l=this._s(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Mn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let s=this.ds;return qt.forEach(t.mutations,l=>{const h=new Ms(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.ds=s})}In(e){}containsKey(e,t){const s=new Ms(t,0),l=this.ds.firstAfterOrEqual(s);return qt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return qt.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vv{constructor(e){this.ps=e,this.docs=new os(jn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,g=this.ps(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return qt.resolve(s?s.document.mutableCopy():ys.newInvalidDocument(t))}getEntries(e,t){let s=Bo();return t.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():ys.newInvalidDocument(l))}),qt.resolve(s)}getAllFromCollection(e,t,s){let l=Bo();const h=new jn(t.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:O,value:{document:ne}}=g.getNext();if(!t.isPrefixOf(O.path))break;O.path.length>t.length+1||Io(Fl(ne),s)<=0||(l=l.insert(ne.key,ne.mutableCopy()))}return qt.resolve(l)}getAllFromCollectionGroup(e,t,s,l){Pn()}Is(e,t){return qt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ap(this)}getSize(e){return qt.resolve(this.size)}}class ap extends gv{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.zn.addEntry(e,l)):this.zn.removeEntry(s)}),qt.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class _v{constructor(e){this.persistence=e,this.Ts=new Lo(t=>_l(t),El),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Es=0,this.As=new op,this.targetCount=0,this.Rs=mc.An()}forEachTarget(e,t){return this.Ts.forEach((s,l)=>t(l)),qt.resolve()}getLastRemoteSnapshotVersion(e){return qt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),qt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Es&&(this.Es=t),qt.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new mc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,qt.resolve()}updateTargetData(e,t){return this.vn(t),qt.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,qt.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.Ts.forEach((g,O)=>{O.sequenceNumber<=t&&null===s.get(O.targetId)&&(this.Ts.delete(g),h.push(this.removeMatchingKeysForTargetId(e,O.targetId)),l++)}),qt.waitFor(h).next(()=>l)}getTargetCount(e){return qt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Ts.get(t)||null;return qt.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),qt.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(g=>{h.push(l.markPotentiallyOrphaned(e,g))}),qt.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),qt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return qt.resolve(s)}containsKey(e,t){return qt.resolve(this.As.containsKey(t))}}class lp{constructor(e,t){this.bs={},this.overlays={},this.Ps=new js(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new _v(this),this.indexManager=new xl,this.remoteDocumentCache=new vv(s=>this.referenceDelegate.Ss(s)),this.wt=new zf(t),this.Ds=new am(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.bs[e.toKey()];return s||(s=new lm(t,this.referenceDelegate),this.bs[e.toKey()]=s),s}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ve("MemoryPersistence","Starting transaction:",e);const l=new Ev(this.Ps.next());return this.referenceDelegate.Cs(),s(l).next(h=>this.referenceDelegate.xs(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ns(e,t){return qt.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class Ev extends Uc{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.ks=new op,this.Os=null}static Ms(e){return new Ih(e)}get Fs(){if(this.Os)return this.Os;throw Pn()}addReference(e,t,s){return this.ks.addReference(s,t),this.Fs.delete(s.toString()),qt.resolve()}removeReference(e,t,s){return this.ks.removeReference(s,t),this.Fs.add(s.toString()),qt.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),qt.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(l=>this.Fs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Fs.add(h.toString()))}).next(()=>s.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qt.forEach(this.Fs,s=>{const l=jn.fromPath(s);return this.$s(e,l).next(h=>{h||t.removeEntry(l,me.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return qt.or([()=>qt.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class hd{constructor(e){this.wt=e}O(e,t,s,l){const h=new va("createOrUpgrade",t);var O;s<1&&l>=1&&(e.createObjectStore("owner"),(O=e).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gh,{unique:!0}),O.createObjectStore("documentMutations"),ku(e),function(O){O.createObjectStore("remoteDocuments")}(e));let g=qt.resolve();return s<3&&l>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(e),ku(e)),g=g.next(()=>function(O){const ne=O.store("targetGlobal"),we={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:me.min().toTimestamp(),targetCount:0};return ne.put("targetGlobalKey",we)}(h))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(O,ne){return ne.store("mutations").K().next(we=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gh,{unique:!0});const qe=ne.store("mutations"),bt=we.map(Jt=>qe.put(Jt));return qt.waitFor(bt)})}(e,h))),g=g.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(g=g.next(()=>this.Bs(h))),s<6&&l>=6&&(g=g.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(h)))),s<7&&l>=7&&(g=g.next(()=>this.Us(h))),s<8&&l>=8&&(g=g.next(()=>this.qs(e,h))),s<9&&l>=9&&(g=g.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(g=g.next(()=>this.Ks(h))),s<11&&l>=11&&(g=g.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(g=g.next(()=>{!function(O){const ne=O.createObjectStore("documentOverlays",{keyPath:Wg});ne.createIndex("collectionPathOverlayIndex",jf,{unique:!1}),ne.createIndex("collectionGroupOverlayIndex",Kg,{unique:!1})}(e)})),s<13&&l>=13&&(g=g.next(()=>function(O){const ne=O.createObjectStore("remoteDocumentsV14",{keyPath:lv});ne.createIndex("documentKeyIndex",Ug),ne.createIndex("collectionGroupIndex",jg)}(e)).next(()=>this.Gs(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(g=g.next(()=>this.Qs(e,h))),s<15&&l>=15&&(g=g.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:yh}).createIndex("sequenceNumberIndex",cv,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:$g}).createIndex("documentKeyIndex",zg,{unique:!1})}(e))),g}Ls(e){let t=0;return e.store("remoteDocuments").J((s,l)=>{t+=ep(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Bs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.K().next(l=>qt.forEach(l,h=>{const g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return s.K("userMutationsIndex",g).next(O=>qt.forEach(O,ne=>{Mn(ne.userId===h.userId);const we=tu(this.wt,ne);return wh(e,h.userId,we).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return s.J((g,O)=>{const ne=new Kt(g),we=[0,Mo(ne)];h.push(t.get(we).next(qe=>qe?qt.resolve():t.put({targetId:0,path:Mo(ne),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>qt.waitFor(h))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:uv});const s=t.store("collectionParents"),l=new ld,h=g=>{if(l.add(g)){const O=g.lastSegment(),ne=g.popLast();return s.put({collectionId:O,parent:Mo(ne)})}};return t.store("remoteDocuments").J({H:!0},(g,O)=>{const ne=new Kt(g);return h(ne.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([g,O,ne],we)=>{const qe=Ka(O);return h(qe.popLast())}))}Ks(e){const t=e.store("targets");return t.J((s,l)=>{const h=sd(l),g=Yg(this.wt,h);return t.put(g)})}Gs(e,t){const s=t.store("remoteDocuments"),l=[];return s.J((h,g)=>{const O=t.store("remoteDocumentsV14"),ne=(we=g,we.document?new jn(Kt.fromString(we.document.name).popFirst(5)):we.noDocument?jn.fromSegments(we.noDocument.path):we.unknownDocument?jn.fromSegments(we.unknownDocument.path):Pn()).path.toArray();var we;const qe={prefixPath:ne.slice(0,ne.length-2),collectionGroup:ne[ne.length-2],documentId:ne[ne.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};l.push(O.put(qe))}).next(()=>qt.waitFor(l))}Qs(e,t){const s=t.store("mutations"),l=mv(this.wt),h=new lp(Ih.Ms,this.wt.ne);return s.K().next(g=>{const O=new Map;return g.forEach(ne=>{var we;let qe=null!==(we=O.get(ne.userId))&&void 0!==we?we:di();tu(this.wt,ne).keys().forEach(bt=>qe=qe.add(bt)),O.set(ne.userId,qe)}),qt.forEach(O,(ne,we)=>{const qe=new S(we),bt=od.se(this.wt,qe),Jt=h.getIndexManager(qe),En=Dh.se(qe,this.wt,Jt,h.referenceDelegate);return new Ah(l,En,bt,Jt).recalculateAndSaveOverlaysForDocumentKeys(new id(t,js.ot),ne).next()})})}}function ku(i){i.createObjectStore("targetDocuments",{keyPath:Gg}).createIndex("documentTargetsIndex",Hg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ou,{unique:!0}),i.createObjectStore("targetGlobal")}const fd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ou{constructor(e,t,s,l,h,g,O,ne,we,qe,bt=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.js=h,this.window=g,this.document=O,this.Ws=we,this.zs=qe,this.Hs=bt,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Jt=>Promise.resolve(),!ou.V())throw new Cn(Qt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _0(this,l),this.ei=t+"main",this.wt=new zf(ne),this.ni=new io(this.ei,this.Hs,new hd(this.wt)),this.Vs=new pv(this.referenceDelegate,this.wt),this.remoteDocumentCache=mv(this.wt),this.Ds=new dv,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===qe&&gt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Cn(Qt.FAILED_PRECONDITION,fd);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new js(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var s=(0,Ne.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ne.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ml(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(vo(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Sl(e).get("owner").next(t=>qt.resolve(this.di(t)))}_i(e){return Ml(e).delete(this.clientId)}wi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Ks(s,"clientMetadata");return l.K().next(h=>{const g=e.gi(h,18e5),O=h.filter(ne=>-1===g.indexOf(ne));return qt.forEach(O,ne=>l.delete(ne.clientId)).next(()=>O)})}).catch(()=>[]);if(e.si)for(const s of t)e.si.removeItem(e.yi(s.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?qt.resolve(!0):Sl(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Cn(Qt.FAILED_PRECONDITION,fd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ml(e).K().next(s=>void 0===this.gi(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,O=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&O)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new id(t,js.ot);return e.li(s).next(()=>e._i(s))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(s=>this.mi(s.updateTimeMs,t)&&!this.pi(s.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Ml(e).K().next(t=>this.gi(t,18e5).map(s=>s.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Dh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Jf(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return od.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,s){Ve("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=15===(g=this.Hs)?qg:14===g?_h:13===g?Gf:12===g?vh:11===g?rd:void Pn();var g;let O;return this.ni.runTransaction(e,l,h,ne=>(O=new id(ne,this.Ps?this.Ps.next():js.ot),"readwrite-primary"===t?this.ai(O).next(we=>!!we||this.hi(O)).next(we=>{if(!we)throw gt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Cn(Qt.FAILED_PRECONDITION,Qo);return s(O)}).next(we=>this.fi(O).next(()=>we)):this.bi(O).next(()=>s(O)))).then(ne=>(O.raiseOnCommittedEvent(),ne))}bi(e){return Sl(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Cn(Qt.FAILED_PRECONDITION,fd)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sl(e).put("owner",t)}static V(){return io.V()}li(e){const t=Sl(e);return t.get("owner").next(s=>this.di(s)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qt.resolve())}mi(e,t){const s=Date.now();return!(e<s-t||e>s&&(gt(`Detected an update time that is in the future: ${e} > ${s}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,je.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const s=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){gt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sl(i){return Ks(i,"owner")}function Ml(i){return Ks(i,"clientMetadata")}function up(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class xh{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Pi=s,this.vi=l}static Vi(e,t){let s=di(),l=di();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new xh(e,t.fromCache,s,l)}}class cp{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,s,l){return this.Ci(e,t).next(h=>h||this.xi(e,t,l,s)).next(h=>h||this.Ni(e,t))}Ci(e,t){return qt.resolve(null)}xi(e,t,s,l){return function Ff(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||l.isEqual(me.min())?this.Ni(e,t):this.Di.getDocuments(e,s).next(h=>{const g=this.ki(t,h);return this.Oi(t,g,s,l)?this.Ni(e,t):(ce()<=xe.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ta(t)),this.Mi(e,g,t,Yo(l,-1)))})}ki(e,t){let s=new Ji(al(e));return t.forEach((l,h)=>{tc(e,h)&&(s=s.add(h))}),s}Oi(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ni(e,t){return ce()<=xe.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",ta(t)),this.Di.getDocumentsMatchingQuery(e,t,Vr.min())}Mi(e,t,s,l){return this.Di.getDocumentsMatchingQuery(e,s,l).next(h=>(t.forEach(g=>{h=h.insert(g.key,g)}),h))}}class dp{constructor(e,t,s,l){this.persistence=e,this.Fi=t,this.wt=l,this.$i=new os(I),this.Bi=new Lo(h=>_l(h),El),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(s)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ah(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Th(i,e,t,s){return new dp(i,e,t,s)}function hp(i,e){return vc.apply(this,arguments)}function vc(){return vc=(0,Ne.Z)(function*(i,e){const t=Tn(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,t.qi(e),t.mutationQueue.getAllMutationBatches(s))).next(h=>{const g=[],O=[];let ne=di();for(const we of l){g.push(we.batchId);for(const qe of we.mutations)ne=ne.add(qe.key)}for(const we of h){O.push(we.batchId);for(const qe of we.mutations)ne=ne.add(qe.key)}return t.localDocuments.getDocuments(s,ne).next(we=>({Ki:we,removedBatchIds:g,addedBatchIds:O}))})})}),vc.apply(this,arguments)}function bv(i,e){const t=Tn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),h=t.Ui.newChangeBuffer({trackRemovals:!0});return function(g,O,ne,we){const qe=ne.batch,bt=qe.keys();let Jt=qt.resolve();return bt.forEach(En=>{Jt=Jt.next(()=>we.getEntry(O,En)).next(kn=>{const ar=ne.docVersions.get(En);Mn(null!==ar),kn.version.compareTo(ar)<0&&(qe.applyToRemoteDocument(kn,ne),kn.isValidDocument()&&(kn.setReadTime(ne.commitVersion),we.addEntry(kn)))})}),Jt.next(()=>g.mutationQueue.removeMutationBatch(O,qe))}(t,s,e,h).next(()=>h.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let O=di();for(let ne=0;ne<g.mutationResults.length;++ne)g.mutationResults[ne].transformResults.length>0&&(O=O.add(g.batch.mutations[ne].key));return O}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function fp(i){const e=Tn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function w0(i,e){const t=Tn(i),s=e.snapshotVersion;let l=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=t.Ui.newChangeBuffer({trackRemovals:!0});l=t.$i;const O=[];e.targetChanges.forEach((qe,bt)=>{const Jt=l.get(bt);if(!Jt)return;O.push(t.Vs.removeMatchingKeys(h,qe.removedDocuments,bt).next(()=>t.Vs.addMatchingKeys(h,qe.addedDocuments,bt)));let En=Jt.withSequenceNumber(h.currentSequenceNumber);var kn,ar,yr;e.targetMismatches.has(bt)?En=En.withResumeToken(Cs.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):qe.resumeToken.approximateByteSize()>0&&(En=En.withResumeToken(qe.resumeToken,s)),l=l.insert(bt,En),ar=En,yr=qe,(0===(kn=Jt).resumeToken.approximateByteSize()||ar.snapshotVersion.toMicroseconds()-kn.snapshotVersion.toMicroseconds()>=3e8||yr.addedDocuments.size+yr.modifiedDocuments.size+yr.removedDocuments.size>0)&&O.push(t.Vs.updateTargetData(h,En))});let ne=Bo(),we=di();if(e.documentUpdates.forEach(qe=>{e.resolvedLimboDocuments.has(qe)&&O.push(t.persistence.referenceDelegate.updateLimboDocument(h,qe))}),O.push(pp(h,g,e.documentUpdates).next(qe=>{ne=qe.Gi,we=qe.Qi})),!s.isEqual(me.min())){const qe=t.Vs.getLastRemoteSnapshotVersion(h).next(bt=>t.Vs.setTargetsMetadata(h,h.currentSequenceNumber,s));O.push(qe)}return qt.waitFor(O).next(()=>g.apply(h)).next(()=>t.localDocuments.getLocalViewOfDocuments(h,ne,we)).next(()=>ne)}).then(h=>(t.$i=l,h))}function pp(i,e,t){let s=di(),l=di();return t.forEach(h=>s=s.add(h)),e.getEntries(i,s).next(h=>{let g=Bo();return t.forEach((O,ne)=>{const we=h.get(O);ne.isFoundDocument()!==we.isFoundDocument()&&(l=l.add(O)),ne.isNoDocument()&&ne.version.isEqual(me.min())?(e.removeEntry(O,ne.readTime),g=g.insert(O,ne)):!we.isValidDocument()||ne.version.compareTo(we.version)>0||0===ne.version.compareTo(we.version)&&we.hasPendingWrites?(e.addEntry(ne),g=g.insert(O,ne)):Ve("LocalStore","Ignoring outdated watch update for ",O,". Current version:",we.version," Watch version:",ne.version)}),{Gi:g,Qi:l}})}function um(i,e){const t=Tn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function _c(i,e){const t=Tn(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Vs.getTargetData(s,e).next(h=>h?(l=h,qt.resolve(l)):t.Vs.allocateTargetId(s).next(g=>(l=new Xl(e,g,0,s.currentSequenceNumber),t.Vs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.$i.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.$i=t.$i.insert(s.targetId,s),t.Bi.set(e,s.targetId)),s})}function Fu(i,e,t){return gp.apply(this,arguments)}function gp(){return gp=(0,Ne.Z)(function*(i,e,t){const s=Tn(i),l=s.$i.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",h,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!vo(g))throw g;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}s.$i=s.$i.remove(e),s.Bi.delete(l.target)}),gp.apply(this,arguments)}function Sh(i,e,t){const s=Tn(i);let l=me.min(),h=di();return s.persistence.runTransaction("Execute query","readonly",g=>function(O,ne,we){const qe=Tn(O),bt=qe.Bi.get(we);return void 0!==bt?qt.resolve(qe.$i.get(bt)):qe.Vs.getTargetData(ne,we)}(s,g,ha(e)).next(O=>{if(O)return l=O.lastLimboFreeSnapshotVersion,s.Vs.getMatchingKeysForTargetId(g,O.targetId).next(ne=>{h=ne})}).next(()=>s.Fi.getDocumentsMatchingQuery(g,e,t?l:me.min(),t?h:di())).next(O=>(dm(s,ba(e),O),{documents:O,ji:h})))}function fa(i,e){const t=Tn(i),s=Tn(t.Vs),l=t.$i.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>s.te(h,e).next(g=>g?g.target:null))}function cm(i,e){const t=Tn(i),s=t.Li.get(e)||me.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Ui.getAllFromCollectionGroup(l,e,Yo(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(dm(t,e,l),l))}function dm(i,e,t){let s=me.min();t.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),i.Li.set(e,s)}function hm(){return hm=(0,Ne.Z)(function*(i,e,t,s){const l=Tn(i);let h=di(),g=Bo();for(const we of t){const qe=e.Wi(we.metadata.name);we.document&&(h=h.add(qe));const bt=e.zi(we);bt.setReadTime(e.Hi(we.metadata.readTime)),g=g.insert(qe,bt)}const O=l.Ui.newChangeBuffer({trackRemovals:!0}),ne=yield _c(l,(we=s,ha(wl(Kt.fromString(`__bundle__/docs/${we}`)))));var we;return l.persistence.runTransaction("Apply bundle documents","readwrite",we=>pp(we,O,g).next(qe=>(O.apply(we),qe)).next(qe=>l.Vs.removeMatchingKeysForTargetId(we,ne.targetId).next(()=>l.Vs.addMatchingKeys(we,h,ne.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(we,qe.Gi,qe.Qi)).next(()=>qe.Gi)))}),hm.apply(this,arguments)}function fm(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,Ne.Z)(function*(i,e,t=di()){const s=yield _c(i,ha(wa(e.bundledQuery))),l=Tn(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const g=Ws(e.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Ds.saveNamedQuery(h,e);const O=s.withResumeToken(Cs.EMPTY_BYTE_STRING,g);return l.$i=l.$i.insert(O.targetId,O),l.Vs.updateTargetData(h,O).next(()=>l.Vs.removeMatchingKeysForTargetId(h,s.targetId)).next(()=>l.Vs.addMatchingKeys(h,t,s.targetId)).next(()=>l.Ds.saveNamedQuery(h,e))})}),pm.apply(this,arguments)}function gm(i,e){return`firestore_clients_${i}_${e}`}function Mh(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Oh(i,e){return`firestore_targets_${i}_${e}`}class Rh{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Ji(e,t,s){const l=JSON.parse(s);let h,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(h=new Cn(l.error.code,l.error.message))),g?new Rh(e,t,l.state,h):(gt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Ji(e,t){const s=JSON.parse(t);let l,h="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return h&&s.error&&(h="string"==typeof s.error.message&&"string"==typeof s.error.code,h&&(l=new Cn(s.error.code,s.error.message))),h?new pd(e,s.state,l):(gt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ph{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,h=lc();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=nr(s.activeTargetIds[g]),h=h.add(s.activeTargetIds[g]);return l?new Ph(e,h):(gt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class kh{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kh(t.clientId,t.onlineState):(gt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mp{constructor(){this.activeTargetIds=lc()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fh{constructor(e,t,s,l,h){this.window=e,this.js=t,this.persistenceKey=s,this.tr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new os(I),this.started=!1,this.ir=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.rr=gm(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new mp),this.cr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Ri();for(const l of t){if(l===e.tr)continue;const h=e.getItem(gm(e.persistenceKey,l));if(h){const g=Ph.Ji(l,h);g&&(e.sr=e.sr.insert(g.clientId,g))}}e._r();const s=e.storage.getItem(e.lr);if(s){const l=e.wr(s);l&&e.mr(l)}for(const l of e.ir)e.nr(l);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,s){this.yr(e,t,s),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Oh(this.persistenceKey,e));if(s){const l=pd.Ji(e,s);l&&(t=l.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Oh(this.persistenceKey,e))}updateQueryState(e,t,s){this.Tr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.pr(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Ve("SharedClientState","EVENT",s.key,s.newValue),s.key===this.rr)return void gt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==s.key)if(t.cr.test(s.key)){if(null==s.newValue){const l=t.Rr(s.key);return t.br(l,null)}{const l=t.Pr(s.key,s.newValue);if(l)return t.br(l.clientId,l)}}else if(t.ar.test(s.key)){if(null!==s.newValue){const l=t.vr(s.key,s.newValue);if(l)return t.Vr(l)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const l=t.Sr(s.key,s.newValue);if(l)return t.Dr(l)}}else if(s.key===t.lr){if(null!==s.newValue){const l=t.wr(s.newValue);if(l)return t.mr(l)}}else if(s.key===t.ur){const l=function(h){let g=js.ot;if(null!=h)try{const O=JSON.parse(h);Mn("number"==typeof O),g=O}catch(O){gt("SharedClientState","Failed to read sequence number from WebStorage",O)}return g}(s.newValue);l!==js.ot&&t.sequenceNumberHandler(l)}else if(s.key===t.dr){const l=t.Cr(s.newValue);yield Promise.all(l.map(h=>t.syncEngine.Nr(h)))}}else t.ir.push(s)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,s){const l=new Rh(this.currentUser,e,t,s),h=Mh(this.persistenceKey,this.currentUser,e);this.setItem(h,l.Yi())}pr(e){const t=Mh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,s){const l=Oh(this.persistenceKey,e),h=new pd(e,t,s);this.setItem(l,h.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const s=this.Rr(e);return Ph.Ji(s,t)}vr(e,t){const s=this.ar.exec(e),l=Number(s[1]);return Rh.Ji(new S(void 0!==s[2]?s[2]:null),l,t)}Sr(e,t){const s=this.hr.exec(e),l=Number(s[1]);return pd.Ji(l,t)}wr(e){return kh.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const s=t?this.sr.insert(e,t):this.sr.remove(e),l=this.gr(this.sr),h=this.gr(s),g=[],O=[];return h.forEach(ne=>{l.has(ne)||g.push(ne)}),l.forEach(ne=>{h.has(ne)||O.push(ne)}),this.syncEngine.Mr(g,O).then(()=>{this.sr=s})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=lc();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class mm{constructor(){this.Fr=new mp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new mp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wv{Br(e){}shutdown(){}}class yp{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ym={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Dv{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class fl extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,l,h){const g=this.oo(e,t);Ve("RestConnection","Sending: ",g,s);const O={};return this.uo(O,l,h),this.co(e,g,O,s).then(ne=>(Ve("RestConnection","Received: ",ne),ne),ne=>{throw cn("RestConnection",`${e} failed with error: `,ne,"url: ",g,"request:",s),ne})}ao(e,t,s,l,h,g){return this.ro(e,t,s,l,h)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),s&&s.headers.forEach((l,h)=>e[h]=l)}oo(e,t){return`${this.so}/v1/${t}:${ym[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,s,l){return new Promise((h,g)=>{const O=new Ta;O.listenOnce(ma.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Js.NO_ERROR:const we=O.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(we)),h(we);break;case Js.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),g(new Cn(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:const qe=O.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',qe,"response text:",O.getResponseText()),qe>0){const bt=O.getResponseJson().error;if(bt&&bt.status&&bt.message){const Jt=function(En){const kn=En.toLowerCase().replace(/_/g,"-");return Object.values(Qt).indexOf(kn)>=0?kn:Qt.UNKNOWN}(bt.status);g(new Cn(Jt,bt.message))}else g(new Cn(Qt.UNKNOWN,"Server responded with status "+O.getStatus()))}else g(new Cn(Qt.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const ne=JSON.stringify(l);O.send(t,"POST",ne,s,15)})}ho(e,t,s){const l=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Zs(),g=oa(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(O.xmlHttpFactory=new Va({})),this.uo(O.initMessageHeaders,t,s),(0,je.uI)()||(0,je.b$)()||(0,je.d)()||(0,je.w1)()||(0,je.Mn)()||(0,je.ru)()||(O.httpHeadersOverwriteParam="$httpHeaders");const ne=l.join("");Ve("Connection","Creating WebChannel: "+ne,O);const we=h.createWebChannel(ne,O);let qe=!1,bt=!1;const Jt=new Dv({jr:kn=>{bt?Ve("Connection","Not sending because WebChannel is closed:",kn):(qe||(Ve("Connection","Opening WebChannel transport."),we.open(),qe=!0),Ve("Connection","WebChannel sending:",kn),we.send(kn))},Wr:()=>we.close()}),En=(kn,ar,yr)=>{kn.listen(ar,ji=>{try{yr(ji)}catch(ds){setTimeout(()=>{throw ds},0)}})};return En(we,Wi.EventType.OPEN,()=>{bt||Ve("Connection","WebChannel transport opened.")}),En(we,Wi.EventType.CLOSE,()=>{bt||(bt=!0,Ve("Connection","WebChannel transport closed"),Jt.eo())}),En(we,Wi.EventType.ERROR,kn=>{bt||(bt=!0,cn("Connection","WebChannel transport errored:",kn),Jt.eo(new Cn(Qt.UNAVAILABLE,"The operation could not be completed")))}),En(we,Wi.EventType.MESSAGE,kn=>{var ar;if(!bt){const yr=kn.data[0];Mn(!!yr);const ji=yr,ds=ji.error||(null===(ar=ji[0])||void 0===ar?void 0:ar.error);if(ds){Ve("Connection","WebChannel received error:",ds);const is=ds.status;let Ti=function(as){const zo=ks[as];if(void 0!==zo)return eo(zo)}(is),Ki=ds.message;void 0===Ti&&(Ti=Qt.INTERNAL,Ki="Unknown error status: "+is+" with message "+ds.message),bt=!0,Jt.eo(new Cn(Ti,Ki)),we.close()}else Ve("Connection","WebChannel received:",yr),Jt.no(yr)}}),En(g,Xa.STAT_EVENT,kn=>{kn.stat===ho.PROXY?Ve("Connection","Detected buffering proxy"):kn.stat===ho.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{Jt.Zr()},0),Jt}}function Nh(){return"undefined"!=typeof window?window:null}function Lh(){return"undefined"!=typeof document?document:null}function gd(i){return new Su(i,!0)}class vm{constructor(e,t,s=1e3,l=1.5,h=6e4){this.js=e,this.timerId=t,this.lo=s,this.fo=l,this._o=h,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),l=Math.max(0,t-s);l>0&&Ve("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,l,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class vp{constructor(e,t,s,l,h,g,O,ne){this.js=e,this.Ao=s,this.Ro=l,this.bo=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=O,this.listener=ne,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vm(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ne.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Ne.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var s=this;return(0,Ne.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===Qt.RESOURCE_EXHAUSTED?(gt(t.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===Qt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Po===t&&this.Uo(s,l)},s=>{e(()=>{const l=new Cn(Qt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(l)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(l=>{s(()=>this.qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}xo(){var e=this;this.state=5,this.So.Io((0,Ne.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cv extends vp{constructor(e,t,s,l,h,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,g),this.wt=h}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function an(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(ne=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ne?1:"REMOVE"===ne?2:"CURRENT"===ne?3:"RESET"===ne?4:Pn(),l=e.targetChange.targetIds||[],h=function(ne,we){return ne.dt?(Mn(void 0===we||"string"==typeof we),Cs.fromBase64String(we||"")):(Mn(void 0===we||we instanceof Uint8Array),Cs.fromUint8Array(we||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,O=g&&function(ne){const we=void 0===ne.code?Qt.UNKNOWN:eo(ne.code);return new Cn(we,ne.message||"")}(g);t=new lh(s,l,h,O||null)}else if("documentChange"in e){const s=e.documentChange,l=to(i,s.document.name),h=Ws(s.document.updateTime),g=new so({mapValue:{fields:s.document.fields}}),O=ys.newFoundDocument(l,h,g);t=new uc(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,l=to(i,s.document),h=s.readTime?Ws(s.readTime):me.min(),g=ys.newNoDocument(l,h);t=new uc([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const s=e.documentRemove,l=to(i,s.document);t=new uc([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Pn();{const s=e.filter,h=new To(s.count||0);t=new Zl(s.targetId,h)}}var ne;return t}(this.wt,e),s=function(l){if(!("targetChange"in l))return me.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?me.min():h.readTime?Ws(h.readTime):me.min()}(e);return this.listener.Go(t,s)}Qo(e){const t={};t.database=f(this.wt),t.addTarget=function(l,h){let g;const O=h.target;return g=Ga(O)?{documents:kr(l,O)}:{query:Fs(l,O)},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=Zc(l,h.resumeToken):h.snapshotVersion.compareTo(me.min())>0&&(g.readTime=Jl(l,h.snapshotVersion.toTimestamp())),g}(this.wt,e);const s=function Mu(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Mo(t)}jo(e){const t={};t.database=f(this.wt),t.removeTarget=e,this.Mo(t)}}class Av extends vp{constructor(e,t,s,l,h,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,g),this.wt=h,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Gr(i,e){return i&&i.length>0?(Mn(void 0!==e),i.map(t=>function(s,l){let h=Ws(s.updateTime?s.updateTime:l);return h.isEqual(me.min())&&(h=Ws(l)),new rc(h,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ws(e.commitTime);return this.listener.Jo(s,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=f(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Hn(this.wt,s))};this.Mo(t)}}class Iv extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.wt=l,this.Zo=!1}tu(){if(this.Zo)throw new Cn(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.bo.ro(e,t,s,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Cn(Qt.UNKNOWN,l.toString())})}ao(e,t,s,l){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.bo.ao(e,t,s,h,g,l)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Cn(Qt.UNKNOWN,h.toString())})}terminate(){this.Zo=!0}}class _p{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(gt(t),this.su=!1):Ve("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class xv{constructor(e,t,s,l,h){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=h,this.du.Br(O=>{s.enqueueAndForget((0,Ne.Z)(function*(){var ne;Lu(g)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(ne=(0,Ne.Z)(function*(we){const qe=Tn(we);qe.lu.add(4),yield au(qe),qe._u.set("Unknown"),qe.lu.delete(4),yield md(qe)}),function(we){return ne.apply(this,arguments)})(g))}))}),this._u=new _p(s,l)}}function md(i){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,Ne.Z)(function*(i){if(Lu(i))for(const e of i.fu)yield e(!0)}),Ec.apply(this,arguments)}function au(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Ne.Z)(function*(i){for(const e of i.fu)yield e(!1)}),Ep.apply(this,arguments)}function bc(i,e){const t=Tn(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),yd(t)?bp(t):Dc(t).Co()&&Bh(t,e))}function Nu(i,e){const t=Tn(i),s=Dc(t);t.hu.delete(e),s.Co()&&_m(t,e),0===t.hu.size&&(s.Co()?s.ko():Lu(t)&&t._u.set("Unknown"))}function Bh(i,e){i.wu.Nt(e.targetId),Dc(i).Qo(e)}function _m(i,e){i.wu.Nt(e),Dc(i).jo(e)}function bp(i){i.wu=new jo({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Dc(i).start(),i._u.iu()}function yd(i){return Lu(i)&&!Dc(i).Do()&&i.hu.size>0}function Lu(i){return 0===Tn(i).lu.size}function Em(i){i.wu=void 0}function bm(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,Ne.Z)(function*(i){i.hu.forEach((e,t)=>{Bh(i,e)})}),Vh.apply(this,arguments)}function wm(i,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Ne.Z)(function*(i,e){Em(i),yd(i)?(i._u.uu(e),bp(i)):i._u.set("Unknown")}),Uh.apply(this,arguments)}function Dm(i,e,t){return qa.apply(this,arguments)}function qa(){return qa=(0,Ne.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof lh&&2===e.state&&e.cause)try{yield(s=(0,Ne.Z)(function*(l,h){const g=h.cause;for(const O of h.targetIds)l.hu.has(O)&&(yield l.remoteSyncer.rejectListen(O,g),l.hu.delete(O),l.wu.removeTarget(O))}),function(l,h){return s.apply(this,arguments)})(i,e)}catch(s){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bu(i,s)}else if(e instanceof uc?i.wu.Ut(e):e instanceof Zl?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(me.min()))try{const s=yield fp(i.localStore);t.compareTo(s)>=0&&(yield function(l,h){const g=l.wu.Yt(h);return g.targetChanges.forEach((O,ne)=>{if(O.resumeToken.approximateByteSize()>0){const we=l.hu.get(ne);we&&l.hu.set(ne,we.withResumeToken(O.resumeToken,h))}}),g.targetMismatches.forEach(O=>{const ne=l.hu.get(O);if(!ne)return;l.hu.set(O,ne.withResumeToken(Cs.EMPTY_BYTE_STRING,ne.snapshotVersion)),_m(l,O);const we=new Xl(ne.target,O,1,ne.sequenceNumber);Bh(l,we)}),l.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(s){Ve("RemoteStore","Failed to raise snapshot:",s),yield Bu(i,s)}var s}),qa.apply(this,arguments)}function Bu(i,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,Ne.Z)(function*(i,e,t){if(!vo(e))throw e;i.lu.add(1),yield au(i),i._u.set("Offline"),t||(t=()=>fp(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield md(i)}))}),wp.apply(this,arguments)}function Cm(i,e){return e().catch(t=>Bu(i,t,e))}function vd(i){return _d.apply(this,arguments)}function _d(){return _d=(0,Ne.Z)(function*(i){const e=Tn(i),t=Da(e);let s=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Am(e);)try{const l=yield um(e.localStore,s);if(null===l){0===e.au.length&&t.ko();break}s=l.batchId,Dp(e,l)}catch(l){yield Bu(e,l)}wc(e)&&Im(e)}),_d.apply(this,arguments)}function Am(i){return Lu(i)&&i.au.length<10}function Dp(i,e){i.au.push(e);const t=Da(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function wc(i){return Lu(i)&&!Da(i).Do()&&i.au.length>0}function Im(i){Da(i).start()}function Cp(i){return jh.apply(this,arguments)}function jh(){return jh=(0,Ne.Z)(function*(i){Da(i).Xo()}),jh.apply(this,arguments)}function xm(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,Ne.Z)(function*(i){const e=Da(i);for(const t of i.au)e.Ho(t.mutations)}),Gh.apply(this,arguments)}function Tv(i,e,t){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Ne.Z)(function*(i,e,t){const s=i.au.shift(),l=Eh.from(s,e,t);yield Cm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield vd(i)}),Ed.apply(this,arguments)}function Sv(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Ne.Z)(function*(i,e){var t;e&&Da(i).zo&&(yield(t=(0,Ne.Z)(function*(s,l){if(sc(h=l.code)&&h!==Qt.ABORTED){const g=s.au.shift();Da(s).No(),yield Cm(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield vd(s)}var h}),function(s,l){return t.apply(this,arguments)})(i,e)),wc(i)&&Im(i)}),Ap.apply(this,arguments)}function Ip(i,e){return lu.apply(this,arguments)}function lu(){return lu=(0,Ne.Z)(function*(i,e){const t=Tn(i);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const s=Lu(t);t.lu.add(3),yield au(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield md(t)}),lu.apply(this,arguments)}function Hh(i,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Ne.Z)(function*(i,e){const t=Tn(i);e?(t.lu.delete(2),yield md(t)):e||(t.lu.add(2),yield au(t),t._u.set("Unknown"))}),xp.apply(this,arguments)}function Dc(i){return i.mu||(i.mu=function(e,t,s){const l=Tn(e);return l.tu(),new Cv(t,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,s)}(i.datastore,i.asyncQueue,{zr:bm.bind(null,i),Jr:wm.bind(null,i),Go:Dm.bind(null,i)}),i.fu.push(function(){var e=(0,Ne.Z)(function*(t){t?(i.mu.No(),yd(i)?bp(i):i._u.set("Unknown")):(yield i.mu.stop(),Em(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function Da(i){return i.gu||(i.gu=function(e,t,s){const l=Tn(e);return l.tu(),new Av(t,l.bo,l.authCredentials,l.appCheckCredentials,l.wt,s)}(i.datastore,i.asyncQueue,{zr:Cp.bind(null,i),Jr:Sv.bind(null,i),Yo:xm.bind(null,i),Jo:Tv.bind(null,i)}),i.fu.push(function(){var e=(0,Ne.Z)(function*(t){t?(i.gu.No(),yield vd(i)):(yield i.gu.stop(),i.au.length>0&&(Ve("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Tp{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,s,l,h){const g=Date.now()+s,O=new Tp(e,t,g,l,h);return O.start(s),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cn(Qt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cc(i,e){if(gt("AsyncQueue",`${e}: ${i}`),vo(i))return new Cn(Qt.UNAVAILABLE,`${e}: ${i}`);throw i}class Ac{constructor(e){this.comparator=e?(t,s)=>e(t,s)||jn.comparator(t.key,s.key):(t,s)=>jn.comparator(t.key,s.key),this.keyedMap=ql(),this.sortedSet=new os(this.comparator)}static emptySet(e){return new Ac(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ac)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ac;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Tm{constructor(){this.yu=new os(jn.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Pn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,l,h,g,O,ne){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=O,this.excludesMetadataChanges=ne}static fromInitialDocuments(e,t,s,l){const h=[];return t.forEach(g=>{h.push({type:0,doc:g})}),new Ro(e,t,Ac.emptySet(t),h,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class Sp{constructor(){this.Iu=void 0,this.listeners=[]}}class Sm{constructor(){this.queries=new Lo(e=>Nf(e),ec),this.onlineState="Unknown",this.Tu=new Set}}function $h(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,Ne.Z)(function*(i,e){const t=Tn(i),s=e.query;let l=!1,h=t.queries.get(s);if(h||(l=!0,h=new Sp),l)try{h.Iu=yield t.onListen(s)}catch(g){const O=Cc(g,`Initialization of query '${ta(e.query)}' failed`);return void e.onError(O)}t.queries.set(s,h),h.listeners.push(e),e.Eu(t.onlineState),h.Iu&&e.Au(h.Iu)&&Op(t)}),zh.apply(this,arguments)}function Wh(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,Ne.Z)(function*(i,e){const t=Tn(i),s=e.query;let l=!1;const h=t.queries.get(s);if(h){const g=h.listeners.indexOf(e);g>=0&&(h.listeners.splice(g,1),l=0===h.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Mp.apply(this,arguments)}function Mv(i,e){const t=Tn(i);let s=!1;for(const l of e){const g=t.queries.get(l.query);if(g){for(const O of g.listeners)O.Au(l)&&(s=!0);g.Iu=l}}s&&Op(t)}function Ov(i,e,t){const s=Tn(i),l=s.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);s.queries.delete(e)}function Op(i){i.Tu.forEach(e=>{e.next()})}class Kh{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class C0{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Rp{constructor(e){this.wt=e}Wi(e){return to(this.wt,e)}zi(e){return e.metadata.exists?Ue(this.wt,e.document,!1):ys.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Ws(e)}}class Rv{constructor(e,t,s){this.xu=e,this.localStore=t,this.wt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mm(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,s=new Rp(this.wt);for(const l of e)if(l.metadata.queries){const h=s.Wi(l.metadata.name);for(const g of l.metadata.queries){const O=(t.get(g)||di()).add(h);t.set(g,O)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function D0(i,e,t,s){return hm.apply(this,arguments)}(e.localStore,new Rp(e.wt),e.documents,e.xu.id),s=e.ku(e.documents);for(const l of e.queries)yield fm(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Mm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Pv{constructor(e){this.key=e}}class kv{constructor(e){this.key=e}}class qh{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=di(),this.mutatedKeys=di(),this.Lu=al(e),this.Uu=new Ac(this.Lu)}get qu(){return this.Fu}Ku(e,t){const s=t?t.Gu:new Tm,l=t?t.Uu:this.Uu;let h=t?t.mutatedKeys:this.mutatedKeys,g=l,O=!1;const ne="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,we="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((qe,bt)=>{const Jt=l.get(qe),En=tc(this.query,bt)?bt:null,kn=!!Jt&&this.mutatedKeys.has(Jt.key),ar=!!En&&(En.hasLocalMutations||this.mutatedKeys.has(En.key)&&En.hasCommittedMutations);let yr=!1;Jt&&En?Jt.data.isEqual(En.data)?kn!==ar&&(s.track({type:3,doc:En}),yr=!0):this.Qu(Jt,En)||(s.track({type:2,doc:En}),yr=!0,(ne&&this.Lu(En,ne)>0||we&&this.Lu(En,we)<0)&&(O=!0)):!Jt&&En?(s.track({type:0,doc:En}),yr=!0):Jt&&!En&&(s.track({type:1,doc:Jt}),yr=!0,(ne||we)&&(O=!0)),yr&&(En?(g=g.add(En),h=ar?h.add(qe):h.delete(qe)):(g=g.delete(qe),h=h.delete(qe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const qe="F"===this.query.limitType?g.last():g.first();g=g.delete(qe.key),h=h.delete(qe.key),s.track({type:1,doc:qe})}return{Uu:g,Gu:s,Oi:O,mutatedKeys:h}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const h=e.Gu.pu();h.sort((we,qe)=>function(bt,Jt){const En=kn=>{switch(kn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return En(bt)-En(Jt)}(we.type,qe.type)||this.Lu(we.doc,qe.doc)),this.ju(s);const g=t?this.Wu():[],O=0===this.Bu.size&&this.current?1:0,ne=O!==this.$u;return this.$u=O,0!==h.length||ne?{snapshot:new Ro(this.query,e.Uu,l,h,e.mutatedKeys,0===O,ne,!1),zu:g}:{zu:g}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Tm,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=di(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new kv(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new Pv(s))}),t}Ju(e){this.Fu=e.ji,this.Bu=di();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Ro.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Fv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Om{constructor(e){this.key=e,this.Xu=!1}}class Rm{constructor(e,t,s,l,h,g){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Zu={},this.tc=new Lo(O=>Nf(O),ec),this.ec=new Map,this.nc=new Set,this.sc=new os(jn.comparator),this.ic=new Map,this.rc=new op,this.oc={},this.uc=new Map,this.cc=mc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function A0(i,e){return Ca.apply(this,arguments)}function Ca(){return Ca=(0,Ne.Z)(function*(i,e){const t=tf(i);let s,l;const h=t.tc.get(e);if(h)s=h.targetId,t.sharedClientState.addLocalQueryTarget(s),l=h.view.Yu();else{const g=yield _c(t.localStore,ha(e));t.isPrimaryClient&&bc(t.remoteStore,g);const O=t.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield Pm(t,e,s,"current"===O)}return l}),Ca.apply(this,arguments)}function Pm(i,e,t,s){return km.apply(this,arguments)}function km(){return km=(0,Ne.Z)(function*(i,e,t,s){i.hc=(qe,bt,Jt)=>{return(En=(0,Ne.Z)(function*(kn,ar,yr,ji){let ds=ar.view.Ku(yr);ds.Oi&&(ds=yield Sh(kn.localStore,ar.query,!1).then(({documents:Ki})=>ar.view.Ku(Ki,ds)));const is=ji&&ji.targetChanges.get(ar.targetId),Ti=ar.view.applyChanges(ds,kn.isPrimaryClient,is);return Lp(kn,ar.targetId,Ti.zu),Ti.snapshot}),function(kn,ar,yr,ji){return En.apply(this,arguments)})(i,qe,bt,Jt);var En};const l=yield Sh(i.localStore,e,!0),h=new qh(e,l.ji),g=h.Ku(l.documents),O=Ql.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState),ne=h.applyChanges(g,i.isPrimaryClient,O);Lp(i,t,ne.zu);const we=new Fv(e,t,h);return i.tc.set(e,we),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),ne.snapshot}),km.apply(this,arguments)}function Fm(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,Ne.Z)(function*(i,e){const t=Tn(i),s=t.tc.get(e),l=t.ec.get(s.targetId);if(l.length>1)return t.ec.set(s.targetId,l.filter(h=>!ec(h,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Fu(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Nu(t.remoteStore,s.targetId),xc(t,s.targetId)}).catch(la))):(xc(t,s.targetId),yield Fu(t.localStore,s.targetId,!0))}),Yh.apply(this,arguments)}function Pp(){return Pp=(0,Ne.Z)(function*(i,e,t){const s=nf(i);try{const l=yield function(h,g){const O=Tn(h),ne=$.now(),we=g.reduce((Jt,En)=>Jt.add(En.key),di());let qe,bt;return O.persistence.runTransaction("Locally write mutations","readwrite",Jt=>{let En=Bo(),kn=di();return O.Ui.getEntries(Jt,we).next(ar=>{En=ar,En.forEach((yr,ji)=>{ji.isValidDocument()||(kn=kn.add(yr))})}).next(()=>O.localDocuments.getOverlayedDocuments(Jt,En)).next(ar=>{qe=ar;const yr=[];for(const ji of g){const ds=Wc(ji,qe.get(ji.key).overlayedDocument);null!=ds&&yr.push(new za(ji.key,ds,qd(ds.value.mapValue),_s.exists(!0)))}return O.mutationQueue.addMutationBatch(Jt,ne,yr,g)}).next(ar=>{bt=ar;const yr=ar.applyToLocalDocumentSet(qe,kn);return O.documentOverlayCache.saveOverlays(Jt,ar.batchId,yr)})}).then(()=>({batchId:bt.batchId,changes:Vo(qe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(h,g,O){let ne=h.oc[h.currentUser.toKey()];ne||(ne=new os(I)),ne=ne.insert(g,O),h.oc[h.currentUser.toKey()]=ne}(s,l.batchId,t),yield Eo(s,l.changes),yield vd(s.remoteStore)}catch(l){const h=Cc(l,"Failed to persist write");t.reject(h)}}),Pp.apply(this,arguments)}function Nv(i,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,Ne.Z)(function*(i,e){const t=Tn(i);try{const s=yield w0(t.localStore,e);e.targetChanges.forEach((l,h)=>{const g=t.ic.get(h);g&&(Mn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Xu=!0:l.modifiedDocuments.size>0?Mn(g.Xu):l.removedDocuments.size>0&&(Mn(g.Xu),g.Xu=!1))}),yield Eo(t,s,e)}catch(s){yield la(s)}}),Qh.apply(this,arguments)}function Zh(i,e,t){const s=Tn(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.tc.forEach((h,g)=>{const O=g.view.Eu(e);O.snapshot&&l.push(O.snapshot)}),function(h,g){const O=Tn(h);O.onlineState=g;let ne=!1;O.queries.forEach((we,qe)=>{for(const bt of qe.listeners)bt.Eu(g)&&(ne=!0)}),ne&&Op(O)}(s.eventManager,e),l.length&&s.Zu.Go(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Lv(i,e,t){return bd.apply(this,arguments)}function bd(){return bd=(0,Ne.Z)(function*(i,e,t){const s=Tn(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.ic.get(e),h=l&&l.key;if(h){let g=new os(jn.comparator);g=g.insert(h,ys.newNoDocument(h,me.min()));const O=di().add(h),ne=new Uo(me.min(),new Map,new Ji(I),g,O);yield Nv(s,ne),s.sc=s.sc.remove(h),s.ic.delete(e),wd(s)}else yield Fu(s.localStore,e,!1).then(()=>xc(s,e,t)).catch(la)}),bd.apply(this,arguments)}function Bv(i,e){return kp.apply(this,arguments)}function kp(){return kp=(0,Ne.Z)(function*(i,e){const t=Tn(i),s=e.batch.batchId;try{const l=yield bv(t.localStore,e);uu(t,s,null),Ic(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Eo(t,l)}catch(l){yield la(l)}}),kp.apply(this,arguments)}function Vv(i,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Ne.Z)(function*(i,e,t){const s=Tn(i);try{const l=yield function(h,g){const O=Tn(h);return O.persistence.runTransaction("Reject batch","readwrite-primary",ne=>{let we;return O.mutationQueue.lookupMutationBatch(ne,g).next(qe=>(Mn(null!==qe),we=qe.keys(),O.mutationQueue.removeMutationBatch(ne,qe))).next(()=>O.mutationQueue.performConsistencyCheck(ne)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(ne,we,g)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ne,we)).next(()=>O.localDocuments.getDocuments(ne,we))})}(s.localStore,e);uu(s,e,t),Ic(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Eo(s,l)}catch(l){yield la(l)}}),Fp.apply(this,arguments)}function Np(){return Np=(0,Ne.Z)(function*(i,e){const t=Tn(i);Lu(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(h){const g=Tn(h);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>g.mutationQueue.getHighestUnacknowledgedBatchId(O))}(t.localStore);if(-1===s)return void e.resolve();const l=t.uc.get(s)||[];l.push(e),t.uc.set(s,l)}catch(s){const l=Cc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Np.apply(this,arguments)}function Ic(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function uu(i,e,t){const s=Tn(i);let l=s.oc[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.oc[s.currentUser.toKey()]=l}}function xc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.ec.get(e))i.tc.delete(s),t&&i.Zu.lc(s,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(s=>{i.rc.containsKey(s)||Tc(i,s)})}function Tc(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(Nu(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),wd(i))}function Lp(i,e,t){for(const s of t)s instanceof Pv?(i.rc.addReference(s.key,e),jv(i,s)):s instanceof kv?(Ve("SyncEngine","Document no longer in limbo: "+s.key),i.rc.removeReference(s.key,e),i.rc.containsKey(s.key)||Tc(i,s.key)):Pn()}function jv(i,e){const t=e.key,s=t.path.canonicalString();i.sc.get(t)||i.nc.has(s)||(Ve("SyncEngine","New document in limbo: "+t),i.nc.add(s),wd(i))}function wd(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new jn(Kt.fromString(e)),s=i.cc.next();i.ic.set(s,new Om(t)),i.sc=i.sc.insert(t,s),bc(i.remoteStore,new Xl(ha(wl(t.path)),s,2,js.ot))}}function Eo(i,e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,Ne.Z)(function*(i,e,t){const s=Tn(i),l=[],h=[],g=[];var O;s.tc.isEmpty()||(s.tc.forEach((O,ne)=>{g.push(s.hc(ne,e,t).then(we=>{if(we){s.isPrimaryClient&&s.sharedClientState.updateQueryState(ne.targetId,we.fromCache?"not-current":"current"),l.push(we);const qe=xh.Vi(ne.targetId,we);h.push(qe)}}))}),yield Promise.all(g),s.Zu.Go(l),yield(O=(0,Ne.Z)(function*(ne,we){const qe=Tn(ne);try{yield qe.persistence.runTransaction("notifyLocalViewChanges","readwrite",bt=>qt.forEach(we,Jt=>qt.forEach(Jt.Pi,En=>qe.persistence.referenceDelegate.addReference(bt,Jt.targetId,En)).next(()=>qt.forEach(Jt.vi,En=>qe.persistence.referenceDelegate.removeReference(bt,Jt.targetId,En)))))}catch(bt){if(!vo(bt))throw bt;Ve("LocalStore","Failed to update sequence numbers: "+bt)}for(const bt of we){const Jt=bt.targetId;if(!bt.fromCache){const En=qe.$i.get(Jt),ar=En.withLastLimboFreeSnapshotVersion(En.snapshotVersion);qe.$i=qe.$i.insert(Jt,ar)}}}),function(ne,we){return O.apply(this,arguments)})(s.localStore,h))}),Vu.apply(this,arguments)}function $o(i,e){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,Ne.Z)(function*(i,e){const t=Tn(i);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const s=yield hp(t.localStore,e);t.currentUser=e,(l=t).uc.forEach(g=>{g.forEach(O=>{O.reject(new Cn(Qt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.uc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Eo(t,s.Ki)}var l}),Ol.apply(this,arguments)}function Jh(i,e){const t=Tn(i),s=t.ic.get(e);if(s&&s.Xu)return di().add(s.key);{let l=di();const h=t.ec.get(e);if(!h)return l;for(const g of h){const O=t.tc.get(g);l=l.unionWith(O.view.qu)}return l}}function Na(i,e){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,Ne.Z)(function*(i,e){const t=Tn(i),s=yield Sh(t.localStore,e.query,!0),l=e.view.Ju(s);return t.isPrimaryClient&&Lp(t,e.targetId,l.zu),l}),Dd.apply(this,arguments)}function Sc(i,e){return cu.apply(this,arguments)}function cu(){return cu=(0,Ne.Z)(function*(i,e){const t=Tn(i);return cm(t.localStore,e).then(s=>Eo(t,s))}),cu.apply(this,arguments)}function Mc(i,e,t,s){return du.apply(this,arguments)}function du(){return du=(0,Ne.Z)(function*(i,e,t,s){const l=Tn(i),h=yield function(g,O){const ne=Tn(g),we=Tn(ne.mutationQueue);return ne.persistence.runTransaction("Lookup mutation documents","readonly",qe=>we.yn(qe,O).next(bt=>bt?ne.localDocuments.getDocuments(qe,bt):qt.resolve(null)))}(l.localStore,e);var O;null!==h?("pending"===t?yield vd(l.remoteStore):"acknowledged"===t||"rejected"===t?(uu(l,e,s||null),Ic(l,e),O=e,Tn(Tn(l.localStore).mutationQueue).In(O)):Pn(),yield Eo(l,h)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),du.apply(this,arguments)}function hu(){return hu=(0,Ne.Z)(function*(i,e){const t=Tn(i);if(tf(t),nf(t),!0===e&&!0!==t.ac){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield Uu(t,s.toArray());t.ac=!0,yield Hh(t.remoteStore,!0);for(const h of l)bc(t.remoteStore,h)}else if(!1===e&&!1!==t.ac){const s=[];let l=Promise.resolve();t.ec.forEach((h,g)=>{t.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(xc(t,g),Fu(t.localStore,g,!0))),Nu(t.remoteStore,g)}),yield l,yield Uu(t,s),function(h){const g=Tn(h);g.ic.forEach((O,ne)=>{Nu(g.remoteStore,ne)}),g.rc.cs(),g.ic=new Map,g.sc=new os(jn.comparator)}(t),t.ac=!1,yield Hh(t.remoteStore,!1)}}),hu.apply(this,arguments)}function Uu(i,e,t){return fu.apply(this,arguments)}function fu(){return fu=(0,Ne.Z)(function*(i,e,t){const s=Tn(i),l=[],h=[];for(const g of e){let O;const ne=s.ec.get(g);if(ne&&0!==ne.length){O=yield _c(s.localStore,ha(ne[0]));for(const we of ne){const qe=s.tc.get(we),bt=yield Na(s,qe);bt.snapshot&&h.push(bt.snapshot)}}else{const we=yield fa(s.localStore,g);O=yield _c(s.localStore,we),yield Pm(s,ju(we),g,!1)}l.push(O)}return s.Zu.Go(h),l}),fu.apply(this,arguments)}function ju(i){return Xd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Lm(i){const e=Tn(i);return Tn(Tn(e.localStore).persistence).Ri()}function Bm(i,e,t,s){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,Ne.Z)(function*(i,e,t,s){const l=Tn(i);if(l.ac)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const h=l.ec.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const g=yield cm(l.localStore,ba(h[0])),O=Uo.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Eo(l,g,O);break}case"rejected":yield Fu(l.localStore,e,!0),xc(l,e,s);break;default:Pn()}}),Xh.apply(this,arguments)}function Vm(i,e,t){return ef.apply(this,arguments)}function ef(){return ef=(0,Ne.Z)(function*(i,e,t){const s=tf(i);if(s.ac){for(const l of e){if(s.ec.has(l)){Ve("SyncEngine","Adding an already active target "+l);continue}const h=yield fa(s.localStore,l),g=yield _c(s.localStore,h);yield Pm(s,ju(h),g.targetId,!1),bc(s.remoteStore,g)}for(const l of t)s.ec.has(l)&&(yield Fu(s.localStore,l,!1).then(()=>{Nu(s.remoteStore,l),xc(s,l)}).catch(la))}}),ef.apply(this,arguments)}function tf(i){const e=Tn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lv.bind(null,e),e.Zu.Go=Mv.bind(null,e.eventManager),e.Zu.lc=Ov.bind(null,e.eventManager),e}function nf(i){const e=Tn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vv.bind(null,e),e}class Bp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.wt=gd(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Th(this.persistence,new cp,e.initialUser,this.wt)}_c(e){return new lp(Ih.Ms,this.wt)}dc(e){return new mm}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jm extends Bp{constructor(e,t,s){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ne.Z)(function*(){yield t().call(s,e),yield s.yc.initialize(s,e),yield nf(s.yc.syncEngine),yield vd(s.yc.remoteStore),yield s.persistence.ci(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Th(this.persistence,new cp,e.initialUser,this.wt)}mc(e,t){return new y0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const s=new Nl(t,this.persistence);return new fo(e.asyncQueue,s)}_c(e){const t=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ho.withCacheSize(this.cacheSizeBytes):Ho.DEFAULT;return new ou(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Nh(),Lh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new mm}}class Gm extends jm{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ne.Z)(function*(){yield t().call(s,e);const l=s.yc.syncEngine;s.sharedClientState instanceof Fh&&(s.sharedClientState.syncEngine={kr:Mc.bind(null,l),Or:Bm.bind(null,l),Mr:Vm.bind(null,l),Ri:Lm.bind(null,l),Nr:Sc.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.ci(function(){var h=(0,Ne.Z)(function*(g){yield function Oc(i,e){return hu.apply(this,arguments)}(s.yc.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start():g||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(g&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():g||s.indexBackfillerScheduler.stop())});return function(g){return h.apply(this,arguments)}}())})()}dc(e){const t=Nh();if(!Fh.V(t))throw new Cn(Qt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=up(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Vp{initialize(e,t){var s=this;return(0,Ne.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Zh(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=$o.bind(null,s.syncEngine),yield Hh(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sm}createDatastore(e){const t=gd(e.databaseInfo.databaseId),s=new fl(e.databaseInfo);return new Iv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,h=O=>Zh(this.syncEngine,O,0),g=yp.V()?new yp:new wv,new xv(t,s,l,h,g);var t,s,l,h,g}createSyncEngine(e,t){return function(s,l,h,g,O,ne,we){const qe=new Rm(s,l,h,g,O,ne);return we&&(qe.ac=!0),qe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const s=Tn(t);Ve("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield au(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Up(i,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Cd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Gv{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ts,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(s=>{s&&s.Cu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.bc();if(null===t)return null;const s=e.Ac.decode(t),l=Number(s);isNaN(l)&&e.Pc(`length string (${s}) is not valid number`);const h=yield e.vc(l);return new C0(JSON.parse(h),t.length+l)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}vc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const s=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Hv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Cn(Qt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,Ne.Z)(function*(h,g){const O=Tn(h),ne=f(O.wt)+"/documents",we={documents:g.map(En=>ka(O.wt,En))},qe=yield O.ao("BatchGetDocuments",ne,we,g.length),bt=new Map;qe.forEach(En=>{const kn=function Mt(i,e){return"found"in e?function(t,s){Mn(!!s.found);const l=to(t,s.found.name),h=Ws(s.found.updateTime),g=new so({mapValue:{fields:s.found.fields}});return ys.newFoundDocument(l,h,g)}(i,e):"missing"in e?function(t,s){Mn(!!s.missing),Mn(!!s.readTime);const l=to(t,s.missing),h=Ws(s.readTime);return ys.newNoDocument(l,h)}(i,e):Pn()}(O.wt,En);bt.set(kn.key.toString(),kn)});const Jt=[];return g.forEach(En=>{const kn=bt.get(En.toString());Mn(!!kn),Jt.push(kn)}),Jt}),function(h,g){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const h=jn.fromPath(l);e.mutations.push(new Il(h,e.precondition(h)))}),yield(s=(0,Ne.Z)(function*(l,h){const g=Tn(l),O=f(g.wt)+"/documents",ne={writes:h.map(we=>Hn(g.wt,we))};yield g.ro("Commit",O,ne)}),function(l,h){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pn();t=me.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Cn(Qt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?_s.updateTime(t):_s.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(me.min()))throw new Cn(Qt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _s.updateTime(t)}return _s.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Hm{constructor(e,t,s,l,h){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=h,this.Dc=s.maxAttempts,this.So=new vm(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ne.Z)(function*(){const t=new Hv(e.datastore),s=e.xc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Nc(h)}))}).catch(l=>{e.Nc(l)})}))}xc(e){try{const t=this.updateFunction(e);return!en(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sc(t)}return!1}}class $v{constructor(e,t,s,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=S.UNAUTHENTICATED,this.clientId=Ao.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var g=(0,Ne.Z)(function*(O){Ve("FirestoreClient","Received user=",O.uid),yield h.authCredentialListener(O),h.user=O});return function(O){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(s,g=>(Ve("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Cn(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=Cc(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function jp(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,Ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,Ne.Z)(function*(h){s.isEqual(h)||(yield hp(e.localStore,h),s=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Gp.apply(this,arguments)}function $m(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,Ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Hp(i);Ve("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>Ip(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>Ip(e.remoteStore,h)),i.onlineComponents=e}),zm.apply(this,arguments)}function Hp(i){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,Ne.Z)(function*(i){return i.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield jp(i,new Bp)),i.offlineComponents}),Ad.apply(this,arguments)}function Rc(i){return $p.apply(this,arguments)}function $p(){return $p=(0,Ne.Z)(function*(i){return i.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield $m(i,new Vp)),i.onlineComponents}),$p.apply(this,arguments)}function zv(i){return Hp(i).then(e=>e.persistence)}function Wm(i){return Hp(i).then(e=>e.localStore)}function Wv(i){return Rc(i).then(e=>e.remoteStore)}function zp(i){return Rc(i).then(e=>e.syncEngine)}function Gu(i){return Km.apply(this,arguments)}function Km(){return Km=(0,Ne.Z)(function*(i){const e=yield Rc(i),t=e.eventManager;return t.onListen=A0.bind(null,e.syncEngine),t.onUnlisten=Fm.bind(null,e.syncEngine),t}),Km.apply(this,arguments)}function Wp(i,e,t={}){const s=new ts;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(l,h,g,O,ne){const we=new Cd({next:bt=>{h.enqueueAndForget(()=>Wh(l,qe));const Jt=bt.docs.has(g);!Jt&&bt.fromCache?ne.reject(new Cn(Qt.UNAVAILABLE,"Failed to get document because the client is offline.")):Jt&&bt.fromCache&&O&&"server"===O.source?ne.reject(new Cn(Qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ne.resolve(bt)},error:bt=>ne.reject(bt)}),qe=new Kh(wl(g.path),we,{includeMetadataChanges:!0,Du:!0});return $h(l,qe)}(yield Gu(i),i.asyncQueue,e,t,s)})),s.promise}function Kp(i,e,t={}){const s=new ts;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(l,h,g,O,ne){const we=new Cd({next:bt=>{h.enqueueAndForget(()=>Wh(l,qe)),bt.fromCache&&"server"===O.source?ne.reject(new Cn(Qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ne.resolve(bt)},error:bt=>ne.reject(bt)}),qe=new Kh(g,we,{includeMetadataChanges:!0,Du:!0});return $h(l,qe)}(yield Gu(i),i.asyncQueue,e,t,s)})),s.promise}const Ym=new Map;function qp(i,e,t){if(!t)throw new Cn(Qt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qm(i,e,t,s){if(!0===e&&!0===s)throw new Cn(Qt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Zm(i){if(!jn.isDocumentKey(i))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Yp(i){if(jn.isDocumentKey(i))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Pn()}function Ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Cn(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sf(i);throw new Cn(Qt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Qp(i,e){if(e<=0)throw new Cn(Qt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class af{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Cn(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Cn(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1,e instanceof Pt?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Cn(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pt(l.options.projectId)}(e))}get app(){if(!this._app)throw new Cn(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Cn(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Fo;switch(t.type){case"gapi":const s=t.client;return Mn(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new gl(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Cn(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ym.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),Ym.delete(e),t.terminate())}(this),Promise.resolve()}}class Os{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}}class na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class pa extends na{constructor(e,t,s){super(e,t,wl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new jn(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function Jp(i,e,...t){if(i=(0,je.m9)(i),qp("collection","path",e),i instanceof lf){const s=Kt.fromString(e,...t);return Yp(s),new pa(i,null,s)}{if(!(i instanceof Os||i instanceof pa))throw new Cn(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kt.fromString(e,...t));return Yp(s),new pa(i.firestore,null,s)}}function kc(i,e,...t){if(i=(0,je.m9)(i),1===arguments.length&&(e=Ao.I()),qp("doc","path",e),i instanceof lf){const s=Kt.fromString(e,...t);return Zm(s),new Os(i,null,new jn(s))}{if(!(i instanceof Os||i instanceof pa))throw new Cn(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Kt.fromString(e,...t));return Zm(s),new Os(i.firestore,i instanceof pa?i.converter:null,new jn(s))}}function Jm(i,e){return i=(0,je.m9)(i),e=(0,je.m9)(e),(i instanceof Os||i instanceof pa)&&(e instanceof Os||e instanceof pa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Id(i,e){return i=(0,je.m9)(i),e=(0,je.m9)(e),i instanceof na&&e instanceof na&&i.firestore===e.firestore&&ec(i._query,e._query)&&i.converter===e.converter}class uf{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vm(this,"async_queue_retry"),this.Kc=()=>{const t=Lh();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=Lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ts;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!vo(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(s=>{throw this.Bc=s,this.Lc=!1,gt("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(s)),s}).then(s=>(this.Lc=!1,s))));return this.Oc=t,t}enqueueAfterDelay(e,t,s){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const l=Tp.createAndSchedule(this,e,t,s,h=>this.Wc(h));return this.$c.push(l),l}Gc(){this.Bc&&Pn()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function xd(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class I0{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Es extends lf{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new uf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cf(this),this._firestoreClient.terminate()}}function no(i){return i._firestoreClient||cf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function cf(i){var e;const t=i._freezeSettings(),s=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new pt(i._databaseId,h,i._persistenceKey,(O=t).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,O.useFetchStreams));var h,O;i._firestoreClient=new $v(i._authCredentials,i._appCheckCredentials,i._queue,s)}function df(i,e,t){const s=new ts;return i.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield jp(i,t),yield $m(i,e),s.resolve()}catch(l){const h=l;if(!("FirebaseError"===(g=h).name?g.code===Qt.FAILED_PRECONDITION||g.code===Qt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),s.reject(h)}var g})).then(()=>s.promise)}function ng(i){if(i._initialized||i._terminated)throw new Cn(Qt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Cn(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Aa(Cs.fromBase64String(e))}catch(t){throw new Cn(Qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Aa(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pu{constructor(e){this._methodName=e}}class Td{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Cn(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Cn(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return I(this._lat,e._lat)||I(this._long,e._long)}}const ay=/^__.*__$/;class ly{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new zl(e,this.data,t,this.fieldTransforms)}}class rg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ig(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class Sd{constructor(e,t,s,l,h,g){this.settings=e,this.databaseId=t,this.wt=s,this.ignoreUndefinedProperties=l,void 0===h&&this.Xc(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ta({path:s,na:!1});return l.sa(e),l}ia(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ta({path:s,na:!1});return l.Xc(),l}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Od(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(ig(this.Zc)&&ay.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class uy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=s||gd(e)}aa(e,t,s,l=!1){return new Sd({Zc:e,methodName:t,ca:s,path:Br.emptyPath(),na:!1,ua:l},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Fc(i){const e=i._freezeSettings(),t=gd(i._databaseId);return new uy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function hf(i,e,t,s,l,h={}){const g=i.aa(h.merge||h.mergeFields?2:0,e,t,l);ug("Data must be an object, but it was:",g,s);const O=lg(s,g);let ne,we;if(h.merge)ne=new cs(g.fieldMask),we=g.fieldTransforms;else if(h.mergeFields){const qe=[];for(const bt of h.mergeFields){const Jt=cg(e,bt,t);if(!g.contains(Jt))throw new Cn(Qt.INVALID_ARGUMENT,`Field '${Jt}' is specified in your field mask but missing from your input data.`);n_(qe,Jt)||qe.push(Jt)}ne=new cs(qe),we=g.fieldTransforms.filter(bt=>ne.covers(bt.field))}else ne=null,we=g.fieldTransforms;return new ly(new so(O),ne,we)}class Md extends pu{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function sg(i,e,t){return new Sd({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class og extends pu{_toFieldTransform(e){return new Hl(e.path,new ll)}isEqual(e){return e instanceof og}}class po extends pu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=sg(this,e,!0),s=this.ha.map(h=>gu(h,t)),l=new Gl(s);return new Hl(e.path,l)}isEqual(e){return this===e}}class cy extends pu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=sg(this,e,!0),s=this.ha.map(h=>gu(h,t)),l=new ul(s);return new Hl(e.path,l)}isEqual(e){return this===e}}class t_ extends pu{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Cl(e.wt,Lf(e.wt,this.la));return new Hl(e.path,t)}isEqual(e){return this===e}}function ag(i,e,t,s){const l=i.aa(1,e,t);ug("Data must be an object, but it was:",l,s);const h=[],g=so.empty();Ra(s,(ne,we)=>{const qe=pf(e,ne,t);we=(0,je.m9)(we);const bt=l.ia(qe);if(we instanceof Md)h.push(qe);else{const Jt=gu(we,bt);null!=Jt&&(h.push(qe),g.set(qe,Jt))}});const O=new cs(h);return new rg(g,O,l.fieldTransforms)}function ff(i,e,t,s,l,h){const g=i.aa(1,e,t),O=[cg(e,s,t)],ne=[l];if(h.length%2!=0)throw new Cn(Qt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Jt=0;Jt<h.length;Jt+=2)O.push(cg(e,h[Jt])),ne.push(h[Jt+1]);const we=[],qe=so.empty();for(let Jt=O.length-1;Jt>=0;--Jt)if(!n_(we,O[Jt])){const En=O[Jt];let kn=ne[Jt];kn=(0,je.m9)(kn);const ar=g.ia(En);if(kn instanceof Md)we.push(En);else{const yr=gu(kn,ar);null!=yr&&(we.push(En),qe.set(En,yr))}}const bt=new cs(we);return new rg(qe,bt,g.fieldTransforms)}function dy(i,e,t,s=!1){return gu(t,i.aa(s?4:3,e))}function gu(i,e){if(Hu(i=(0,je.m9)(i)))return ug("Unsupported field value:",e,i),lg(i,e);if(i instanceof pu)return function(t,s){if(!ig(s.Zc))throw s.oa(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.oa(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,s){const l=[];let h=0;for(const g of t){let O=gu(g,s.ra(h));null==O&&(O={nullValue:"NULL_VALUE"}),l.push(O),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,je.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lf(s.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=$.fromDate(t);return{timestampValue:Jl(s.wt,l)}}if(t instanceof $){const l=new $(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jl(s.wt,l)}}if(t instanceof Td)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Aa)return{bytesValue:Zc(s.wt,t._byteString)};if(t instanceof Os){const l=s.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw s.oa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.oa(`Unsupported field value: ${sf(t)}`)}(i,e)}function lg(i,e){const t={};return Ll(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(i,(s,l)=>{const h=gu(l,e.ea(s));null!=h&&(t[s]=h)}),{mapValue:{fields:t}}}function Hu(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof $||i instanceof Td||i instanceof Aa||i instanceof Os||i instanceof pu)}function ug(i,e,t){if(!Hu(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=sf(t);throw e.oa("an object"===s?i+" a custom object":i+" "+s)}var s}function cg(i,e,t){if((e=(0,je.m9)(e))instanceof pl)return e._internalPath;if("string"==typeof e)return pf(i,e);throw Od("Field path arguments must be of type string or ",i,!1,void 0,t)}const hy=new RegExp("[~\\*/\\[\\]]");function pf(i,e,t){if(e.search(hy)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new pl(...e.split("."))._internalPath}catch(s){throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Od(i,e,t,s,l){const h=s&&!s.isEmpty(),g=void 0!==l;let O=`Function ${e}() called with invalid data`;t&&(O+=" (via `toFirestore()`)"),O+=". ";let ne="";return(h||g)&&(ne+=" (found",h&&(ne+=` in field ${s}`),g&&(ne+=` in document ${l}`),ne+=")"),new Cn(Qt.INVALID_ARGUMENT,O+i+ne)}function n_(i,e){return i.some(t=>t.isEqual(e))}class $u{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ia("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dg extends $u{data(){return super.data()}}function Ia(i,e){return"string"==typeof e?pf(i,e):e instanceof pl?e._internalPath:e._delegate._internalPath}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rl extends $u{constructor(e,t,s,l,h,g){super(e,t,s,l,g),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ia("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ga extends Rl{data(e={}){return super.data(e)}}class bo{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new zu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ga(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cn(Qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new ga(s._firestore,s._userDataWriter,g.doc.key,g.doc,new zu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:h++}))}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const O=new ga(s._firestore,s._userDataWriter,g.doc.key,g.doc,new zu(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let ne=-1,we=-1;return 0!==g.type&&(ne=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(h=h.add(g.doc),we=h.indexOf(g.doc.key)),{type:Ya(g.type),doc:O,oldIndex:ne,newIndex:we}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ya(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}function hg(i,e){return i instanceof Rl&&e instanceof Rl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof bo&&e instanceof bo&&i._firestore===e._firestore&&Id(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function fg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Cn(Qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rd{}function mu(i,...e){for(const t of e)i=t._apply(i);return i}class r_ extends Rd{constructor(e,t,s){super(),this.fa=e,this.da=t,this._a=s,this.type="where"}_apply(e){const t=Fc(e.firestore),s=function(l,h,g,O,ne,we,qe){let bt;if(ne.isKeyField()){if("array-contains"===we||"array-contains-any"===we)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${we}' queries on documentId().`);if("in"===we||"not-in"===we){yf(qe,we);const En=[];for(const kn of qe)En.push(kd(O,l,kn));bt={arrayValue:{values:En}}}else bt=kd(O,l,qe)}else"in"!==we&&"not-in"!==we&&"array-contains-any"!==we||yf(qe,we),bt=dy(g,"where",qe,"in"===we||"not-in"===we);const Jt=zs.create(ne,we,bt);return function(En,kn){if(kn.ht()){const yr=Ju(En);if(null!==yr&&!yr.isEqual(kn.field))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${yr.toString()}' and '${kn.field.toString()}'`);const ji=Iu(En);null!==ji&&vf(0,kn.field,ji)}const ar=function(yr,ji){for(const ds of yr.filters)if(ji.indexOf(ds.op)>=0)return ds.op;return null}(En,function(yr){switch(yr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(kn.op));if(null!==ar)throw new Cn(Qt.INVALID_ARGUMENT,ar===kn.op?`Invalid query. You cannot use more than one '${kn.op.toString()}' filter.`:`Invalid query. You cannot use '${kn.op.toString()}' filters with '${ar.toString()}' filters.`)}(l,Jt),Jt}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new na(e.firestore,e.converter,function(l,h){const g=l.filters.concat([h]);return new Ea(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,s))}}class pg extends Rd{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(s,l,h){if(null!==s.startAt)throw new Cn(Qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Cn(Qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new Ul(l,h);return function(O,ne){if(null===Iu(O)){const we=Ju(O);null!==we&&vf(0,we,ne.field)}}(s,g),g}(e._query,this.fa,this.wa);return new na(e.firestore,e.converter,function(s,l){const h=s.explicitOrderBy.concat([l]);return new Ea(s.path,s.collectionGroup,h,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class fy extends Rd{constructor(e,t,s){super(),this.type=e,this.ma=t,this.ga=s}_apply(e){return new na(e.firestore,e.converter,eh(e._query,this.ma,this.ga))}}class gg extends Rd{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=mf(e,this.type,this.ya,this.pa);return new na(e.firestore,e.converter,(l=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class my extends Rd{constructor(e,t,s){super(),this.type=e,this.ya=t,this.pa=s}_apply(e){const t=mf(e,this.type,this.ya,this.pa);return new na(e.firestore,e.converter,(l=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function mf(i,e,t,s){if(t[0]=(0,je.m9)(t[0]),t[0]instanceof $u)return function(l,h,g,O,ne){if(!O)throw new Cn(Qt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const we=[];for(const qe of Dl(l))if(qe.field.isKeyField())we.push(_o(h,O.key));else{const bt=O.data.field(qe.field);if(U(bt))throw new Cn(Qt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+qe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===bt){const Jt=qe.field.canonicalString();throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Jt}' (used as the orderBy) does not exist.`)}we.push(bt)}return new ol(we,ne)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=Fc(i.firestore);return function(h,g,O,ne,we,qe){const bt=h.explicitOrderBy;if(we.length>bt.length)throw new Cn(Qt.INVALID_ARGUMENT,`Too many arguments provided to ${ne}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Jt=[];for(let En=0;En<we.length;En++){const kn=we[En];if(bt[En].field.isKeyField()){if("string"!=typeof kn)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ne}(), but got a ${typeof kn}`);if(!Xu(h)&&-1!==kn.indexOf("/"))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ne}() must be a plain document ID, but '${kn}' contains a slash.`);const ar=h.path.child(Kt.fromString(kn));if(!jn.isDocumentKey(ar))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ne}() must result in a valid document path, but '${ar}' is not because it contains an odd number of segments.`);const yr=new jn(ar);Jt.push(_o(g,yr))}else{const ar=dy(O,ne,kn);Jt.push(ar)}}return new ol(Jt,qe)}(i._query,i.firestore._databaseId,l,e,t,s)}}function kd(i,e,t){if("string"==typeof(t=(0,je.m9)(t))){if(""===t)throw new Cn(Qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xu(e)&&-1!==t.indexOf("/"))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Kt.fromString(t));if(!jn.isDocumentKey(s))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _o(i,new jn(s))}if(t instanceof Os)return _o(i,t._key);throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(t)}.`)}function yf(i,e){if(!Array.isArray(i)||0===i.length)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function vf(i,e,t){if(!t.isEqual(e))throw new Cn(Qt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const mg={maxAttempts:5};class _f{convertValue(e,t="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ms(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pn()}}convertObject(e,t){const s={};return Ra(e.fields,(l,h)=>{s[l]=this.convertValue(h,t)}),s}convertGeoPoint(e){return new Td(ms(e.latitude),ms(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=J(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ke(e));default:return null}}convertTimestamp(e){const t=xo(e);return new $(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Kt.fromString(e);Mn(ed(s));const l=new Pt(s.get(1),s.get(3)),h=new jn(s.popFirst(5));return l.isEqual(t)||gt(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Fd(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class _y extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}class yg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fc(e)}set(e,t,s){this._verifyNotCommitted();const l=Pl(e,this._firestore),h=Fd(l.converter,t,s),g=hf(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,_s.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const h=Pl(e,this._firestore);let g;return g="string"==typeof(t=(0,je.m9)(t))||t instanceof pl?ff(this._dataReader,"WriteBatch.update",h._key,t,s,l):ag(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(g.toMutation(h._key,_s.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Pl(e,this._firestore);return this._mutations=this._mutations.concat(new Kl(t._key,_s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Cn(Qt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pl(i,e){if((i=(0,je.m9)(i)).firestore!==e)throw new Cn(Qt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Wu extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}function by(i,e,t){i=Ui(i,Os);const s=Ui(i.firestore,Es),l=Fd(i.converter,e,t);return Nc(s,[hf(Fc(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,_s.none())])}function wy(i,e,t,...s){i=Ui(i,Os);const l=Ui(i.firestore,Es),h=Fc(l);let g;return g="string"==typeof(e=(0,je.m9)(e))||e instanceof pl?ff(h,"updateDoc",i._key,e,t,s):ag(h,"updateDoc",i._key,e),Nc(l,[g.toMutation(i._key,_s.exists(!0))])}function Dy(i,...e){var t,s,l;i=(0,je.m9)(i);let h={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||xd(e[g])||(h=e[g],g++);const O={includeMetadataChanges:h.includeMetadataChanges};if(xd(e[g])){const bt=e[g];e[g]=null===(t=bt.next)||void 0===t?void 0:t.bind(bt),e[g+1]=null===(s=bt.error)||void 0===s?void 0:s.bind(bt),e[g+2]=null===(l=bt.complete)||void 0===l?void 0:l.bind(bt)}let ne,we,qe;if(i instanceof Os)we=Ui(i.firestore,Es),qe=wl(i._key.path),ne={next:bt=>{e[g]&&e[g](vg(we,i,bt))},error:e[g+1],complete:e[g+2]};else{const bt=Ui(i,na);we=Ui(bt.firestore,Es),qe=bt._query;const Jt=new Wu(we);ne={next:En=>{e[g]&&e[g](new bo(we,Jt,bt,En))},error:e[g+1],complete:e[g+2]},fg(i._query)}return function(bt,Jt,En,kn){const ar=new Cd(kn),yr=new Kh(Jt,ar,En);return bt.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return $h(yield Gu(bt),yr)})),()=>{ar.Tc(),bt.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return Wh(yield Gu(bt),yr)}))}}(no(we),qe,O,ne)}function Nc(i,e){return function(t,s){const l=new ts;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function Nm(i,e,t){return Pp.apply(this,arguments)}(yield zp(t),s,l)})),l.promise}(no(i),e)}function vg(i,e,t){const s=t.docs.get(e._key),l=new Wu(i);return new Rl(i,l,e._key,s,new zu(t.hasPendingWrites,t.fromCache),e.converter)}class p_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fc(e)}get(e){const t=Pl(e,this._firestore),s=new _y(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Pn();const h=l[0];if(h.isFoundDocument())return new $u(this._firestore,s,h.key,h,t.converter);if(h.isNoDocument())return new $u(this._firestore,s,t._key,null,t.converter);throw Pn()})}set(e,t,s){const l=Pl(e,this._firestore),h=Fd(l.converter,t,s),g=hf(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(e,t,s,...l){const h=Pl(e,this._firestore);let g;return g="string"==typeof(t=(0,je.m9)(t))||t instanceof pl?ff(this._dataReader,"Transaction.update",h._key,t,s,l):ag(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,g),this}delete(e){const t=Pl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Pl(e,this._firestore),s=new Wu(this._firestore);return super.get(e).then(l=>new Rl(this._firestore,s,t._key,l._document,new zu(!1,!1),t.converter))}}function Nd(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cn("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ef(){if("undefined"==typeof Uint8Array)throw new Cn("unimplemented","Uint8Arrays are not available in this environment.")}function yu(){if(!function Wd(){return"undefined"!=typeof atob}())throw new Cn("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){C=It.SDK_VERSION,(0,It._registerComponent)(new Je.wA("firestore",(t,{options:s})=>{const l=t.getProvider("app").getImmediate(),h=new Es(l,new bu(t.getProvider("auth-internal")),new qo(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),h._setSettings(s),h},"PUBLIC")),(0,It.registerVersion)(N,"3.4.13",i),(0,It.registerVersion)(N,"3.4.13","esm2017")}();class Ld{constructor(e){this._delegate=e}static fromBase64String(e){return yu(),new Ld(Aa.fromBase64String(e))}static fromUint8Array(e){return Ef(),new Ld(Aa.fromUint8Array(e))}toBase64(){return yu(),this._delegate.toBase64()}toUint8Array(){return Ef(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Eg(i){return function Lc(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class x0{enableIndexedDbPersistence(e,t){return function ey(i,e){ng(i=Ui(i,Es));const t=no(i),s=i._freezeSettings(),l=new Vp;return df(t,l,new jm(l,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ty(i){ng(i=Ui(i,Es));const e=no(i),t=i._freezeSettings(),s=new Vp;return df(e,s,new Gm(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tg(i){if(i._initialized&&!i._terminated)throw new Cn(Qt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ts;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(s){if(!io.V())return Promise.resolve();const l=s+"main";yield io.delete(l)}),function(s){return t.apply(this,arguments)})(up(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class bf{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pt||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Zp(i,e,t,s={}){var l;const h=(i=Ui(i,lf))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&cn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let g,O;if("string"==typeof s.mockUserToken)g=s.mockUserToken,O=S.MOCK_USER;else{g=(0,je.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const ne=s.mockUserToken.sub||s.mockUserToken.user_id;if(!ne)throw new Cn(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new S(ne)}i._authCredentials=new Ma(new Sa(g,O))}}(this._delegate,e,t,s)}enableNetwork(){return function ny(i){return function Kv(i){return i.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield zv(i),t=yield Wv(i);return e.setNetworkEnabled(!0),function(s){const l=Tn(s);return l.lu.delete(0),md(l)}(t)}))}(no(i=Ui(i,Es)))}(this._delegate)}disableNetwork(){return function ry(i){return function Pc(i){return i.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield zv(i),t=yield Wv(i);return e.setNetworkEnabled(!1),(s=(0,Ne.Z)(function*(l){const h=Tn(l);h.lu.add(0),yield au(h),h._u.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(no(i=Ui(i,Es)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Qm("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xv(i){return function(e){const t=new ts;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function Uv(i,e){return Np.apply(this,arguments)}(yield zp(e),t)})),t.promise}(no(i=Ui(i,Es)))}(this._delegate)}onSnapshotsInSync(e){return function f_(i,e){return function rf(i,e){const t=new Cd(e);return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return s=yield Gu(i),l=t,Tn(s).Tu.add(l),void l.next();var s,l})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return s=yield Gu(i),l=t,void Tn(s).Tu.delete(l);var s,l}))}}(no(i=Ui(i,Es)),xd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Cn("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ku(this,Jp(this._delegate,e))}catch(t){throw ra(t,"collection()","Firestore.collection()")}}doc(e){try{return new La(this,kc(this._delegate,e))}catch(t){throw ra(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wo(this,function Xp(i,e){if(i=Ui(i,lf),qp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cn(Qt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new na(i,null,(t=e,new Ea(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ra(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function g_(i,e,t){i=Ui(i,Es);const s=Object.assign(Object.assign({},mg),t);return function(l){if(l.maxAttempts<1)throw new Cn(Qt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function Qv(i,e,t){const s=new ts;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const l=yield(h=i,Rc(h).then(g=>g.datastore));var h;new Hm(i.asyncQueue,l,t,e,s).run()})),s.promise}(no(i),l=>e(new p_(i,l)),s)}(this._delegate,t=>e(new wg(this,t)))}batch(){return no(this._delegate),new __(new yg(this._delegate,e=>Nc(this._delegate,e)))}loadBundle(e){return function sy(i,e){const t=no(i=Ui(i,Es)),s=new I0;return function qm(i,e,t,s){const l=function(h,g){let O;return O="string"==typeof h?(new TextEncoder).encode(h):h,ne=function(ne,we){if(ne instanceof Uint8Array)return Up(ne,void 0);if(ne instanceof ArrayBuffer)return Up(new Uint8Array(ne),void 0);if(ne instanceof ReadableStream)return ne.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new Gv(ne,g);var ne}(t,gd(e));i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function Um(i,e,t){const s=Tn(i);var l;(l=(0,Ne.Z)(function*(h,g,O){try{const ne=yield g.getMetadata();if(yield function(Jt,En){const kn=Tn(Jt),ar=Ws(En.createTime);return kn.persistence.runTransaction("hasNewerBundle","readonly",yr=>kn.Ds.getBundleMetadata(yr,En.id)).then(yr=>!!yr&&yr.createTime.compareTo(ar)>=0)}(h.localStore,ne))return yield g.close(),O._completeWith({taskState:"Success",documentsLoaded:(Jt=ne).totalDocuments,bytesLoaded:Jt.totalBytes,totalDocuments:Jt.totalDocuments,totalBytes:Jt.totalBytes}),Promise.resolve(new Set);O._updateProgress(Mm(ne));const we=new Rv(ne,h.localStore,g.wt);let qe=yield g.fc();for(;qe;){const Jt=yield we.Nu(qe);Jt&&O._updateProgress(Jt),qe=yield g.fc()}const bt=yield we.complete();return yield Eo(h,bt.Mu,void 0),yield function(Jt,En){const kn=Tn(Jt);return kn.persistence.runTransaction("Save bundle","readwrite",ar=>kn.Ds.saveBundleMetadata(ar,En))}(h.localStore,ne),O._completeWith(bt.progress),Promise.resolve(bt.Ou)}catch(ne){return cn("SyncEngine",`Loading bundle failed with ${ne}`),O._failWith(ne),Promise.resolve(new Set)}var Jt}),function(h,g,O){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield zp(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function e_(i,e){return function Zv(i,e){return i.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,s){const l=Tn(t);return l.persistence.runTransaction("Get named query","readonly",h=>l.Ds.getNamedQuery(h,s))}(yield Wm(i),e)}))}(no(i=Ui(i,Es)),e).then(t=>t?new na(i,null,t.query):null)}(this._delegate,e).then(t=>t?new wo(this,t):null)}}class bg extends _f{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ld(new Aa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return La.forKey(t,this.firestore,null)}}class wg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bg(e)}get(e){const t=qu(e);return this._delegate.get(t).then(s=>new Vd(this._firestore,new Rl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=qu(e);return s?(Nd("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const h=qu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,s,...l),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}}class __{constructor(e){this._delegate=e}set(e,t,s){const l=qu(e);return s?(Nd("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const h=qu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,s,...l),this}delete(e){const t=qu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nr{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new ga(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vu(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Nr.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let h=l.get(t);return h||(h=new Nr(e,new bg(e),t),l.set(t,h)),h}}Nr.INSTANCES=new WeakMap;class La{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bg(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Cn("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new La(t,new Os(t._delegate,s,new jn(e)))}static forKey(e,t,s){return new La(t,new Os(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Ku(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ku(this.firestore,Jp(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,je.m9)(e))instanceof Os&&Jm(this._delegate,e)}set(e,t){t=Nd("DocumentReference.set",t);try{return t?by(this._delegate,e,t):by(this._delegate,e)}catch(s){throw ra(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?wy(this._delegate,e):wy(this._delegate,e,t,...s)}catch(l){throw ra(l,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return Nc(Ui(i.firestore,Es),[new Kl(i._key,_s.none())])}(this._delegate)}onSnapshot(...e){const t=Oy(e),s=Bd(e,l=>new Vd(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Dy(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function o_(i){i=Ui(i,Os);const e=Ui(i.firestore,Es),t=no(e),s=new Wu(e);return function qv(i,e){const t=new ts;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(s=(0,Ne.Z)(function*(l,h,g){try{const O=yield function(ne,we){const qe=Tn(ne);return qe.persistence.runTransaction("read document","readonly",bt=>qe.localDocuments.getDocument(bt,we))}(l,h);O.isFoundDocument()?g.resolve(O):O.isNoDocument()?g.resolve(null):g.reject(new Cn(Qt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const ne=Cc(O,`Failed to get document '${h} from cache`);g.reject(ne)}}),function(l,h,g){return s.apply(this,arguments)})(yield Wm(i),e,t);var s})),t.promise}(t,i._key).then(l=>new Rl(e,s,i._key,l,new zu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function a_(i){i=Ui(i,Os);const e=Ui(i.firestore,Es);return Wp(no(e),i._key,{source:"server"}).then(t=>vg(e,i,t))}(this._delegate):function Ey(i){i=Ui(i,Os);const e=Ui(i.firestore,Es);return Wp(no(e),i._key).then(t=>vg(e,i,t))}(this._delegate),t.then(s=>new Vd(this.firestore,new Rl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new La(this.firestore,this._delegate.withConverter(e?Nr.getInstance(this.firestore,e):null))}}function ra(i,e,t){return i.message=i.message.replace(e,t),i}function Oy(i){for(const e of i)if("object"==typeof e&&!Eg(e))return e;return{}}function Bd(i,e){var t,s;let l;return l=Eg(i[0])?i[0]:Eg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Vd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return hg(this._delegate,e._delegate)}}class vu extends Vd{data(e){const t=this._delegate.data(e);return function xi(i,e){i||Pn()}(void 0!==t),t}}class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bg(e)}where(e,t,s){try{return new wo(this.firestore,mu(this._delegate,function i_(i,e,t){const s=e,l=Ia("where",i);return new r_(l,s,t)}(e,t,s)))}catch(l){throw ra(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wo(this.firestore,mu(this._delegate,function Pd(i,e="asc"){const t=e,s=Ia("orderBy",i);return new pg(s,t)}(e,t)))}catch(s){throw ra(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wo(this.firestore,mu(this._delegate,function py(i){return Qp("limit",i),new fy("limit",i,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wo(this.firestore,mu(this._delegate,function s_(i){return Qp("limitToLast",i),new fy("limitToLast",i,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wo(this.firestore,mu(this._delegate,function gy(...i){return new gg("startAt",i,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wo(this.firestore,mu(this._delegate,function gf(...i){return new gg("startAfter",i,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wo(this.firestore,mu(this._delegate,function yy(...i){return new my("endBefore",i,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wo(this.firestore,mu(this._delegate,function vy(...i){return new my("endAt",i,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return Id(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function u_(i){i=Ui(i,na);const e=Ui(i.firestore,Es),t=no(e),s=new Wu(e);return function Yv(i,e){const t=new ts;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(s=(0,Ne.Z)(function*(l,h,g){try{const O=yield Sh(l,h,!0),ne=new qh(h,O.ji),we=ne.Ku(O.documents),qe=ne.applyChanges(we,!1);g.resolve(qe.snapshot)}catch(O){const ne=Cc(O,`Failed to execute query '${h} against cache`);g.reject(ne)}}),function(l,h,g){return s.apply(this,arguments)})(yield Wm(i),e,t);var s})),t.promise}(t,i._query).then(l=>new bo(e,s,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function c_(i){i=Ui(i,na);const e=Ui(i.firestore,Es),t=no(e),s=new Wu(e);return Kp(t,i._query,{source:"server"}).then(l=>new bo(e,s,i,l))}(this._delegate):function l_(i){i=Ui(i,na);const e=Ui(i.firestore,Es),t=no(e),s=new Wu(e);return fg(i._query),Kp(t,i._query).then(l=>new bo(e,s,i,l))}(this._delegate),t.then(s=>new Ry(this.firestore,new bo(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Oy(e),s=Bd(e,l=>new Ry(this.firestore,new bo(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Dy(this._delegate,t,s)}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Nr.getInstance(this.firestore,e):null))}}class qs{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ry{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qs(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new vu(this._firestore,s))})}isEqual(e){return hg(this._delegate,e._delegate)}}class Ku extends wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new La(this.firestore,e):null}doc(e){try{return new La(this.firestore,void 0===e?kc(this._delegate):kc(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return function h_(i,e){const t=Ui(i.firestore,Es),s=kc(i),l=Fd(i.converter,e);return Nc(t,[hf(Fc(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,_s.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new La(this.firestore,t))}isEqual(e){return Jm(this._delegate,e._delegate)}withConverter(e){return new Ku(this.firestore,this._delegate.withConverter(e?Nr.getInstance(this.firestore,e):null))}}function qu(i){return Ui(i,Os)}class Dg{constructor(...e){this._delegate=new pl(...e)}static documentId(){return new Dg(Br.keyField().canonicalString())}isEqual(e){return(e=(0,je.m9)(e))instanceof pl&&this._delegate._internalPath.isEqual(e._internalPath)}}class _u{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Cy(){return new og("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new _u(e)}static delete(){const e=function m_(){return new Md("deleteField")}();return e._methodName="FieldValue.delete",new _u(e)}static arrayUnion(...e){const t=function Ay(...i){return new po("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new _u(t)}static arrayRemove(...e){const t=function Iy(...i){return new cy("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new _u(t)}static increment(e){const t=function xy(i){return new t_("increment",i)}(e);return t._methodName="FieldValue.increment",new _u(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Py={Firestore:bf,GeoPoint:Td,Timestamp:$,Blob:Ld,Transaction:wg,WriteBatch:__,DocumentReference:La,DocumentSnapshot:Vd,Query:wo,QueryDocumentSnapshot:vu,QuerySnapshot:Ry,CollectionReference:Ku,FieldPath:Dg,FieldValue:_u,setLogLevel:function My(i){!function Be(i){q.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Fy(i){(function ky(i,e){i.INTERNAL.registerComponent(new Je.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},Py)))})(i,(e,t)=>new bf(e,t,new x0)),i.registerVersion("@firebase/firestore-compat","0.1.22")}(Ye.Z);var E_=m(7579),b_=m(6451),wf=m(5363),Ba=m(3900),Ny=m(4782),w_=m(590),D_=m(576);function Ud(i,e){return(0,D_.m)(e)?(0,Ba.w)(()=>i,e):(0,Ba.w)(()=>i)}var Df=m(9468),Cg=m(440),Ly=m(127);const Bc=new u.OlP("angularfire2.auth.use-emulator"),Vc=new u.OlP("angularfire2.auth.settings"),By=new u.OlP("angularfire2.auth.tenant-id"),Vy=new u.OlP("angularfire2.auth.langugage-code"),Uy=new u.OlP("angularfire2.auth.use-device-language"),Ag=new u.OlP("angularfire.auth.persistence"),Ig=(i,e,t,s,l,h,g,O)=>(0,de.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const ne=e.runOutsideAngular(()=>i.auth());if(t&&ne.useEmulator(...t),s&&(ne.tenantId=s),ne.languageCode=l,h&&ne.useDeviceLanguage(),g)for(const[we,qe]of Object.entries(g))ne.settings[we]=qe;return O&&ne.setPersistence(O),ne},[t,s,l,h,g,O]);let xg=(()=>{class i{constructor(t,s,l,h,g,O,ne,we,qe,bt,Jt,En){const kn=new E_.x,ar=(0,he.of)(void 0).pipe((0,wf.Q)(g.outsideAngular),(0,Ba.w)(()=>h.runOutsideAngular(()=>Promise.resolve().then(m.bind(m,1451)))),(0,ie.U)(()=>(0,de.on)(t,h,s)),(0,ie.U)(yr=>Ig(yr,h,O,we,qe,bt,ne,Jt)),(0,Ny.d)({bufferSize:1,refCount:!1}));if((0,$e.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,he.of)(null);else{ar.pipe((0,w_.P)()).subscribe();const ji=ar.pipe((0,Ba.w)(Ti=>Ti.getRedirectResult().then(Ki=>Ki,()=>null)),_e.iC,(0,Ny.d)({bufferSize:1,refCount:!1})),ds=ar.pipe((0,Ba.w)(Ti=>new x.y(Ki=>({unsubscribe:h.runOutsideAngular(()=>Ti.onAuthStateChanged(as=>Ki.next(as),as=>Ki.error(as),()=>Ki.complete()))})))),is=ar.pipe((0,Ba.w)(Ti=>new x.y(Ki=>({unsubscribe:h.runOutsideAngular(()=>Ti.onIdTokenChanged(as=>Ki.next(as),as=>Ki.error(as),()=>Ki.complete()))}))));this.authState=ji.pipe(Ud(ds),(0,Df.R)(g.outsideAngular),(0,wf.Q)(g.insideAngular)),this.user=ji.pipe(Ud(is),(0,Df.R)(g.outsideAngular),(0,wf.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,Ba.w)(Ti=>Ti?(0,te.D)(Ti.getIdToken()):(0,he.of)(null))),this.idTokenResult=this.user.pipe((0,Ba.w)(Ti=>Ti?(0,te.D)(Ti.getIdTokenResult()):(0,he.of)(null))),this.credential=(0,b_.T)(ji,kn,this.authState.pipe((0,Me.h)(Ti=>!Ti))).pipe((0,ie.U)(Ti=>(null==Ti?void 0:Ti.user)?Ti:null),(0,Df.R)(g.outsideAngular),(0,wf.Q)(g.insideAngular))}return(0,de.pX)(this,ar,h,{spy:{apply:(yr,ji,ds)=>{(yr.startsWith("signIn")||yr.startsWith("createUser"))&&ds.then(is=>kn.next(is))}}})}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(de.Dh),u.LFG(de.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_e.HU),u.LFG(Bc,8),u.LFG(Vc,8),u.LFG(By,8),u.LFG(Vy,8),u.LFG(Uy,8),u.LFG(Ag,8),u.LFG(Cg.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Gy(i,e){return function jy(i,e=_.z){return new x.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(i,e)}function Hy(i,e){return Gy(i,e).pipe((0,ie.U)(t=>({payload:t,type:"query"})))}function Tg(i,e){return Hy(i,e).pipe((0,H.O)(void 0),be(),(0,ie.U)(([t,s])=>{const l=s.payload.docChanges(),h=l.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,O)=>{const ne=l.find(qe=>qe.doc.ref.isEqual(g.ref)),we=null==t?void 0:t.payload.docs.find(qe=>qe.ref.isEqual(g.ref));ne&&JSON.stringify(ne.doc.metadata)===JSON.stringify(g.metadata)||!ne&&we&&JSON.stringify(we.metadata)===JSON.stringify(g.metadata)||h.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:g}})}),h}))}function I_(i,e,t){return Tg(i,t).pipe((0,ue.R)((s,l)=>function S0(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function Af(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Cf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Cf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Cf(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(h=>h.payload),e),[]),(0,Pe.x)(),(0,ie.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Cf(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function $y(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class zy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Tg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ie.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,H.O)(void 0),be(),(0,Me.h)(([s,l])=>l.length>0||!s),(0,ie.U)(([s,l])=>l),_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=$y(e);return I_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return Hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),_e.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(_e.iC)}add(e){return this.ref.add(e)}doc(e){return new Sg(this.ref.doc(e),this.afs)}}class Sg{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:h}=qy(s,t);return new zy(l,h,this.afs)}snapshotChanges(){return function A_(i,e){return Gy(i,e).pipe((0,H.O)(void 0),be(),(0,ie.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ie.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,te.D)(this.ref.get(e)).pipe(_e.iC)}}class jd{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Tg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,Me.h)(t=>t.length>0),_e.iC):Tg(this.query,this.afs.schedulers.outsideAngular).pipe(_e.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=$y(e);return I_(this.query,t,this.afs.schedulers.outsideAngular).pipe(_e.iC)}valueChanges(e={}){return Hy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ie.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),_e.iC)}get(e){return(0,te.D)(this.query.get(e)).pipe(_e.iC)}}const Wy=new u.OlP("angularfire2.enableFirestorePersistence"),Ky=new u.OlP("angularfire2.firestore.persistenceSettings"),x_=new u.OlP("angularfire2.firestore.settings"),T_=new u.OlP("angularfire2.firestore.use-emulator");function qy(i,e=(t=>t)){return{query:e(i),ref:i}}let Mg=(()=>{class i{constructor(t,s,l,h,g,O,ne,we,qe,bt,Jt,En,kn,ar,yr,ji,ds){this.schedulers=ne;const is=(0,de.on)(t,O,s),Ti=qe;bt&&Ig(is,O,Jt,kn,ar,yr,En,ji),[this.firestore,this.persistenceEnabled$]=(0,de.cc)(`${is.name}.firestore`,"AngularFirestore",is.name,()=>{const Ki=O.runOutsideAngular(()=>is.firestore());if(h&&Ki.settings(h),Ti&&Ki.useEmulator(...Ti),l&&!(0,$e.PM)(g)){const as=()=>{try{return(0,te.D)(Ki.enablePersistence(we||void 0).then(()=>!0,()=>!1))}catch(zo){return"undefined"!=typeof console&&console.warn(zo),(0,he.of)(!1)}};return[Ki,O.runOutsideAngular(as)]}return[Ki,(0,he.of)(!1)]},[h,Ti,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:g}=qy(l,s),O=this.schedulers.ngZone.run(()=>h);return new zy(O,g,this)}collectionGroup(t,s){const l=s||(g=>g),h=this.firestore.collectionGroup(t);return new jd(l(h),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new Sg(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(de.Dh),u.LFG(de.xv,8),u.LFG(Wy,8),u.LFG(x_,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(_e.HU),u.LFG(Ky,8),u.LFG(T_,8),u.LFG(xg,8),u.LFG(Bc,8),u.LFG(Vc,8),u.LFG(By,8),u.LFG(Vy,8),u.LFG(Uy,8),u.LFG(Ag,8),u.LFG(Cg.nm,8))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),S_=(()=>{class i{constructor(){Ly.Z.registerVersion("angularfire",_e.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Wy,useValue:!0},{provide:Ky,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({providers:[Mg]}),i})()},2011:(Zt,nt,m)=>{m.d(nt,{hO:()=>Pe,xv:()=>be,Dh:()=>ve,GT:()=>_e,cc:()=>Me,on:()=>H,pX:()=>he});var u=m(5e3),_=m(127),x=m(6351);Zt=m.hmd(Zt);const te=["ngOnDestroy"],he=(Ye,Ne,It,Je={})=>new Proxy(Ye,{get:(xe,je)=>It.runOutsideAngular(()=>{var st;if(Ye[je])return(null===(st=null==Je?void 0:Je.spy)||void 0===st?void 0:st.get)&&Je.spy.get(je,Ye[je]),Ye[je];if(te.indexOf(je)>-1)return()=>{};const Ke=Ne.toPromise().then(ee=>{const re=ee&&ee[je];return"function"==typeof re?re.bind(ee):re&&re.then?re.then(De=>It.run(()=>De)):It.run(()=>re)});return new Proxy(()=>{},{get:(ee,re)=>Ke[re],apply:(ee,re,De)=>Ke.then(He=>{var Xe;const dt=He&&He(...De);return(null===(Xe=null==Je?void 0:Je.spy)||void 0===Xe?void 0:Xe.apply)&&Je.spy.apply(je,De,dt),dt})})})}),_e=(Ye,Ne)=>{Ne.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Je=>{Object.defineProperty(Ye.prototype,Je,Object.getOwnPropertyDescriptor(It.prototype||It,Je))})})};class Re{constructor(Ne){return Ne}}const ve=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function H(Ye,Ne,It){const xe="object"==typeof It&&It||{};xe.name=xe.name||"string"==typeof It&&It||"[DEFAULT]";const st=_.Z.apps.filter(Ke=>Ke&&Ke.name===xe.name)[0]||Ne.runOutsideAngular(()=>_.Z.initializeApp(Ye,xe));try{JSON.stringify(Ye)!==JSON.stringify(st.options)&&ie("error",`${st.name} Firebase App already initialized with different options${Zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new Re(st)}const ie=(Ye,...Ne)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ye](...Ne)},ue={provide:Re,useFactory:H,deps:[ve,u.R0b,[new u.FiY,be]]};let Pe=(()=>{class Ye{constructor(It){_.Z.registerVersion("angularfire",x.q4.full,"core"),_.Z.registerVersion("angularfire",x.q4.full,"app-compat"),_.Z.registerVersion("angular",u.q4F.full,It.toString())}static initializeApp(It,Je){return{ngModule:Ye,providers:[{provide:ve,useValue:It},{provide:be,useValue:Je}]}}}return Ye.\u0275fac=function(It){return new(It||Ye)(u.LFG(u.Lbi))},Ye.\u0275mod=u.oAB({type:Ye}),Ye.\u0275inj=u.cJS({providers:[ue]}),Ye})();function Me(Ye,Ne,It,Je,xe){const[,je,st]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Ye)||[];if(je)return function de(Ye,Ne){try{return Ye.toString()===Ne.toString()}catch(It){return Ye===Ne}}(xe,st)||(Fe("error",`${Ne} was already initialized on the ${It} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:xe,was:st})),je;{const Ke=Je();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Ke,xe]),Ke}}const $e=!!Zt.hot,Fe=(Ye,...Ne)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Ye](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Zt,nt,m)=>{m.d(nt,{q4:()=>yl,iC:()=>rl,fc:()=>Wd,HU:()=>Ji,vb:()=>Ll,JM:()=>Ra});var u=m(5e3),_=m(5867),x=m(9671),te=m(9681),he=m(2090),_e=m(4859),Re=m(1877),ve=m(8766);const be="@firebase/installations",H="0.5.12",ue=`w:${H}`,Pe="FIS_v2",Ne=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(U){return U instanceof he.ZR&&U.code.includes("request-failed")}function Je({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function xe(U){return{token:U.token,requestStatus:2,expiresIn:He(U.expiresIn),creationTime:Date.now()}}function je(U,J){return st.apply(this,arguments)}function st(){return(st=(0,x.Z)(function*(U,J){const pt=(yield J.json()).error;return Ne.create("request-failed",{requestName:U,serverCode:pt.code,serverMessage:pt.message,serverStatus:pt.status})})).apply(this,arguments)}function Ke({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function ee(U,{refreshToken:J}){const ke=Ke(U);return ke.append("Authorization",function Xe(U){return`${Pe} ${U}`}(J)),ke}function re(U){return De.apply(this,arguments)}function De(){return(De=(0,x.Z)(function*(U){const J=yield U();return J.status>=500&&J.status<600?U():J})).apply(this,arguments)}function He(U){return Number(U.replace("s","000"))}function dt(U,J){return ut.apply(this,arguments)}function ut(){return(ut=(0,x.Z)(function*({appConfig:U,heartbeatServiceProvider:J},{fid:ke}){const pt=Je(U),Pt=Ke(U),en=J.getImmediate({optional:!0});if(en){const ti=yield en.getHeartbeatsHeader();ti&&Pt.append("x-firebase-client",ti)}const nr={method:"POST",headers:Pt,body:JSON.stringify({fid:ke,authVersion:Pe,appId:U.appId,sdkVersion:ue})},Ar=yield re(()=>fetch(pt,nr));if(Ar.ok){const ti=yield Ar.json();return{fid:ti.fid||ke,registrationStatus:2,refreshToken:ti.refreshToken,authToken:xe(ti.authToken)}}throw yield je("Create Installation",Ar)})).apply(this,arguments)}function Xt(U){return new Promise(J=>{setTimeout(J,U)})}const An=/^[cdef][\w-]{21}$/;function _t(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ke=function $t(U){return function on(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return An.test(ke)?ke:""}catch(U){return""}}function zt(U){return`${U.appName}!${U.appId}`}const ln=new Map;function _n(U,J){const ke=zt(U);Gt(ke,J),function Sn(U,J){const ke=function Vn(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=U=>{Gt(U.data.key,U.data.fid)}),wn}();ke&&ke.postMessage({key:U,fid:J}),function fr(){0===ln.size&&wn&&(wn.close(),wn=null)}()}(ke,J)}function Gt(U,J){const ke=ln.get(U);if(ke)for(const pt of ke)pt(J)}let wn=null;const qr="firebase-installations-store";let Lr=null;function pn(){return Lr||(Lr=(0,ve.X3)("firebase-installations-database",1,{upgrade:(U,J)=>{0===J&&U.createObjectStore(qr)}})),Lr}function Yr(U,J){return Er.apply(this,arguments)}function Er(){return(Er=(0,x.Z)(function*(U,J){const ke=zt(U),Pt=(yield pn()).transaction(qr,"readwrite"),en=Pt.objectStore(qr),yn=yield en.get(ke);return yield en.put(J,ke),yield Pt.done,(!yn||yn.fid!==J.fid)&&_n(U,J.fid),J})).apply(this,arguments)}function vr(U){return dn.apply(this,arguments)}function dn(){return(dn=(0,x.Z)(function*(U){const J=zt(U),pt=(yield pn()).transaction(qr,"readwrite");yield pt.objectStore(qr).delete(J),yield pt.done})).apply(this,arguments)}function Ot(U,J){return Le.apply(this,arguments)}function Le(){return(Le=(0,x.Z)(function*(U,J){const ke=zt(U),Pt=(yield pn()).transaction(qr,"readwrite"),en=Pt.objectStore(qr),yn=yield en.get(ke),nr=J(yn);return void 0===nr?yield en.delete(ke):yield en.put(nr,ke),yield Pt.done,nr&&(!yn||yn.fid!==nr.fid)&&_n(U,nr.fid),nr})).apply(this,arguments)}function ze(U){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,x.Z)(function*(U){let J;const ke=yield Ot(U.appConfig,pt=>{const Pt=Nt(pt),en=Ht(U,Pt);return J=en.registrationPromise,en.installationEntry});return""===ke.fid?{installationEntry:yield J}:{installationEntry:ke,registrationPromise:J}})).apply(this,arguments)}function Nt(U){return rr(U||{fid:_t(),registrationStatus:0})}function Ht(U,J){if(0===J.registrationStatus){if(!navigator.onLine)return{installationEntry:J,registrationPromise:Promise.reject(Ne.create("app-offline"))};const ke={fid:J.fid,registrationStatus:1,registrationTime:Date.now()},pt=function nn(U,J){return On.apply(this,arguments)}(U,ke);return{installationEntry:ke,registrationPromise:pt}}return 1===J.registrationStatus?{installationEntry:J,registrationPromise:Ln(U)}:{installationEntry:J}}function On(){return(On=(0,x.Z)(function*(U,J){try{const ke=yield dt(U,J);return Yr(U.appConfig,ke)}catch(ke){throw It(ke)&&409===ke.customData.serverCode?yield vr(U.appConfig):yield Yr(U.appConfig,{fid:J.fid,registrationStatus:0}),ke}})).apply(this,arguments)}function Ln(U){return xn.apply(this,arguments)}function xn(){return(xn=(0,x.Z)(function*(U){let J=yield zn(U.appConfig);for(;1===J.registrationStatus;)yield Xt(100),J=yield zn(U.appConfig);if(0===J.registrationStatus){const{installationEntry:ke,registrationPromise:pt}=yield ze(U);return pt||ke}return J})).apply(this,arguments)}function zn(U){return Ot(U,J=>{if(!J)throw Ne.create("installation-not-found");return rr(J)})}function rr(U){return function Bn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Gn(U,J){return In.apply(this,arguments)}function In(){return(In=(0,x.Z)(function*({appConfig:U,heartbeatServiceProvider:J},ke){const pt=Zr(U,ke),Pt=ee(U,ke),en=J.getImmediate({optional:!0});if(en){const ti=yield en.getHeartbeatsHeader();ti&&Pt.append("x-firebase-client",ti)}const nr={method:"POST",headers:Pt,body:JSON.stringify({installation:{sdkVersion:ue,appId:U.appId}})},Ar=yield re(()=>fetch(pt,nr));if(Ar.ok)return xe(yield Ar.json());throw yield je("Generate Auth Token",Ar)})).apply(this,arguments)}function Zr(U,{fid:J}){return`${Je(U)}/${J}/authTokens:generate`}function ct(U){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,x.Z)(function*(U,J=!1){let ke;const pt=yield Ot(U.appConfig,en=>{if(!Vt(en))throw Ne.create("not-registered");const yn=en.authToken;if(!J&&pe(yn))return en;if(1===yn.requestStatus)return ke=z(U,J),en;{if(!navigator.onLine)throw Ne.create("app-offline");const nr=T(en);return ke=Te(U,nr),nr}});return ke?yield ke:pt.authToken})).apply(this,arguments)}function z(U,J){return k.apply(this,arguments)}function k(){return(k=(0,x.Z)(function*(U,J){let ke=yield B(U.appConfig);for(;1===ke.authToken.requestStatus;)yield Xt(100),ke=yield B(U.appConfig);const pt=ke.authToken;return 0===pt.requestStatus?ct(U,J):pt})).apply(this,arguments)}function B(U){return Ot(U,J=>{if(!Vt(J))throw Ne.create("not-registered");return function Z(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(J.authToken)?Object.assign(Object.assign({},J),{authToken:{requestStatus:0}}):J})}function Te(U,J){return ft.apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(U,J){try{const ke=yield Gn(U,J),pt=Object.assign(Object.assign({},J),{authToken:ke});return yield Yr(U.appConfig,pt),ke}catch(ke){if(!It(ke)||401!==ke.customData.serverCode&&404!==ke.customData.serverCode){const pt=Object.assign(Object.assign({},J),{authToken:{requestStatus:0}});yield Yr(U.appConfig,pt)}else yield vr(U.appConfig);throw ke}})).apply(this,arguments)}function Vt(U){return void 0!==U&&2===U.registrationStatus}function pe(U){return 2===U.requestStatus&&!function Rt(U){const J=Date.now();return J<U.creationTime||U.creationTime+U.expiresIn<J+36e5}(U)}function T(U){const J={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:J})}function et(){return(et=(0,x.Z)(function*(U){const J=U,{installationEntry:ke,registrationPromise:pt}=yield ze(J);return pt?pt.catch(console.error):ct(J).catch(console.error),ke.fid})).apply(this,arguments)}function rt(){return(rt=(0,x.Z)(function*(U,J=!1){const ke=U;return yield vt(ke),(yield ct(ke,J)).token})).apply(this,arguments)}function vt(U){return ht.apply(this,arguments)}function ht(){return(ht=(0,x.Z)(function*(U){const{registrationPromise:J}=yield ze(U);J&&(yield J)})).apply(this,arguments)}function Gi(U){return Ne.create("missing-app-config-values",{valueName:U})}const Qr="installations",Yn=U=>{const J=U.getProvider("app").getImmediate(),ke=function br(U){if(!U||!U.options)throw Gi("App Configuration");if(!U.name)throw Gi("App Name");const J=["projectId","apiKey","appId"];for(const ke of J)if(!U.options[ke])throw Gi(ke);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(J);return{app:J,appConfig:ke,heartbeatServiceProvider:(0,te._getProvider)(J,"heartbeat"),_delete:()=>Promise.resolve()}},jr=U=>{const J=U.getProvider("app").getImmediate(),ke=(0,te._getProvider)(J,Qr).getImmediate();return{getId:()=>function at(U){return et.apply(this,arguments)}(ke),getToken:Pt=>function Ge(U){return rt.apply(this,arguments)}(ke,Pt)}};(function Ei(){(0,te._registerComponent)(new _e.wA(Qr,Yn,"PUBLIC")),(0,te._registerComponent)(new _e.wA("installations-internal",jr,"PRIVATE"))})(),(0,te.registerVersion)(be,H),(0,te.registerVersion)(be,H,"esm2017");const mi="@firebase/remote-config",$r=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ws{constructor(J,ke,pt,Pt){this.client=J,this.storage=ke,this.storageCache=pt,this.logger=Pt}isCachedDataFresh(J,ke){if(!ke)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pt=Date.now()-ke,Pt=pt<=J;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pt}. Cache max age millis (minimumFetchIntervalMillis setting): ${J}. Is cache hit: ${Pt}.`),Pt}fetch(J){var ke=this;return(0,x.Z)(function*(){const[pt,Pt]=yield Promise.all([ke.storage.getLastSuccessfulFetchTimestampMillis(),ke.storage.getLastSuccessfulFetchResponse()]);if(Pt&&ke.isCachedDataFresh(J.cacheMaxAgeMillis,pt))return Pt;J.eTag=Pt&&Pt.eTag;const en=yield ke.client.fetch(J),yn=[ke.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===en.status&&yn.push(ke.storage.setLastSuccessfulFetchResponse(en)),yield Promise.all(yn),en})()}}function Rs(U=navigator){return U.languages&&U.languages[0]||U.language}class yi{constructor(J,ke,pt,Pt,en,yn){this.firebaseInstallations=J,this.sdkVersion=ke,this.namespace=pt,this.projectId=Pt,this.apiKey=en,this.appId=yn}fetch(J){var ke=this;return(0,x.Z)(function*(){var pt,Pt,en;const[yn,nr]=yield Promise.all([ke.firebaseInstallations.getId(),ke.firebaseInstallations.getToken()]),ti=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ke.projectId}/namespaces/${ke.namespace}:fetch?key=${ke.apiKey}`,Wr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":J.eTag||"*"},_r={sdk_version:ke.sdkVersion,app_instance_id:yn,app_instance_id_token:nr,app_id:ke.appId,language_code:Rs()},Ps={method:"POST",headers:Wr,body:JSON.stringify(_r)},As=fetch(ti,Ps),No=new Promise((Xo,ea)=>{J.signal.addEventListener(()=>{const sl=new Error("The operation was aborted.");sl.name="AbortError",ea(sl)})});let $s;try{yield Promise.race([As,No]),$s=yield As}catch(Xo){let ea="fetch-client-network";throw"AbortError"===(null===(pt=Xo)||void 0===pt?void 0:pt.name)&&(ea="fetch-timeout"),$r.create(ea,{originalErrorMessage:null===(Pt=Xo)||void 0===Pt?void 0:Pt.message})}let da=$s.status;const _o=$s.headers.get("ETag")||void 0;let vl,Jo;if(200===$s.status){let Xo;try{Xo=yield $s.json()}catch(ea){throw $r.create("fetch-client-parse",{originalErrorMessage:null===(en=ea)||void 0===en?void 0:en.message})}vl=Xo.entries,Jo=Xo.state}if("INSTANCE_STATE_UNSPECIFIED"===Jo?da=500:"NO_CHANGE"===Jo?da=304:("NO_TEMPLATE"===Jo||"EMPTY_CONFIG"===Jo)&&(vl={}),304!==da&&200!==da)throw $r.create("fetch-status",{httpStatus:da});return{status:da,eTag:_o,config:vl}})()}}class Ct{constructor(J,ke){this.client=J,this.storage=ke}fetch(J){var ke=this;return(0,x.Z)(function*(){const pt=(yield ke.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ke.attemptFetch(J,pt)})()}attemptFetch(J,{throttleEndTimeMillis:ke,backoffCount:pt}){var Pt=this;return(0,x.Z)(function*(){yield function ns(U,J){return new Promise((ke,pt)=>{const Pt=Math.max(J-Date.now(),0),en=setTimeout(ke,Pt);U.addEventListener(()=>{clearTimeout(en),pt($r.create("fetch-throttle",{throttleEndTimeMillis:J}))})})}(J.signal,ke);try{const en=yield Pt.client.fetch(J);return yield Pt.storage.deleteThrottleMetadata(),en}catch(en){if(!function Tt(U){if(!(U instanceof he.ZR&&U.customData))return!1;const J=Number(U.customData.httpStatus);return 429===J||500===J||503===J||504===J}(en))throw en;const yn={throttleEndTimeMillis:Date.now()+(0,he.$s)(pt),backoffCount:pt+1};return yield Pt.storage.setThrottleMetadata(yn),Pt.attemptFetch(J,yn)}})()}}class K{constructor(J,ke,pt,Pt,en){this.app=J,this._client=ke,this._storageCache=pt,this._storage=Pt,this._logger=en,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function W(U,J){var ke;const pt=U.target.error||void 0;return $r.create(J,{originalErrorMessage:pt&&(null===(ke=pt)||void 0===ke?void 0:ke.message)})}const oe="app_namespace_store";class rn{constructor(J,ke,pt,Pt=function mt(){return new Promise((U,J)=>{var ke;try{const pt=indexedDB.open("firebase_remote_config",1);pt.onerror=Pt=>{J(W(Pt,"storage-open"))},pt.onsuccess=Pt=>{U(Pt.target.result)},pt.onupgradeneeded=Pt=>{0===Pt.oldVersion&&Pt.target.result.createObjectStore(oe,{keyPath:"compositeKey"})}}catch(pt){J($r.create("storage-open",{originalErrorMessage:null===(ke=pt)||void 0===ke?void 0:ke.message}))}})}()){this.appId=J,this.appName=ke,this.namespace=pt,this.openDbPromise=Pt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(J){return this.set("last_fetch_status",J)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(J){return this.set("last_successful_fetch_timestamp_millis",J)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(J){return this.set("last_successful_fetch_response",J)}getActiveConfig(){return this.get("active_config")}setActiveConfig(J){return this.set("active_config",J)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(J){return this.set("active_config_etag",J)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(J){return this.set("throttle_metadata",J)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(J){var ke=this;return(0,x.Z)(function*(){const pt=yield ke.openDbPromise;return new Promise((Pt,en)=>{var yn;const Ar=pt.transaction([oe],"readonly").objectStore(oe),ti=ke.createCompositeKey(J);try{const Wr=Ar.get(ti);Wr.onerror=_r=>{en(W(_r,"storage-get"))},Wr.onsuccess=_r=>{const Ps=_r.target.result;Pt(Ps?Ps.value:void 0)}}catch(Wr){en($r.create("storage-get",{originalErrorMessage:null===(yn=Wr)||void 0===yn?void 0:yn.message}))}})})()}set(J,ke){var pt=this;return(0,x.Z)(function*(){const Pt=yield pt.openDbPromise;return new Promise((en,yn)=>{var nr;const ti=Pt.transaction([oe],"readwrite").objectStore(oe),Wr=pt.createCompositeKey(J);try{const _r=ti.put({compositeKey:Wr,value:ke});_r.onerror=Ps=>{yn(W(Ps,"storage-set"))},_r.onsuccess=()=>{en()}}catch(_r){yn($r.create("storage-set",{originalErrorMessage:null===(nr=_r)||void 0===nr?void 0:nr.message}))}})})()}delete(J){var ke=this;return(0,x.Z)(function*(){const pt=yield ke.openDbPromise;return new Promise((Pt,en)=>{var yn;const Ar=pt.transaction([oe],"readwrite").objectStore(oe),ti=ke.createCompositeKey(J);try{const Wr=Ar.delete(ti);Wr.onerror=_r=>{en(W(_r,"storage-delete"))},Wr.onsuccess=()=>{Pt()}}catch(Wr){en($r.create("storage-delete",{originalErrorMessage:null===(yn=Wr)||void 0===yn?void 0:yn.message}))}})})()}createCompositeKey(J){return[this.appId,this.appName,this.namespace,J].join()}}class un{constructor(J){this.storage=J}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var J=this;return(0,x.Z)(function*(){const ke=J.storage.getLastFetchStatus(),pt=J.storage.getLastSuccessfulFetchTimestampMillis(),Pt=J.storage.getActiveConfig(),en=yield ke;en&&(J.lastFetchStatus=en);const yn=yield pt;yn&&(J.lastSuccessfulFetchTimestampMillis=yn);const nr=yield Pt;nr&&(J.activeConfig=nr)})()}setLastFetchStatus(J){return this.lastFetchStatus=J,this.storage.setLastFetchStatus(J)}setLastSuccessfulFetchTimestampMillis(J){return this.lastSuccessfulFetchTimestampMillis=J,this.storage.setLastSuccessfulFetchTimestampMillis(J)}setActiveConfig(J){return this.activeConfig=J,this.storage.setActiveConfig(J)}}function Nn(){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,x.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(U){return!1}})).apply(this,arguments)}!function jt(){(0,te._registerComponent)(new _e.wA("remote-config",function U(J,{instanceIdentifier:ke}){const pt=J.getProvider("app").getImmediate(),Pt=J.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $r.create("registration-window");if(!(0,he.hl)())throw $r.create("indexed-db-unavailable");const{projectId:en,apiKey:yn,appId:nr}=pt.options;if(!en)throw $r.create("registration-project-id");if(!yn)throw $r.create("registration-api-key");if(!nr)throw $r.create("registration-app-id");const Ar=new rn(nr,pt.name,ke=ke||"firebase"),ti=new un(Ar),Wr=new Re.Yd(mi);Wr.logLevel=Re.in.ERROR;const _r=new yi(Pt,te.SDK_VERSION,ke,en,yn,nr),Ps=new Ct(_r,Ar),As=new ws(Ps,Ar,ti,Wr),No=new K(pt,As,ti,Ar,Wr);return function xr(U){const J=(0,he.m9)(U);J._initializePromise||(J._initializePromise=J._storageCache.loadFromStorage().then(()=>{J._isInitializationComplete=!0}))}(No),No},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(mi,"0.3.11"),(0,te.registerVersion)(mi,"0.3.11","esm2017")}();const wr="/firebase-messaging-sw.js",ir="/firebase-cloud-messaging-push-scope",Fr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rr="google.c.a.c_id",Jr="google.c.a.c_l",Ur="google.c.a.ts",$i="google.c.a.e";var Ri=(()=>{return(U=Ri||(Ri={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",Ri;var U})();function vi(U){const J=new Uint8Array(U);return btoa(String.fromCharCode(...J)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Is(U){const ke=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pt=atob(ke),Pt=new Uint8Array(pt.length);for(let en=0;en<pt.length;++en)Pt[en]=pt.charCodeAt(en);return Pt}const oi="fcm_token_details_db",w="fcm_token_object_Store";function R(U){return X.apply(this,arguments)}function X(){return X=(0,x.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(en=>en.name).includes(oi))return null;let J=null;return(yield(0,ve.X3)(oi,5,{upgrade:(pt=(0,x.Z)(function*(Pt,en,yn,nr){var Ar;if(en<2||!Pt.objectStoreNames.contains(w))return;const ti=nr.objectStore(w),Wr=yield ti.index("fcmSenderId").get(U);if(yield ti.clear(),Wr)if(2===en){const _r=Wr;if(!_r.auth||!_r.p256dh||!_r.endpoint)return;J={token:_r.fcmToken,createTime:null!==(Ar=_r.createTime)&&void 0!==Ar?Ar:Date.now(),subscriptionOptions:{auth:_r.auth,p256dh:_r.p256dh,endpoint:_r.endpoint,swScope:_r.swScope,vapidKey:"string"==typeof _r.vapidKey?_r.vapidKey:vi(_r.vapidKey)}}}else if(3===en){const _r=Wr;J={token:_r.fcmToken,createTime:_r.createTime,subscriptionOptions:{auth:vi(_r.auth),p256dh:vi(_r.p256dh),endpoint:_r.endpoint,swScope:_r.swScope,vapidKey:vi(_r.vapidKey)}}}else if(4===en){const _r=Wr;J={token:_r.fcmToken,createTime:_r.createTime,subscriptionOptions:{auth:vi(_r.auth),p256dh:vi(_r.p256dh),endpoint:_r.endpoint,swScope:_r.swScope,vapidKey:vi(_r.vapidKey)}}}}),function(en,yn,nr,Ar){return pt.apply(this,arguments)})})).close(),yield(0,ve.Lj)(oi),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),ge(J)?J:null;var pt}),X.apply(this,arguments)}function ge(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:J}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof J.auth&&J.auth.length>0&&"string"==typeof J.p256dh&&J.p256dh.length>0&&"string"==typeof J.endpoint&&J.endpoint.length>0&&"string"==typeof J.swScope&&J.swScope.length>0&&"string"==typeof J.vapidKey&&J.vapidKey.length>0}const Wt="firebase-messaging-store";let tn=null;function Yt(){return tn||(tn=(0,ve.X3)("firebase-messaging-database",1,{upgrade:(U,J)=>{0===J&&U.createObjectStore(Wt)}})),tn}function L(U){return se.apply(this,arguments)}function se(){return(se=(0,x.Z)(function*(U){const J=Bt(U),pt=yield(yield Yt()).transaction(Wt).objectStore(Wt).get(J);if(pt)return pt;{const Pt=yield R(U.appConfig.senderId);if(Pt)return yield F(U,Pt),Pt}})).apply(this,arguments)}function F(U,J){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,x.Z)(function*(U,J){const ke=Bt(U),Pt=(yield Yt()).transaction(Wt,"readwrite");return yield Pt.objectStore(Wt).put(J,ke),yield Pt.done,J})).apply(this,arguments)}function Ze(U){return wt.apply(this,arguments)}function wt(){return(wt=(0,x.Z)(function*(U){const J=Bt(U),pt=(yield Yt()).transaction(Wt,"readwrite");yield pt.objectStore(Wt).delete(J),yield pt.done})).apply(this,arguments)}function Bt({appConfig:U}){return U.appId}const tr=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cr(U,J){return lr.apply(this,arguments)}function lr(){return(lr=(0,x.Z)(function*(U,J){var ke;const pt=yield j(U),Pt=Oe(J),en={method:"POST",headers:pt,body:JSON.stringify(Pt)};let yn;try{yn=yield(yield fetch(Y(U.appConfig),en)).json()}catch(nr){throw tr.create("token-subscribe-failed",{errorInfo:null===(ke=nr)||void 0===ke?void 0:ke.toString()})}if(yn.error)throw tr.create("token-subscribe-failed",{errorInfo:yn.error.message});if(!yn.token)throw tr.create("token-subscribe-no-token");return yn.token})).apply(this,arguments)}function dr(U,J){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,x.Z)(function*(U,J){var ke;const pt=yield j(U),Pt=Oe(J.subscriptionOptions),en={method:"PATCH",headers:pt,body:JSON.stringify(Pt)};let yn;try{yn=yield(yield fetch(`${Y(U.appConfig)}/${J.token}`,en)).json()}catch(nr){throw tr.create("token-update-failed",{errorInfo:null===(ke=nr)||void 0===ke?void 0:ke.toString()})}if(yn.error)throw tr.create("token-update-failed",{errorInfo:yn.error.message});if(!yn.token)throw tr.create("token-update-no-token");return yn.token})).apply(this,arguments)}function Sr(U,J){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,x.Z)(function*(U,J){var ke;const Pt={method:"DELETE",headers:yield j(U)};try{const yn=yield(yield fetch(`${Y(U.appConfig)}/${J}`,Pt)).json();if(yn.error)throw tr.create("token-unsubscribe-failed",{errorInfo:yn.error.message})}catch(en){throw tr.create("token-unsubscribe-failed",{errorInfo:null===(ke=en)||void 0===ke?void 0:ke.toString()})}})).apply(this,arguments)}function Y({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function j(U){return P.apply(this,arguments)}function P(){return(P=(0,x.Z)(function*({appConfig:U,installations:J}){const ke=yield J.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ke}`})})).apply(this,arguments)}function Oe({p256dh:U,auth:J,endpoint:ke,vapidKey:pt}){const Pt={web:{endpoint:ke,auth:J,p256dh:U}};return pt!==Fr&&(Pt.web.applicationPubKey=pt),Pt}const sn=6048e5;function Wn(U){return li.apply(this,arguments)}function li(){return(li=(0,x.Z)(function*(U){const J=yield Qi(U.swRegistration,U.vapidKey),ke={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:J.endpoint,auth:vi(J.getKey("auth")),p256dh:vi(J.getKey("p256dh"))},pt=yield L(U.firebaseDependencies);if(pt){if(oo(pt.subscriptionOptions,ke))return Date.now()>=pt.createTime+sn?Gs(U,{token:pt.token,createTime:Date.now(),subscriptionOptions:ke}):pt.token;try{yield Sr(U.firebaseDependencies,pt.token)}catch(Pt){console.warn(Pt)}return ri(U.firebaseDependencies,ke)}return ri(U.firebaseDependencies,ke)})).apply(this,arguments)}function hs(U){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,x.Z)(function*(U){const J=yield L(U.firebaseDependencies);J&&(yield Sr(U.firebaseDependencies,J.token),yield Ze(U.firebaseDependencies));const ke=yield U.swRegistration.pushManager.getSubscription();return!ke||ke.unsubscribe()})).apply(this,arguments)}function Gs(U,J){return gn.apply(this,arguments)}function gn(){return(gn=(0,x.Z)(function*(U,J){try{const ke=yield dr(U.firebaseDependencies,J),pt=Object.assign(Object.assign({},J),{token:ke,createTime:Date.now()});return yield F(U.firebaseDependencies,pt),ke}catch(ke){throw yield hs(U),ke}})).apply(this,arguments)}function ri(U,J){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,x.Z)(function*(U,J){const pt={token:yield cr(U,J),createTime:Date.now(),subscriptionOptions:J};return yield F(U,pt),pt.token})).apply(this,arguments)}function Qi(U,J){return Po.apply(this,arguments)}function Po(){return(Po=(0,x.Z)(function*(U,J){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Is(J)})})).apply(this,arguments)}function oo(U,J){return J.vapidKey===U.vapidKey&&J.endpoint===U.endpoint&&J.auth===U.auth&&J.p256dh===U.p256dh}function Ns(U){const J={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Do(U,J){if(!J.notification)return;U.notification={};const ke=J.notification.title;ke&&(U.notification.title=ke);const pt=J.notification.body;pt&&(U.notification.body=pt);const Pt=J.notification.image;Pt&&(U.notification.image=Pt)}(J,U),function ia(U,J){!J.data||(U.data=J.data)}(J,U),function Ja(U,J){var ke,pt,Pt,en,yn;if(!J.fcmOptions&&!(null===(ke=J.notification)||void 0===ke?void 0:ke.click_action))return;U.fcmOptions={};const nr=null!==(Pt=null===(pt=J.fcmOptions)||void 0===pt?void 0:pt.link)&&void 0!==Pt?Pt:null===(en=J.notification)||void 0===en?void 0:en.click_action;nr&&(U.fcmOptions.link=nr);const Ar=null===(yn=J.fcmOptions)||void 0===yn?void 0:yn.analytics_label;Ar&&(U.fcmOptions.analyticsLabel=Ar)}(J,U),J}function Ko(U){return"object"==typeof U&&!!U&&Rr in U}function ao(U,J){const ke=[];for(let pt=0;pt<U.length;pt++)ke.push(U.charAt(pt)),pt<J.length&&ke.push(J.charAt(pt));return ke.join("")}function rs(U){return tr.create("missing-app-config-values",{valueName:U})}ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hs{constructor(J,ke,pt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pt=function go(U){if(!U||!U.options)throw rs("App Configuration Object");if(!U.name)throw rs("App Name");const J=["projectId","apiKey","appId","messagingSenderId"],{options:ke}=U;for(const pt of J)if(!ke[pt])throw rs(pt);return{appName:U.name,projectId:ke.projectId,apiKey:ke.apiKey,appId:ke.appId,senderId:ke.messagingSenderId}}(J);this.firebaseDependencies={app:J,appConfig:Pt,installations:ke,analyticsProvider:pt}}_delete(){return Promise.resolve()}}function sa(U){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,x.Z)(function*(U){var J;try{U.swRegistration=yield navigator.serviceWorker.register(wr,{scope:ir}),U.swRegistration.update().catch(()=>{})}catch(ke){throw tr.create("failed-service-worker-registration",{browserErrorMessage:null===(J=ke)||void 0===J?void 0:J.message})}})).apply(this,arguments)}function v(U,J){return D.apply(this,arguments)}function D(){return(D=(0,x.Z)(function*(U,J){if(!J&&!U.swRegistration&&(yield sa(U)),J||!U.swRegistration){if(!(J instanceof ServiceWorkerRegistration))throw tr.create("invalid-sw-registration");U.swRegistration=J}})).apply(this,arguments)}function G(U,J){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,x.Z)(function*(U,J){J?U.vapidKey=J:U.vapidKey||(U.vapidKey=Fr)})).apply(this,arguments)}function yt(){return(yt=(0,x.Z)(function*(U,J){if(!navigator)throw tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw tr.create("permission-blocked");return yield G(U,null==J?void 0:J.vapidKey),yield v(U,null==J?void 0:J.serviceWorkerRegistration),Wn(U)})).apply(this,arguments)}function Et(U,J,ke){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,x.Z)(function*(U,J,ke){const pt=fn(J);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(pt,{message_id:ke[Rr],message_name:ke[Jr],message_time:ke[Ur],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fn(U){switch(U){case Ri.NOTIFICATION_CLICKED:return"notification_open";case Ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pr(){return(pr=(0,x.Z)(function*(U,J){const ke=J.data;if(!ke.isFirebaseMessaging)return;U.onMessageHandler&&ke.messageType===Ri.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Ns(ke)):U.onMessageHandler.next(Ns(ke)));const pt=ke.data;Ko(pt)&&"1"===pt[$i]&&(yield Et(U,ke.messageType,pt))})).apply(this,arguments)}const Mr="@firebase/messaging",gr=U=>{const J=new Hs(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ke=>function Xn(U,J){return pr.apply(this,arguments)}(J,ke)),J},Pr=U=>{const J=U.getProvider("messaging").getImmediate();return{getToken:pt=>function Qe(U,J){return yt.apply(this,arguments)}(J,pt)}};function zi(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,x.Z)(function*(){try{yield(0,he.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Di(){(0,te._registerComponent)(new _e.wA("messaging",gr,"PUBLIC")),(0,te._registerComponent)(new _e.wA("messaging-internal",Pr,"PRIVATE")),(0,te.registerVersion)(Mr,"0.9.16"),(0,te.registerVersion)(Mr,"0.9.16","esm2017")}();const Qs="analytics",uo="firebase_id",Ts="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sr="https://www.googletagmanager.com/gtag/js",er=new Re.Yd("@firebase/analytics");function Or(U){return Promise.all(U.map(J=>J.catch(ke=>ke)))}function zr(U,J){const ke=document.createElement("script");ke.src=`${sr}?l=${U}&id=${J}`,ke.async=!0,document.head.appendChild(ke)}function gs(U,J,ke,pt,Pt,en){return fs.apply(this,arguments)}function fs(){return(fs=(0,x.Z)(function*(U,J,ke,pt,Pt,en){const yn=pt[Pt];try{if(yn)yield J[yn];else{const Ar=(yield Or(ke)).find(ti=>ti.measurementId===Pt);Ar&&(yield J[Ar.appId])}}catch(nr){er.error(nr)}U("config",Pt,en)})).apply(this,arguments)}function Bs(U,J,ke,pt,Pt){return _i.apply(this,arguments)}function _i(){return(_i=(0,x.Z)(function*(U,J,ke,pt,Pt){try{let en=[];if(Pt&&Pt.send_to){let yn=Pt.send_to;Array.isArray(yn)||(yn=[yn]);const nr=yield Or(ke);for(const Ar of yn){const ti=nr.find(_r=>_r.measurementId===Ar),Wr=ti&&J[ti.appId];if(!Wr){en=[];break}en.push(Wr)}}0===en.length&&(en=Object.values(J)),yield Promise.all(en),U("event",pt,Pt||{})}catch(en){er.error(en)}})).apply(this,arguments)}function Ss(){const U=window.document.getElementsByTagName("script");for(const J of Object.values(U))if(J.src&&J.src.includes(sr))return J;return null}const Fi=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ma=new class Js{constructor(J={},ke=1e3){this.throttleMetadata=J,this.intervalMillis=ke}getThrottleMetadata(J){return this.throttleMetadata[J]}setThrottleMetadata(J,ke){this.throttleMetadata[J]=ke}deleteThrottleMetadata(J){delete this.throttleMetadata[J]}};function Xa(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function ho(U){return Va.apply(this,arguments)}function Va(){return(Va=(0,x.Z)(function*(U){var J;const{appId:ke,apiKey:pt}=U,Pt={method:"GET",headers:Xa(pt)},en=Ts.replace("{app-id}",ke),yn=yield fetch(en,Pt);if(200!==yn.status&&304!==yn.status){let nr="";try{const Ar=yield yn.json();(null===(J=Ar.error)||void 0===J?void 0:J.message)&&(nr=Ar.error.message)}catch(Ar){}throw Fi.create("config-fetch-failed",{httpStatus:yn.status,responseMessage:nr})}return yn.json()})).apply(this,arguments)}function Wi(U){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,x.Z)(function*(U,J=ma,ke){const{appId:pt,apiKey:Pt,measurementId:en}=U.options;if(!pt)throw Fi.create("no-app-id");if(!Pt){if(en)return{measurementId:en,appId:pt};throw Fi.create("no-api-key")}const yn=J.getThrottleMetadata(pt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nr=new ce;return setTimeout((0,x.Z)(function*(){nr.abort()}),void 0!==ke?ke:6e4),N({appId:pt,apiKey:Pt,measurementId:en},yn,nr,J)})).apply(this,arguments)}function N(U,J,ke){return S.apply(this,arguments)}function S(){return(S=(0,x.Z)(function*(U,{throttleEndTimeMillis:J,backoffCount:ke},pt,Pt=ma){var en,yn;const{appId:nr,measurementId:Ar}=U;try{yield C(pt,J)}catch(ti){if(Ar)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ar} provided in the "measurementId" field in the local Firebase config. [${null===(en=ti)||void 0===en?void 0:en.message}]`),{appId:nr,measurementId:Ar};throw ti}try{const ti=yield ho(U);return Pt.deleteThrottleMetadata(nr),ti}catch(ti){const Wr=ti;if(!q(Wr)){if(Pt.deleteThrottleMetadata(nr),Ar)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ar} provided in the "measurementId" field in the local Firebase config. [${null==Wr?void 0:Wr.message}]`),{appId:nr,measurementId:Ar};throw ti}const _r=503===Number(null===(yn=null==Wr?void 0:Wr.customData)||void 0===yn?void 0:yn.httpStatus)?(0,he.$s)(ke,Pt.intervalMillis,30):(0,he.$s)(ke,Pt.intervalMillis),Ps={throttleEndTimeMillis:Date.now()+_r,backoffCount:ke+1};return Pt.setThrottleMetadata(nr,Ps),er.debug(`Calling attemptFetch again in ${_r} millis`),N(U,Ps,pt,Pt)}})).apply(this,arguments)}function C(U,J){return new Promise((ke,pt)=>{const Pt=Math.max(J-Date.now(),0),en=setTimeout(ke,Pt);U.addEventListener(()=>{clearTimeout(en),pt(Fi.create("fetch-throttle",{throttleEndTimeMillis:J}))})})}function q(U){if(!(U instanceof he.ZR&&U.customData))return!1;const J=Number(U.customData.httpStatus);return 429===J||500===J||503===J||504===J}class ce{constructor(){this.listeners=[]}addEventListener(J){this.listeners.push(J)}abort(){this.listeners.forEach(J=>J())}}let Be,ts;function gt(){return(gt=(0,x.Z)(function*(U,J,ke,pt,Pt){if(Pt&&Pt.global)U("event",ke,pt);else{const en=yield J;U("event",ke,Object.assign(Object.assign({},pt),{send_to:en}))}})).apply(this,arguments)}function Sa(U){ts=U}function Fo(U){Be=U}function Ma(){return bu.apply(this,arguments)}function bu(){return(bu=(0,x.Z)(function*(){var U;if(!(0,he.hl)())return er.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(J){return er.warn(Fi.create("indexeddb-unavailable",{errorInfo:null===(U=J)||void 0===U?void 0:U.toString()}).message),!1}return!0})).apply(this,arguments)}function gl(){return(gl=(0,x.Z)(function*(U,J,ke,pt,Pt,en,yn){var nr;const Ar=Wi(U);Ar.then(As=>{ke[As.measurementId]=As.appId,U.options.measurementId&&As.measurementId!==U.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${As.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(As=>er.error(As)),J.push(Ar);const ti=Ma().then(As=>{if(As)return pt.getId()}),[Wr,_r]=yield Promise.all([Ar,ti]);Ss()||zr(en,Wr.measurementId),ts&&(Pt("consent","default",ts),Sa(void 0)),Pt("js",new Date);const Ps=null!==(nr=null==yn?void 0:yn.config)&&void 0!==nr?nr:{};return Ps.origin="firebase",Ps.update=!0,null!=_r&&(Ps[uo]=_r),Pt("config",Wr.measurementId,Ps),Be&&(Pt("set",Be),Fo(void 0)),Wr.measurementId})).apply(this,arguments)}class ya{constructor(J){this.app=J}_delete(){return delete qo[this.app.options.appId],Promise.resolve()}}let qo={},Ua=[];const ml={};let ye,b,Ao="dataLayer",$=!1;function Kt(U,J,ke){!function ot(){const U=[];if((0,he.ru)()&&U.push("This is a browser extension environment."),(0,he.zI)()||U.push("Cookies are not available."),U.length>0){const J=U.map((pt,Pt)=>`(${Pt+1}) ${pt}`).join(" "),ke=Fi.create("invalid-analytics-context",{errorInfo:J});er.warn(ke.message)}}();const pt=U.options.appId;if(!pt)throw Fi.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw Fi.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qo[pt])throw Fi.create("already-exists",{id:pt});if(!$){!function ki(U){let J=[];Array.isArray(window[U])?J=window[U]:window[U]=J}(Ao);const{wrappedGtag:en,gtagCore:yn}=function Vs(U,J,ke,pt,Pt){let en=function(...yn){window[pt].push(arguments)};return window[Pt]&&"function"==typeof window[Pt]&&(en=window[Pt]),window[Pt]=function ko(U,J,ke,pt){function en(){return(en=(0,x.Z)(function*(yn,nr,Ar){try{"event"===yn?yield Bs(U,J,ke,nr,Ar):"config"===yn?yield gs(U,J,ke,pt,nr,Ar):"consent"===yn?U("consent","update",Ar):U("set",nr)}catch(ti){er.error(ti)}})).apply(this,arguments)}return function Pt(yn,nr,Ar){return en.apply(this,arguments)}}(en,U,J,ke),{gtagCore:en,wrappedGtag:window[Pt]}}(qo,Ua,ml,Ao,"gtag");b=en,ye=yn,$=!0}return qo[pt]=function Oa(U,J,ke,pt,Pt,en,yn){return gl.apply(this,arguments)}(U,Ua,ml,J,ye,Ao,ke),new ya(U)}function jn(){return mo.apply(this,arguments)}function mo(){return(mo=(0,x.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(U){return!1}})).apply(this,arguments)}const Io="@firebase/analytics";!function Uc(){(0,te._registerComponent)(new _e.wA(Qs,(J,{options:ke})=>Kt(J.getProvider("app").getImmediate(),J.getProvider("installations-internal").getImmediate(),ke),"PUBLIC")),(0,te._registerComponent)(new _e.wA("analytics-internal",function U(J){try{const ke=J.getProvider(Qs).getImmediate();return{logEvent:(pt,Pt,en)=>function Fl(U,J,ke,pt){U=(0,he.m9)(U),function Ve(U,J,ke,pt,Pt){return gt.apply(this,arguments)}(b,qo[U.app.options.appId],J,ke,pt).catch(Pt=>er.error(Pt))}(ke,pt,Pt,en)}}catch(ke){throw Fi.create("interop-component-reg-failed",{reason:ke})}},"PRIVATE")),(0,te.registerVersion)(Io,"0.8.0"),(0,te.registerVersion)(Io,"0.8.0","esm2017")}();var la=m(233),yo=m(4986),qt=m(8505),va=m(5363),io=m(9468);const yl=new u.GfV("7.4.1"),ua="__angularfire_symbol__analyticsIsSupportedValue",vo="__angularfire_symbol__analyticsIsSupported",_a="__angularfire_symbol__remoteConfigIsSupportedValue",ca="__angularfire_symbol__remoteConfigIsSupported",wu="__angularfire_symbol__messagingIsSupportedValue",nl="__angularfire_symbol__messagingIsSupported";function Ra(U,J,ke){if(J){if(1===J.length)return J[0];const en=J.filter(yn=>yn.app===ke);if(1===en.length)return en[0]}return ke.container.getProvider(U).getImmediate({optional:!0})}globalThis[vo]||(globalThis[vo]=jn().then(U=>globalThis[ua]=U).catch(()=>globalThis[ua]=!1)),globalThis[nl]||(globalThis[nl]=zi().then(U=>globalThis[wu]=U).catch(()=>globalThis[wu]=!1)),globalThis[ca]||(globalThis[ca]=Nn().then(U=>globalThis[_a]=U).catch(()=>globalThis[_a]=!1));const Ll=(U,J)=>{const ke=J?[J]:(0,_.C6)(),pt=[];return ke.forEach(Pt=>{Pt.container.getProvider(U).instances.forEach(yn=>{pt.includes(yn)||pt.push(yn)})}),pt};function os(){}class ja{constructor(J,ke=la.N){this.zone=J,this.delegate=ke}now(){return this.delegate.now()}schedule(J,ke,pt){const Pt=this.zone;return this.delegate.schedule(function(yn){Pt.runGuarded(()=>{J.apply(this,[yn])})},ke,pt)}}class Xs{constructor(J){this.zone=J,this.task=null}call(J,ke){const pt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),ke.pipe((0,qt.b)({next:pt,complete:pt,error:pt})).subscribe(J).add(pt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ji=(()=>{class U{constructor(ke){this.ngZone=ke,this.outsideAngular=ke.runOutsideAngular(()=>new ja(Zone.current)),this.insideAngular=ke.run(()=>new ja(Zone.current,yo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ke){return new(ke||U)(u.LFG(u.R0b))},U.\u0275prov=u.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Zo(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function Wd(U){return U.pipe((0,va.Q)(Zo().outsideAngular))}function rl(U){return Zo(),function xo(U){return function(ke){return(ke=ke.lift(new Xs(U.ngZone))).pipe((0,io.R)(U.outsideAngular),(0,va.Q)(U.insideAngular))}}(Zo())(U)}},2090:(Zt,nt,m)=>{m.d(nt,{BH:()=>Pe,LL:()=>ut,ZR:()=>dt,zI:()=>De,US:()=>_e,tV:()=>be,L:()=>ve,$s:()=>Bn,r3:()=>xt,Sg:()=>Me,ne:()=>pn,vZ:()=>wn,ZB:()=>ie,pd:()=>qr,m9:()=>Zr,z$:()=>de,jU:()=>Ye,ru:()=>Ne,d:()=>Je,xb:()=>Gt,w1:()=>xe,hl:()=>ee,uI:()=>$e,UG:()=>Fe,b$:()=>It,G6:()=>Ke,Mn:()=>je,xO:()=>Kn,zd:()=>hr,eu:()=>re});const te=function(ct){const Ae=[];let z=0;for(let k=0;k<ct.length;k++){let B=ct.charCodeAt(k);B<128?Ae[z++]=B:B<2048?(Ae[z++]=B>>6|192,Ae[z++]=63&B|128):55296==(64512&B)&&k+1<ct.length&&56320==(64512&ct.charCodeAt(k+1))?(B=65536+((1023&B)<<10)+(1023&ct.charCodeAt(++k)),Ae[z++]=B>>18|240,Ae[z++]=B>>12&63|128,Ae[z++]=B>>6&63|128,Ae[z++]=63&B|128):(Ae[z++]=B>>12|224,Ae[z++]=B>>6&63|128,Ae[z++]=63&B|128)}return Ae},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ct,Ae){if(!Array.isArray(ct))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let B=0;B<ct.length;B+=3){const Te=ct[B],ft=B+1<ct.length,Vt=ft?ct[B+1]:0,pe=B+2<ct.length,Rt=pe?ct[B+2]:0;let at=(15&Vt)<<2|Rt>>6,et=63&Rt;pe||(et=64,ft||(at=64)),k.push(z[Te>>2],z[(3&Te)<<4|Vt>>4],z[at],z[et])}return k.join("")},encodeString(ct,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(ct):this.encodeByteArray(te(ct),Ae)},decodeString(ct,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(ct):function(ct){const Ae=[];let z=0,k=0;for(;z<ct.length;){const B=ct[z++];if(B<128)Ae[k++]=String.fromCharCode(B);else if(B>191&&B<224){const Te=ct[z++];Ae[k++]=String.fromCharCode((31&B)<<6|63&Te)}else if(B>239&&B<365){const pe=((7&B)<<18|(63&ct[z++])<<12|(63&ct[z++])<<6|63&ct[z++])-65536;Ae[k++]=String.fromCharCode(55296+(pe>>10)),Ae[k++]=String.fromCharCode(56320+(1023&pe))}else{const Te=ct[z++],ft=ct[z++];Ae[k++]=String.fromCharCode((15&B)<<12|(63&Te)<<6|63&ft)}}return Ae.join("")}(this.decodeStringToByteArray(ct,Ae))},decodeStringToByteArray(ct,Ae){this.init_();const z=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let B=0;B<ct.length;){const Te=z[ct.charAt(B++)],Vt=B<ct.length?z[ct.charAt(B)]:0;++B;const Rt=B<ct.length?z[ct.charAt(B)]:64;++B;const Z=B<ct.length?z[ct.charAt(B)]:64;if(++B,null==Te||null==Vt||null==Rt||null==Z)throw Error();k.push(Te<<2|Vt>>4),64!==Rt&&(k.push(Vt<<4&240|Rt>>2),64!==Z&&k.push(Rt<<6&192|Z))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ct=0;ct<this.ENCODED_VALS.length;ct++)this.byteToCharMap_[ct]=this.ENCODED_VALS.charAt(ct),this.charToByteMap_[this.byteToCharMap_[ct]]=ct,this.byteToCharMapWebSafe_[ct]=this.ENCODED_VALS_WEBSAFE.charAt(ct),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ct]]=ct,ct>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ct)]=ct,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ct)]=ct)}}},ve=function(ct){return function(ct){const Ae=te(ct);return _e.encodeByteArray(Ae,!0)}(ct).replace(/\./g,"")},be=function(ct){try{return _e.decodeString(ct,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function ie(ct,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===ct&&(ct={});break;case Array:ct=[];break;default:return Ae}for(const z in Ae)!Ae.hasOwnProperty(z)||!ue(z)||(ct[z]=ie(ct[z],Ae[z]));return ct}function ue(ct){return"__proto__"!==ct}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,z)=>{this.resolve=Ae,this.reject=z})}wrapCallback(Ae){return(z,k)=>{z?this.reject(z):this.resolve(k),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(z):Ae(z,k))}}}function Me(ct,Ae){if(ct.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=Ae||"demo-project",B=ct.iat||0,Te=ct.sub||ct.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:B,exp:B+3600,auth_time:B,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},ct);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(ft)),""].join(".")}function de(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function Fe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ct){return!1}}function Ye(){return"object"==typeof self&&self.self===self}function Ne(){const ct="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ct&&void 0!==ct.id}function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Je(){return de().indexOf("Electron/")>=0}function xe(){const ct=de();return ct.indexOf("MSIE ")>=0||ct.indexOf("Trident/")>=0}function je(){return de().indexOf("MSAppHost/")>=0}function Ke(){return!Fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){return"object"==typeof indexedDB}function re(){return new Promise((ct,Ae)=>{try{let z=!0;const k="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(k);B.onsuccess=()=>{B.result.close(),z||self.indexedDB.deleteDatabase(k),ct(!0)},B.onupgradeneeded=()=>{z=!1},B.onerror=()=>{var Te;Ae((null===(Te=B.error)||void 0===Te?void 0:Te.message)||"")}}catch(z){Ae(z)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class dt extends Error{constructor(Ae,z,k){super(z),this.code=Ae,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(Ae,z,k){this.service=Ae,this.serviceName=z,this.errors=k}create(Ae,...z){const k=z[0]||{},B=`${this.service}/${Ae}`,Te=this.errors[Ae],ft=Te?function Xt(ct,Ae){return ct.replace(on,(z,k)=>{const B=Ae[k];return null!=B?String(B):`<${k}?>`})}(Te,k):"Error";return new dt(B,`${this.serviceName}: ${ft} (${B}).`,k)}}const on=/\{\$([^}]+)}/g;function xt(ct,Ae){return Object.prototype.hasOwnProperty.call(ct,Ae)}function Gt(ct){for(const Ae in ct)if(Object.prototype.hasOwnProperty.call(ct,Ae))return!1;return!0}function wn(ct,Ae){if(ct===Ae)return!0;const z=Object.keys(ct),k=Object.keys(Ae);for(const B of z){if(!k.includes(B))return!1;const Te=ct[B],ft=Ae[B];if(Vn(Te)&&Vn(ft)){if(!wn(Te,ft))return!1}else if(Te!==ft)return!1}for(const B of k)if(!z.includes(B))return!1;return!0}function Vn(ct){return null!==ct&&"object"==typeof ct}function Kn(ct){const Ae=[];for(const[z,k]of Object.entries(ct))Array.isArray(k)?k.forEach(B=>{Ae.push(encodeURIComponent(z)+"="+encodeURIComponent(B))}):Ae.push(encodeURIComponent(z)+"="+encodeURIComponent(k));return Ae.length?"&"+Ae.join("&"):""}function hr(ct){const Ae={};return ct.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[B,Te]=k.split("=");Ae[decodeURIComponent(B)]=decodeURIComponent(Te)}}),Ae}function qr(ct){const Ae=ct.indexOf("?");if(!Ae)return"";const z=ct.indexOf("#",Ae);return ct.substring(Ae,z>0?z:void 0)}function pn(ct,Ae){const z=new Yr(ct,Ae);return z.subscribe.bind(z)}class Yr{constructor(Ae,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{Ae(this)}).catch(k=>{this.error(k)})}next(Ae){this.forEachObserver(z=>{z.next(Ae)})}error(Ae){this.forEachObserver(z=>{z.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,z,k){let B;if(void 0===Ae&&void 0===z&&void 0===k)throw new Error("Missing Observer.");B=function vr(ct,Ae){if("object"!=typeof ct||null===ct)return!1;for(const z of Ae)if(z in ct&&"function"==typeof ct[z])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:z,complete:k},void 0===B.next&&(B.next=dn),void 0===B.error&&(B.error=dn),void 0===B.complete&&(B.complete=dn);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch(ft){}}),this.observers.push(B),Te}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,Ae)}sendOne(Ae,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{z(this.observers[Ae])}catch(k){"undefined"!=typeof console&&console.error&&console.error(k)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}function Bn(ct,Ae=1e3,z=2){const k=Ae*Math.pow(z,ct),B=Math.round(.5*k*(Math.random()-.5)*2);return Math.min(144e5,k+B)}function Zr(ct){return ct&&ct._delegate?ct._delegate:ct}},2765:(Zt,nt,m)=>{var u=m(2313),_=m(5e3),x=m(6360),te=m(9808),he=m(9770),_e=m(2843),Re=m(4968),ve=m(9646),be=m(7272),H=m(7579),ie=m(8306),ue=m(5032);const Pe=new ie.y(ue.Z);var de=m(6451),$e=m(4004),Fe=m(9300),Ye=m(3900),Ne=m(4033),It=m(576),Je=m(8421),xe=m(4482);const st={connector:()=>new H.x};function Ke(ae,K=st){const{connector:W}=K;return(0,xe.e)((oe,We)=>{const it=W();(0,Je.Xf)(ae(function je(ae){return new ie.y(K=>ae.subscribe(K))}(it))).subscribe(We),We.add(oe.subscribe(it))})}var De=m(5698),He=m(8505),Xe=m(4825);const dt="Service workers are disabled or not supported by this browser";class Xt{constructor(K){if(this.serviceWorker=K,K){const oe=(0,Re.R)(K,"controllerchange").pipe((0,$e.U)(()=>K.controller)),We=(0,he.P)(()=>(0,ve.of)(K.controller)),it=(0,be.z)(We,oe);this.worker=it.pipe((0,Fe.h)(vn=>!!vn)),this.registration=this.worker.pipe((0,Ye.w)(()=>K.getRegistration()));const jt=(0,Re.R)(K,"message").pipe((0,$e.U)(vn=>vn.data)).pipe((0,Fe.h)(vn=>vn&&vn.type)).pipe(function re(ae){return ae?K=>Ke(ae)(K):K=>function ee(ae,K){const W=(0,It.m)(ae)?ae:()=>ae;return(0,It.m)(K)?Ke(K,{connector:W}):oe=>new Ne.c(oe,W)}(new H.x)(K)}());jt.connect(),this.events=jt}else this.worker=this.events=this.registration=function ut(ae){return(0,he.P)(()=>(0,_e._)(new Error(ae)))}(dt)}postMessage(K,W){return this.worker.pipe((0,De.q)(1),(0,He.b)(oe=>{oe.postMessage(Object.assign({action:K},W))})).toPromise().then(()=>{})}postMessageWithOperation(K,W,oe){const We=this.waitForOperationCompleted(oe),it=this.postMessage(K,W);return Promise.all([it,We]).then(([,mt])=>mt)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(K){let W;return W="string"==typeof K?oe=>oe.type===K:oe=>K.includes(oe.type),this.events.pipe((0,Fe.h)(W))}nextEventOfType(K){return this.eventsOfType(K).pipe((0,De.q)(1))}waitForOperationCompleted(K){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Fe.h)(W=>W.nonce===K),(0,De.q)(1),(0,$e.U)(W=>{if(void 0!==W.result)return W.result;throw new Error(W.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let on=(()=>{class ae{constructor(W){if(this.sw=W,this.subscriptionChanges=new H.x,!W.isEnabled)return this.messages=Pe,this.notificationClicks=Pe,void(this.subscription=Pe);this.messages=this.sw.eventsOfType("PUSH").pipe((0,$e.U)(We=>We.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,$e.U)(We=>We.data)),this.pushManager=this.sw.registration.pipe((0,$e.U)(We=>We.pushManager));const oe=this.pushManager.pipe((0,Ye.w)(We=>We.getSubscription()));this.subscription=(0,de.T)(oe,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(W){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const oe={userVisibleOnly:!0};let We=this.decodeBase64(W.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),it=new Uint8Array(new ArrayBuffer(We.length));for(let mt=0;mt<We.length;mt++)it[mt]=We.charCodeAt(mt);return oe.applicationServerKey=it,this.pushManager.pipe((0,Ye.w)(mt=>mt.subscribe(oe)),(0,De.q)(1)).toPromise().then(mt=>(this.subscriptionChanges.next(mt),mt))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,De.q)(1),(0,Ye.w)(oe=>{if(null===oe)throw new Error("Not subscribed to push notifications.");return oe.unsubscribe().then(We=>{if(!We)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(dt))}decodeBase64(W){return atob(W)}}return ae.\u0275fac=function(W){return new(W||ae)(_.LFG(Xt))},ae.\u0275prov=_.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),An=(()=>{class ae{constructor(W){if(this.sw=W,!W.isEnabled)return this.versionUpdates=Pe,this.available=Pe,this.activated=Pe,void(this.unrecoverable=Pe);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Fe.h)(oe=>"VERSION_READY"===oe.type),(0,$e.U)(oe=>({type:"UPDATE_AVAILABLE",current:oe.currentVersion,available:oe.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const W=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:W},W)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dt));const W=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:W},W)}}return ae.\u0275fac=function(W){return new(W||ae)(_.LFG(Xt))},ae.\u0275prov=_.Yz7({token:ae,factory:ae.\u0275fac}),ae})();class mn{}const _t=new _.OlP("NGSW_REGISTER_SCRIPT");function $t(ae,K,W,oe){return()=>{if(!(0,te.NF)(oe)||!("serviceWorker"in navigator)||!1===W.enabled)return;let it;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof W.registrationStrategy)it=W.registrationStrategy();else{const[rn,...un]=(W.registrationStrategy||"registerWhenStable:30000").split(":");switch(rn){case"registerImmediately":it=(0,ve.of)(null);break;case"registerWithDelay":it=zt(+un[0]||0);break;case"registerWhenStable":it=un[0]?(0,de.T)(ln(ae),zt(+un[0])):ln(ae);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${W.registrationStrategy}`)}}ae.get(_.R0b).runOutsideAngular(()=>it.pipe((0,De.q)(1)).subscribe(()=>navigator.serviceWorker.register(K,{scope:W.scope}).catch(rn=>console.error("Service worker registration failed with:",rn))))}}function zt(ae){return(0,ve.of)(null).pipe((0,Xe.g)(ae))}function ln(ae){return ae.get(_.z2F).isStable.pipe((0,Fe.h)(W=>W))}function _n(ae,K){return new Xt((0,te.NF)(K)&&!1!==ae.enabled?navigator.serviceWorker:void 0)}let xt=(()=>{class ae{static register(W,oe={}){return{ngModule:ae,providers:[{provide:_t,useValue:W},{provide:mn,useValue:oe},{provide:Xt,useFactory:_n,deps:[mn,_.Lbi]},{provide:_.ip1,useFactory:$t,deps:[_.zs3,_t,mn,_.Lbi],multi:!0}]}}}return ae.\u0275fac=function(W){return new(W||ae)},ae.\u0275mod=_.oAB({type:ae}),ae.\u0275inj=_.cJS({providers:[on,An]}),ae})();var Gt=m(5357);const Sn=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(341)]).then(m.bind(m,4341)).then(ae=>ae.ClientLoginFeatureModule),canActivate:[]},{path:"signup",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(391)]).then(m.bind(m,391)).then(ae=>ae.ClientSignupFeatureModule)},{path:"dashboard",loadChildren:()=>Promise.all([m.e(918),m.e(893),m.e(592),m.e(544)]).then(m.bind(m,8544)).then(ae=>ae.ClientDashboardFeatureModule),canActivate:[]},{path:"settings",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(709)]).then(m.bind(m,4709)).then(ae=>ae.ClientSettingsFeatureModule),canActivate:[]},{path:"editprofile",loadChildren:()=>Promise.all([m.e(918),m.e(893),m.e(592),m.e(259)]).then(m.bind(m,5259)).then(ae=>ae.ClientEditprofileFeatureModule),canActivate:[]},{path:"configureprofile",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(195)]).then(m.bind(m,8195)).then(ae=>ae.ClientAthleteProfileFeatureModule)},{path:"strava",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(984)]).then(m.bind(m,5984)).then(ae=>ae.ClientStravaFeatureModule)},{path:"exchange_token",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(984)]).then(m.bind(m,5984)).then(ae=>ae.ClientStravaFeatureModule)},{path:"scheduleworkout",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(895)]).then(m.bind(m,1895)).then(ae=>ae.ClientScheduleworkoutFeatureModule),canActivate:[]},{path:"addactivity",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(957)]).then(m.bind(m,1957)).then(ae=>ae.ClientAddmanualactivityFeatureModule),canActivate:[]},{path:"profile",loadChildren:()=>Promise.all([m.e(918),m.e(893),m.e(592),m.e(610)]).then(m.bind(m,1610)).then(ae=>ae.ClientViewprofileFeatureModule),canActivate:[]},{path:"uploadimage",loadChildren:()=>Promise.all([m.e(918),m.e(893),m.e(592),m.e(190)]).then(m.bind(m,4190)).then(ae=>ae.ClientUploadprofileimageFeatureModule)},{path:"changepassword",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(792)]).then(m.bind(m,8792)).then(ae=>ae.ClientChangepasswordFeatureModule),canActivate:[]},{path:"schedule",loadChildren:()=>Promise.all([m.e(918),m.e(893),m.e(592),m.e(93)]).then(m.bind(m,1093)).then(ae=>ae.ClientScheduleFeatureModule),canActivate:[]},{path:"landing",loadChildren:()=>Promise.all([m.e(918),m.e(974)]).then(m.bind(m,974)).then(ae=>ae.ClientLandingpageFeatureModule),canActivate:[]},{path:"**",loadChildren:()=>Promise.all([m.e(918),m.e(592),m.e(606)]).then(m.bind(m,2606)).then(ae=>ae.ClientPagenotfoundModule)}];let wn=(()=>{class ae{}return ae.\u0275fac=function(W){return new(W||ae)},ae.\u0275mod=_.oAB({type:ae}),ae.\u0275inj=_.cJS({providers:[],imports:[[Gt.Bz.forRoot(Sn)],Gt.Bz]}),ae})(),Vn=(()=>{class ae{constructor(W){this.router=W,this.state=!1,this.authStatus=new _.vpe}canActivate(){0==this.state&&this.router.navigate(["/login"])}logIn(){this.state=!0}logOut(){this.state=!1}}return ae.\u0275fac=function(W){return new(W||ae)(_.LFG(Gt.F0))},ae.\u0275prov=_.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})(),fr=(()=>{class ae{constructor(W,oe,We){this.auth=W,this.router=oe,this.activated=We,this.title="client",W.authStatus.subscribe(it=>{it||oe.navigate(["/login"])})}}return ae.\u0275fac=function(W){return new(W||ae)(_.Y36(Vn),_.Y36(Gt.F0),_.Y36(Gt.gz))},ae.\u0275cmp=_.Xpm({type:ae,selectors:[["training-buddy-root"]],decls:1,vars:0,template:function(W,oe){1&W&&_._UZ(0,"router-outlet")},directives:[Gt.lC],styles:[""]}),ae})();var Kn=m(520),hr=m(9444),qr=m(484),Lr=m(4302),pn=m(2465);class Ot extends qr.i{constructor(K,W){super(),this.httpClient=K,this.options=W,this.print=pn.S,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=oe=>new Lr.y(We=>{const it=oe.getContext(),mt=(Rr,Jr)=>function vr(...ae){const K=ae.find(W=>void 0!==W);return void 0===K?ae[ae.length-1]:K}(it[Rr],this.options[Rr],Jr);let rn=mt("method","POST");const un=mt("includeQuery",!0),jt=mt("includeExtensions",!1),vn=mt("uri","graphql"),Un=mt("withCredentials"),Nn=mt("useMultipart"),Jn=!0===this.options.useGETForQueries,wr=oe.query.definitions.some(Rr=>"OperationDefinition"===Rr.kind&&"query"===Rr.operation);Jn&&wr&&(rn="GET");const ir={method:rn,url:"function"==typeof vn?vn(oe):vn,body:{operationName:oe.operationName,variables:oe.variables},options:{withCredentials:Un,useMultipart:Nn,headers:this.options.headers}};jt&&(ir.body.extensions=oe.extensions),un&&(ir.body.query=this.print(oe.query));const Fr=function dn(ae){let K=ae.headers&&ae.headers instanceof Kn.WM?ae.headers:new Kn.WM(ae.headers);if(ae.clientAwareness){const{name:W,version:oe}=ae.clientAwareness;W&&!K.has("apollographql-client-name")&&(K=K.set("apollographql-client-name",W)),oe&&!K.has("apollographql-client-version")&&(K=K.set("apollographql-client-version",oe))}return K}(it);ir.options.headers=((ae,K)=>ae&&K?K.keys().reduce((oe,We)=>oe.set(We,K.getAll(We)),ae):K||ae)(ir.options.headers,Fr);const Dr=((ae,K,W)=>{const oe=-1!==["POST","PUT","PATCH"].indexOf(ae.method.toUpperCase()),it=ae.body.length;let rn,mt=ae.options&&ae.options.useMultipart;if(mt){if(it)return new ie.y(jt=>jt.error(new Error("File upload is not available when combined with Batching")));if(!oe)return new ie.y(jt=>jt.error(new Error("File upload is not available when GET is used")));if(!W)return new ie.y(jt=>jt.error(new Error('To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink\'s options')));rn=W(ae.body),mt=!!rn.files.size}let un={};if(it){if(!oe)return new ie.y(jt=>jt.error(new Error("Batching is not available for GET requests")));un={body:ae.body}}else{const jt=mt?rn.clone:ae.body;un=oe?{body:jt}:{params:Object.keys(ae.body).reduce((Un,Nn)=>{const Jn=ae.body[Nn];return Un[Nn]=(jt=>-1!==["variables","extensions"].indexOf(jt.toLowerCase()))(Nn)?JSON.stringify(Jn):Jn,Un},{})}}if(mt&&oe){const jt=new FormData;jt.append("operations",JSON.stringify(un.body));const vn={},Un=rn.files;let Nn=0;Un.forEach(Jn=>{vn[++Nn]=Jn}),jt.append("map",JSON.stringify(vn)),Nn=0,Un.forEach((Jn,wr)=>{jt.append(++Nn+"",wr,wr.name)}),un.body=jt}return K.request(ae.method,ae.url,Object.assign(Object.assign({observe:"response",responseType:"json",reportProgress:!1},un),ae.options))})(ir,this.httpClient,this.options.extractFiles).subscribe({next:Rr=>{oe.setContext({response:Rr}),We.next(Rr.body)},error:Rr=>We.error(Rr),complete:()=>We.complete()});return()=>{Dr.closed||Dr.unsubscribe()}})}request(K){return this.requester(K)}}let Le=(()=>{class ae{constructor(W){this.httpClient=W}create(W){return new Ot(this.httpClient,W)}}return ae.\u0275fac=function(W){return new(W||ae)(_.LFG(Kn.eN))},ae.\u0275prov=_.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})();var Ht=m(655),nn=m(6686),On=m(9769),Ln=m(7883),xn=m(9661),zn=function(){function ae(){this.getFragmentDoc=(0,On.re)(xn.Yk)}return ae.prototype.batch=function(K){var We,W=this;return this.performTransaction(function(){return We=K.update(W)},"string"==typeof K.optimistic?K.optimistic:!1===K.optimistic?null:void 0),We},ae.prototype.recordOptimisticTransaction=function(K,W){this.performTransaction(K,W)},ae.prototype.transformDocument=function(K){return K},ae.prototype.identify=function(K){},ae.prototype.gc=function(){return[]},ae.prototype.modify=function(K){return!1},ae.prototype.transformForLink=function(K){return K},ae.prototype.readQuery=function(K,W){return void 0===W&&(W=!!K.optimistic),this.read((0,Ht.pi)((0,Ht.pi)({},K),{rootId:K.id||"ROOT_QUERY",optimistic:W}))},ae.prototype.readFragment=function(K,W){return void 0===W&&(W=!!K.optimistic),this.read((0,Ht.pi)((0,Ht.pi)({},K),{query:this.getFragmentDoc(K.fragment,K.fragmentName),rootId:K.id,optimistic:W}))},ae.prototype.writeQuery=function(K){var W=K.id,oe=K.data,We=(0,Ht._T)(K,["id","data"]);return this.write(Object.assign(We,{dataId:W||"ROOT_QUERY",result:oe}))},ae.prototype.writeFragment=function(K){var W=K.id,oe=K.data,We=K.fragment,it=K.fragmentName,mt=(0,Ht._T)(K,["id","data","fragment","fragmentName"]);return this.write(Object.assign(mt,{query:this.getFragmentDoc(We,it),dataId:W,result:oe}))},ae.prototype.updateQuery=function(K,W){return this.batch({update:function(oe){var We=oe.readQuery(K),it=W(We);return null==it?We:(oe.writeQuery((0,Ht.pi)((0,Ht.pi)({},K),{data:it})),it)}})},ae.prototype.updateFragment=function(K,W){return this.batch({update:function(oe){var We=oe.readFragment(K),it=W(We);return null==it?We:(oe.writeFragment((0,Ht.pi)((0,Ht.pi)({},K),{data:it})),it)}})},ae}(),rr=function ae(K,W,oe,We){this.message=K,this.path=W,this.query=oe,this.variables=We},Bn=m(7634),Gn=m(3291),In=m(9545),Zr=m(3950),ct=m(591),Ae=m(7773),z=m(9722),k=m(7062);function ft(ae){return __DEV__&&function B(ae){var K=new Set([ae]);return K.forEach(function(W){(0,k.s)(W)&&function Te(ae){if(__DEV__&&!Object.isFrozen(ae))try{Object.freeze(ae)}catch(K){if(K instanceof TypeError)return null;throw K}return ae}(W)===W&&Object.getOwnPropertyNames(W).forEach(function(oe){(0,k.s)(W[oe])&&K.add(W[oe])})}),ae}(ae),ae}var ae,K,Vt=m(9428),pe=m(4969),Rt=Object.create(null),T=function(){return Rt},Z=Object.create(null),at=function(){function ae(K,W){var oe=this;this.policies=K,this.group=W,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(We,it){return ft((0,Bn.Yk)(We)?oe.get(We.__ref,it):We&&We[it])},this.canRead=function(We){return(0,Bn.Yk)(We)?oe.has(We.__ref):"object"==typeof We},this.toReference=function(We,it){if("string"==typeof We)return(0,Bn.kQ)(We);if((0,Bn.Yk)(We))return We;var mt=oe.policies.identify(We)[0];if(mt){var rn=(0,Bn.kQ)(mt);return it&&oe.merge(mt,We),rn}}}return ae.prototype.toObject=function(){return(0,Ht.pi)({},this.data)},ae.prototype.has=function(K){return void 0!==this.lookup(K,!0)},ae.prototype.get=function(K,W){if(this.group.depend(K,W),pe.RI.call(this.data,K)){var oe=this.data[K];if(oe&&pe.RI.call(oe,W))return oe[W]}return"__typename"===W&&pe.RI.call(this.policies.rootTypenamesById,K)?this.policies.rootTypenamesById[K]:this instanceof vt?this.parent.get(K,W):void 0},ae.prototype.lookup=function(K,W){return W&&this.group.depend(K,"__exists"),pe.RI.call(this.data,K)?this.data[K]:this instanceof vt?this.parent.lookup(K,W):this.policies.rootTypenamesById[K]?Object.create(null):void 0},ae.prototype.merge=function(K,W){var We,oe=this;(0,Bn.Yk)(K)&&(K=K.__ref),(0,Bn.Yk)(W)&&(W=W.__ref);var it="string"==typeof K?this.lookup(We=K):K,mt="string"==typeof W?this.lookup(We=W):W;if(mt){__DEV__?(0,nn.kG)("string"==typeof We,"store.merge expects a string ID"):(0,nn.kG)("string"==typeof We,1);var rn=new Ae.w0(Qn).merge(it,mt);if(this.data[We]=rn,rn!==it&&(delete this.refs[We],this.group.caching)){var un=Object.create(null);it||(un.__exists=1),Object.keys(mt).forEach(function(jt){if(!it||it[jt]!==rn[jt]){un[jt]=1;var vn=(0,pe.E_)(jt);vn!==jt&&!oe.policies.hasKeyArgs(rn.__typename,vn)&&(un[vn]=1),void 0===rn[jt]&&!(oe instanceof vt)&&delete rn[jt]}}),un.__typename&&!(it&&it.__typename)&&this.policies.rootTypenamesById[We]===rn.__typename&&delete un.__typename,Object.keys(un).forEach(function(jt){return oe.group.dirty(We,jt)})}}},ae.prototype.modify=function(K,W){var oe=this,We=this.lookup(K);if(We){var it=Object.create(null),mt=!1,rn=!0,un={DELETE:Rt,INVALIDATE:Z,isReference:Bn.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(jt,vn){return oe.policies.readField("string"==typeof jt?{fieldName:jt,from:vn||(0,Bn.kQ)(K)}:jt,{store:oe})}};if(Object.keys(We).forEach(function(jt){var vn=(0,pe.E_)(jt),Un=We[jt];if(void 0!==Un){var Nn="function"==typeof W?W:W[jt]||W[vn];if(Nn){var Jn=Nn===T?Rt:Nn(ft(Un),(0,Ht.pi)((0,Ht.pi)({},un),{fieldName:vn,storeFieldName:jt,storage:oe.getStorage(K,jt)}));Jn===Z?oe.group.dirty(K,jt):(Jn===Rt&&(Jn=void 0),Jn!==Un&&(it[jt]=Jn,mt=!0,Un=Jn))}void 0!==Un&&(rn=!1)}}),mt)return this.merge(K,it),rn&&(this instanceof vt?this.data[K]=void 0:delete this.data[K],this.group.dirty(K,"__exists")),!0}return!1},ae.prototype.delete=function(K,W,oe){var We,it=this.lookup(K);if(it){var mt=this.getFieldValue(it,"__typename"),rn=W&&oe?this.policies.getStoreFieldName({typename:mt,fieldName:W,args:oe}):W;return this.modify(K,rn?((We={})[rn]=T,We):T)}return!1},ae.prototype.evict=function(K,W){var oe=!1;return K.id&&(pe.RI.call(this.data,K.id)&&(oe=this.delete(K.id,K.fieldName,K.args)),this instanceof vt&&this!==W&&(oe=this.parent.evict(K,W)||oe),(K.fieldName||oe)&&this.group.dirty(K.id,K.fieldName||"__exists")),oe},ae.prototype.clear=function(){this.replace(null)},ae.prototype.extract=function(){var K=this,W=this.toObject(),oe=[];return this.getRootIdSet().forEach(function(We){pe.RI.call(K.policies.rootTypenamesById,We)||oe.push(We)}),oe.length&&(W.__META={extraRootIds:oe.sort()}),W},ae.prototype.replace=function(K){var W=this;if(Object.keys(this.data).forEach(function(it){K&&pe.RI.call(K,it)||W.delete(it)}),K){var oe=K.__META,We=(0,Ht._T)(K,["__META"]);Object.keys(We).forEach(function(it){W.merge(it,We[it])}),oe&&oe.extraRootIds.forEach(this.retain,this)}},ae.prototype.retain=function(K){return this.rootIds[K]=(this.rootIds[K]||0)+1},ae.prototype.release=function(K){if(this.rootIds[K]>0){var W=--this.rootIds[K];return W||delete this.rootIds[K],W}return 0},ae.prototype.getRootIdSet=function(K){return void 0===K&&(K=new Set),Object.keys(this.rootIds).forEach(K.add,K),this instanceof vt?this.parent.getRootIdSet(K):Object.keys(this.policies.rootTypenamesById).forEach(K.add,K),K},ae.prototype.gc=function(){var K=this,W=this.getRootIdSet(),oe=this.toObject();W.forEach(function(mt){pe.RI.call(oe,mt)&&(Object.keys(K.findChildRefIds(mt)).forEach(W.add,W),delete oe[mt])});var We=Object.keys(oe);if(We.length){for(var it=this;it instanceof vt;)it=it.parent;We.forEach(function(mt){return it.delete(mt)})}return We},ae.prototype.findChildRefIds=function(K){if(!pe.RI.call(this.refs,K)){var W=this.refs[K]=Object.create(null),oe=this.data[K];if(!oe)return W;var We=new Set([oe]);We.forEach(function(it){(0,Bn.Yk)(it)&&(W[it.__ref]=!0),(0,k.s)(it)&&Object.keys(it).forEach(function(mt){var rn=it[mt];(0,k.s)(rn)&&We.add(rn)})})}return this.refs[K]},ae.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},ae}(),et=function(){function ae(K,W){void 0===W&&(W=null),this.caching=K,this.parent=W,this.d=null,this.resetCaching()}return ae.prototype.resetCaching=function(){this.d=this.caching?(0,On.dP)():null,this.keyMaker=new Vt.B(In.mr)},ae.prototype.depend=function(K,W){if(this.d){this.d(Ge(K,W));var oe=(0,pe.E_)(W);oe!==W&&this.d(Ge(K,oe)),this.parent&&this.parent.depend(K,W)}},ae.prototype.dirty=function(K,W){this.d&&this.d.dirty(Ge(K,W),"__exists"===W?"forget":"setDirty")},ae}();function Ge(ae,K){return K+"#"+ae}function rt(ae,K){$n(ae)&&ae.group.depend(K,"__exists")}K=function(W){function oe(We){var mt=We.resultCaching,un=We.seed,jt=W.call(this,We.policies,new et(void 0===mt||mt))||this;return jt.stump=new ht(jt),jt.storageTrie=new Vt.B(In.mr),un&&jt.replace(un),jt}return(0,Ht.ZT)(oe,W),oe.prototype.addLayer=function(We,it){return this.stump.addLayer(We,it)},oe.prototype.removeLayer=function(){return this},oe.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},oe}(ae=at||(at={})),ae.Root=K;var vt=function(ae){function K(W,oe,We,it){var mt=ae.call(this,oe.policies,it)||this;return mt.id=W,mt.parent=oe,mt.replay=We,mt.group=it,We(mt),mt}return(0,Ht.ZT)(K,ae),K.prototype.addLayer=function(W,oe){return new K(W,this,oe,this.group)},K.prototype.removeLayer=function(W){var oe=this,We=this.parent.removeLayer(W);return W===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(it){var mt=oe.data[it],rn=We.lookup(it);rn?mt?mt!==rn&&Object.keys(mt).forEach(function(un){(0,Ln.D)(mt[un],rn[un])||oe.group.dirty(it,un)}):(oe.group.dirty(it,"__exists"),Object.keys(rn).forEach(function(un){oe.group.dirty(it,un)})):oe.delete(it)}),We):We===this.parent?this:We.addLayer(this.id,this.replay)},K.prototype.toObject=function(){return(0,Ht.pi)((0,Ht.pi)({},this.parent.toObject()),this.data)},K.prototype.findChildRefIds=function(W){var oe=this.parent.findChildRefIds(W);return pe.RI.call(this.data,W)?(0,Ht.pi)((0,Ht.pi)({},oe),ae.prototype.findChildRefIds.call(this,W)):oe},K.prototype.getStorage=function(){for(var W=this.parent;W.parent;)W=W.parent;return W.getStorage.apply(W,arguments)},K}(at),ht=function(ae){function K(W){return ae.call(this,"EntityStore.Stump",W,function(){},new et(W.group.caching,W.group))||this}return(0,Ht.ZT)(K,ae),K.prototype.removeLayer=function(){return this},K.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},K}(vt);function Qn(ae,K,W){var oe=ae[W],We=K[W];return(0,Ln.D)(oe,We)?oe:We}function $n(ae){return!!(ae instanceof at&&ae.group.caching)}var Cr=m(3750);function ai(ae){return[ae.selectionSet,ae.objectOrReference,ae.context,ae.context.canonizeResults]}var Ai=function(){function ae(K){var W=this;this.knownResults=new(In.mr?WeakMap:Map),this.config=(0,Zr.o)(K,{addTypename:!1!==K.addTypename,canonizeResults:(0,pe.lg)(K)}),this.canon=K.canon||new Cr.h,this.executeSelectionSet=(0,On.re)(function(oe){var We,it=oe.context.canonizeResults,mt=ai(oe);mt[3]=!it;var rn=(We=W.executeSelectionSet).peek.apply(We,mt);return rn?it?(0,Ht.pi)((0,Ht.pi)({},rn),{result:W.canon.admit(rn.result)}):rn:(rt(oe.context.store,oe.enclosingRef.__ref),W.execSelectionSetImpl(oe))},{max:this.config.resultCacheMaxSize,keyArgs:ai,makeCacheKey:function(oe,We,it,mt){if($n(it.store))return it.store.makeCacheKey(oe,(0,Bn.Yk)(We)?We.__ref:We,it.varString,mt)}}),this.executeSubSelectedArray=(0,On.re)(function(oe){return rt(oe.context.store,oe.enclosingRef.__ref),W.execSubSelectedArrayImpl(oe)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(oe){var We=oe.field,it=oe.array,mt=oe.context;if($n(mt.store))return mt.store.makeCacheKey(We,it,mt.varString)}})}return ae.prototype.resetCanon=function(){this.canon=new Cr.h},ae.prototype.diffQueryAgainstStore=function(K){var W=K.store,oe=K.query,We=K.rootId,it=void 0===We?"ROOT_QUERY":We,mt=K.variables,rn=K.returnPartialData,un=void 0===rn||rn,jt=K.canonizeResults,vn=void 0===jt?this.config.canonizeResults:jt,Un=this.config.cache.policies;mt=(0,Ht.pi)((0,Ht.pi)({},(0,ct.O4)((0,ct.iW)(oe))),mt);var ir,Nn=(0,Bn.kQ)(it),Jn=new Ae.w0,wr=this.executeSelectionSet({selectionSet:(0,ct.p$)(oe).selectionSet,objectOrReference:Nn,enclosingRef:Nn,context:{store:W,query:oe,policies:Un,variables:mt,varString:(0,Cr.B)(mt),canonizeResults:vn,fragmentMap:(0,xn.F)((0,ct.kU)(oe)),merge:function(Fr,Dr){return Jn.merge(Fr,Dr)}}});if(wr.missing&&(ir=[new rr(si(wr.missing),wr.missing,oe,mt)],!un))throw ir[0];return{result:wr.result,complete:!ir,missing:ir}},ae.prototype.isFresh=function(K,W,oe,We){if($n(We.store)&&this.knownResults.get(K)===oe){var it=this.executeSelectionSet.peek(oe,W,We,this.canon.isKnown(K));if(it&&K===it.result)return!0}return!1},ae.prototype.execSelectionSetImpl=function(K){var W=this,oe=K.selectionSet,We=K.objectOrReference,it=K.enclosingRef,mt=K.context;if((0,Bn.Yk)(We)&&!mt.policies.rootTypenamesById[We.__ref]&&!mt.store.has(We.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(We.__ref," object")};var Nn,rn=mt.variables,un=mt.policies,vn=mt.store.getFieldValue(We,"__typename"),Un={};function Jn(Dr,Rr){var Jr;return Dr.missing&&(Nn=mt.merge(Nn,((Jr={})[Rr]=Dr.missing,Jr))),Dr.result}this.config.addTypename&&"string"==typeof vn&&!un.rootIdsByTypename[vn]&&(Un={__typename:vn});var wr=new Set(oe.selections);wr.forEach(function(Dr){var Rr,Jr;if((0,z.LZ)(Dr,rn))if((0,Bn.My)(Dr)){var Ur=un.readField({fieldName:Dr.name.value,field:Dr,variables:mt.variables,from:We},mt),$i=(0,Bn.u2)(Dr);void 0===Ur?Gn.Gw.added(Dr)||(Nn=mt.merge(Nn,((Rr={})[$i]="Can't find field '".concat(Dr.name.value,"' on ").concat((0,Bn.Yk)(We)?We.__ref+" object":"object "+JSON.stringify(We,null,2)),Rr))):(0,pe.kJ)(Ur)?Ur=Jn(W.executeSubSelectedArray({field:Dr,array:Ur,enclosingRef:it,context:mt}),$i):Dr.selectionSet?null!=Ur&&(Ur=Jn(W.executeSelectionSet({selectionSet:Dr.selectionSet,objectOrReference:Ur,enclosingRef:(0,Bn.Yk)(Ur)?Ur:it,context:mt}),$i)):mt.canonizeResults&&(Ur=W.canon.pass(Ur)),void 0!==Ur&&(Un=mt.merge(Un,((Jr={})[$i]=Ur,Jr)))}else{var Bi=(0,xn.hi)(Dr,mt.fragmentMap);Bi&&un.fragmentMatches(Bi,vn)&&Bi.selectionSet.selections.forEach(wr.add,wr)}});var ir={result:Un,missing:Nn},Fr=mt.canonizeResults?this.canon.admit(ir):ft(ir);return Fr.result&&this.knownResults.set(Fr.result,oe),Fr},ae.prototype.execSubSelectedArrayImpl=function(K){var rn,W=this,oe=K.field,We=K.array,it=K.enclosingRef,mt=K.context;function un(jt,vn){var Un;return jt.missing&&(rn=mt.merge(rn,((Un={})[vn]=jt.missing,Un))),jt.result}return oe.selectionSet&&(We=We.filter(mt.store.canRead)),We=We.map(function(jt,vn){return null===jt?null:(0,pe.kJ)(jt)?un(W.executeSubSelectedArray({field:oe,array:jt,enclosingRef:it,context:mt}),vn):oe.selectionSet?un(W.executeSelectionSet({selectionSet:oe.selectionSet,objectOrReference:jt,enclosingRef:(0,Bn.Yk)(jt)?jt:it,context:mt}),vn):(__DEV__&&function fi(ae,K,W){if(!K.selectionSet){var oe=new Set([W]);oe.forEach(function(We){(0,k.s)(We)&&(__DEV__?(0,nn.kG)(!(0,Bn.Yk)(We),"Missing selection set for object of type ".concat((0,pe.jp)(ae,We)," returned for query field ").concat(K.name.value)):(0,nn.kG)(!(0,Bn.Yk)(We),5),Object.values(We).forEach(oe.add,oe))})}}(mt.store,oe,jt),jt)}),{result:mt.canonizeResults?this.canon.admit(We):We,missing:rn}},ae}();function si(ae){try{JSON.stringify(ae,function(K,W){if("string"==typeof W)throw W;return W})}catch(K){return K}}var br=m(396),Gi=m(5355),Qr=m(8561),Yn=m(6430),jr=Object.create(null);function Ei(ae){var K=JSON.stringify(ae);return jr[K]||(jr[K]=Object.create(null))}function mi(ae){var K=Ei(ae);return K.keyFieldsFn||(K.keyFieldsFn=function(W,oe){var We=function(mt,rn){return oe.readField(rn,mt)},it=oe.keyObject=ci(ae,function(mt){var rn=$r(oe.storeObject,mt,We);return void 0===rn&&W!==oe.storeObject&&pe.RI.call(W,mt[0])&&(rn=$r(W,mt,Si)),__DEV__?(0,nn.kG)(void 0!==rn,"Missing field '".concat(mt.join("."),"' while extracting keyFields from ").concat(JSON.stringify(W))):(0,nn.kG)(void 0!==rn,2),rn});return"".concat(oe.typename,":").concat(JSON.stringify(it))})}function ii(ae){var K=Ei(ae);return K.keyArgsFn||(K.keyArgsFn=function(W,oe){var We=oe.field,it=oe.variables,mt=oe.fieldName,rn=ci(ae,function(jt){var vn=jt[0],Un=vn.charAt(0);if("@"!==Un)if("$"!==Un){if(W)return $r(W,jt)}else{var ir=vn.slice(1);if(it&&pe.RI.call(it,ir)){var Fr=jt.slice(0);return Fr[0]=ir,$r(it,Fr)}}else if(We&&(0,Gi.O)(We.directives)){var Nn=vn.slice(1),Jn=We.directives.find(function(Dr){return Dr.name.value===Nn}),wr=Jn&&(0,Bn.NC)(Jn,it);return wr&&$r(wr,jt.slice(1))}}),un=JSON.stringify(rn);return(W||"{}"!==un)&&(mt+=":"+un),mt})}function ci(ae,K){var W=new Ae.w0;return Hr(ae).reduce(function(oe,We){var it,mt=K(We);if(void 0!==mt){for(var rn=We.length-1;rn>=0;--rn)(it={})[We[rn]]=mt,mt=it;oe=W.merge(oe,mt)}return oe},Object.create(null))}function Hr(ae){var K=Ei(ae);if(!K.paths){var W=K.paths=[],oe=[];ae.forEach(function(We,it){(0,pe.kJ)(We)?(Hr(We).forEach(function(mt){return W.push(oe.concat(mt))}),oe.length=0):(oe.push(We),(0,pe.kJ)(ae[it+1])||(W.push(oe.slice(0)),oe.length=0))})}return K.paths}function Si(ae,K){return ae[K]}function $r(ae,K,W){return W=W||Si,mr(K.reduce(function oe(We,it){return(0,pe.kJ)(We)?We.map(function(mt){return oe(mt,it)}):We&&W(We,it)},ae))}function mr(ae){return(0,k.s)(ae)?(0,pe.kJ)(ae)?ae.map(mr):ci(Object.keys(ae).sort(),function(K){return $r(ae,K)}):ae}function Mi(ae){return void 0!==ae.args?ae.args:ae.field?(0,Bn.NC)(ae.field,ae.variables):null}Bn.PT.setStringify(Cr.B);var Xi=function(){},ls=function(ae,K){return K.fieldName},bi=function(ae,K,W){return(0,W.mergeObjects)(ae,K)},ni=function(ae,K){return K},Pi=function(){function ae(K){this.config=K,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,Ht.pi)({dataIdFromObject:pe.uG},K),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),K.possibleTypes&&this.addPossibleTypes(K.possibleTypes),K.typePolicies&&this.addTypePolicies(K.typePolicies)}return ae.prototype.identify=function(K,W){var oe,We=this,it=W&&(W.typename||(null===(oe=W.storeObject)||void 0===oe?void 0:oe.__typename))||K.__typename;if(it===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var un,mt=W&&W.storeObject||K,rn=(0,Ht.pi)((0,Ht.pi)({},W),{typename:it,storeObject:mt,readField:W&&W.readField||function(){var Nn=pi(arguments,mt);return We.readField(Nn,{store:We.cache.data,variables:Nn.variables})}}),jt=it&&this.getTypePolicy(it),vn=jt&&jt.keyFn||this.config.dataIdFromObject;vn;){var Un=vn(K,rn);if(!(0,pe.kJ)(Un)){un=Un;break}vn=mi(Un)}return un=un?String(un):void 0,rn.keyObject?[un,rn.keyObject]:[un]},ae.prototype.addTypePolicies=function(K){var W=this;Object.keys(K).forEach(function(oe){var We=K[oe],it=We.queryType,mt=We.mutationType,rn=We.subscriptionType,un=(0,Ht._T)(We,["queryType","mutationType","subscriptionType"]);it&&W.setRootTypename("Query",oe),mt&&W.setRootTypename("Mutation",oe),rn&&W.setRootTypename("Subscription",oe),pe.RI.call(W.toBeAdded,oe)?W.toBeAdded[oe].push(un):W.toBeAdded[oe]=[un]})},ae.prototype.updateTypePolicy=function(K,W){var oe=this,We=this.getTypePolicy(K),it=W.keyFields,mt=W.fields;function rn(un,jt){un.merge="function"==typeof jt?jt:!0===jt?bi:!1===jt?ni:un.merge}rn(We,W.merge),We.keyFn=!1===it?Xi:(0,pe.kJ)(it)?mi(it):"function"==typeof it?it:We.keyFn,mt&&Object.keys(mt).forEach(function(un){var jt=oe.getFieldPolicy(K,un,!0),vn=mt[un];if("function"==typeof vn)jt.read=vn;else{var Un=vn.keyArgs,Nn=vn.read,Jn=vn.merge;jt.keyFn=!1===Un?ls:(0,pe.kJ)(Un)?ii(Un):"function"==typeof Un?Un:jt.keyFn,"function"==typeof Nn&&(jt.read=Nn),rn(jt,Jn)}jt.read&&jt.merge&&(jt.keyFn=jt.keyFn||ls)})},ae.prototype.setRootTypename=function(K,W){void 0===W&&(W=K);var oe="ROOT_"+K.toUpperCase(),We=this.rootTypenamesById[oe];W!==We&&(__DEV__?(0,nn.kG)(!We||We===K,"Cannot change root ".concat(K," __typename more than once")):(0,nn.kG)(!We||We===K,3),We&&delete this.rootIdsByTypename[We],this.rootIdsByTypename[W]=oe,this.rootTypenamesById[oe]=W)},ae.prototype.addPossibleTypes=function(K){var W=this;this.usingPossibleTypes=!0,Object.keys(K).forEach(function(oe){W.getSupertypeSet(oe,!0),K[oe].forEach(function(We){W.getSupertypeSet(We,!0).add(oe);var it=We.match(pe.$O);(!it||it[0]!==We)&&W.fuzzySubtypes.set(We,new RegExp(We))})})},ae.prototype.getTypePolicy=function(K){var W=this;if(!pe.RI.call(this.typePolicies,K)){var oe=this.typePolicies[K]=Object.create(null);oe.fields=Object.create(null);var We=this.supertypeMap.get(K);We&&We.size&&We.forEach(function(mt){var rn=W.getTypePolicy(mt),un=rn.fields,jt=(0,Ht._T)(rn,["fields"]);Object.assign(oe,jt),Object.assign(oe.fields,un)})}var it=this.toBeAdded[K];return it&&it.length&&it.splice(0).forEach(function(mt){W.updateTypePolicy(K,mt)}),this.typePolicies[K]},ae.prototype.getFieldPolicy=function(K,W,oe){if(K){var We=this.getTypePolicy(K).fields;return We[W]||oe&&(We[W]=Object.create(null))}},ae.prototype.getSupertypeSet=function(K,W){var oe=this.supertypeMap.get(K);return!oe&&W&&this.supertypeMap.set(K,oe=new Set),oe},ae.prototype.fragmentMatches=function(K,W,oe,We){var it=this;if(!K.typeCondition)return!0;if(!W)return!1;var mt=K.typeCondition.name.value;if(W===mt)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(mt))for(var rn=this.getSupertypeSet(W,!0),un=[rn],jt=function(wr){var ir=it.getSupertypeSet(wr,!1);ir&&ir.size&&un.indexOf(ir)<0&&un.push(ir)},vn=!(!oe||!this.fuzzySubtypes.size),Un=!1,Nn=0;Nn<un.length;++Nn){var Jn=un[Nn];if(Jn.has(mt))return rn.has(mt)||(Un&&__DEV__&&nn.kG.warn("Inferring subtype ".concat(W," of supertype ").concat(mt)),rn.add(mt)),!0;Jn.forEach(jt),vn&&Nn===un.length-1&&(0,pe.RC)(K.selectionSet,oe,We)&&(vn=!1,Un=!0,this.fuzzySubtypes.forEach(function(wr,ir){var Fr=W.match(wr);Fr&&Fr[0]===W&&jt(ir)}))}return!1},ae.prototype.hasKeyArgs=function(K,W){var oe=this.getFieldPolicy(K,W,!1);return!(!oe||!oe.keyFn)},ae.prototype.getStoreFieldName=function(K){var it,W=K.typename,oe=K.fieldName,We=this.getFieldPolicy(W,oe,!1),mt=We&&We.keyFn;if(mt&&W)for(var rn={typename:W,fieldName:oe,field:K.field||null,variables:K.variables},un=Mi(K);mt;){var jt=mt(un,rn);if(!(0,pe.kJ)(jt)){it=jt||oe;break}mt=ii(jt)}return void 0===it&&(it=K.field?(0,Bn.vf)(K.field,K.variables):(0,Bn.PT)(oe,Mi(K))),!1===it?oe:oe===(0,pe.E_)(it)?it:oe+":"+it},ae.prototype.readField=function(K,W){var oe=K.from;if(oe&&(K.field||K.fieldName)){if(void 0===K.typename){var it=W.store.getFieldValue(oe,"__typename");it&&(K.typename=it)}var mt=this.getStoreFieldName(K),rn=(0,pe.E_)(mt),un=W.store.getFieldValue(oe,mt),jt=this.getFieldPolicy(K.typename,rn,!1),vn=jt&&jt.read;if(vn){var Un=Yi(this,oe,K,W,W.store.getStorage((0,Bn.Yk)(oe)?oe.__ref:oe,mt));return Yn.ab.withValue(this.cache,vn,[un,Un])}return un}},ae.prototype.getReadFunction=function(K,W){var oe=this.getFieldPolicy(K,W,!1);return oe&&oe.read},ae.prototype.getMergeFunction=function(K,W,oe){var We=this.getFieldPolicy(K,W,!1),it=We&&We.merge;return!it&&oe&&(it=(We=this.getTypePolicy(oe))&&We.merge),it},ae.prototype.runMergeFunction=function(K,W,oe,We,it){var mt=oe.field,rn=oe.typename,un=oe.merge;return un===bi?xr(We.store)(K,W):un===ni?W:(We.overwrite&&(K=void 0),un(K,W,Yi(this,void 0,{typename:rn,fieldName:mt.name.value,field:mt,variables:We.variables},We,it||Object.create(null))))},ae}();function Yi(ae,K,W,oe,We){var it=ae.getStoreFieldName(W),mt=(0,pe.E_)(it),rn=W.variables||oe.variables,un=oe.store,jt=un.toReference,vn=un.canRead;return{args:Mi(W),field:W.field||null,fieldName:mt,storeFieldName:it,variables:rn,isReference:Bn.Yk,toReference:jt,storage:We,cache:ae.cache,canRead:vn,readField:function(){return ae.readField(pi(arguments,K,oe),oe)},mergeObjects:xr(oe.store)}}function pi(ae,K,W){var mt,oe=ae[0];return"string"==typeof oe?mt={fieldName:oe,from:ae.length>1?ae[1]:K}:(mt=(0,Ht.pi)({},oe),pe.RI.call(mt,"from")||(mt.from=K)),__DEV__&&void 0===mt.from&&__DEV__&&nn.kG.warn("Undefined 'from' passed to readField with arguments ".concat(function Rn(ae){var K=(0,Qr.X)("stringifyForDisplay");return JSON.stringify(ae,function(W,oe){return void 0===oe?K:oe}).split(JSON.stringify(K)).join("<undefined>")}(Array.from(ae)))),void 0===mt.variables&&(mt.variables=W),mt}function xr(ae){return function(W,oe){if((0,pe.kJ)(W)||(0,pe.kJ)(oe))throw __DEV__?new nn.ej("Cannot automatically merge arrays"):new nn.ej(4);if((0,k.s)(W)&&(0,k.s)(oe)){var We=ae.getFieldValue(W,"__typename"),it=ae.getFieldValue(oe,"__typename");if(We&&it&&We!==it)return oe;if((0,Bn.Yk)(W)&&(0,pe.j)(oe))return ae.merge(W.__ref,oe),W;if((0,pe.j)(W)&&(0,Bn.Yk)(oe))return ae.merge(W,oe.__ref),oe;if((0,pe.j)(W)&&(0,pe.j)(oe))return(0,Ht.pi)((0,Ht.pi)({},W),oe)}return oe}}function es(ae,K,W){var oe="".concat(K).concat(W),We=ae.flavors.get(oe);return We||ae.flavors.set(oe,We=ae.clientOnly===K&&ae.deferred===W?ae:(0,Ht.pi)((0,Ht.pi)({},ae),{clientOnly:K,deferred:W})),We}var Hi=function(){function ae(K,W){this.cache=K,this.reader=W}return ae.prototype.writeToStore=function(K,W){var oe=this,We=W.query,it=W.result,mt=W.dataId,rn=W.variables,un=W.overwrite,jt=(0,ct.$H)(We),vn=(0,pe.ig)();rn=(0,Ht.pi)((0,Ht.pi)({},(0,ct.O4)(jt)),rn);var Un={store:K,written:Object.create(null),merge:function(Jn,wr){return vn.merge(Jn,wr)},variables:rn,varString:(0,Cr.B)(rn),fragmentMap:(0,xn.F)((0,ct.kU)(We)),overwrite:!!un,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Nn=this.processSelectionSet({result:it||Object.create(null),dataId:mt,selectionSet:jt.selectionSet,mergeTree:{map:new Map},context:Un});if(!(0,Bn.Yk)(Nn))throw __DEV__?new nn.ej("Could not identify object ".concat(JSON.stringify(it))):new nn.ej(6);return Un.incomingById.forEach(function(Jn,wr){var ir=Jn.storeObject,Fr=Jn.mergeTree,Dr=Jn.fieldNodeSet,Rr=(0,Bn.kQ)(wr);if(Fr&&Fr.map.size){var Jr=oe.applyMerges(Fr,Rr,ir,Un);if((0,Bn.Yk)(Jr))return;ir=Jr}if(__DEV__&&!Un.overwrite){var Ur=Object.create(null);Dr.forEach(function(Ri){Ri.selectionSet&&(Ur[Ri.name.value]=!0)}),Object.keys(ir).forEach(function(Ri){(function(Ri){return!0===Ur[(0,pe.E_)(Ri)]})(Ri)&&!function(Ri){var vi=Fr&&Fr.map.get(Ri);return Boolean(vi&&vi.info&&vi.info.merge)}(Ri)&&function bs(ae,K,W,oe){var We=function(Un){var Nn=oe.getFieldValue(Un,W);return"object"==typeof Nn&&Nn},it=We(ae);if(it){var mt=We(K);if(mt&&!(0,Bn.Yk)(it)&&!(0,Ln.D)(it,mt)&&!Object.keys(it).every(function(Un){return void 0!==oe.getFieldValue(mt,Un)})){var rn=oe.getFieldValue(ae,"__typename")||oe.getFieldValue(K,"__typename"),un=(0,pe.E_)(W),jt="".concat(rn,".").concat(un);if(!Oi.has(jt)){Oi.add(jt);var vn=[];!(0,pe.kJ)(it)&&!(0,pe.kJ)(mt)&&[it,mt].forEach(function(Un){var Nn=oe.getFieldValue(Un,"__typename");"string"==typeof Nn&&!vn.includes(Nn)&&vn.push(Nn)}),__DEV__&&nn.kG.warn("Cache data may be lost when replacing the ".concat(un," field of a ").concat(rn," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(vn.length?"either ensure all objects of type "+vn.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(jt," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(it).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(mt).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(Rr,ir,Ri,Un.store)})}K.merge(wr,ir)}),K.retain(Nn.__ref),Nn},ae.prototype.processSelectionSet=function(K){var W=this,oe=K.dataId,We=K.result,it=K.selectionSet,mt=K.context,rn=K.mergeTree,un=this.cache.policies,jt=Object.create(null),vn=oe&&un.rootTypenamesById[oe]||(0,Bn.qw)(We,it,mt.fragmentMap)||oe&&mt.store.get(oe,"__typename");"string"==typeof vn&&(jt.__typename=vn);var Un=function(){var Jr=pi(arguments,jt,mt.variables);if((0,Bn.Yk)(Jr.from)){var Ur=mt.incomingById.get(Jr.from.__ref);if(Ur){var $i=un.readField((0,Ht.pi)((0,Ht.pi)({},Jr),{from:Ur.storeObject}),mt);if(void 0!==$i)return $i}}return un.readField(Jr,mt)},Nn=new Set;this.flattenFields(it,We,mt,vn).forEach(function(Jr,Ur){var $i,Bi=(0,Bn.u2)(Ur),Ri=We[Bi];if(Nn.add(Ur),void 0!==Ri){var vi=un.getStoreFieldName({typename:vn,fieldName:Ur.name.value,field:Ur,variables:Jr.variables}),Is=Li(rn,vi),oi=W.processFieldValue(Ri,Ur,Ur.selectionSet?es(Jr,!1,!1):Jr,Is),Q=void 0;Ur.selectionSet&&((0,Bn.Yk)(oi)||(0,pe.j)(oi))&&(Q=Un("__typename",oi));var w=un.getMergeFunction(vn,Ur.name.value,Q);w?Is.info={field:Ur,typename:vn,merge:w}:wi(rn,vi),jt=Jr.merge(jt,(($i={})[vi]=oi,$i))}else __DEV__&&!Jr.clientOnly&&!Jr.deferred&&!Gn.Gw.added(Ur)&&!un.getReadFunction(vn,Ur.name.value)&&__DEV__&&nn.kG.error("Missing field '".concat((0,Bn.u2)(Ur),"' while writing result ").concat(JSON.stringify(We,null,2)).substring(0,1e3))});try{var Jn=un.identify(We,{typename:vn,selectionSet:it,fragmentMap:mt.fragmentMap,storeObject:jt,readField:Un}),ir=Jn[1];oe=oe||Jn[0],ir&&(jt=mt.merge(jt,ir))}catch(Jr){if(!oe)throw Jr}if("string"==typeof oe){var Fr=(0,Bn.kQ)(oe),Dr=mt.written[oe]||(mt.written[oe]=[]);if(Dr.indexOf(it)>=0||(Dr.push(it),this.reader&&this.reader.isFresh(We,Fr,it,mt)))return Fr;var Rr=mt.incomingById.get(oe);return Rr?(Rr.storeObject=mt.merge(Rr.storeObject,jt),Rr.mergeTree=us(Rr.mergeTree,rn),Nn.forEach(function(Jr){return Rr.fieldNodeSet.add(Jr)})):mt.incomingById.set(oe,{storeObject:jt,mergeTree:ss(rn)?void 0:rn,fieldNodeSet:Nn}),Fr}return jt},ae.prototype.processFieldValue=function(K,W,oe,We){var it=this;return W.selectionSet&&null!==K?(0,pe.kJ)(K)?K.map(function(mt,rn){var un=it.processFieldValue(mt,W,oe,Li(We,rn));return wi(We,rn),un}):this.processSelectionSet({result:K,selectionSet:W.selectionSet,context:oe,mergeTree:We}):__DEV__?(0,br.X)(K):K},ae.prototype.flattenFields=function(K,W,oe,We){void 0===We&&(We=(0,Bn.qw)(W,K,oe.fragmentMap));var it=new Map,mt=this.cache.policies,rn=new Vt.B(!1);return function un(jt,vn){var Un=rn.lookup(jt,vn.clientOnly,vn.deferred);Un.visited||(Un.visited=!0,jt.selections.forEach(function(Nn){if((0,z.LZ)(Nn,oe.variables)){var Jn=vn.clientOnly,wr=vn.deferred;if(!(Jn&&wr)&&(0,Gi.O)(Nn.directives)&&Nn.directives.forEach(function(Dr){var Rr=Dr.name.value;if("client"===Rr&&(Jn=!0),"defer"===Rr){var Jr=(0,Bn.NC)(Dr,oe.variables);(!Jr||!1!==Jr.if)&&(wr=!0)}}),(0,Bn.My)(Nn)){var ir=it.get(Nn);ir&&(Jn=Jn&&ir.clientOnly,wr=wr&&ir.deferred),it.set(Nn,es(oe,Jn,wr))}else{var Fr=(0,xn.hi)(Nn,oe.fragmentMap);Fr&&mt.fragmentMatches(Fr,We,W,oe.variables)&&un(Fr.selectionSet,es(oe,Jn,wr))}}}))}(K,oe),it},ae.prototype.applyMerges=function(K,W,oe,We,it){var mt,rn=this;if(K.map.size&&!(0,Bn.Yk)(oe)){var un=(0,pe.kJ)(oe)||!(0,Bn.Yk)(W)&&!(0,pe.j)(W)?void 0:W,jt=oe;un&&!it&&(it=[(0,Bn.Yk)(un)?un.__ref:un]);var vn,Un=function(Nn,Jn){return(0,pe.kJ)(Nn)?"number"==typeof Jn?Nn[Jn]:void 0:We.store.getFieldValue(Nn,String(Jn))};K.map.forEach(function(Nn,Jn){var wr=Un(un,Jn),ir=Un(jt,Jn);if(void 0!==ir){it&&it.push(Jn);var Fr=rn.applyMerges(Nn,wr,ir,We,it);Fr!==ir&&(vn=vn||new Map).set(Jn,Fr),it&&(0,nn.kG)(it.pop()===Jn)}}),vn&&(oe=(0,pe.kJ)(jt)?jt.slice(0):(0,Ht.pi)({},jt),vn.forEach(function(Nn,Jn){oe[Jn]=Nn}))}return K.info?this.cache.policies.runMergeFunction(W,oe,K.info,We,it&&(mt=We.store).getStorage.apply(mt,it)):oe},ae}(),gi=[];function Li(ae,K){var W=ae.map;return W.has(K)||W.set(K,gi.pop()||{map:new Map}),W.get(K)}function us(ae,K){if(ae===K||!K||ss(K))return ae;if(!ae||ss(ae))return K;var W=ae.info&&K.info?(0,Ht.pi)((0,Ht.pi)({},ae.info),K.info):ae.info||K.info,oe=ae.map.size&&K.map.size,it={info:W,map:oe?new Map:ae.map.size?ae.map:K.map};if(oe){var mt=new Set(K.map.keys());ae.map.forEach(function(rn,un){it.map.set(un,us(rn,K.map.get(un))),mt.delete(un)}),mt.forEach(function(rn){it.map.set(rn,us(K.map.get(rn),ae.map.get(rn)))})}return it}function ss(ae){return!ae||!(ae.info||ae.map.size)}function wi(ae,K){var W=ae.map,oe=W.get(K);oe&&ss(oe)&&(gi.push(oe),W.delete(K))}var Oi=new Set,ws=function(ae){function K(W){void 0===W&&(W={});var oe=ae.call(this)||this;return oe.watches=new Set,oe.typenameDocumentCache=new Map,oe.makeVar=Yn.QS,oe.txCount=0,oe.config=(0,pe.jS)(W),oe.addTypename=!!oe.config.addTypename,oe.policies=new Pi({cache:oe,dataIdFromObject:oe.config.dataIdFromObject,possibleTypes:oe.config.possibleTypes,typePolicies:oe.config.typePolicies}),oe.init(),oe}return(0,Ht.ZT)(K,ae),K.prototype.init=function(){var W=this.data=new at.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=W.stump,this.resetResultCache()},K.prototype.resetResultCache=function(W){var oe=this,We=this.storeReader;this.storeWriter=new Hi(this,this.storeReader=new Ai({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,pe.lg)(this.config),canon:W?void 0:We&&We.canon})),this.maybeBroadcastWatch=(0,On.re)(function(it,mt){return oe.broadcastWatch(it,mt)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(it){var mt=it.optimistic?oe.optimisticData:oe.data;if($n(mt))return mt.makeCacheKey(it.query,it.callback,(0,Cr.B)({optimistic:it.optimistic,rootId:it.rootId,variables:it.variables}))}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(it){return it.resetCaching()})},K.prototype.restore=function(W){return this.init(),W&&this.data.replace(W),this},K.prototype.extract=function(W){return void 0===W&&(W=!1),(W?this.optimisticData:this.data).extract()},K.prototype.read=function(W){var oe=W.returnPartialData,We=void 0!==oe&&oe;try{return this.storeReader.diffQueryAgainstStore((0,Ht.pi)((0,Ht.pi)({},W),{store:W.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:We})).result||null}catch(it){if(it instanceof rr)return null;throw it}},K.prototype.write=function(W){try{return++this.txCount,this.storeWriter.writeToStore(this.data,W)}finally{!--this.txCount&&!1!==W.broadcast&&this.broadcastWatches()}},K.prototype.modify=function(W){if(pe.RI.call(W,"id")&&!W.id)return!1;var oe=W.optimistic?this.optimisticData:this.data;try{return++this.txCount,oe.modify(W.id||"ROOT_QUERY",W.fields)}finally{!--this.txCount&&!1!==W.broadcast&&this.broadcastWatches()}},K.prototype.diff=function(W){return this.storeReader.diffQueryAgainstStore((0,Ht.pi)((0,Ht.pi)({},W),{store:W.optimistic?this.optimisticData:this.data,rootId:W.id||"ROOT_QUERY",config:this.config}))},K.prototype.watch=function(W){var oe=this;return this.watches.size||(0,Yn._v)(this),this.watches.add(W),W.immediate&&this.maybeBroadcastWatch(W),function(){oe.watches.delete(W)&&!oe.watches.size&&(0,Yn.li)(oe),oe.maybeBroadcastWatch.forget(W)}},K.prototype.gc=function(W){Cr.B.reset();var oe=this.optimisticData.gc();return W&&!this.txCount&&(W.resetResultCache?this.resetResultCache(W.resetResultIdentities):W.resetResultIdentities&&this.storeReader.resetCanon()),oe},K.prototype.retain=function(W,oe){return(oe?this.optimisticData:this.data).retain(W)},K.prototype.release=function(W,oe){return(oe?this.optimisticData:this.data).release(W)},K.prototype.identify=function(W){if((0,Bn.Yk)(W))return W.__ref;try{return this.policies.identify(W)[0]}catch(oe){__DEV__&&nn.kG.warn(oe)}},K.prototype.evict=function(W){if(!W.id){if(pe.RI.call(W,"id"))return!1;W=(0,Ht.pi)((0,Ht.pi)({},W),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(W,this.data)}finally{!--this.txCount&&!1!==W.broadcast&&this.broadcastWatches()}},K.prototype.reset=function(W){var oe=this;return this.init(),Cr.B.reset(),W&&W.discardWatches?(this.watches.forEach(function(We){return oe.maybeBroadcastWatch.forget(We)}),this.watches.clear(),(0,Yn.li)(this)):this.broadcastWatches(),Promise.resolve()},K.prototype.removeOptimistic=function(W){var oe=this.optimisticData.removeLayer(W);oe!==this.optimisticData&&(this.optimisticData=oe,this.broadcastWatches())},K.prototype.batch=function(W){var jt,oe=this,We=W.update,it=W.optimistic,mt=void 0===it||it,rn=W.removeOptimistic,un=W.onWatchUpdated,vn=function(Nn){var wr=oe.data,ir=oe.optimisticData;++oe.txCount,Nn&&(oe.data=oe.optimisticData=Nn);try{return jt=We(oe)}finally{--oe.txCount,oe.data=wr,oe.optimisticData=ir}},Un=new Set;return un&&!this.txCount&&this.broadcastWatches((0,Ht.pi)((0,Ht.pi)({},W),{onWatchUpdated:function(Nn){return Un.add(Nn),!1}})),"string"==typeof mt?this.optimisticData=this.optimisticData.addLayer(mt,vn):!1===mt?vn(this.data):vn(),"string"==typeof rn&&(this.optimisticData=this.optimisticData.removeLayer(rn)),un&&Un.size?(this.broadcastWatches((0,Ht.pi)((0,Ht.pi)({},W),{onWatchUpdated:function(Nn,Jn){var wr=un.call(this,Nn,Jn);return!1!==wr&&Un.delete(Nn),wr}})),Un.size&&Un.forEach(function(Nn){return oe.maybeBroadcastWatch.dirty(Nn)})):this.broadcastWatches(W),jt},K.prototype.performTransaction=function(W,oe){return this.batch({update:W,optimistic:oe||null!==oe})},K.prototype.transformDocument=function(W){if(this.addTypename){var oe=this.typenameDocumentCache.get(W);return oe||(oe=(0,Gn.Gw)(W),this.typenameDocumentCache.set(W,oe),this.typenameDocumentCache.set(oe,oe)),oe}return W},K.prototype.broadcastWatches=function(W){var oe=this;this.txCount||this.watches.forEach(function(We){return oe.maybeBroadcastWatch(We,W)})},K.prototype.broadcastWatch=function(W,oe){var We=W.lastDiff,it=this.diff(W);oe&&(W.optimistic&&"string"==typeof oe.optimistic&&(it.fromOptimisticTransaction=!0),oe.onWatchUpdated&&!1===oe.onWatchUpdated.call(this,W,it,We))||(!We||!(0,Ln.D)(We.result,it.result))&&W.callback(W.lastDiff=it,We)},K}(zn),Rs=m(623),yi=m(3583),ns=m(2011),Tt=m(6271);const Ct={apiKey:"AIzaSyD_61N0OLPsfAKHoawzDtIExK_BU3GR6hM",authDomain:"training-buddy-2022.firebaseapp.com",databaseURL:"https://training-buddy-2022-default-rtdb.firebaseio.com",projectId:"training-buddy-2022",storageBucket:"training-buddy-2022.appspot.com",messagingSenderId:"<your-messaging-sender-id>",appId:"445917436",measurementId:"G-K7WPZTL3FJ"};let kt=(()=>{class ae{}return ae.\u0275fac=function(W){return new(W||ae)},ae.\u0275mod=_.oAB({type:ae,bootstrap:[fr]}),ae.\u0275inj=_.cJS({providers:[{provide:hr.zu,useFactory:K=>({cache:new ws,link:K.create({uri:"https://us-central1-training-buddy-2022.cloudfunctions.net/api/graphql"}),fetchOptions:{mode:"no-cors"}}),deps:[Le]},Kn.eN,Vn],imports:[[u.b2,x.PW,wn,Kn.JF,hr.VG,Kn.JF,xt.register("custom-service-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),yi.su.forRoot({apiKey:"AIzaSyBxYaJFWxO0y8YjqvG8OOGuwqvDPwDaSMY",libraries:["places"]}),Rs.Sr,wn,ns.hO.initializeApp(Ct),Tt.yb]]}),ae})();(0,_.G48)(),u.q6().bootstrapModule(kt).catch(ae=>console.error(ae))},3119:(Zt,nt,m)=>{m.d(nt,{g7:()=>Re});var u=null,_={},x=1,he="@wry/context:Slot",_e=Array,Re=_e[he]||function(){var de=function(){function de(){this.id=["slot",x++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return de.prototype.hasValue=function(){for(var $e=u;$e;$e=$e.parent)if(this.id in $e.slots){var Fe=$e.slots[this.id];if(Fe===_)break;return $e!==u&&(u.slots[this.id]=Fe),!0}return u&&(u.slots[this.id]=_),!1},de.prototype.getValue=function(){if(this.hasValue())return u.slots[this.id]},de.prototype.withValue=function($e,Fe,Ye,Ne){var It,Je=((It={__proto__:null})[this.id]=$e,It),xe=u;u={parent:xe,slots:Je};try{return Fe.apply(Ne,Ye)}finally{u=xe}},de.bind=function($e){var Fe=u;return function(){var Ye=u;try{return u=Fe,$e.apply(this,arguments)}finally{u=Ye}}},de.noContext=function($e,Fe,Ye){if(!u)return $e.apply(Ye,Fe);var Ne=u;try{return u=null,$e.apply(Ye,Fe)}finally{u=Ne}},de}();try{Object.defineProperty(_e,he,{value:_e[he]=de,enumerable:!1,writable:!1,configurable:!1})}finally{return de}}()},7883:(Zt,nt,m)=>{m.d(nt,{D:()=>_e});var u=Object.prototype,_=u.toString,x=u.hasOwnProperty,te=Function.prototype.toString,he=new Map;function _e(Pe,Me){try{return Re(Pe,Me)}finally{he.clear()}}function Re(Pe,Me){if(Pe===Me)return!0;var de=_.call(Pe);if(de!==_.call(Me))return!1;switch(de){case"[object Array]":if(Pe.length!==Me.length)return!1;case"[object Object]":if(ue(Pe,Me))return!0;var Fe=ve(Pe),Ye=ve(Me),Ne=Fe.length;if(Ne!==Ye.length)return!1;for(var It=0;It<Ne;++It)if(!x.call(Me,Fe[It]))return!1;for(It=0;It<Ne;++It){var Je=Fe[It];if(!Re(Pe[Je],Me[Je]))return!1}return!0;case"[object Error]":return Pe.name===Me.name&&Pe.message===Me.message;case"[object Number]":if(Pe!=Pe)return Me!=Me;case"[object Boolean]":case"[object Date]":return+Pe==+Me;case"[object RegExp]":case"[object String]":return Pe==""+Me;case"[object Map]":case"[object Set]":if(Pe.size!==Me.size)return!1;if(ue(Pe,Me))return!0;for(var xe=Pe.entries(),je="[object Map]"===de;;){var st=xe.next();if(st.done)break;var Ke=st.value,ee=Ke[0],re=Ke[1];if(!Me.has(ee)||je&&!Re(re,Me.get(ee)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":Pe=new Uint8Array(Pe),Me=new Uint8Array(Me);case"[object DataView]":var De=Pe.byteLength;if(De===Me.byteLength)for(;De--&&Pe[De]===Me[De];);return-1===De;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var He=te.call(Pe);return He===te.call(Me)&&!function ie(Pe,Me){var de=Pe.length-Me.length;return de>=0&&Pe.indexOf(Me,de)===de}(He,H)}return!1}function ve(Pe){return Object.keys(Pe).filter(be,Pe)}function be(Pe){return void 0!==this[Pe]}var H="{ [native code] }";function ue(Pe,Me){var de=he.get(Pe);if(de){if(de.has(Me))return!0}else he.set(Pe,de=new Set);return de.add(Me),!1}},9428:(Zt,nt,m)=>{m.d(nt,{B:()=>he});var u=function(){return Object.create(null)},_=Array.prototype,x=_.forEach,te=_.slice,he=function(){function Re(ve,be){void 0===ve&&(ve=!0),void 0===be&&(be=u),this.weakness=ve,this.makeData=be}return Re.prototype.lookup=function(){for(var ve=[],be=0;be<arguments.length;be++)ve[be]=arguments[be];return this.lookupArray(ve)},Re.prototype.lookupArray=function(ve){var be=this;return x.call(ve,function(H){return be=be.getChildTrie(H)}),be.data||(be.data=this.makeData(te.call(ve)))},Re.prototype.getChildTrie=function(ve){var be=this.weakness&&function _e(Re){switch(typeof Re){case"object":if(null===Re)break;case"function":return!0}return!1}(ve)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),H=be.get(ve);return H||be.set(ve,H=new Re(this.weakness,this.makeData)),H},Re}()},5867:(Zt,nt,m)=>{m.d(nt,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=m(9681);(0,u.registerVersion)("firebase","9.9.1","app")},127:(Zt,nt,m)=>{m.d(nt,{Z:()=>u.Z});var u=m(3942);u.Z.registerVersion("firebase","9.9.1","app-compat")},1451:(Zt,nt,m)=>{m.r(nt);var u=m(9671),_=m(3942),x=m(2090),te=m(9681),he=m(655),_e=m(1877),Re=m(4859);const de=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new _e.Yd("@firebase/auth");function It(y,...d){Ne.logLevel<=_e.in.ERROR&&Ne.error(`Auth (${te.SDK_VERSION}): ${y}`,...d)}function Je(y,...d){throw Ke(y,...d)}function xe(y,...d){return Ke(y,...d)}function je(y,d,f){const A=Object.assign(Object.assign({},$e()),{[d]:f});return new x.LL("auth","Firebase",A).create(d,{appName:y.name})}function st(y,d,f){if(!(d instanceof f))throw f.name!==d.constructor.name&&Je(y,"argument-error"),je(y,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(y,...d){if("string"!=typeof y){const f=d[0],A=[...d.slice(1)];return A[0]&&(A[0].appName=y.name),y._errorFactory.create(f,...A)}return Fe.create(y,...d)}function ee(y,d,...f){if(!y)throw Ke(d,...f)}function re(y){const d="INTERNAL ASSERTION FAILED: "+y;throw It(d),new Error(d)}function De(y,d){y||re(d)}const He=new Map;function Xe(y){De(y instanceof Function,"Expected a class definition");let d=He.get(y);return d?(De(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,He.set(y,d),d)}function Xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function on(){return"http:"===An()||"https:"===An()}function An(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class $t{constructor(d,f){this.shortDelay=d,this.longDelay=f,De(f>d,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function mn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zt(y,d){De(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return d?`${f}${d.startsWith("/")?d.slice(1):d}`:f}class ln{static initialize(d,f,A){this.fetchImpl=d,f&&(this.headersImpl=f),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _n={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xt=new $t(3e4,6e4);function St(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function Gt(y,d,f,A){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,u.Z)(function*(y,d,f,A,le={}){return wn(y,le,(0,u.Z)(function*(){let Ue={},Mt={};A&&("GET"===d?Mt=A:Ue={body:JSON.stringify(A)});const an=(0,x.xO)(Object.assign({key:y.config.apiKey},Mt)).slice(1),Hn=yield y._getAdditionalHeaders();return Hn["Content-Type"]="application/json",y.languageCode&&(Hn["X-Firebase-Locale"]=y.languageCode),ln.fetch()(hr(y,y.config.apiHost,f,an),Object.assign({method:d,headers:Hn,referrerPolicy:"no-referrer"},Ue))}))})).apply(this,arguments)}function wn(y,d,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(y,d,f){y._canInitEmulator=!1;const A=Object.assign(Object.assign({},_n),d);try{const le=new qr(y),Ue=yield Promise.race([f(),le.promise]);le.clearNetworkTimeout();const Mt=yield Ue.json();if("needConfirmation"in Mt)throw Lr(y,"account-exists-with-different-credential",Mt);if(Ue.ok&&!("errorMessage"in Mt))return Mt;{const an=Ue.ok?Mt.errorMessage:Mt.error.message,[Hn,ur]=an.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Hn)throw Lr(y,"credential-already-in-use",Mt);if("EMAIL_EXISTS"===Hn)throw Lr(y,"email-already-in-use",Mt);if("USER_DISABLED"===Hn)throw Lr(y,"user-disabled",Mt);const Gr=A[Hn]||Hn.toLowerCase().replace(/[_\s]+/g,"-");if(ur)throw je(y,Gr,ur);Je(y,Gr)}}catch(le){if(le instanceof x.ZR)throw le;Je(y,"network-request-failed")}})).apply(this,arguments)}function fr(y,d,f,A){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(y,d,f,A,le={}){const Ue=yield Gt(y,d,f,A,le);return"mfaPendingCredential"in Ue&&Je(y,"multi-factor-auth-required",{_serverResponse:Ue}),Ue})).apply(this,arguments)}function hr(y,d,f,A){const le=`${d}${f}?${A}`;return y.config.emulator?zt(y.config,le):`${y.config.apiScheme}://${le}`}class qr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((f,A)=>{this.timer=setTimeout(()=>A(xe(this.auth,"network-request-failed")),xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lr(y,d,f){const A={appName:y.name};f.email&&(A.email=f.email),f.phoneNumber&&(A.phoneNumber=f.phoneNumber);const le=xe(y,d,A);return le.customData._tokenResponse=f,le}function Yr(){return(Yr=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Er(y,d){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function dn(y,d){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Le(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Nt(){return(Nt=(0,u.Z)(function*(y,d=!1){const f=(0,x.m9)(y),A=yield f.getIdToken(d),le=nn(A);ee(le&&le.exp&&le.auth_time&&le.iat,f.auth,"internal-error");const Ue="object"==typeof le.firebase?le.firebase:void 0,Mt=null==Ue?void 0:Ue.sign_in_provider;return{claims:le,token:A,authTime:Le(Ht(le.auth_time)),issuedAtTime:Le(Ht(le.iat)),expirationTime:Le(Ht(le.exp)),signInProvider:Mt||null,signInSecondFactor:(null==Ue?void 0:Ue.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(y){return 1e3*Number(y)}function nn(y){var d;const[f,A,le]=y.split(".");if(void 0===f||void 0===A||void 0===le)return It("JWT malformed, contained fewer than 3 sections"),null;try{const Ue=(0,x.tV)(A);return Ue?JSON.parse(Ue):(It("Failed to decode base64 JWT payload"),null)}catch(Ue){return It("Caught error parsing JWT payload as JSON",null===(d=Ue)||void 0===d?void 0:d.toString()),null}}function Ln(y,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(y,d,f=!1){if(f)return d;try{return yield d}catch(A){throw A instanceof x.ZR&&zn(A)&&y.auth.currentUser===y&&(yield y.auth.signOut()),A}})).apply(this,arguments)}function zn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class rr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var f;if(d){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const le=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,le)}}schedule(d=!1){var f=this;if(!this.isRunning)return;const A=this.getInterval(d);this.timerId=setTimeout((0,u.Z)(function*(){yield f.iteration()}),A)}iteration(){var d=this;return(0,u.Z)(function*(){var f;try{yield d.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(f=A)||void 0===f?void 0:f.code)&&d.schedule(!0))}d.schedule()})()}}class Bn{constructor(d,f){this.createdAt=d,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Le(this.lastLoginAt),this.creationTime=Le(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(y){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(y){var d;const f=y.auth,A=yield y.getIdToken(),le=yield Ln(y,dn(f,{idToken:A}));ee(null==le?void 0:le.users.length,f,"internal-error");const Ue=le.users[0];y._notifyReloadListener(Ue);const Mt=(null===(d=Ue.providerUserInfo)||void 0===d?void 0:d.length)?z(Ue.providerUserInfo):[],an=Ae(y.providerData,Mt),Gr=!!y.isAnonymous&&!(y.email&&Ue.passwordHash||(null==an?void 0:an.length)),kr={uid:Ue.localId,displayName:Ue.displayName||null,photoURL:Ue.photoUrl||null,email:Ue.email||null,emailVerified:Ue.emailVerified||!1,phoneNumber:Ue.phoneNumber||null,tenantId:Ue.tenantId||null,providerData:an,metadata:new Bn(Ue.createdAt,Ue.lastLoginAt),isAnonymous:Gr};Object.assign(y,kr)})).apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(y){const d=(0,x.m9)(y);yield Gn(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ae(y,d){return[...y.filter(A=>!d.some(le=>le.providerId===A.providerId)),...d]}function z(y){return y.map(d=>{var{providerId:f}=d,A=(0,he._T)(d,["providerId"]);return{providerId:f,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function B(){return(B=(0,u.Z)(function*(y,d){const f=yield wn(y,{},(0,u.Z)(function*(){const A=(0,x.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:le,apiKey:Ue}=y.config,Mt=hr(y,le,"/v1/token",`key=${Ue}`),an=yield y._getAdditionalHeaders();return an["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(Mt,{method:"POST",headers:an,body:A})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ee(d.idToken,"internal-error"),ee(void 0!==d.idToken,"internal-error"),ee(void 0!==d.refreshToken,"internal-error");const f="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function On(y){const d=nn(y);return ee(d,"internal-error"),ee(void 0!==d.exp,"internal-error"),ee(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,f)}getToken(d,f=!1){var A=this;return(0,u.Z)(function*(){return ee(!A.accessToken||A.refreshToken,d,"user-token-expired"),f||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(d,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,f){var A=this;return(0,u.Z)(function*(){const{accessToken:le,refreshToken:Ue,expiresIn:Mt}=yield function k(y,d){return B.apply(this,arguments)}(d,f);A.updateTokensAndExpiration(le,Ue,Number(Mt))})()}updateTokensAndExpiration(d,f,A){this.refreshToken=f||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(d,f){const{refreshToken:A,accessToken:le,expirationTime:Ue}=f,Mt=new Te;return A&&(ee("string"==typeof A,"internal-error",{appName:d}),Mt.refreshToken=A),le&&(ee("string"==typeof le,"internal-error",{appName:d}),Mt.accessToken=le),Ue&&(ee("number"==typeof Ue,"internal-error",{appName:d}),Mt.expirationTime=Ue),Mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return re("not implemented")}}function ft(y,d){ee("string"==typeof y||void 0===y,"internal-error",{appName:d})}class Vt{constructor(d){var{uid:f,auth:A,stsTokenManager:le}=d,Ue=(0,he._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=A,this.stsTokenManager=le,this.accessToken=le.accessToken,this.displayName=Ue.displayName||null,this.email=Ue.email||null,this.emailVerified=Ue.emailVerified||!1,this.phoneNumber=Ue.phoneNumber||null,this.photoURL=Ue.photoURL||null,this.isAnonymous=Ue.isAnonymous||!1,this.tenantId=Ue.tenantId||null,this.providerData=Ue.providerData?[...Ue.providerData]:[],this.metadata=new Bn(Ue.createdAt||void 0,Ue.lastLoginAt||void 0)}getIdToken(d){var f=this;return(0,u.Z)(function*(){const A=yield Ln(f,f.stsTokenManager.getToken(f.auth,d));return ee(A,f.auth,"internal-error"),f.accessToken!==A&&(f.accessToken=A,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),A})()}getIdTokenResult(d){return function Ft(y){return Nt.apply(this,arguments)}(this,d)}reload(){return function Zr(y){return ct.apply(this,arguments)}(this)}_assign(d){this!==d&&(ee(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(f=>Object.assign({},f)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Vt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,f=!1){var A=this;return(0,u.Z)(function*(){let le=!1;d.idToken&&d.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(d),le=!0),f&&(yield Gn(A)),yield A.auth._persistUserIfCurrent(A),le&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var d=this;return(0,u.Z)(function*(){const f=yield d.getIdToken();return yield Ln(d,function pn(y,d){return Yr.apply(this,arguments)}(d.auth,{idToken:f})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,f){var A,le,Ue,Mt,an,Hn,ur,Gr;const kr=null!==(A=f.displayName)&&void 0!==A?A:void 0,Fs=null!==(le=f.email)&&void 0!==le?le:void 0,Go=null!==(Ue=f.phoneNumber)&&void 0!==Ue?Ue:void 0,Mu=null!==(Mt=f.photoURL)&&void 0!==Mt?Mt:void 0,hh=null!==(an=f.tenantId)&&void 0!==an?an:void 0,cl=null!==(Hn=f._redirectEventId)&&void 0!==Hn?Hn:void 0,hc=null!==(ur=f.createdAt)&&void 0!==ur?ur:void 0,dl=null!==(Gr=f.lastLoginAt)&&void 0!==Gr?Gr:void 0,{uid:hl,emailVerified:fc,isAnonymous:fh,providerData:Xc,stsTokenManager:ed}=f;ee(hl&&ed,d,"internal-error");const Mo=Te.fromJSON(this.name,ed);ee("string"==typeof hl,d,"internal-error"),ft(kr,d.name),ft(Fs,d.name),ee("boolean"==typeof fc,d,"internal-error"),ee("boolean"==typeof fh,d,"internal-error"),ft(Go,d.name),ft(Mu,d.name),ft(hh,d.name),ft(cl,d.name),ft(hc,d.name),ft(dl,d.name);const td=new Vt({uid:hl,auth:d,email:Fs,emailVerified:fc,displayName:kr,isAnonymous:fh,photoURL:Mu,phoneNumber:Go,tenantId:hh,stsTokenManager:Mo,createdAt:hc,lastLoginAt:dl});return Xc&&Array.isArray(Xc)&&(td.providerData=Xc.map(ph=>Object.assign({},ph))),cl&&(td._redirectEventId=cl),td}static _fromIdTokenResponse(d,f,A=!1){return(0,u.Z)(function*(){const le=new Te;le.updateFromServerResponse(f);const Ue=new Vt({uid:f.localId,auth:d,stsTokenManager:le,isAnonymous:A});return yield Gn(Ue),Ue})()}}const Rt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(f,A){var le=this;return(0,u.Z)(function*(){le.storage[f]=A})()}_get(f){var A=this;return(0,u.Z)(function*(){const le=A.storage[f];return void 0===le?null:le})()}_remove(f){var A=this;return(0,u.Z)(function*(){delete A.storage[f]})()}_addListener(f,A){}_removeListener(f,A){}}return y.type="NONE",y})();function T(y,d,f){return`firebase:${y}:${d}:${f}`}class Z{constructor(d,f,A){this.persistence=d,this.auth=f,this.userKey=A;const{config:le,name:Ue}=this.auth;this.fullUserKey=T(this.userKey,le.apiKey,Ue),this.fullPersistenceKey=T("persistence",le.apiKey,Ue),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,u.Z)(function*(){const f=yield d.persistence._get(d.fullUserKey);return f?Vt._fromJSON(d.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var f=this;return(0,u.Z)(function*(){if(f.persistence===d)return;const A=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=d,A?f.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,f,A="authUser"){return(0,u.Z)(function*(){if(!f.length)return new Z(Xe(Rt),d,A);const le=(yield Promise.all(f.map(function(){var ur=(0,u.Z)(function*(Gr){if(yield Gr._isAvailable())return Gr});return function(Gr){return ur.apply(this,arguments)}}()))).filter(ur=>ur);let Ue=le[0]||Xe(Rt);const Mt=T(A,d.config.apiKey,d.name);let an=null;for(const ur of f)try{const Gr=yield ur._get(Mt);if(Gr){const kr=Vt._fromJSON(d,Gr);ur!==Ue&&(an=kr),Ue=ur;break}}catch(Gr){}const Hn=le.filter(ur=>ur._shouldAllowMigration);return Ue._shouldAllowMigration&&Hn.length?(Ue=Hn[0],an&&(yield Ue._set(Mt,an.toJSON())),yield Promise.all(f.map(function(){var ur=(0,u.Z)(function*(Gr){if(Gr!==Ue)try{yield Gr._remove(Mt)}catch(kr){}});return function(Gr){return ur.apply(this,arguments)}}())),new Z(Ue,d,A)):new Z(Ue,d,A)})()}}function at(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(vt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(et(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Qn(d))return"Blackberry";if($n(d))return"Webos";if(Ge(d))return"Safari";if((d.includes("chrome/")||rt(d))&&!d.includes("edge/"))return"Chrome";if(ht(d))return"Android";{const A=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function et(y=(0,x.z$)()){return/firefox\//i.test(y)}function Ge(y=(0,x.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function rt(y=(0,x.z$)()){return/crios\//i.test(y)}function vt(y=(0,x.z$)()){return/iemobile/i.test(y)}function ht(y=(0,x.z$)()){return/android/i.test(y)}function Qn(y=(0,x.z$)()){return/blackberry/i.test(y)}function $n(y=(0,x.z$)()){return/webos/i.test(y)}function Cr(y=(0,x.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function fi(y=(0,x.z$)()){return Cr(y)||ht(y)||$n(y)||Qn(y)||/windows phone/i.test(y)||vt(y)}function Gi(y,d=[]){let f;switch(y){case"Browser":f=at((0,x.z$)());break;case"Worker":f=`${at((0,x.z$)())}-${y}`;break;default:f=y}const A=d.length?d.join(","):"FirebaseCore-web";return`${f}/JsCore/${te.SDK_VERSION}/${A}`}class Qr{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,f){const A=Ue=>new Promise((Mt,an)=>{try{Mt(d(Ue))}catch(Hn){an(Hn)}});A.onAbort=f,this.queue.push(A);const le=this.queue.length-1;return()=>{this.queue[le]=()=>Promise.resolve()}}runMiddleware(d){var f=this;return(0,u.Z)(function*(){var A;if(f.auth.currentUser===d)return;const le=[];try{for(const Ue of f.queue)yield Ue(d),Ue.onAbort&&le.push(Ue.onAbort)}catch(Ue){le.reverse();for(const Mt of le)try{Mt()}catch(an){}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=Ue)||void 0===A?void 0:A.message})}})()}}class Rn{constructor(d,f,A){this.app=d,this.heartbeatServiceProvider=f,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.beforeStateQueue=new Qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(d,f){var A=this;return f&&(this._popupRedirectResolver=Xe(f)),this._initializationPromise=this.queue((0,u.Z)(function*(){var le,Ue;if(!A._deleted&&(A.persistenceManager=yield Z.create(A,d),!A._deleted)){if(null===(le=A._popupRedirectResolver)||void 0===le?void 0:le._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Mt){}yield A.initializeCurrentUser(f),A.lastNotifiedUid=(null===(Ue=A.currentUser)||void 0===Ue?void 0:Ue.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,u.Z)(function*(){if(d._deleted)return;const f=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||f){if(d.currentUser&&f&&d.currentUser.uid===f.uid)return d._currentUser._assign(f),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(f,!0)}})()}initializeCurrentUser(d){var f=this;return(0,u.Z)(function*(){var A;const le=yield f.assertedPersistence.getCurrentUser();let Ue=le,Mt=!1;if(d&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const an=null===(A=f.redirectUser)||void 0===A?void 0:A._redirectEventId,Hn=null==Ue?void 0:Ue._redirectEventId,ur=yield f.tryRedirectSignIn(d);(!an||an===Hn)&&(null==ur?void 0:ur.user)&&(Ue=ur.user,Mt=!0)}if(!Ue)return f.directlySetCurrentUser(null);if(!Ue._redirectEventId){if(Mt)try{yield f.beforeStateQueue.runMiddleware(Ue)}catch(an){Ue=le,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(an))}return Ue?f.reloadAndSetCurrentUserOrClear(Ue):f.directlySetCurrentUser(null)}return ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===Ue._redirectEventId?f.directlySetCurrentUser(Ue):f.reloadAndSetCurrentUserOrClear(Ue)})()}tryRedirectSignIn(d){var f=this;return(0,u.Z)(function*(){let A=null;try{A=yield f._popupRedirectResolver._completeRedirectFn(f,d,!0)}catch(le){yield f._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(d){var f=this;return(0,u.Z)(function*(){var A;try{yield Gn(d)}catch(le){if("auth/network-request-failed"!==(null===(A=le)||void 0===A?void 0:A.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function _t(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,u.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var f=this;return(0,u.Z)(function*(){const A=d?(0,x.m9)(d):null;return A&&ee(A.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(A&&A._clone(f))})()}_updateCurrentUser(d,f=!1){var A=this;return(0,u.Z)(function*(){if(!A._deleted)return d&&ee(A.tenantId===d.tenantId,A,"tenant-id-mismatch"),f||(yield A.beforeStateQueue.runMiddleware(d)),A.queue((0,u.Z)(function*(){yield A.directlySetCurrentUser(d),A.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,u.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var f=this;return this.queue((0,u.Z)(function*(){yield f.assertedPersistence.setPersistence(Xe(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new x.LL("auth","Firebase",d())}onAuthStateChanged(d,f,A){return this.registerStateListener(this.authStateSubscription,d,f,A)}beforeAuthStateChanged(d,f){return this.beforeStateQueue.pushCallback(d,f)}onIdTokenChanged(d,f,A){return this.registerStateListener(this.idTokenSubscription,d,f,A)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,f){var A=this;return(0,u.Z)(function*(){const le=yield A.getOrInitRedirectPersistenceManager(f);return null===d?le.removeCurrentUser():le.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var f=this;return(0,u.Z)(function*(){if(!f.redirectPersistenceManager){const A=d&&Xe(d)||f._popupRedirectResolver;ee(A,f,"argument-error"),f.redirectPersistenceManager=yield Z.create(f,[Xe(A._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(d){var f=this;return(0,u.Z)(function*(){var A,le;return f._isInitialized&&(yield f.queue((0,u.Z)(function*(){}))),(null===(A=f._currentUser)||void 0===A?void 0:A._redirectEventId)===d?f._currentUser:(null===(le=f.redirectUser)||void 0===le?void 0:le._redirectEventId)===d?f.redirectUser:null})()}_persistUserIfCurrent(d){var f=this;return(0,u.Z)(function*(){if(d===f.currentUser)return f.queue((0,u.Z)(function*(){return f.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(f=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,f,A,le){if(this._deleted)return()=>{};const Ue="function"==typeof f?f:f.next.bind(f),Mt=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(Mt,this,"internal-error"),Mt.then(()=>Ue(this.currentUser)),"function"==typeof f?d.addObserver(f,A,le):d.addObserver(f)}directlySetCurrentUser(d){var f=this;return(0,u.Z)(function*(){f.currentUser&&f.currentUser!==d&&(f._currentUser._stopProactiveRefresh(),d&&f.isProactiveRefreshEnabled&&d._startProactiveRefresh()),f.currentUser=d,d?yield f.assertedPersistence.setCurrentUser(d):yield f.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,u.Z)(function*(){var f;const A={"X-Client-Version":d.clientVersion};d.app.options.appId&&(A["X-Firebase-gmpid"]=d.app.options.appId);const le=yield null===(f=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return le&&(A["X-Firebase-Client"]=le),A})()}}function Yn(y){return(0,x.m9)(y)}class jr{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mi(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function ci(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class Si{constructor(d,f){this.providerId=d,this.signInMethod=f}toJSON(){return re("not implemented")}_getIdTokenResponse(d){return re("not implemented")}_linkToIdToken(d,f){return re("not implemented")}_getReauthenticationResolver(d){return re("not implemented")}}function $r(y,d){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:resetPassword",St(y,d))})).apply(this,arguments)}function Mi(y,d){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ls(y,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:update",St(y,d))})).apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithPassword",St(y,d))})).apply(this,arguments)}function Yi(y,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:sendOobCode",St(y,d))})).apply(this,arguments)}function xr(y,d){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(y,d){return Yi(y,d)})).apply(this,arguments)}function Hi(y,d){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(y,d){return Yi(y,d)})).apply(this,arguments)}function Li(y,d){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(y,d){return Yi(y,d)})).apply(this,arguments)}function ss(y,d){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(y,d){return Yi(y,d)})).apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithEmailLink",St(y,d))})).apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithEmailLink",St(y,d))})).apply(this,arguments)}class yi extends Si{constructor(d,f,A,le=null){super("password",A),this._email=d,this._password=f,this._tenantId=le}static _fromEmailAndPassword(d,f){return new yi(d,f,"password")}static _fromEmailAndCode(d,f,A=null){return new yi(d,f,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(d){var f=this;return(0,u.Z)(function*(){switch(f.signInMethod){case"password":return function ni(y,d){return Pi.apply(this,arguments)}(d,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Oi(y,d){return bs.apply(this,arguments)}(d,{email:f._email,oobCode:f._password});default:Je(d,"internal-error")}})()}_linkToIdToken(d,f){var A=this;return(0,u.Z)(function*(){switch(A.signInMethod){case"password":return Mi(d,{idToken:f,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function ws(y,d){return Rs.apply(this,arguments)}(d,{idToken:f,email:A._email,oobCode:A._password});default:Je(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ns(y,d){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithIdp",St(y,d))})).apply(this,arguments)}class kt extends Si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const f=new kt(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(f.idToken=d.idToken),d.accessToken&&(f.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(f.nonce=d.nonce),d.pendingToken&&(f.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(f.accessToken=d.oauthToken,f.secret=d.oauthTokenSecret):Je("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:A,signInMethod:le}=f,Ue=(0,he._T)(f,["providerId","signInMethod"]);if(!A||!le)return null;const Mt=new kt(A,le);return Mt.idToken=Ue.idToken||void 0,Mt.accessToken=Ue.accessToken||void 0,Mt.secret=Ue.secret,Mt.nonce=Ue.nonce,Mt.pendingToken=Ue.pendingToken||null,Mt}_getIdTokenResponse(d){return ns(d,this.buildRequest())}_linkToIdToken(d,f){const A=this.buildRequest();return A.idToken=f,ns(d,A)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ns(d,f)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),d.postBody=(0,x.xO)(f)}return d}}function ae(y,d){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:sendVerificationCode",St(y,d))})).apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithPhoneNumber",St(y,d))})).apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(y,d){const f=yield fr(y,"POST","/v1/accounts:signInWithPhoneNumber",St(y,d));if(f.temporaryProof)throw Lr(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const mt={USER_NOT_FOUND:"user-not-found"};function un(){return(un=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithPhoneNumber",St(y,Object.assign(Object.assign({},d),{operation:"REAUTH"})),mt)})).apply(this,arguments)}class jt extends Si{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,f){return new jt({verificationId:d,verificationCode:f})}static _fromTokenResponse(d,f){return new jt({phoneNumber:d,temporaryProof:f})}_getIdTokenResponse(d){return function W(y,d){return oe.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,f){return function We(y,d){return it.apply(this,arguments)}(d,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function rn(y,d){return un.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:f,verificationId:A,verificationCode:le}=this.params;return d&&f?{temporaryProof:d,phoneNumber:f}:{sessionInfo:A,code:le}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:f,verificationCode:A,phoneNumber:le,temporaryProof:Ue}=d;return A||f||le||Ue?new jt({verificationId:f,verificationCode:A,phoneNumber:le,temporaryProof:Ue}):null}}class Nn{constructor(d){var f,A,le,Ue,Mt,an;const Hn=(0,x.zd)((0,x.pd)(d)),ur=null!==(f=Hn.apiKey)&&void 0!==f?f:null,Gr=null!==(A=Hn.oobCode)&&void 0!==A?A:null,kr=function vn(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(le=Hn.mode)&&void 0!==le?le:null);ee(ur&&Gr&&kr,"argument-error"),this.apiKey=ur,this.operation=kr,this.code=Gr,this.continueUrl=null!==(Ue=Hn.continueUrl)&&void 0!==Ue?Ue:null,this.languageCode=null!==(Mt=Hn.languageCode)&&void 0!==Mt?Mt:null,this.tenantId=null!==(an=Hn.tenantId)&&void 0!==an?an:null}static parseLink(d){const f=function Un(y){const d=(0,x.zd)((0,x.pd)(y)).link,f=d?(0,x.zd)((0,x.pd)(d)).deep_link_id:null,A=(0,x.zd)((0,x.pd)(y)).deep_link_id;return(A?(0,x.zd)((0,x.pd)(A)).link:null)||A||f||d||y}(d);try{return new Nn(f)}catch(A){return null}}}let wr=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,A){return yi._fromEmailAndPassword(f,A)}static credentialWithLink(f,A){const le=Nn.parseLink(A);return ee(le,"argument-error"),yi._fromEmailAndCode(f,le.code,le.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ir{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Fr extends ir{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Dr extends Fr{static credentialFromJSON(d){const f="string"==typeof d?JSON.parse(d):d;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),kt._fromParams(f)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ee(d.idToken||d.accessToken,"argument-error"),kt._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Dr.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Dr.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:f,oauthAccessToken:A,oauthTokenSecret:le,pendingToken:Ue,nonce:Mt,providerId:an}=d;if(!A&&!le&&!f&&!Ue||!an)return null;try{return new Dr(an)._credential({idToken:f,accessToken:A,nonce:Mt,pendingToken:Ue})}catch(Hn){return null}}}let Rr=(()=>{class y extends Fr{constructor(){super("facebook.com")}static credential(f){return kt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(A){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Jr=(()=>{class y extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,A){return kt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:A})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:A,oauthAccessToken:le}=f;if(!A&&!le)return null;try{return y.credential(A,le)}catch(Ue){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ur=(()=>{class y extends Fr{constructor(){super("github.com")}static credential(f){return kt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch(A){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bi extends Si{constructor(d,f){super(d,d),this.pendingToken=f}_getIdTokenResponse(d){return ns(d,this.buildRequest())}_linkToIdToken(d,f){const A=this.buildRequest();return A.idToken=f,ns(d,A)}_getReauthenticationResolver(d){const f=this.buildRequest();return f.autoCreate=!1,ns(d,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const f="string"==typeof d?JSON.parse(d):d,{providerId:A,signInMethod:le,pendingToken:Ue}=f;return A&&le&&Ue&&A===le?new Bi(A,Ue):null}static _create(d,f){return new Bi(d,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vi extends ir{constructor(d){ee(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return vi.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return vi.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const f=Bi.fromJSON(d);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:f,providerId:A}=d;if(!f||!A)return null;try{return Bi._create(A,f)}catch(le){return null}}}let Is=(()=>{class y extends Fr{constructor(){super("twitter.com")}static credential(f,A){return kt._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:A})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:A,oauthTokenSecret:le}=f;if(!A||!le)return null;try{return y.credential(A,le)}catch(Ue){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function oi(y,d){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signUp",St(y,d))})).apply(this,arguments)}class w{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,f,A,le=!1){return(0,u.Z)(function*(){const Ue=yield Vt._fromIdTokenResponse(d,A,le),Mt=R(A);return new w({user:Ue,providerId:Mt,_tokenResponse:A,operationType:f})})()}static _forOperation(d,f,A){return(0,u.Z)(function*(){yield d._updateTokensIfNecessary(A,!0);const le=R(A);return new w({user:d,providerId:le,_tokenResponse:A,operationType:f})})()}}function R(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ge(){return(ge=(0,u.Z)(function*(y){var d;const f=Yn(y);if(yield f._initializationPromise,null===(d=f.currentUser)||void 0===d?void 0:d.isAnonymous)return new w({user:f.currentUser,providerId:null,operationType:"signIn"});const A=yield oi(f,{returnSecureToken:!0}),le=yield w._fromIdTokenResponse(f,"signIn",A,!0);return yield f._updateCurrentUser(le.user),le})).apply(this,arguments)}class tt extends x.ZR{constructor(d,f,A,le){var Ue;super(f.code,f.message),this.operationType=A,this.user=le,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:d.name,tenantId:null!==(Ue=d.tenantId)&&void 0!==Ue?Ue:void 0,_serverResponse:f.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(d,f,A,le){return new tt(d,f,A,le)}}function At(y,d,f,A){return("reauthenticate"===d?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(Ue=>{throw"auth/multi-factor-auth-required"===Ue.code?tt._fromErrorAndOperation(y,Ue,d,A):Ue})}function Wt(y){return new Set(y.map(({providerId:d})=>d).filter(d=>!!d))}function Yt(){return(Yt=(0,u.Z)(function*(y,d){const f=(0,x.m9)(y);yield F(!0,f,d);const{providerUserInfo:A}=yield Er(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[d]}),le=Wt(A||[]);return f.providerData=f.providerData.filter(Ue=>le.has(Ue.providerId)),le.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function L(y,d){return se.apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(y,d,f=!1){const A=yield Ln(y,d._linkToIdToken(y.auth,yield y.getIdToken()),f);return w._forOperation(y,"link",A)})).apply(this,arguments)}function F(y,d,f){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,u.Z)(function*(y,d,f){yield Gn(d);const le=!1===y?"provider-already-linked":"no-such-provider";ee(Wt(d.providerData).has(f)===y,d.auth,le)})).apply(this,arguments)}function Ze(y,d){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(y,d,f=!1){var A;const{auth:le}=y,Ue="reauthenticate";try{const Mt=yield Ln(y,At(le,Ue,d,y),f);ee(Mt.idToken,le,"internal-error");const an=nn(Mt.idToken);ee(an,le,"internal-error");const{sub:Hn}=an;return ee(y.uid===Hn,le,"user-mismatch"),w._forOperation(y,Ue,Mt)}catch(Mt){throw"auth/user-not-found"===(null===(A=Mt)||void 0===A?void 0:A.code)&&Je(le,"user-mismatch"),Mt}})).apply(this,arguments)}function Bt(y,d){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(y,d,f=!1){const A="signIn",le=yield At(y,A,d),Ue=yield w._fromIdTokenResponse(y,A,le);return f||(yield y._updateCurrentUser(Ue.user)),Ue})).apply(this,arguments)}function tr(y,d){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(y,d){return Bt(Yn(y),d)})).apply(this,arguments)}function lr(y,d){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(y,d){const f=(0,x.m9)(y);return yield F(!1,f,d.providerId),L(f,d)})).apply(this,arguments)}function Tr(y,d){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(y,d){return Ze((0,x.m9)(y),d)})).apply(this,arguments)}function Xr(y,d){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*(y,d){return fr(y,"POST","/v1/accounts:signInWithCustomToken",St(y,d))})).apply(this,arguments)}function P(){return(P=(0,u.Z)(function*(y,d){const f=Yn(y),A=yield Xr(f,{token:d,returnSecureToken:!0}),le=yield w._fromIdTokenResponse(f,"signIn",A);return yield f._updateCurrentUser(le.user),le})).apply(this,arguments)}class Oe{constructor(d,f){this.factorId=d,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(d,f){return"phoneInfo"in f?sn._fromServerResponse(d,f):Je(d,"internal-error")}}class sn extends Oe{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,f){return new sn(f)}}function Wn(y,d,f){var A;ee((null===(A=f.url)||void 0===A?void 0:A.length)>0,y,"invalid-continue-uri"),ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),d.continueUrl=f.url,d.dynamicLinkDomain=f.dynamicLinkDomain,d.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),d.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,y,"missing-android-pkg-name"),d.androidInstallApp=f.android.installApp,d.androidMinimumVersionCode=f.android.minimumVersion,d.androidPackageName=f.android.packageName)}function hs(){return(hs=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y),le={requestType:"PASSWORD_RESET",email:d};f&&Wn(A,le,f),yield Hi(A,le)})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(y,d,f){yield $r((0,x.m9)(y),{oobCode:d,newPassword:f})})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(y,d){yield ls((0,x.m9)(y),{oobCode:d})})).apply(this,arguments)}function Wo(y,d){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(y,d){const f=(0,x.m9)(y),A=yield $r(f,{oobCode:d}),le=A.requestType;switch(ee(le,f,"internal-error"),le){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(A.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(A.mfaInfo,f,"internal-error");default:ee(A.email,f,"internal-error")}let Ue=null;return A.mfaInfo&&(Ue=Oe._fromServerResponse(Yn(f),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:Ue},operation:le}})).apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(y,d){const{data:f}=yield Wo((0,x.m9)(y),d);return f.email})).apply(this,arguments)}function Do(){return(Do=(0,u.Z)(function*(y,d,f){const A=Yn(y),le=yield oi(A,{returnSecureToken:!0,email:d,password:f}),Ue=yield w._fromIdTokenResponse(A,"signIn",le);return yield A._updateCurrentUser(Ue.user),Ue})).apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y),le={requestType:"EMAIL_SIGNIN",email:d};ee(f.handleCodeInApp,A,"argument-error"),f&&Wn(A,le,f),yield Li(A,le)})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y),le=wr.credentialWithLink(d,f||Xt());return ee(le._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),tr(A,le)})).apply(this,arguments)}function Hs(y,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:createAuthUri",St(y,d))})).apply(this,arguments)}function v(){return(v=(0,u.Z)(function*(y,d){const A={identifier:d,continueUri:on()?Xt():"http://localhost"},{signinMethods:le}=yield Hs((0,x.m9)(y),A);return le||[]})).apply(this,arguments)}function G(){return(G=(0,u.Z)(function*(y,d){const f=(0,x.m9)(y),le={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};d&&Wn(f.auth,le,d);const{email:Ue}=yield xr(f.auth,le);Ue!==y.email&&(yield y.reload())})).apply(this,arguments)}function Qe(){return(Qe=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y),Ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:d};f&&Wn(A.auth,Ue,f);const{email:Mt}=yield ss(A.auth,Ue);Mt!==y.email&&(yield y.reload())})).apply(this,arguments)}function yt(y,d){return Et.apply(this,arguments)}function Et(){return(Et=(0,u.Z)(function*(y,d){return Gt(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y,{displayName:d,photoURL:f}){if(void 0===d&&void 0===f)return;const A=(0,x.m9)(y),Ue={idToken:yield A.getIdToken(),displayName:d,photoUrl:f,returnSecureToken:!0},Mt=yield Ln(A,yt(A.auth,Ue));A.displayName=Mt.displayName||null,A.photoURL=Mt.photoUrl||null;const an=A.providerData.find(({providerId:Hn})=>"password"===Hn);an&&(an.displayName=A.displayName,an.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Mt)})).apply(this,arguments)}function Mr(y,d,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(y,d,f){const{auth:A}=y,Ue={idToken:yield y.getIdToken(),returnSecureToken:!0};d&&(Ue.email=d),f&&(Ue.password=f);const Mt=yield Ln(y,Mi(A,Ue));yield y._updateTokensIfNecessary(Mt,!0)})).apply(this,arguments)}class Pr{constructor(d,f,A={}){this.isNewUser=d,this.providerId=f,this.profile=A}}class Di extends Pr{constructor(d,f,A,le){super(d,f,A),this.username=le}}class zi extends Pr{constructor(d,f){super(d,"facebook.com",f)}}class Zi extends Di{constructor(d,f){super(d,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ds extends Pr{constructor(d,f){super(d,"google.com",f)}}class ui extends Di{constructor(d,f,A){super(d,"twitter.com",f,A)}}function xs(y){const{user:d,_tokenResponse:f}=y;return d.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function gr(y){var d,f;if(!y)return null;const{providerId:A}=y,le=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},Ue=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!A&&(null==y?void 0:y.idToken)){const Mt=null===(f=null===(d=nn(y.idToken))||void 0===d?void 0:d.firebase)||void 0===f?void 0:f.sign_in_provider;if(Mt)return new Pr(Ue,"anonymous"!==Mt&&"custom"!==Mt?Mt:null)}if(!A)return null;switch(A){case"facebook.com":return new zi(Ue,le);case"github.com":return new Zi(Ue,le);case"google.com":return new Ds(Ue,le);case"twitter.com":return new ui(Ue,le,y.screenName||null);case"custom":case"anonymous":return new Pr(Ue,null);default:return new Pr(Ue,A,le)}}(f)}class Ts{constructor(d,f){this.type=d,this.credential=f}static _fromIdtoken(d){return new Ts("enroll",d)}static _fromMfaPendingCredential(d){return new Ts("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var f,A;if(null==d?void 0:d.multiFactorSession){if(null===(f=d.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Ts._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(A=d.multiFactorSession)||void 0===A?void 0:A.idToken)return Ts._fromIdtoken(d.multiFactorSession.idToken)}return null}}class sr{constructor(d,f,A){this.session=d,this.hints=f,this.signInResolver=A}static _fromError(d,f){const A=Yn(d),le=f.customData._serverResponse,Ue=(le.mfaInfo||[]).map(an=>Oe._fromServerResponse(A,an));ee(le.mfaPendingCredential,A,"internal-error");const Mt=Ts._fromMfaPendingCredential(le.mfaPendingCredential);return new sr(Mt,Ue,function(){var an=(0,u.Z)(function*(Hn){const ur=yield Hn._process(A,Mt);delete le.mfaInfo,delete le.mfaPendingCredential;const Gr=Object.assign(Object.assign({},le),{idToken:ur.idToken,refreshToken:ur.refreshToken});switch(f.operationType){case"signIn":const kr=yield w._fromIdTokenResponse(A,f.operationType,Gr);return yield A._updateCurrentUser(kr.user),kr;case"reauthenticate":return ee(f.user,A,"internal-error"),w._forOperation(f.user,f.operationType,Gr);default:Je(A,"internal-error")}});return function(Hn){return an.apply(this,arguments)}}())}resolveSignIn(d){var f=this;return(0,u.Z)(function*(){return f.signInResolver(d)})()}}function Or(y,d){return Gt(y,"POST","/v2/accounts/mfaEnrollment:start",St(y,d))}class gs{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(A=>Oe._fromServerResponse(d.auth,A)))})}static _fromUser(d){return new gs(d)}getSession(){var d=this;return(0,u.Z)(function*(){return Ts._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,f){var A=this;return(0,u.Z)(function*(){const le=d,Ue=yield A.getSession(),Mt=yield Ln(A.user,le._process(A.user.auth,Ue,f));return yield A.user._updateTokensIfNecessary(Mt),A.user.reload()})()}unenroll(d){var f=this;return(0,u.Z)(function*(){var A;const le="string"==typeof d?d:d.uid,Ue=yield f.user.getIdToken(),Mt=yield Ln(f.user,function ki(y,d){return Gt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",St(y,d))}(f.user.auth,{idToken:Ue,mfaEnrollmentId:le}));f.enrolledFactors=f.enrolledFactors.filter(({uid:an})=>an!==le),yield f.user._updateTokensIfNecessary(Mt);try{yield f.user.reload()}catch(an){if("auth/user-token-expired"!==(null===(A=an)||void 0===A?void 0:A.code))throw an}})()}}const fs=new WeakMap,_i="__sak";class ko{constructor(d,f){this.storageRetriever=d,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(_i,"1"),this.storage.removeItem(_i),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,f){return this.storage.setItem(d,JSON.stringify(f)),Promise.resolve()}_get(d){const f=this.storage.getItem(d);return Promise.resolve(f?JSON.parse(f):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zs=(()=>{class y extends ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,A)=>this.onStorageEvent(f,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vs(){const y=(0,x.z$)();return Ge(y)||Cr(y)}()&&function br(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=fi(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const A of Object.keys(this.listeners)){const le=this.storage.getItem(A),Ue=this.localCache[A];le!==Ue&&f(A,Ue,le)}}onStorageEvent(f,A=!1){if(!f.key)return void this.forAllChangedKeys((an,Hn,ur)=>{this.notifyListeners(an,ur)});const le=f.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const an=this.storage.getItem(le);if(f.newValue!==an)null!==f.newValue?this.storage.setItem(le,f.newValue):this.storage.removeItem(le);else if(this.localCache[le]===f.newValue&&!A)return}const Ue=()=>{const an=this.storage.getItem(le);!A&&this.localCache[le]===an||this.notifyListeners(le,an)},Mt=this.storage.getItem(le);!function si(){return(0,x.w1)()&&10===document.documentMode}()||Mt===f.newValue||f.newValue===f.oldValue?Ue():setTimeout(Ue,10)}notifyListeners(f,A){this.localCache[f]=A;const le=this.listeners[f];if(le)for(const Ue of Array.from(le))Ue(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,A,le)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:A,newValue:le}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(A)}_removeListener(f,A){this.listeners[f]&&(this.listeners[f].delete(A),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,A){var le=()=>super._set,Ue=this;return(0,u.Z)(function*(){yield le().call(Ue,f,A),Ue.localCache[f]=JSON.stringify(A)})()}_get(f){var A=()=>super._get,le=this;return(0,u.Z)(function*(){const Ue=yield A().call(le,f);return le.localCache[f]=JSON.stringify(Ue),Ue})()}_remove(f){var A=()=>super._remove,le=this;return(0,u.Z)(function*(){yield A().call(le,f),delete le.localCache[f]})()}}return y.type="LOCAL",y})(),Js=(()=>{class y extends ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,A){}_removeListener(f,A){}}return y.type="SESSION",y})();let Xa=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const A=this.receivers.find(Ue=>Ue.isListeningto(f));if(A)return A;const le=new y(f);return this.receivers.push(le),le}isListeningto(f){return this.eventTarget===f}handleEvent(f){var A=this;return(0,u.Z)(function*(){const le=f,{eventId:Ue,eventType:Mt,data:an}=le.data,Hn=A.handlersMap[Mt];if(!(null==Hn?void 0:Hn.size))return;le.ports[0].postMessage({status:"ack",eventId:Ue,eventType:Mt});const ur=Array.from(Hn).map(function(){var kr=(0,u.Z)(function*(Fs){return Fs(le.origin,an)});return function(Fs){return kr.apply(this,arguments)}}()),Gr=yield function ma(y){return Promise.all(y.map(function(){var d=(0,u.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(A){return{fulfilled:!1,reason:A}}});return function(f){return d.apply(this,arguments)}}()))}(ur);le.ports[0].postMessage({status:"done",eventId:Ue,eventType:Mt,response:Gr})})()}_subscribe(f,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(A)}_unsubscribe(f,A){this.handlersMap[f]&&A&&this.handlersMap[f].delete(A),(!A||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ho(y="",d=10){let f="";for(let A=0;A<d;A++)f+=Math.floor(10*Math.random());return y+f}class Va{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,f,A=50){var le=this;return(0,u.Z)(function*(){const Ue="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Ue)throw new Error("connection_unavailable");let Mt,an;return new Promise((Hn,ur)=>{const Gr=ho("",20);Ue.port1.start();const kr=setTimeout(()=>{ur(new Error("unsupported_event"))},A);an={messageChannel:Ue,onMessage(Fs){const Go=Fs;if(Go.data.eventId===Gr)switch(Go.data.status){case"ack":clearTimeout(kr),Mt=setTimeout(()=>{ur(new Error("timeout"))},3e3);break;case"done":clearTimeout(Mt),Hn(Go.data.response);break;default:clearTimeout(kr),clearTimeout(Mt),ur(new Error("invalid_response"))}}},le.handlers.add(an),Ue.port1.addEventListener("message",an.onMessage),le.target.postMessage({eventType:d,eventId:Gr,data:f},[Ue.port2])}).finally(()=>{an&&le.removeMessageHandler(an)})})()}}function Wi(){return window}function N(){return void 0!==Wi().WorkerGlobalScope&&"function"==typeof Wi().importScripts}function C(){return(C=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Be="firebaseLocalStorageDb",gt="firebaseLocalStorage",cn="fbase_key";class Zn{constructor(d){this.request=d}toPromise(){return new Promise((d,f)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Pn(y,d){return y.transaction([gt],d?"readwrite":"readonly").objectStore(gt)}function xi(){const y=indexedDB.open(Be,1);return new Promise((d,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const A=y.result;try{A.createObjectStore(gt,{keyPath:cn})}catch(le){f(le)}}),y.addEventListener("success",(0,u.Z)(function*(){const A=y.result;A.objectStoreNames.contains(gt)?d(A):(A.close(),yield function Mn(){const y=indexedDB.deleteDatabase(Be);return new Zn(y).toPromise()}(),d(yield xi()))}))})}function Tn(y,d,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(y,d,f){const A=Pn(y,!0).put({[cn]:d,value:f});return new Zn(A).toPromise()})).apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(y,d){const f=Pn(y,!1).get(d),A=yield new Zn(f).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Sa(y,d){const f=Pn(y,!0).delete(d);return new Zn(f).toPromise()}const Oa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,u.Z)(function*(){return f.db||(f.db=yield xi()),f.db})()}_withRetries(f){var A=this;return(0,u.Z)(function*(){let le=0;for(;;)try{const Ue=yield A._openDb();return yield f(Ue)}catch(Ue){if(le++>3)throw Ue;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,u.Z)(function*(){return N()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,u.Z)(function*(){f.receiver=Xa._getInstance(function ce(){return N()?self:null}()),f.receiver._subscribe("keyChanged",function(){var A=(0,u.Z)(function*(le,Ue){return{keyProcessed:(yield f._poll()).includes(Ue.key)}});return function(le,Ue){return A.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var A=(0,u.Z)(function*(le,Ue){return["keyChanged"]});return function(le,Ue){return A.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,u.Z)(function*(){var A,le;if(f.activeServiceWorker=yield function S(){return C.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Va(f.activeServiceWorker);const Ue=yield f.sender._send("ping",{},800);!Ue||(null===(A=Ue[0])||void 0===A?void 0:A.fulfilled)&&(null===(le=Ue[0])||void 0===le?void 0:le.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var A=this;return(0,u.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function q(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:f},A.serviceWorkerReceiverAvailable?800:50)}catch(le){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const f=yield xi();return yield Tn(f,_i,"1"),yield Sa(f,_i),!0}catch(f){}return!1})()}_withPendingWrite(f){var A=this;return(0,u.Z)(function*(){A.pendingWrites++;try{yield f()}finally{A.pendingWrites--}})()}_set(f,A){var le=this;return(0,u.Z)(function*(){return le._withPendingWrite((0,u.Z)(function*(){return yield le._withRetries(Ue=>Tn(Ue,f,A)),le.localCache[f]=A,le.notifyServiceWorker(f)}))})()}_get(f){var A=this;return(0,u.Z)(function*(){const le=yield A._withRetries(Ue=>function Cn(y,d){return ts.apply(this,arguments)}(Ue,f));return A.localCache[f]=le,le})()}_remove(f){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(le=>Sa(le,f)),delete A.localCache[f],A.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,u.Z)(function*(){const A=yield f._withRetries(Mt=>{const an=Pn(Mt,!1).getAll();return new Zn(an).toPromise()});if(!A)return[];if(0!==f.pendingWrites)return[];const le=[],Ue=new Set;for(const{fbase_key:Mt,value:an}of A)Ue.add(Mt),JSON.stringify(f.localCache[Mt])!==JSON.stringify(an)&&(f.notifyListeners(Mt,an),le.push(Mt));for(const Mt of Object.keys(f.localCache))f.localCache[Mt]&&!Ue.has(Mt)&&(f.notifyListeners(Mt,null),le.push(Mt));return le})()}notifyListeners(f,A){this.localCache[f]=A;const le=this.listeners[f];if(le)for(const Ue of Array.from(le))Ue(A)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(A)}_removeListener(f,A){this.listeners[f]&&(this.listeners[f].delete(A),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function gl(y,d){return Gt(y,"POST","/v2/accounts/mfaSignIn:start",St(y,d))}function Ua(){return(Ua=(0,u.Z)(function*(y){return(yield Gt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ao(y){return new Promise((d,f)=>{const A=document.createElement("script");A.setAttribute("src",y),A.onload=d,A.onerror=le=>{const Ue=xe("internal-error");Ue.customData=le,f(Ue)},A.type="text/javascript",A.charset="UTF-8",function ml(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(A)})}function I(y){return`__${y}${Math.floor(1e6*Math.random())}`}const $=1e12;class me{constructor(d){this.auth=d,this.counter=$,this._widgets=new Map}render(d,f){const A=this.counter;return this._widgets.set(A,new ot(d,this.auth.name,f||{})),this.counter++,A}reset(d){var f;const A=d||$;null===(f=this._widgets.get(A))||void 0===f||f.delete(),this._widgets.delete(A)}getResponse(d){var f;return(null===(f=this._widgets.get(d||$))||void 0===f?void 0:f.getResponse())||""}execute(d){var f=this;return(0,u.Z)(function*(){var A;return null===(A=f._widgets.get(d||$))||void 0===A||A.execute(),""})()}}class ot{constructor(d,f,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const le="string"==typeof d?document.getElementById(d):d;ee(le,"argument-error",{appName:f}),this.container=le,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kt(y){const d=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<y;A++)d.push(f.charAt(Math.floor(Math.random()*f.length)));return d.join("")}(50);const{callback:d,"expired-callback":f}=this.params;if(d)try{d(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hn=I("rcb"),Br=new $t(3e4,6e4);class mo{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(d=Wi().grecaptcha)||void 0===d?void 0:d.render)}load(d,f=""){return ee(function Us(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),d,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Wi().grecaptcha):new Promise((A,le)=>{const Ue=Wi().setTimeout(()=>{le(xe(d,"network-request-failed"))},Br.get());Wi()[hn]=()=>{Wi().clearTimeout(Ue),delete Wi()[hn];const an=Wi().grecaptcha;if(!an)return void le(xe(d,"internal-error"));const Hn=an.render;an.render=(ur,Gr)=>{const kr=Hn(ur,Gr);return this.counter++,kr},this.hostLanguage=f,A(an)},Ao(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:hn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(Ue),le(xe(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var f;return!!(null===(f=Wi().grecaptcha)||void 0===f?void 0:f.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aa{load(d){return(0,u.Z)(function*(){return new me(d)})()}clearedOneInstance(){}}const el="recaptcha",tl={theme:"light",type:"image"};class Yo{constructor(d,f=Object.assign({},tl),A){this.parameters=f,this.type=el,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(A),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const le="string"==typeof d?document.getElementById(d):d;ee(le,this.auth,"argument-error"),this.container=le,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new mo,this.validateStartingState()}verify(){var d=this;return(0,u.Z)(function*(){d.assertNotDestroyed();const f=yield d.render(),A=d.getAssertedRecaptcha();return A.getResponse(f)||new Promise(Ue=>{const Mt=an=>{!an||(d.tokenChangeListeners.delete(Mt),Ue(an))};d.tokenChangeListeners.add(Mt),d.isInvisible&&A.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return f=>{if(this.tokenChangeListeners.forEach(A=>A(f)),"function"==typeof d)d(f);else if("string"==typeof d){const A=Wi()[d];"function"==typeof A&&A(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,u.Z)(function*(){if(yield d.init(),!d.widgetId){let f=d.container;if(!d.isInvisible){const A=document.createElement("div");f.appendChild(A),f=A}d.widgetId=d.getAssertedRecaptcha().render(f,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,u.Z)(function*(){ee(on()&&!N(),d.auth,"internal-error"),yield function Fl(){let y=null;return new Promise(d=>{"complete"!==document.readyState?(y=()=>d(),window.addEventListener("load",y)):d()}).catch(d=>{throw y&&window.removeEventListener("load",y),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const f=yield function qo(y){return Ua.apply(this,arguments)}(d.auth);ee(f,d.auth,"internal-error"),d.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vr{constructor(d,f){this.verificationId=d,this.onConfirmation=f}confirm(d){const f=jt._fromVerification(this.verificationId,d);return this.onConfirmation(f)}}function Qo(){return(Qo=(0,u.Z)(function*(y,d,f){const A=Yn(y),le=yield va(A,d,(0,x.m9)(f));return new Vr(le,Ue=>tr(A,Ue))})).apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y);yield F(!1,A,"phone");const le=yield va(A.auth,d,(0,x.m9)(f));return new Vr(le,Ue=>lr(A,Ue))})).apply(this,arguments)}function qt(){return(qt=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y),le=yield va(A.auth,d,(0,x.m9)(f));return new Vr(le,Ue=>Tr(A,Ue))})).apply(this,arguments)}function va(y,d,f){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(y,d,f){var A;const le=yield f.verify();try{let Ue;if(ee("string"==typeof le,y,"argument-error"),ee(f.type===el,y,"argument-error"),Ue="string"==typeof d?{phoneNumber:d}:d,"session"in Ue){const Mt=Ue.session;if("phoneNumber"in Ue)return ee("enroll"===Mt.type,y,"internal-error"),(yield Or(y,{idToken:Mt.credential,phoneEnrollmentInfo:{phoneNumber:Ue.phoneNumber,recaptchaToken:le}})).phoneSessionInfo.sessionInfo;{ee("signin"===Mt.type,y,"internal-error");const an=(null===(A=Ue.multiFactorHint)||void 0===A?void 0:A.uid)||Ue.multiFactorUid;return ee(an,y,"missing-multi-factor-info"),(yield gl(y,{mfaPendingCredential:Mt.credential,mfaEnrollmentId:an,phoneSignInInfo:{recaptchaToken:le}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Mt}=yield ae(y,{phoneNumber:Ue.phoneNumber,recaptchaToken:le});return Mt}}finally{f._reset()}})).apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(y,d){yield L((0,x.m9)(y),d)})).apply(this,arguments)}let vo=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=Yn(f)}verifyPhoneNumber(f,A){return va(this.auth,f,(0,x.m9)(A))}static credential(f,A){return jt._fromVerification(f,A)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:A,temporaryProof:le}=f;return A&&le?jt._fromTokenResponse(A,le):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function _a(y,d){return d?Xe(d):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ca extends Si{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ns(d,this._buildIdpRequest())}_linkToIdToken(d,f){return ns(d,this._buildIdpRequest(f))}_getReauthenticationResolver(d){return ns(d,this._buildIdpRequest())}_buildIdpRequest(d){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(f.idToken=d),f}}function wu(y){return Bt(y.auth,new ca(y),y.bypassAuthState)}function nl(y){const{auth:d,user:f}=y;return ee(f,d,"internal-error"),Ze(f,new ca(y),y.bypassAuthState)}function fo(y){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(y){const{auth:d,user:f}=y;return ee(f,d,"internal-error"),L(f,new ca(y),y.bypassAuthState)})).apply(this,arguments)}class js{constructor(d,f,A,le,Ue=!1){this.auth=d,this.resolver=A,this.user=le,this.bypassAuthState=Ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var d=this;return new Promise(function(){var f=(0,u.Z)(function*(A,le){d.pendingPromise={resolve:A,reject:le};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Ue){d.reject(Ue)}});return function(A,le){return f.apply(this,arguments)}}())}onAuthEvent(d){var f=this;return(0,u.Z)(function*(){const{urlResponse:A,sessionId:le,postBody:Ue,tenantId:Mt,error:an,type:Hn}=d;if(an)return void f.reject(an);const ur={auth:f.auth,requestUri:A,sessionId:le,tenantId:Mt||void 0,postBody:Ue||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Hn)(ur))}catch(Gr){f.reject(Gr)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return wu;case"linkViaPopup":case"linkViaRedirect":return fo;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Je(this.auth,"internal-error")}}resolve(d){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zd=new $t(2e3,1e4);function Ll(){return(Ll=(0,u.Z)(function*(y,d,f){const A=Yn(y);st(y,d,ir);const le=_a(A,f);return new Zo(A,"signInViaPopup",d,le).executeNotNull()})).apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y);st(A.auth,d,ir);const le=_a(A.auth,f);return new Zo(A.auth,"reauthViaPopup",d,le,A).executeNotNull()})).apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y);st(A.auth,d,ir);const le=_a(A.auth,f);return new Zo(A.auth,"linkViaPopup",d,le,A).executeNotNull()})).apply(this,arguments)}let Zo=(()=>{class y extends js{constructor(f,A,le,Ue,Mt){super(f,A,Ue,Mt),this.provider=le,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,u.Z)(function*(){const A=yield f.execute();return ee(A,f.auth,"internal-error"),A})()}onExecution(){var f=this;return(0,u.Z)(function*(){De(1===f.filter.length,"Popup operations only handle one event");const A=ho();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],A),f.authWindow.associatedEvent=A,f.resolver._originValidation(f.auth).catch(le=>{f.reject(le)}),f.resolver._isIframeWebStorageSupported(f.auth,le=>{le||f.reject(xe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var A,le;this.pollId=(null===(le=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===le?void 0:le.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,zd.get())};f()}}return y.currentPopupAction=null,y})();const cs=new Map;class Wd extends js{constructor(d,f,A=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,A),this.eventId=null}execute(){var d=()=>super.execute,f=this;return(0,u.Z)(function*(){let A=cs.get(f.auth._key());if(!A){try{const Ue=(yield function Cs(y,d){return rl.apply(this,arguments)}(f.resolver,f.auth))?yield d().call(f):null;A=()=>Promise.resolve(Ue)}catch(le){A=()=>Promise.reject(le)}cs.set(f.auth._key(),A)}return f.bypassAuthState||cs.set(f.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(d){var f=()=>super.onAuthEvent,A=this;return(0,u.Z)(function*(){if("signInViaRedirect"===d.type)return f().call(A,d);if("unknown"!==d.type){if(d.eventId){const le=yield A.auth._redirectUserForId(d.eventId);if(le)return A.user=le,f().call(A,d);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function rl(){return(rl=(0,u.Z)(function*(y,d){const f=ke(d),A=J(y);if(!(yield A._isAvailable()))return!1;const le="true"===(yield A._get(f));return yield A._remove(f),le})).apply(this,arguments)}function xo(y,d){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(y,d){return J(y)._set(ke(d),"true")})).apply(this,arguments)}function U(y,d){cs.set(y._key(),d)}function J(y){return Xe(y._redirectPersistence)}function ke(y){return T("pendingRedirect",y.config.apiKey,y.name)}function en(){return(en=(0,u.Z)(function*(y,d,f){const A=Yn(y);st(y,d,ir);const le=_a(A,f);return yield xo(le,A),le._openRedirect(A,d,"signInViaRedirect")})).apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y);st(A.auth,d,ir);const le=_a(A.auth,f);yield xo(le,A.auth);const Ue=yield da(A);return le._openRedirect(A.auth,d,"reauthViaRedirect",Ue)})).apply(this,arguments)}function _r(){return(_r=(0,u.Z)(function*(y,d,f){const A=(0,x.m9)(y);st(A.auth,d,ir);const le=_a(A.auth,f);yield F(!1,A,d.providerId),yield xo(le,A.auth);const Ue=yield da(A);return le._openRedirect(A.auth,d,"linkViaRedirect",Ue)})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(y,d){return yield Yn(y)._initializationPromise,No(y,d,!1)})).apply(this,arguments)}function No(y,d){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(y,d,f=!1){const A=Yn(y),le=_a(A,d),Mt=yield new Wd(A,le,f).execute();return Mt&&!f&&(delete Mt.user._redirectEventId,yield A._persistUserIfCurrent(Mt.user),yield A._setRedirectUser(null,d)),Mt})).apply(this,arguments)}function da(y){return _o.apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(y){const d=ho(`${y.uid}:::`);return y._redirectEventId=d,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),d})).apply(this,arguments)}class Jo{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let f=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(d,A)&&(f=!0,this.sendToConsumer(d,A),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function sl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ea(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=d,f=!0)),f}sendToConsumer(d,f){var A;if(d.error&&!ea(d)){const le=(null===(A=d.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";f.onError(xe(this.auth,le))}else f.onAuthEvent(d)}isEventForConsumer(d,f){const A=null===f.eventId||!!d.eventId&&d.eventId===f.eventId;return f.filter.includes(d.type)&&A}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xo(d))}saveEventToCache(d){this.cachedEventUids.add(Xo(d)),this.lastProcessedEventTime=Date.now()}}function Xo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function ea({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===(null==d?void 0:d.code)}function Bl(y){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,u.Z)(function*(y,d={}){return Gt(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function jc(){return(jc=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield Bl(y);for(const f of d)try{if(so(f))return}catch(A){}Je(y,"unauthorized-domain")})).apply(this,arguments)}function so(y){const d=Xt(),{protocol:f,hostname:A}=new URL(d);if(y.startsWith("chrome-extension://")){const Mt=new URL(y);return""===Mt.hostname&&""===A?"chrome-extension:"===f&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===f&&Mt.hostname===A}if(!Du.test(f))return!1;if(Vl.test(y))return A===y;const le=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+le+"|"+le+")$","i").test(A)}const qd=new $t(3e4,6e4);function ys(){const y=Wi().___jsl;if(null==y?void 0:y.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Cu=null;function _l(y){return Cu=Cu||function Of(y){return new Promise((d,f)=>{var A,le,Ue;function Mt(){ys(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ys(),f(xe(y,"network-request-failed"))},timeout:qd.get()})}if(null===(le=null===(A=Wi().gapi)||void 0===A?void 0:A.iframes)||void 0===le?void 0:le.Iframe)d(gapi.iframes.getContext());else{if(!(null===(Ue=Wi().gapi)||void 0===Ue?void 0:Ue.load)){const an=I("iframefcb");return Wi()[an]=()=>{gapi.load?Mt():f(xe(y,"network-request-failed"))},Ao(`https://apis.google.com/js/api.js?onload=${an}`).catch(Hn=>f(Hn))}Mt()}}).catch(d=>{throw Cu=null,d})}(y),Cu}const Qu=new $t(5e3,15e3),Zu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rf(y){const d=y.config;ee(d.authDomain,y,"auth-domain-config-required");const f=d.emulator?zt(d,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,A={apiKey:d.apiKey,appName:y.name,v:te.SDK_VERSION},le=Yd.get(y.config.apiHost);le&&(A.eid=le);const Ue=y._getFrameworks();return Ue.length&&(A.fw=Ue.join(",")),`${f}?${(0,x.xO)(A).slice(1)}`}function Au(){return Au=(0,u.Z)(function*(y){const d=yield _l(y),f=Wi().gapi;return ee(f,y,"internal-error"),d.open({where:document.body,url:Rf(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zu,dontclear:!0},A=>new Promise(function(){var le=(0,u.Z)(function*(Ue,Mt){yield A.restyle({setHideOnLeave:!1});const an=xe(y,"network-request-failed"),Hn=Wi().setTimeout(()=>{Mt(an)},Qu.get());function ur(){Wi().clearTimeout(Hn),Ue(A)}A.ping(ur).then(ur,()=>{Mt(an)})});return function(Ue,Mt){return le.apply(this,arguments)}}()))}),Au.apply(this,arguments)}const Qd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jd{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function $a(y,d,f,A,le,Ue){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const Mt={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:A,v:te.SDK_VERSION,eventId:le};if(d instanceof ir){d.setDefaultLanguage(y.languageCode),Mt.providerId=d.providerId||"",(0,x.xb)(d.getCustomParameters())||(Mt.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Hn,ur]of Object.entries(Ue||{}))Mt[Hn]=ur}if(d instanceof Fr){const Hn=d.getScopes().filter(ur=>""!==ur);Hn.length>0&&(Mt.scopes=Hn.join(","))}y.tenantId&&(Mt.tid=y.tenantId);const an=Mt;for(const Hn of Object.keys(an))void 0===an[Hn]&&delete an[Hn];return`${function Hc({config:y}){return y.emulator?zt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,x.xO)(an).slice(1)}`}const Ea="webStorageSupport";class Iu extends class Ff{constructor(d){this.factorId=d}_process(d,f,A){switch(f.type){case"enroll":return this._finalizeEnroll(d,f.credential,A);case"signin":return this._finalizeSignIn(d,f.credential);default:return re("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Iu(d)}_finalizeEnroll(d,f,A){return function zr(y,d){return Gt(y,"POST","/v2/accounts/mfaEnrollment:finalize",St(y,d))}(d,{idToken:f,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,f){return function ya(y,d){return Gt(y,"POST","/v2/accounts/mfaSignIn:finalize",St(y,d))}(d,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ju=(()=>{class y{constructor(){}static assertion(f){return Iu._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var Xu="@firebase/auth";class ha{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var f=this;return(0,u.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const f=this.auth.onIdTokenChanged(A=>{var le;d((null===(le=A)||void 0===le?void 0:le.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,f),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const f=this.internalListeners.get(d);!f||(this.internalListeners.delete(d),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}function al(){return(al=(0,u.Z)(function*(y,d,f){var A;const{BuildInfo:le}=ta();De(d.sessionId,"AuthEvent did not contain a session ID");const Ue=yield zc(d.sessionId),Mt={};return Cr()?Mt.ibi=le.packageName:ht()?Mt.apn=le.packageName:Je(y,"operation-not-supported-in-this-environment"),le.displayName&&(Mt.appDisplayName=le.displayName),Mt.sessionId=Ue,$a(y,f,d.type,void 0,null!==(A=d.eventId)&&void 0!==A?A:void 0,Mt)})).apply(this,arguments)}function xu(){return(xu=(0,u.Z)(function*(y){const{BuildInfo:d}=ta(),f={};Cr()?f.iosBundleId=d.packageName:ht()?f.androidPackageName=d.packageName:Je(y,"operation-not-supported-in-this-environment"),yield Bl(y,f)})).apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(y,d,f){const{cordova:A}=ta();let le=()=>{};try{yield new Promise((Ue,Mt)=>{let an=null;function Hn(){var kr;Ue();const Fs=null===(kr=A.plugins.browsertab)||void 0===kr?void 0:kr.close;"function"==typeof Fs&&Fs(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function ur(){an||(an=window.setTimeout(()=>{Mt(xe(y,"redirect-cancelled-by-user"))},2e3))}function Gr(){"visible"===(null==document?void 0:document.visibilityState)&&ur()}d.addPassiveListener(Hn),document.addEventListener("resume",ur,!1),ht()&&document.addEventListener("visibilitychange",Gr,!1),le=()=>{d.removePassiveListener(Hn),document.removeEventListener("resume",ur,!1),document.removeEventListener("visibilitychange",Gr,!1),an&&window.clearTimeout(an)}})}finally{le()}})).apply(this,arguments)}function zc(y){return jl.apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(y){const d=ll(y),f=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(f)).map(le=>le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ll(y){if(De(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const d=new ArrayBuffer(y.length),f=new Uint8Array(d);for(let A=0;A<y.length;A++)f[A]=y.charCodeAt(A);return f}!function ec(y){(0,te._registerComponent)(new Re.wA("auth",(d,{options:f})=>{const A=d.getProvider("app").getImmediate(),le=d.getProvider("heartbeat"),{apiKey:Ue,authDomain:Mt}=A.options;return((an,Hn)=>{ee(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:an.name}),ee(!(null==Mt?void 0:Mt.includes(":")),"argument-error",{appName:an.name});const ur={apiKey:Ue,authDomain:Mt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gi(y)},Gr=new Rn(an,Hn,ur);return function ut(y,d){const f=(null==d?void 0:d.persistence)||[],A=(Array.isArray(f)?f:[f]).map(Xe);(null==d?void 0:d.errorMap)&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(A,null==d?void 0:d.popupRedirectResolver)}(Gr,f),Gr})(A,le)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,f,A)=>{d.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Re.wA("auth-internal",d=>{const f=Yn(d.getProvider("auth").getImmediate());return new ha(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Xu,"0.20.5",function eh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,te.registerVersion)(Xu,"0.20.5","esm2017")}("Browser");class Bf extends Jo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(d)),super.onEvent(d)}initialized(){var d=this;return(0,u.Z)(function*(){yield d.initPromise})()}}function Cl(y){return nc.apply(this,arguments)}function nc(){return(nc=(0,u.Z)(function*(y){const d=yield $l()._get(rc(y));return d&&(yield $l()._remove(rc(y))),d})).apply(this,arguments)}function Hl(){const y=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const A=Math.floor(Math.random()*d.length);y.push(d.charAt(A))}return y.join("")}function $l(){return Xe(Zs)}function rc(y){return T("authEvent",y.config.apiKey,y.name)}function ps(y){if(!(null==y?void 0:y.includes("?")))return{};const[d,...f]=y.split("?");return(0,x.zd)(f.join("?"))}function Wc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}function Wl(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Kl(y=(0,x.z$)()){return!("file:"!==Wl()&&"ionic:"!==Wl()&&"capacitor:"!==Wl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function sc(){try{const y=self.localStorage,d=ho();if(y)return y.setItem(d,"1"),y.removeItem(d),!function Ni(y=(0,x.z$)()){return function To(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ks(y=(0,x.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,x.hl)()}catch(y){return eo()&&(0,x.hl)()}return!1}function eo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Lo(){return(function Uf(){return"http:"===Wl()||"https:"===Wl()}()||(0,x.ru)()||Kl())&&!function Il(){return(0,x.b$)()||(0,x.UG)()}()&&sc()&&!eo()}function oc(){return Kl()&&"undefined"!=typeof document}function ac(){return(ac=(0,u.Z)(function*(){return!!oc()&&new Promise(y=>{const d=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),y(!0)})})})).apply(this,arguments)}const Vo={LOCAL:"local",NONE:"none",SESSION:"session"},So=ee,Kc="persistence";function qc(y){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,u.Z)(function*(y){yield y._initializationPromise;const d=ah(),f=T(Kc,y.config.apiKey,y.name);d&&d.setItem(f,y._getPersistence())})).apply(this,arguments)}function ah(){var y;try{return(null===(y=function ql(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(d){return null}}const lc=ee;class Uo{constructor(){this.browserResolver=Xe(class Xd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Js,this._completeRedirectFn=No,this._overrideRedirectResult=U}_openPopup(d,f,A,le){var Ue=this;return(0,u.Z)(function*(){var Mt;De(null===(Mt=Ue.eventManagers[d._key()])||void 0===Mt?void 0:Mt.manager,"_initialize() not called before _openPopup()");const an=$a(d,f,A,Xt(),le);return function kf(y,d,f,A=500,le=600){const Ue=Math.max((window.screen.availHeight-le)/2,0).toString(),Mt=Math.max((window.screen.availWidth-A)/2,0).toString();let an="";const Hn=Object.assign(Object.assign({},Qd),{width:A.toString(),height:le.toString(),top:Ue,left:Mt}),ur=(0,x.z$)().toLowerCase();f&&(an=rt(ur)?"_blank":f),et(ur)&&(d=d||"http://localhost",Hn.scrollbars="yes");const Gr=Object.entries(Hn).reduce((Fs,[Go,Mu])=>`${Fs}${Go}=${Mu},`,"");if(function Ai(y=(0,x.z$)()){var d;return Cr(y)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(ur)&&"_self"!==an)return function ol(y,d){const f=document.createElement("a");f.href=y,f.target=d;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(A)}(d||"",an),new Jd(null);const kr=window.open(d||"",an,Gr);ee(kr,y,"popup-blocked");try{kr.focus()}catch(Fs){}return new Jd(kr)}(d,an,ho())})()}_openRedirect(d,f,A,le){var Ue=this;return(0,u.Z)(function*(){return yield Ue._originValidation(d),function Ta(y){Wi().location.href=y}($a(d,f,A,Xt(),le)),new Promise(()=>{})})()}_initialize(d){const f=d._key();if(this.eventManagers[f]){const{manager:le,promise:Ue}=this.eventManagers[f];return le?Promise.resolve(le):(De(Ue,"If manager is not set, promise should be"),Ue)}const A=this.initAndGetManager(d);return this.eventManagers[f]={promise:A},A.catch(()=>{delete this.eventManagers[f]}),A}initAndGetManager(d){var f=this;return(0,u.Z)(function*(){const A=yield function zs(y){return Au.apply(this,arguments)}(d),le=new Jo(d);return A.register("authEvent",Ue=>(ee(null==Ue?void 0:Ue.authEvent,d,"invalid-auth-event"),{status:le.onEvent(Ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[d._key()]={manager:le},f.iframes[d._key()]=A,le})()}_isIframeWebStorageSupported(d,f){this.iframes[d._key()].send(Ea,{type:Ea},le=>{var Ue;const Mt=null===(Ue=null==le?void 0:le[0])||void 0===Ue?void 0:Ue[Ea];void 0!==Mt&&f(!!Mt),Je(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Kd(y){return jc.apply(this,arguments)}(d)),this.originValidationPromises[f]}get _shouldInitProactively(){return fi()||Ge()||Cr()}}),this.cordovaResolver=Xe(class Vf{constructor(){this._redirectPersistence=Js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=No,this._overrideRedirectResult=U}_initialize(d){var f=this;return(0,u.Z)(function*(){const A=d._key();let le=f.eventManagers.get(A);return le||(le=new Bf(d),f.eventManagers.set(A,le),f.attachCallbackListeners(d,le)),le})()}_openPopup(d){Je(d,"operation-not-supported-in-this-environment")}_openRedirect(d,f,A,le){var Ue=this;return(0,u.Z)(function*(){!function Vg(y){var d,f,A,le,Ue,Mt,an,Hn,ur,Gr;const kr=ta();ee("function"==typeof(null===(d=null==kr?void 0:kr.universalLinks)||void 0===d?void 0:d.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(f=null==kr?void 0:kr.BuildInfo)||void 0===f?void 0:f.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(Ue=null===(le=null===(A=null==kr?void 0:kr.cordova)||void 0===A?void 0:A.plugins)||void 0===le?void 0:le.browsertab)||void 0===Ue?void 0:Ue.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Hn=null===(an=null===(Mt=null==kr?void 0:kr.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===an?void 0:an.browsertab)||void 0===Hn?void 0:Hn.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Gr=null===(ur=null==kr?void 0:kr.cordova)||void 0===ur?void 0:ur.InAppBrowser)||void 0===Gr?void 0:Gr.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Mt=yield Ue._initialize(d);yield Mt.initialized(),Mt.resetRedirect(),function il(){cs.clear()}(),yield Ue._originValidation(d);const an=function ul(y,d,f=null){return{type:d,eventId:f,urlResponse:null,sessionId:Hl(),postBody:null,tenantId:y.tenantId,error:xe(y,"no-auth-event")}}(d,A,le);yield function nh(y,d){return $l()._set(rc(y),d)}(d,an);const Hn=yield function ba(y,d,f){return al.apply(this,arguments)}(d,an,f),ur=yield function $c(y){const{cordova:d}=ta();return new Promise(f=>{d.plugins.browsertab.isAvailable(A=>{let le=null;A?d.plugins.browsertab.openUrl(y):le=d.InAppBrowser.open(y,function ai(y=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(le)})})}(Hn);return function Lf(y,d,f){return Tu.apply(this,arguments)}(d,Mt,ur)})()}_isIframeWebStorageSupported(d,f){throw new Error("Method not implemented.")}_originValidation(d){const f=d._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function th(y){return xu.apply(this,arguments)}(d)),this.originValidationPromises[f]}attachCallbackListeners(d,f){const{universalLinks:A,handleOpenURL:le,BuildInfo:Ue}=ta(),Mt=setTimeout((0,u.Z)(function*(){yield Cl(d),f.onEvent(Wc())}),500),an=function(){var Gr=(0,u.Z)(function*(kr){clearTimeout(Mt);const Fs=yield Cl(d);let Go=null;Fs&&(null==kr?void 0:kr.url)&&(Go=function rh(y,d){var f,A;const le=function ic(y){const d=ps(y),f=d.link?decodeURIComponent(d.link):void 0,A=ps(f).link,le=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return ps(le).link||le||A||f||y}(d);if(le.includes("/__/auth/callback")){const Ue=ps(le),Mt=Ue.firebaseError?function _s(y){try{return JSON.parse(y)}catch(d){return null}}(decodeURIComponent(Ue.firebaseError)):null,an=null===(A=null===(f=null==Mt?void 0:Mt.code)||void 0===f?void 0:f.split("auth/"))||void 0===A?void 0:A[1],Hn=an?xe(an):null;return Hn?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Hn,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:le,postBody:null}}return null}(Fs,kr.url)),f.onEvent(Go||Wc())});return function(Fs){return Gr.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,an);const Hn=le,ur=`${Ue.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var Gr=(0,u.Z)(function*(kr){if(kr.toLowerCase().startsWith(ur)&&an({url:kr}),"function"==typeof Hn)try{Hn(kr)}catch(Fs){console.error(Fs)}});return function(kr){return Gr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Js,this._completeRedirectFn=No,this._overrideRedirectResult=U}_initialize(d){var f=this;return(0,u.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,f,A,le){var Ue=this;return(0,u.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openPopup(d,f,A,le)})()}_openRedirect(d,f,A,le){var Ue=this;return(0,u.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openRedirect(d,f,A,le)})()}_isIframeWebStorageSupported(d,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,f)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,u.Z)(function*(){if(d.underlyingResolver)return;const f=yield function Bo(){return ac.apply(this,arguments)}();d.underlyingResolver=f?d.cordovaResolver:d.browserResolver})()}}function Ql(y){return y.unwrap()}function Zl(y){return Qc(y)}function Qc(y){const{_tokenResponse:d}=y instanceof x.ZR?y.customData:y;if(!d)return null;if(!(y instanceof x.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return vo.credentialFromResult(y);const f=d.providerId;if(!f||"password"===f)return null;let A;switch(f){case"google.com":A=Jr;break;case"facebook.com":A=Rr;break;case"github.com":A=Ur;break;case"twitter.com":A=Is;break;default:const{oauthIdToken:le,oauthAccessToken:Ue,oauthTokenSecret:Mt,pendingToken:an,nonce:Hn}=d;return Ue||Mt||le||an?an?f.startsWith("saml.")?Bi._create(f,an):kt._fromParams({providerId:f,signInMethod:f,pendingToken:an,idToken:le,accessToken:Ue}):new Dr(f).credential({idToken:le,accessToken:Ue,rawNonce:Hn}):null}return y instanceof x.ZR?A.credentialFromError(y):A.credentialFromResult(y)}function jo(y,d){return d.catch(f=>{throw f instanceof x.ZR&&function lh(y,d){var f,A;const le=null===(f=d.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(A=d)||void 0===A?void 0:A.code))d.resolver=new uh(y,function er(y,d){var f;const A=(0,x.m9)(y),le=d;return ee(d.customData.operationType,A,"argument-error"),ee(null===(f=le.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,A,"argument-error"),sr._fromError(A,le)}(y,d));else if(le){const Ue=Qc(d),Mt=d;Ue&&(Mt.credential=Ue,Mt.tenantId=le.tenantId||void 0,Mt.email=le.email||void 0,Mt.phoneNumber=le.phoneNumber||void 0)}}(y,f),f}).then(f=>{const le=f.user;return{operationType:f.operationType,credential:Zl(f),additionalUserInfo:xs(f),user:Wa.getOrCreate(le)}})}function cc(y,d){return dc.apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(y,d){const f=yield d;return{verificationId:f.verificationId,confirm:A=>jo(y,f.confirm(A))}})).apply(this,arguments)}class uh{constructor(d,f){this.resolver=f,this.auth=function uc(y){return y.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return jo(Ql(this.auth),this.resolver.resolveSignIn(d))}}class Wa{constructor(d){this._delegate=d,this.multiFactor=function Bs(y){const d=(0,x.m9)(y);return fs.has(d)||fs.set(d,gs._fromUser(d)),fs.get(d)}(d)}static getOrCreate(d){return Wa.USER_MAP.has(d)||Wa.USER_MAP.set(d,new Wa(d)),Wa.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var f=this;return(0,u.Z)(function*(){return jo(f.auth,lr(f._delegate,d))})()}linkWithPhoneNumber(d,f){var A=this;return(0,u.Z)(function*(){return cc(A.auth,function Uc(y,d,f){return la.apply(this,arguments)}(A._delegate,d,f))})()}linkWithPopup(d){var f=this;return(0,u.Z)(function*(){return jo(f.auth,function Xs(y,d,f){return Ji.apply(this,arguments)}(f._delegate,d,Uo))})()}linkWithRedirect(d){var f=this;return(0,u.Z)(function*(){return yield qc(Yn(f.auth)),function ti(y,d,f){return function Wr(y,d,f){return _r.apply(this,arguments)}(y,d,f)}(f._delegate,d,Uo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var f=this;return(0,u.Z)(function*(){return jo(f.auth,Tr(f._delegate,d))})()}reauthenticateWithPhoneNumber(d,f){return cc(this.auth,function yo(y,d,f){return qt.apply(this,arguments)}(this._delegate,d,f))}reauthenticateWithPopup(d){return jo(this.auth,function os(y,d,f){return ja.apply(this,arguments)}(this._delegate,d,Uo))}reauthenticateWithRedirect(d){var f=this;return(0,u.Z)(function*(){return yield qc(Yn(f.auth)),function yn(y,d,f){return function nr(y,d,f){return Ar.apply(this,arguments)}(y,d,f)}(f._delegate,d,Uo)})()}sendEmailVerification(d){return function D(y,d){return G.apply(this,arguments)}(this._delegate,d)}unlink(d){var f=this;return(0,u.Z)(function*(){return yield function tn(y,d){return Yt.apply(this,arguments)}(f._delegate,d),f})()}updateEmail(d){return function Xn(y,d){return Mr((0,x.m9)(y),d,null)}(this._delegate,d)}updatePassword(d){return function pr(y,d){return Mr((0,x.m9)(y),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function yl(y,d){return ua.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function Lt(y,d){return fn.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,f){return function Ie(y,d,f){return Qe.apply(this,arguments)}(this._delegate,d,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wa.USER_MAP=new WeakMap;const Su=ee;let Jl=(()=>{class y{constructor(f,A){if(this.app=f,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:le}=f.options;Su(le,"invalid-api-key",{appName:f.name}),Su(le,"invalid-api-key",{appName:f.name});const Ue="undefined"!=typeof window?Uo:void 0;this._delegate=A.initialize({options:{persistence:ch(le,f.name),popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(de),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,A){!function Ei(y,d,f){const A=Yn(y);ee(A._canInitEmulator,A,"emulator-config-failed"),ee(/^https?:\/\//.test(d),A,"invalid-emulator-scheme");const le=!!(null==f?void 0:f.disableWarnings),Ue=mi(d),{host:Mt,port:an}=function ii(y){const d=mi(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!f)return{host:"",port:null};const A=f[2].split("@").pop()||"",le=/^(\[[^\]]+\])(:|$)/.exec(A);if(le){const Ue=le[1];return{host:Ue,port:ci(A.substr(Ue.length+1))}}{const[Ue,Mt]=A.split(":");return{host:Ue,port:ci(Mt)}}}(d);A.config.emulator={url:`${Ue}//${Mt}${null===an?"":`:${an}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Mt,port:an,protocol:Ue.replace(":",""),options:Object.freeze({disableWarnings:le})}),le||function Hr(){function y(){const d=document.createElement("p"),f=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,A)}applyActionCode(f){return function gn(y,d){return ri.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Wo(this._delegate,f)}confirmPasswordReset(f,A){return function Vi(y,d,f){return Gs.apply(this,arguments)}(this._delegate,f,A)}createUserWithEmailAndPassword(f,A){var le=this;return(0,u.Z)(function*(){return jo(le._delegate,function Ns(y,d,f){return Do.apply(this,arguments)}(le._delegate,f,A))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ee(y,d){return v.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function ao(y,d){const f=Nn.parseLink(d);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,u.Z)(function*(){Su(Lo(),f._delegate,"operation-not-supported-in-this-environment");const A=yield function Ps(y,d){return As.apply(this,arguments)}(f._delegate,Uo);return A?jo(f._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function sh(y,d){Yn(y)._logFramework(d)}(this._delegate,f)}onAuthStateChanged(f,A,le){const{next:Ue,error:Mt,complete:an}=Zc(f,A,le);return this._delegate.onAuthStateChanged(Ue,Mt,an)}onIdTokenChanged(f,A,le){const{next:Ue,error:Mt,complete:an}=Zc(f,A,le);return this._delegate.onIdTokenChanged(Ue,Mt,an)}sendSignInLinkToEmail(f,A){return function Ja(y,d,f){return Ko.apply(this,arguments)}(this._delegate,f,A)}sendPasswordResetEmail(f,A){return function li(y,d,f){return hs.apply(this,arguments)}(this._delegate,f,A||void 0)}setPersistence(f){var A=this;return(0,u.Z)(function*(){let le;switch(function Yl(y,d){So(Object.values(Vo).includes(d),y,"invalid-persistence-type"),(0,x.b$)()?So(d!==Vo.SESSION,y,"unsupported-persistence-type"):(0,x.UG)()?So(d===Vo.NONE,y,"unsupported-persistence-type"):eo()?So(d===Vo.NONE||d===Vo.LOCAL&&(0,x.hl)(),y,"unsupported-persistence-type"):So(d===Vo.NONE||sc(),y,"unsupported-persistence-type")}(A._delegate,f),f){case Vo.SESSION:le=Js;break;case Vo.LOCAL:le=(yield Xe(Oa)._isAvailable())?Oa:Zs;break;case Vo.NONE:le=Rt;break;default:return Je("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(le)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return jo(this._delegate,function X(y){return ge.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return jo(this._delegate,tr(this._delegate,f))}signInWithCustomToken(f){return jo(this._delegate,function j(y,d){return P.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,A){return jo(this._delegate,function ia(y,d,f){return tr((0,x.m9)(y),wr.credential(d,f))}(this._delegate,f,A))}signInWithEmailLink(f,A){return jo(this._delegate,function go(y,d,f){return rs.apply(this,arguments)}(this._delegate,f,A))}signInWithPhoneNumber(f,A){return cc(this._delegate,function Io(y,d,f){return Qo.apply(this,arguments)}(this._delegate,f,A))}signInWithPopup(f){var A=this;return(0,u.Z)(function*(){return Su(Lo(),A._delegate,"operation-not-supported-in-this-environment"),jo(A._delegate,function Ra(y,d,f){return Ll.apply(this,arguments)}(A._delegate,f,Uo))})()}signInWithRedirect(f){var A=this;return(0,u.Z)(function*(){return Su(Lo(),A._delegate,"operation-not-supported-in-this-environment"),yield qc(A._delegate),function pt(y,d,f){return function Pt(y,d,f){return en.apply(this,arguments)}(y,d,f)}(A._delegate,f,Uo)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Po(y,d){return oo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Vo,y})();function Zc(y,d,f){let A=y;"function"!=typeof y&&({next:A,error:d,complete:f}=y);const le=A;return{next:Mt=>le(Mt&&Wa.getOrCreate(Mt)),error:d,complete:f}}function ch(y,d){const f=function di(y,d){const f=ah();if(!f)return[];const A=T(Kc,y,d);switch(f.getItem(A)){case Vo.NONE:return[Rt];case Vo.LOCAL:return[Oa,Js];case Vo.SESSION:return[Js];default:return[]}}(y,d);if("undefined"!=typeof self&&!f.includes(Oa)&&f.push(Oa),"undefined"!=typeof window)for(const A of[Zs,Js])f.includes(A)||f.push(A);return f.includes(Rt)||f.push(Rt),f}class Ws{constructor(){this.providerId="phone",this._delegate=new vo(Ql(_.Z.auth()))}static credential(d,f){return vo.credential(d,f)}verifyPhoneNumber(d,f){return this._delegate.verifyPhoneNumber(d,f)}unwrap(){return this._delegate}}Ws.PHONE_SIGN_IN_METHOD=vo.PHONE_SIGN_IN_METHOD,Ws.PROVIDER_ID=vo.PROVIDER_ID;const Jc=ee;class dh{constructor(d,f,A=_.Z.app()){var le;Jc(null===(le=A.options)||void 0===le?void 0:le.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Yo(d,f,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function to(y){y.INTERNAL.registerComponent(new Re.wA("auth-compat",d=>{const f=d.getProvider("app-compat").getImmediate(),A=d.getProvider("auth");return new Jl(f,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wr,FacebookAuthProvider:Rr,GithubAuthProvider:Ur,GoogleAuthProvider:Jr,OAuthProvider:Dr,SAMLAuthProvider:vi,PhoneAuthProvider:Ws,PhoneMultiFactorGenerator:Ju,RecaptchaVerifier:dh,TwitterAuthProvider:Is,Auth:Jl,AuthCredential:Si,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(_.Z)},9769:(Zt,nt,m)=>{m.d(nt,{dP:()=>ut,re:()=>mn});var u=m(9428),_=m(3119);function x(){}var _e,te=function(){function _t($t,zt){void 0===$t&&($t=1/0),void 0===zt&&(zt=x),this.max=$t,this.dispose=zt,this.map=new Map,this.newest=null,this.oldest=null}return _t.prototype.has=function($t){return this.map.has($t)},_t.prototype.get=function($t){var zt=this.getNode($t);return zt&&zt.value},_t.prototype.getNode=function($t){var zt=this.map.get($t);if(zt&&zt!==this.newest){var ln=zt.older,_n=zt.newer;_n&&(_n.older=ln),ln&&(ln.newer=_n),zt.older=this.newest,zt.older.newer=zt,zt.newer=null,this.newest=zt,zt===this.oldest&&(this.oldest=_n)}return zt},_t.prototype.set=function($t,zt){var ln=this.getNode($t);return ln?ln.value=zt:(ln={key:$t,value:zt,newer:null,older:this.newest},this.newest&&(this.newest.newer=ln),this.newest=ln,this.oldest=this.oldest||ln,this.map.set($t,ln),ln.value)},_t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},_t.prototype.delete=function($t){var zt=this.map.get($t);return!!zt&&(zt===this.newest&&(this.newest=zt.older),zt===this.oldest&&(this.oldest=zt.newer),zt.newer&&(zt.newer.older=zt.older),zt.older&&(zt.older.newer=zt.newer),this.map.delete($t),this.dispose(zt.value,$t),!0)},_t}(),he=new _.g7,Re=Object.prototype.hasOwnProperty,ve=void 0===(_e=Array.from)?function(_t){var $t=[];return _t.forEach(function(zt){return $t.push(zt)}),$t}:_e;function be(_t){var $t=_t.unsubscribe;"function"==typeof $t&&(_t.unsubscribe=void 0,$t())}var H=[];function ue(_t,$t){if(!_t)throw new Error($t||"assertion failure")}function Me(_t){switch(_t.length){case 0:throw new Error("unknown value");case 1:return _t[0];case 2:throw _t[1]}}var $e=function(){function _t($t){this.fn=$t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++_t.count}return _t.prototype.peek=function(){if(1===this.value.length&&!It(this))return Fe(this),this.value[0]},_t.prototype.recompute=function($t){return ue(!this.recomputing,"already recomputing"),Fe(this),It(this)?function Ye(_t,$t){return De(_t),he.withValue(_t,Ne,[_t,$t]),function Xe(_t,$t){if("function"==typeof _t.subscribe)try{be(_t),_t.unsubscribe=_t.subscribe.apply(null,$t)}catch(zt){return _t.setDirty(),!1}return!0}(_t,$t)&&function Je(_t){_t.dirty=!1,!It(_t)&&je(_t)}(_t),Me(_t.value)}(this,$t):Me(this.value)},_t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,xe(this),be(this))},_t.prototype.dispose=function(){var $t=this;this.setDirty(),De(this),st(this,function(zt,ln){zt.setDirty(),He(zt,$t)})},_t.prototype.forget=function(){this.dispose()},_t.prototype.dependOn=function($t){$t.add(this),this.deps||(this.deps=H.pop()||new Set),this.deps.add($t)},_t.prototype.forgetDeps=function(){var $t=this;this.deps&&(ve(this.deps).forEach(function(zt){return zt.delete($t)}),this.deps.clear(),H.push(this.deps),this.deps=null)},_t.count=0,_t}();function Fe(_t){var $t=he.getValue();if($t)return _t.parents.add($t),$t.childValues.has(_t)||$t.childValues.set(_t,[]),It(_t)?Ke($t,_t):ee($t,_t),$t}function Ne(_t,$t){_t.recomputing=!0,_t.value.length=0;try{_t.value[0]=_t.fn.apply(null,$t)}catch(zt){_t.value[1]=zt}_t.recomputing=!1}function It(_t){return _t.dirty||!(!_t.dirtyChildren||!_t.dirtyChildren.size)}function xe(_t){st(_t,Ke)}function je(_t){st(_t,ee)}function st(_t,$t){var zt=_t.parents.size;if(zt)for(var ln=ve(_t.parents),_n=0;_n<zt;++_n)$t(ln[_n],_t)}function Ke(_t,$t){ue(_t.childValues.has($t)),ue(It($t));var zt=!It(_t);if(_t.dirtyChildren){if(_t.dirtyChildren.has($t))return}else _t.dirtyChildren=H.pop()||new Set;_t.dirtyChildren.add($t),zt&&xe(_t)}function ee(_t,$t){ue(_t.childValues.has($t)),ue(!It($t));var zt=_t.childValues.get($t);0===zt.length?_t.childValues.set($t,function de(_t){return _t.slice(0)}($t.value)):function Pe(_t,$t){var zt=_t.length;return zt>0&&zt===$t.length&&_t[zt-1]===$t[zt-1]}(zt,$t.value)||_t.setDirty(),re(_t,$t),!It(_t)&&je(_t)}function re(_t,$t){var zt=_t.dirtyChildren;zt&&(zt.delete($t),0===zt.size&&(H.length<100&&H.push(zt),_t.dirtyChildren=null))}function De(_t){_t.childValues.size>0&&_t.childValues.forEach(function($t,zt){He(_t,zt)}),_t.forgetDeps(),ue(null===_t.dirtyChildren)}function He(_t,$t){$t.parents.delete(_t),_t.childValues.delete($t),re(_t,$t)}var dt={setDirty:!0,dispose:!0,forget:!0};function ut(_t){var $t=new Map,zt=_t&&_t.subscribe;function ln(_n){var xt=he.getValue();if(xt){var St=$t.get(_n);St||$t.set(_n,St=new Set),xt.dependOn(St),"function"==typeof zt&&(be(St),St.unsubscribe=zt(_n))}}return ln.dirty=function(xt,St){var Gt=$t.get(xt);if(Gt){var Sn=St&&Re.call(dt,St)?St:"setDirty";ve(Gt).forEach(function(wn){return wn[Sn]()}),$t.delete(xt),be(Gt)}},ln}function Xt(){var _t=new u.B("function"==typeof WeakMap);return function(){return _t.lookupArray(arguments)}}Xt();var An=new Set;function mn(_t,$t){void 0===$t&&($t=Object.create(null));var zt=new te($t.max||Math.pow(2,16),function(wn){return wn.dispose()}),ln=$t.keyArgs,_n=$t.makeCacheKey||Xt(),xt=function(){var wn=_n.apply(null,ln?ln.apply(null,arguments):arguments);if(void 0===wn)return _t.apply(null,arguments);var Vn=zt.get(wn);Vn||(zt.set(wn,Vn=new $e(_t)),Vn.subscribe=$t.subscribe,Vn.forget=function(){return zt.delete(wn)});var fr=Vn.recompute(Array.prototype.slice.call(arguments));return zt.set(wn,Vn),An.add(zt),he.hasValue()||(An.forEach(function(Kn){return Kn.clean()}),An.clear()),fr};function St(wn){var Vn=zt.get(wn);Vn&&Vn.setDirty()}function Gt(wn){var Vn=zt.get(wn);if(Vn)return Vn.peek()}function Sn(wn){return zt.delete(wn)}return Object.defineProperty(xt,"size",{get:function(){return zt.map.size},configurable:!1,enumerable:!1}),xt.dirtyKey=St,xt.dirty=function(){St(_n.apply(null,arguments))},xt.peekKey=Gt,xt.peek=function(){return Gt(_n.apply(null,arguments))},xt.forgetKey=Sn,xt.forget=function(){return Sn(_n.apply(null,arguments))},xt.makeCacheKey=_n,xt.getKey=ln?function(){return _n.apply(null,ln.apply(null,arguments))}:_n,Object.freeze(xt)}},1135:(Zt,nt,m)=>{m.d(nt,{X:()=>_});var u=m(7579);class _ extends u.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const he=super._subscribe(te);return!he.closed&&te.next(this._value),he}getValue(){const{hasError:te,thrownError:he,_value:_e}=this;if(te)throw he;return this._throwIfClosed(),_e}next(te){super.next(this._value=te)}}},8306:(Zt,nt,m)=>{m.d(nt,{y:()=>H});var u=m(930),_=m(727),x=m(8822),te=m(4671);var Re=m(2416),ve=m(576),be=m(2806);let H=(()=>{class Me{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Fe=new Me;return Fe.source=this,Fe.operator=$e,Fe}subscribe($e,Fe,Ye){const Ne=function Pe(Me){return Me&&Me instanceof u.Lv||function ue(Me){return Me&&(0,ve.m)(Me.next)&&(0,ve.m)(Me.error)&&(0,ve.m)(Me.complete)}(Me)&&(0,_.Nn)(Me)}($e)?$e:new u.Hp($e,Fe,Ye);return(0,be.x)(()=>{const{operator:It,source:Je}=this;Ne.add(It?It.call(Ne,Je):Je?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe($e){try{return this._subscribe($e)}catch(Fe){$e.error(Fe)}}forEach($e,Fe){return new(Fe=ie(Fe))((Ye,Ne)=>{const It=new u.Hp({next:Je=>{try{$e(Je)}catch(xe){Ne(xe),It.unsubscribe()}},error:Ne,complete:Ye});this.subscribe(It)})}_subscribe($e){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe($e)}[x.L](){return this}pipe(...$e){return function _e(Me){return 0===Me.length?te.y:1===Me.length?Me[0]:function($e){return Me.reduce((Fe,Ye)=>Ye(Fe),$e)}}($e)(this)}toPromise($e){return new($e=ie($e))((Fe,Ye)=>{let Ne;this.subscribe(It=>Ne=It,It=>Ye(It),()=>Fe(Ne))})}}return Me.create=de=>new Me(de),Me})();function ie(Me){var de;return null!==(de=null!=Me?Me:Re.v.Promise)&&void 0!==de?de:Promise}},4707:(Zt,nt,m)=>{m.d(nt,{t:()=>x});var u=m(7579),_=m(6063);class x extends u.x{constructor(he=1/0,_e=1/0,Re=_.l){super(),this._bufferSize=he,this._windowTime=_e,this._timestampProvider=Re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_e===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,_e)}next(he){const{isStopped:_e,_buffer:Re,_infiniteTimeWindow:ve,_timestampProvider:be,_windowTime:H}=this;_e||(Re.push(he),!ve&&Re.push(be.now()+H)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const _e=this._innerSubscribe(he),{_infiniteTimeWindow:Re,_buffer:ve}=this,be=ve.slice();for(let H=0;H<be.length&&!he.closed;H+=Re?1:2)he.next(be[H]);return this._checkFinalizedStatuses(he),_e}_trimBuffer(){const{_bufferSize:he,_timestampProvider:_e,_buffer:Re,_infiniteTimeWindow:ve}=this,be=(ve?1:2)*he;if(he<1/0&&be<Re.length&&Re.splice(0,Re.length-be),!ve){const H=_e.now();let ie=0;for(let ue=1;ue<Re.length&&Re[ue]<=H;ue+=2)ie=ue;ie&&Re.splice(0,ie+1)}}}},7579:(Zt,nt,m)=>{m.d(nt,{x:()=>Re});var u=m(8306),_=m(727);const te=(0,m(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=m(8737),_e=m(2806);let Re=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ue=new ve(this,this);return ue.operator=ie,ue}_throwIfClosed(){if(this.closed)throw new te}next(ie){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(ie)}})}error(ie){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ue}=this;for(;ue.length;)ue.shift().error(ie)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ue,isStopped:Pe,observers:Me}=this;return ue||Pe?_.Lc:(this.currentObservers=null,Me.push(ie),new _.w0(()=>{this.currentObservers=null,(0,he.P)(Me,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ue,thrownError:Pe,isStopped:Me}=this;ue?ie.error(Pe):Me&&ie.complete()}asObservable(){const ie=new u.y;return ie.source=this,ie}}return be.create=(H,ie)=>new ve(H,ie),be})();class ve extends Re{constructor(H,ie){super(),this.destination=H,this.source=ie}next(H){var ie,ue;null===(ue=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ue||ue.call(ie,H)}error(H){var ie,ue;null===(ue=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ue||ue.call(ie,H)}complete(){var H,ie;null===(ie=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===ie||ie.call(H)}_subscribe(H){var ie,ue;return null!==(ue=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(H))&&void 0!==ue?ue:_.Lc}}},930:(Zt,nt,m)=>{m.d(nt,{Hp:()=>$e,Lv:()=>ue});var u=m(576),_=m(727),x=m(2416),te=m(7849),he=m(5032);const _e=be("C",void 0,void 0);function be(Je,xe,je){return{kind:Je,value:xe,error:je}}var H=m(3410),ie=m(2806);class ue extends _.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,_.Nn)(xe)&&xe.add(this)):this.destination=It}static create(xe,je,st){return new $e(xe,je,st)}next(xe){this.isStopped?Ne(function ve(Je){return be("N",Je,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Ne(function Re(Je){return be("E",void 0,Je)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Ne(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Me(Je,xe){return Pe.call(Je,xe)}class de{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:je}=this;if(je.next)try{je.next(xe)}catch(st){Fe(st)}}error(xe){const{partialObserver:je}=this;if(je.error)try{je.error(xe)}catch(st){Fe(st)}else Fe(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(je){Fe(je)}}}class $e extends ue{constructor(xe,je,st){let Ke;if(super(),(0,u.m)(xe)||!xe)Ke={next:null!=xe?xe:void 0,error:null!=je?je:void 0,complete:null!=st?st:void 0};else{let ee;this&&x.v.useDeprecatedNextContext?(ee=Object.create(xe),ee.unsubscribe=()=>this.unsubscribe(),Ke={next:xe.next&&Me(xe.next,ee),error:xe.error&&Me(xe.error,ee),complete:xe.complete&&Me(xe.complete,ee)}):Ke=xe}this.destination=new de(Ke)}}function Fe(Je){x.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Je):(0,te.h)(Je)}function Ne(Je,xe){const{onStoppedNotification:je}=x.v;je&&H.z.setTimeout(()=>je(Je,xe))}const It={closed:!0,next:he.Z,error:function Ye(Je){throw Je},complete:he.Z}},727:(Zt,nt,m)=>{m.d(nt,{Lc:()=>_e,w0:()=>he,Nn:()=>Re});var u=m(576);const x=(0,m(3888).d)(be=>function(ie){be(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ue,Pe)=>`${Pe+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var te=m(8737);class he{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Me of ie)Me.remove(this);else ie.remove(this);const{initialTeardown:ue}=this;if((0,u.m)(ue))try{ue()}catch(Me){H=Me instanceof x?Me.errors:[Me]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Me of Pe)try{ve(Me)}catch(de){H=null!=H?H:[],de instanceof x?H=[...H,...de.errors]:H.push(de)}}if(H)throw new x(H)}}add(H){var ie;if(H&&H!==this)if(this.closed)ve(H);else{if(H instanceof he){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(H)}}_hasParent(H){const{_parentage:ie}=this;return ie===H||Array.isArray(ie)&&ie.includes(H)}_addParent(H){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(H),ie):ie?[ie,H]:H}_removeParent(H){const{_parentage:ie}=this;ie===H?this._parentage=null:Array.isArray(ie)&&(0,te.P)(ie,H)}remove(H){const{_finalizers:ie}=this;ie&&(0,te.P)(ie,H),H instanceof he&&H._removeParent(this)}}he.EMPTY=(()=>{const be=new he;return be.closed=!0,be})();const _e=he.EMPTY;function Re(be){return be instanceof he||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function ve(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(Zt,nt,m)=>{m.d(nt,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Zt,nt,m)=>{m.d(nt,{c:()=>_e});var u=m(8306),_=m(727),x=m(8343),te=m(5403),he=m(4482);class _e extends u.y{constructor(ve,be){super(),this.source=ve,this.subjectFactory=be,this._subject=null,this._refCount=0,this._connection=null,(0,he.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new _.w0;const be=this.getSubject();ve.add(this.source.subscribe((0,te.x)(be,void 0,()=>{this._teardown(),be.complete()},H=>{this._teardown(),be.error(H)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=_.w0.EMPTY)}return ve}refCount(){return(0,x.x)()(this)}}},9841:(Zt,nt,m)=>{m.d(nt,{a:()=>H});var u=m(8306),_=m(4742),x=m(8996),te=m(4671),he=m(3268),_e=m(3269),Re=m(1810),ve=m(5403),be=m(9672);function H(...Pe){const Me=(0,_e.yG)(Pe),de=(0,_e.jO)(Pe),{args:$e,keys:Fe}=(0,_.D)(Pe);if(0===$e.length)return(0,x.D)([],Me);const Ye=new u.y(function ie(Pe,Me,de=te.y){return $e=>{ue(Me,()=>{const{length:Fe}=Pe,Ye=new Array(Fe);let Ne=Fe,It=Fe;for(let Je=0;Je<Fe;Je++)ue(Me,()=>{const xe=(0,x.D)(Pe[Je],Me);let je=!1;xe.subscribe((0,ve.x)($e,st=>{Ye[Je]=st,je||(je=!0,It--),It||$e.next(de(Ye.slice()))},()=>{--Ne||$e.complete()}))},$e)},$e)}}($e,Me,Fe?Ne=>(0,Re.n)(Fe,Ne):te.y));return de?Ye.pipe((0,he.Z)(de)):Ye}function ue(Pe,Me,de){Pe?(0,be.f)(de,Pe,Me):Me()}},7272:(Zt,nt,m)=>{m.d(nt,{z:()=>he});var u=m(8189),x=m(3269),te=m(8996);function he(..._e){return function _(){return(0,u.J)(1)}()((0,te.D)(_e,(0,x.yG)(_e)))}},9770:(Zt,nt,m)=>{m.d(nt,{P:()=>x});var u=m(8306),_=m(8421);function x(te){return new u.y(he=>{(0,_.Xf)(te()).subscribe(he)})}},515:(Zt,nt,m)=>{m.d(nt,{E:()=>_});const _=new(m(8306).y)(he=>he.complete())},4128:(Zt,nt,m)=>{m.d(nt,{D:()=>ve});var u=m(8306),_=m(4742),x=m(8421),te=m(3269),he=m(5403),_e=m(3268),Re=m(1810);function ve(...be){const H=(0,te.jO)(be),{args:ie,keys:ue}=(0,_.D)(be),Pe=new u.y(Me=>{const{length:de}=ie;if(!de)return void Me.complete();const $e=new Array(de);let Fe=de,Ye=de;for(let Ne=0;Ne<de;Ne++){let It=!1;(0,x.Xf)(ie[Ne]).subscribe((0,he.x)(Me,Je=>{It||(It=!0,Ye--),$e[Ne]=Je},()=>Fe--,void 0,()=>{(!Fe||!It)&&(Ye||Me.next(ue?(0,Re.n)(ue,$e):$e),Me.complete())}))}});return H?Pe.pipe((0,_e.Z)(H)):Pe}},8996:(Zt,nt,m)=>{m.d(nt,{D:()=>xe});var u=m(8421),_=m(5363),x=m(9468),_e=m(8306),ve=m(2202),be=m(576),H=m(9672);function ue(je,st){if(!je)throw new Error("Iterable cannot be null");return new _e.y(Ke=>{(0,H.f)(Ke,st,()=>{const ee=je[Symbol.asyncIterator]();(0,H.f)(Ke,st,()=>{ee.next().then(re=>{re.done?Ke.complete():Ke.next(re.value)})},0,!0)})})}var Pe=m(3670),Me=m(8239),de=m(1144),$e=m(6495),Fe=m(2206),Ye=m(4532),Ne=m(3260);function xe(je,st){return st?function Je(je,st){if(null!=je){if((0,Pe.c)(je))return function te(je,st){return(0,u.Xf)(je).pipe((0,x.R)(st),(0,_.Q)(st))}(je,st);if((0,de.z)(je))return function Re(je,st){return new _e.y(Ke=>{let ee=0;return st.schedule(function(){ee===je.length?Ke.complete():(Ke.next(je[ee++]),Ke.closed||this.schedule())})})}(je,st);if((0,Me.t)(je))return function he(je,st){return(0,u.Xf)(je).pipe((0,x.R)(st),(0,_.Q)(st))}(je,st);if((0,Fe.D)(je))return ue(je,st);if((0,$e.T)(je))return function ie(je,st){return new _e.y(Ke=>{let ee;return(0,H.f)(Ke,st,()=>{ee=je[ve.h](),(0,H.f)(Ke,st,()=>{let re,De;try{({value:re,done:De}=ee.next())}catch(He){return void Ke.error(He)}De?Ke.complete():Ke.next(re)},0,!0)}),()=>(0,be.m)(null==ee?void 0:ee.return)&&ee.return()})}(je,st);if((0,Ne.L)(je))return function It(je,st){return ue((0,Ne.Q)(je),st)}(je,st)}throw(0,Ye.z)(je)}(je,st):(0,u.Xf)(je)}},4968:(Zt,nt,m)=>{m.d(nt,{R:()=>H});var u=m(8421),_=m(8306),x=m(5577),te=m(1144),he=m(576),_e=m(3268);const Re=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],be=["on","off"];function H(de,$e,Fe,Ye){if((0,he.m)(Fe)&&(Ye=Fe,Fe=void 0),Ye)return H(de,$e,Fe).pipe((0,_e.Z)(Ye));const[Ne,It]=function Me(de){return(0,he.m)(de.addEventListener)&&(0,he.m)(de.removeEventListener)}(de)?ve.map(Je=>xe=>de[Je]($e,xe,Fe)):function ue(de){return(0,he.m)(de.addListener)&&(0,he.m)(de.removeListener)}(de)?Re.map(ie(de,$e)):function Pe(de){return(0,he.m)(de.on)&&(0,he.m)(de.off)}(de)?be.map(ie(de,$e)):[];if(!Ne&&(0,te.z)(de))return(0,x.z)(Je=>H(Je,$e,Fe))((0,u.Xf)(de));if(!Ne)throw new TypeError("Invalid event target");return new _.y(Je=>{const xe=(...je)=>Je.next(1<je.length?je:je[0]);return Ne(xe),()=>It(xe)})}function ie(de,$e){return Fe=>Ye=>de[Fe]($e,Ye)}},8421:(Zt,nt,m)=>{m.d(nt,{Xf:()=>Pe});var u=m(655),_=m(1144),x=m(8239),te=m(8306),he=m(3670),_e=m(2206),Re=m(4532),ve=m(6495),be=m(3260),H=m(576),ie=m(7849),ue=m(8822);function Pe(Je){if(Je instanceof te.y)return Je;if(null!=Je){if((0,he.c)(Je))return function Me(Je){return new te.y(xe=>{const je=Je[ue.L]();if((0,H.m)(je.subscribe))return je.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,_.z)(Je))return function de(Je){return new te.y(xe=>{for(let je=0;je<Je.length&&!xe.closed;je++)xe.next(Je[je]);xe.complete()})}(Je);if((0,x.t)(Je))return function $e(Je){return new te.y(xe=>{Je.then(je=>{xe.closed||(xe.next(je),xe.complete())},je=>xe.error(je)).then(null,ie.h)})}(Je);if((0,_e.D)(Je))return Ye(Je);if((0,ve.T)(Je))return function Fe(Je){return new te.y(xe=>{for(const je of Je)if(xe.next(je),xe.closed)return;xe.complete()})}(Je);if((0,be.L)(Je))return function Ne(Je){return Ye((0,be.Q)(Je))}(Je)}throw(0,Re.z)(Je)}function Ye(Je){return new te.y(xe=>{(function It(Je,xe){var je,st,Ke,ee;return(0,u.mG)(this,void 0,void 0,function*(){try{for(je=(0,u.KL)(Je);!(st=yield je.next()).done;)if(xe.next(st.value),xe.closed)return}catch(re){Ke={error:re}}finally{try{st&&!st.done&&(ee=je.return)&&(yield ee.call(je))}finally{if(Ke)throw Ke.error}}xe.complete()})})(Je,xe).catch(je=>xe.error(je))})}},6451:(Zt,nt,m)=>{m.d(nt,{T:()=>_e});var u=m(8189),_=m(8421),x=m(515),te=m(3269),he=m(8996);function _e(...Re){const ve=(0,te.yG)(Re),be=(0,te._6)(Re,1/0),H=Re;return H.length?1===H.length?(0,_.Xf)(H[0]):(0,u.J)(be)((0,he.D)(H,ve)):x.E}},9646:(Zt,nt,m)=>{m.d(nt,{of:()=>x});var u=m(3269),_=m(8996);function x(...te){const he=(0,u.yG)(te);return(0,_.D)(te,he)}},2843:(Zt,nt,m)=>{m.d(nt,{_:()=>x});var u=m(8306),_=m(576);function x(te,he){const _e=(0,_.m)(te)?te:()=>te,Re=ve=>ve.error(_e());return new u.y(he?ve=>he.schedule(Re,0,ve):Re)}},5963:(Zt,nt,m)=>{m.d(nt,{H:()=>he});var u=m(8306),_=m(4986),x=m(3532);function he(_e=0,Re,ve=_.P){let be=-1;return null!=Re&&((0,x.K)(Re)?ve=Re:be=Re),new u.y(H=>{let ie=function te(_e){return _e instanceof Date&&!isNaN(_e)}(_e)?+_e-ve.now():_e;ie<0&&(ie=0);let ue=0;return ve.schedule(function(){H.closed||(H.next(ue++),0<=be?this.schedule(void 0,be):H.complete())},ie)})}},5403:(Zt,nt,m)=>{m.d(nt,{x:()=>_});var u=m(930);function _(te,he,_e,Re,ve){return new x(te,he,_e,Re,ve)}class x extends u.Lv{constructor(he,_e,Re,ve,be,H){super(he),this.onFinalize=be,this.shouldUnsubscribe=H,this._next=_e?function(ie){try{_e(ie)}catch(ue){he.error(ue)}}:super._next,this._error=ve?function(ie){try{ve(ie)}catch(ue){he.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},262:(Zt,nt,m)=>{m.d(nt,{K:()=>te});var u=m(8421),_=m(5403),x=m(4482);function te(he){return(0,x.e)((_e,Re)=>{let H,ve=null,be=!1;ve=_e.subscribe((0,_.x)(Re,void 0,void 0,ie=>{H=(0,u.Xf)(he(ie,te(he)(_e))),ve?(ve.unsubscribe(),ve=null,H.subscribe(Re)):be=!0})),be&&(ve.unsubscribe(),ve=null,H.subscribe(Re))})}},4351:(Zt,nt,m)=>{m.d(nt,{b:()=>x});var u=m(5577),_=m(576);function x(te,he){return(0,_.m)(he)?(0,u.z)(te,he,1):(0,u.z)(te,1)}},8372:(Zt,nt,m)=>{m.d(nt,{b:()=>te});var u=m(4986),_=m(4482),x=m(5403);function te(he,_e=u.z){return(0,_.e)((Re,ve)=>{let be=null,H=null,ie=null;const ue=()=>{if(be){be.unsubscribe(),be=null;const Me=H;H=null,ve.next(Me)}};function Pe(){const Me=ie+he,de=_e.now();if(de<Me)return be=this.schedule(void 0,Me-de),void ve.add(be);ue()}Re.subscribe((0,x.x)(ve,Me=>{H=Me,ie=_e.now(),be||(be=_e.schedule(Pe,he),ve.add(be))},()=>{ue(),ve.complete()},void 0,()=>{H=be=null}))})}},6590:(Zt,nt,m)=>{m.d(nt,{d:()=>x});var u=m(4482),_=m(5403);function x(te){return(0,u.e)((he,_e)=>{let Re=!1;he.subscribe((0,_.x)(_e,ve=>{Re=!0,_e.next(ve)},()=>{Re||_e.next(te),_e.complete()}))})}},4825:(Zt,nt,m)=>{m.d(nt,{g:()=>Pe});var u=m(4986),_=m(7272),x=m(5698),te=m(4482),he=m(5403),_e=m(5032),ve=m(4004),H=m(5577);function ie(Me,de){return de?$e=>(0,_.z)(de.pipe((0,x.q)(1),function Re(){return(0,te.e)((Me,de)=>{Me.subscribe((0,he.x)(de,_e.Z))})}()),$e.pipe(ie(Me))):(0,H.z)(($e,Fe)=>Me($e,Fe).pipe((0,x.q)(1),function be(Me){return(0,ve.U)(()=>Me)}($e)))}var ue=m(5963);function Pe(Me,de=u.z){const $e=(0,ue.H)(Me,de);return ie(()=>$e)}},1884:(Zt,nt,m)=>{m.d(nt,{x:()=>te});var u=m(4671),_=m(4482),x=m(5403);function te(_e,Re=u.y){return _e=null!=_e?_e:he,(0,_.e)((ve,be)=>{let H,ie=!0;ve.subscribe((0,x.x)(be,ue=>{const Pe=Re(ue);(ie||!_e(H,Pe))&&(ie=!1,H=Pe,be.next(ue))}))})}function he(_e,Re){return _e===Re}},9300:(Zt,nt,m)=>{m.d(nt,{h:()=>x});var u=m(4482),_=m(5403);function x(te,he){return(0,u.e)((_e,Re)=>{let ve=0;_e.subscribe((0,_.x)(Re,be=>te.call(he,be,ve++)&&Re.next(be)))})}},8746:(Zt,nt,m)=>{m.d(nt,{x:()=>_});var u=m(4482);function _(x){return(0,u.e)((te,he)=>{try{te.subscribe(he)}finally{he.add(x)}})}},590:(Zt,nt,m)=>{m.d(nt,{P:()=>Re});var u=m(6805),_=m(9300),x=m(5698),te=m(6590),he=m(8068),_e=m(4671);function Re(ve,be){const H=arguments.length>=2;return ie=>ie.pipe(ve?(0,_.h)((ue,Pe)=>ve(ue,Pe,ie)):_e.y,(0,x.q)(1),H?(0,te.d)(be):(0,he.T)(()=>new u.K))}},4004:(Zt,nt,m)=>{m.d(nt,{U:()=>x});var u=m(4482),_=m(5403);function x(te,he){return(0,u.e)((_e,Re)=>{let ve=0;_e.subscribe((0,_.x)(Re,be=>{Re.next(te.call(he,be,ve++))}))})}},8189:(Zt,nt,m)=>{m.d(nt,{J:()=>x});var u=m(5577),_=m(4671);function x(te=1/0){return(0,u.z)(_.y,te)}},5577:(Zt,nt,m)=>{m.d(nt,{z:()=>ve});var u=m(4004),_=m(8421),x=m(4482),te=m(9672),he=m(5403),Re=m(576);function ve(be,H,ie=1/0){return(0,Re.m)(H)?ve((ue,Pe)=>(0,u.U)((Me,de)=>H(ue,Me,Pe,de))((0,_.Xf)(be(ue,Pe))),ie):("number"==typeof H&&(ie=H),(0,x.e)((ue,Pe)=>function _e(be,H,ie,ue,Pe,Me,de,$e){const Fe=[];let Ye=0,Ne=0,It=!1;const Je=()=>{It&&!Fe.length&&!Ye&&H.complete()},xe=st=>Ye<ue?je(st):Fe.push(st),je=st=>{Me&&H.next(st),Ye++;let Ke=!1;(0,_.Xf)(ie(st,Ne++)).subscribe((0,he.x)(H,ee=>{null==Pe||Pe(ee),Me?xe(ee):H.next(ee)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(Ye--;Fe.length&&Ye<ue;){const ee=Fe.shift();de?(0,te.f)(H,de,()=>je(ee)):je(ee)}Je()}catch(ee){H.error(ee)}}))};return be.subscribe((0,he.x)(H,xe,()=>{It=!0,Je()})),()=>{null==$e||$e()}}(ue,Pe,be,ie)))}},5363:(Zt,nt,m)=>{m.d(nt,{Q:()=>te});var u=m(9672),_=m(4482),x=m(5403);function te(he,_e=0){return(0,_.e)((Re,ve)=>{Re.subscribe((0,x.x)(ve,be=>(0,u.f)(ve,he,()=>ve.next(be),_e),()=>(0,u.f)(ve,he,()=>ve.complete(),_e),be=>(0,u.f)(ve,he,()=>ve.error(be),_e)))})}},8343:(Zt,nt,m)=>{m.d(nt,{x:()=>x});var u=m(4482),_=m(5403);function x(){return(0,u.e)((te,he)=>{let _e=null;te._refCount++;const Re=(0,_.x)(he,void 0,void 0,void 0,()=>{if(!te||te._refCount<=0||0<--te._refCount)return void(_e=null);const ve=te._connection,be=_e;_e=null,ve&&(!be||ve===be)&&ve.unsubscribe(),he.unsubscribe()});te.subscribe(Re),Re.closed||(_e=te.connect())})}},5026:(Zt,nt,m)=>{m.d(nt,{R:()=>te});var u=m(4482),_=m(5403);function x(he,_e,Re,ve,be){return(H,ie)=>{let ue=Re,Pe=_e,Me=0;H.subscribe((0,_.x)(ie,de=>{const $e=Me++;Pe=ue?he(Pe,de,$e):(ue=!0,de),ve&&ie.next(Pe)},be&&(()=>{ue&&ie.next(Pe),ie.complete()})))}}function te(he,_e){return(0,u.e)(x(he,_e,arguments.length>=2,!0))}},3099:(Zt,nt,m)=>{m.d(nt,{B:()=>he});var u=m(8421),_=m(7579),x=m(930),te=m(4482);function he(Re={}){const{connector:ve=(()=>new _.x),resetOnError:be=!0,resetOnComplete:H=!0,resetOnRefCountZero:ie=!0}=Re;return ue=>{let Pe,Me,de,$e=0,Fe=!1,Ye=!1;const Ne=()=>{null==Me||Me.unsubscribe(),Me=void 0},It=()=>{Ne(),Pe=de=void 0,Fe=Ye=!1},Je=()=>{const xe=Pe;It(),null==xe||xe.unsubscribe()};return(0,te.e)((xe,je)=>{$e++,!Ye&&!Fe&&Ne();const st=de=null!=de?de:ve();je.add(()=>{$e--,0===$e&&!Ye&&!Fe&&(Me=_e(Je,ie))}),st.subscribe(je),!Pe&&$e>0&&(Pe=new x.Hp({next:Ke=>st.next(Ke),error:Ke=>{Ye=!0,Ne(),Me=_e(It,be,Ke),st.error(Ke)},complete:()=>{Fe=!0,Ne(),Me=_e(It,H),st.complete()}}),(0,u.Xf)(xe).subscribe(Pe))})(ue)}}function _e(Re,ve,...be){if(!0===ve)return void Re();if(!1===ve)return;const H=new x.Hp({next:()=>{H.unsubscribe(),Re()}});return ve(...be).subscribe(H)}},4782:(Zt,nt,m)=>{m.d(nt,{d:()=>x});var u=m(4707),_=m(3099);function x(te,he,_e){let Re,ve=!1;return te&&"object"==typeof te?({bufferSize:Re=1/0,windowTime:he=1/0,refCount:ve=!1,scheduler:_e}=te):Re=null!=te?te:1/0,(0,_.B)({connector:()=>new u.t(Re,he,_e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ve})}},5684:(Zt,nt,m)=>{m.d(nt,{T:()=>_});var u=m(9300);function _(x){return(0,u.h)((te,he)=>x<=he)}},8675:(Zt,nt,m)=>{m.d(nt,{O:()=>te});var u=m(7272),_=m(3269),x=m(4482);function te(...he){const _e=(0,_.yG)(he);return(0,x.e)((Re,ve)=>{(_e?(0,u.z)(he,Re,_e):(0,u.z)(he,Re)).subscribe(ve)})}},9468:(Zt,nt,m)=>{m.d(nt,{R:()=>_});var u=m(4482);function _(x,te=0){return(0,u.e)((he,_e)=>{_e.add(x.schedule(()=>he.subscribe(_e),te))})}},3900:(Zt,nt,m)=>{m.d(nt,{w:()=>te});var u=m(8421),_=m(4482),x=m(5403);function te(he,_e){return(0,_.e)((Re,ve)=>{let be=null,H=0,ie=!1;const ue=()=>ie&&!be&&ve.complete();Re.subscribe((0,x.x)(ve,Pe=>{null==be||be.unsubscribe();let Me=0;const de=H++;(0,u.Xf)(he(Pe,de)).subscribe(be=(0,x.x)(ve,$e=>ve.next(_e?_e(Pe,$e,de,Me++):$e),()=>{be=null,ue()}))},()=>{ie=!0,ue()}))})}},5698:(Zt,nt,m)=>{m.d(nt,{q:()=>te});var u=m(515),_=m(4482),x=m(5403);function te(he){return he<=0?()=>u.E:(0,_.e)((_e,Re)=>{let ve=0;_e.subscribe((0,x.x)(Re,be=>{++ve<=he&&(Re.next(be),he<=ve&&Re.complete())}))})}},2722:(Zt,nt,m)=>{m.d(nt,{R:()=>he});var u=m(4482),_=m(5403),x=m(8421),te=m(5032);function he(_e){return(0,u.e)((Re,ve)=>{(0,x.Xf)(_e).subscribe((0,_.x)(ve,()=>ve.complete(),te.Z)),!ve.closed&&Re.subscribe(ve)})}},8505:(Zt,nt,m)=>{m.d(nt,{b:()=>he});var u=m(576),_=m(4482),x=m(5403),te=m(4671);function he(_e,Re,ve){const be=(0,u.m)(_e)||Re||ve?{next:_e,error:Re,complete:ve}:_e;return be?(0,_.e)((H,ie)=>{var ue;null===(ue=be.subscribe)||void 0===ue||ue.call(be);let Pe=!0;H.subscribe((0,x.x)(ie,Me=>{var de;null===(de=be.next)||void 0===de||de.call(be,Me),ie.next(Me)},()=>{var Me;Pe=!1,null===(Me=be.complete)||void 0===Me||Me.call(be),ie.complete()},Me=>{var de;Pe=!1,null===(de=be.error)||void 0===de||de.call(be,Me),ie.error(Me)},()=>{var Me,de;Pe&&(null===(Me=be.unsubscribe)||void 0===Me||Me.call(be)),null===(de=be.finalize)||void 0===de||de.call(be)}))}):te.y}},8068:(Zt,nt,m)=>{m.d(nt,{T:()=>te});var u=m(6805),_=m(4482),x=m(5403);function te(_e=he){return(0,_.e)((Re,ve)=>{let be=!1;Re.subscribe((0,x.x)(ve,H=>{be=!0,ve.next(H)},()=>be?ve.complete():ve.error(_e())))})}function he(){return new u.K}},4408:(Zt,nt,m)=>{m.d(nt,{o:()=>he});var u=m(727);class _ extends u.w0{constructor(Re,ve){super()}schedule(Re,ve=0){return this}}const x={setInterval(_e,Re,...ve){const{delegate:be}=x;return(null==be?void 0:be.setInterval)?be.setInterval(_e,Re,...ve):setInterval(_e,Re,...ve)},clearInterval(_e){const{delegate:Re}=x;return((null==Re?void 0:Re.clearInterval)||clearInterval)(_e)},delegate:void 0};var te=m(8737);class he extends _{constructor(Re,ve){super(Re,ve),this.scheduler=Re,this.work=ve,this.pending=!1}schedule(Re,ve=0){if(this.closed)return this;this.state=Re;const be=this.id,H=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(H,be,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(H,this.id,ve),this}requestAsyncId(Re,ve,be=0){return x.setInterval(Re.flush.bind(Re,this),be)}recycleAsyncId(Re,ve,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ve;x.clearInterval(ve)}execute(Re,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Re,ve);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ve){let H,be=!1;try{this.work(Re)}catch(ie){be=!0,H=ie||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:Re,scheduler:ve}=this,{actions:be}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(be,this),null!=Re&&(this.id=this.recycleAsyncId(ve,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Zt,nt,m)=>{m.d(nt,{v:()=>x});var u=m(6063);class _{constructor(he,_e=_.now){this.schedulerActionCtor=he,this.now=_e}schedule(he,_e=0,Re){return new this.schedulerActionCtor(this,he).schedule(Re,_e)}}_.now=u.l.now;class x extends _{constructor(he,_e=_.now){super(he,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:_e}=this;if(this._active)return void _e.push(he);let Re;this._active=!0;do{if(Re=he.execute(he.state,he.delay))break}while(he=_e.shift());if(this._active=!1,Re){for(;he=_e.shift();)he.unsubscribe();throw Re}}}},4986:(Zt,nt,m)=>{m.d(nt,{z:()=>x,P:()=>te});var u=m(4408);const x=new(m(7565).v)(u.o),te=x},6063:(Zt,nt,m)=>{m.d(nt,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(Zt,nt,m)=>{m.d(nt,{N:()=>he});var u=m(4408),x=m(7565);const he=new class te extends x.v{}(class _ extends u.o{constructor(ve,be){super(ve,be),this.scheduler=ve,this.work=be}schedule(ve,be=0){return be>0?super.schedule(ve,be):(this.delay=be,this.state=ve,this.scheduler.flush(this),this)}execute(ve,be){return be>0||this.closed?super.execute(ve,be):this._execute(ve,be)}requestAsyncId(ve,be,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(ve,be,H):ve.flush(this)}})},3410:(Zt,nt,m)=>{m.d(nt,{z:()=>u});const u={setTimeout(_,x,...te){const{delegate:he}=u;return(null==he?void 0:he.setTimeout)?he.setTimeout(_,x,...te):setTimeout(_,x,...te)},clearTimeout(_){const{delegate:x}=u;return((null==x?void 0:x.clearTimeout)||clearTimeout)(_)},delegate:void 0}},2202:(Zt,nt,m)=>{m.d(nt,{h:()=>_});const _=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Zt,nt,m)=>{m.d(nt,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Zt,nt,m)=>{m.d(nt,{K:()=>_});const _=(0,m(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Zt,nt,m)=>{m.d(nt,{jO:()=>te,yG:()=>he,_6:()=>_e});var u=m(576),_=m(3532);function x(Re){return Re[Re.length-1]}function te(Re){return(0,u.m)(x(Re))?Re.pop():void 0}function he(Re){return(0,_.K)(x(Re))?Re.pop():void 0}function _e(Re,ve){return"number"==typeof x(Re)?Re.pop():ve}},4742:(Zt,nt,m)=>{m.d(nt,{D:()=>he});const{isArray:u}=Array,{getPrototypeOf:_,prototype:x,keys:te}=Object;function he(Re){if(1===Re.length){const ve=Re[0];if(u(ve))return{args:ve,keys:null};if(function _e(Re){return Re&&"object"==typeof Re&&_(Re)===x}(ve)){const be=te(ve);return{args:be.map(H=>ve[H]),keys:be}}}return{args:Re,keys:null}}},8737:(Zt,nt,m)=>{function u(_,x){if(_){const te=_.indexOf(x);0<=te&&_.splice(te,1)}}m.d(nt,{P:()=>u})},3888:(Zt,nt,m)=>{function u(_){const te=_(he=>{Error.call(he),he.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}m.d(nt,{d:()=>u})},1810:(Zt,nt,m)=>{function u(_,x){return _.reduce((te,he,_e)=>(te[he]=x[_e],te),{})}m.d(nt,{n:()=>u})},2806:(Zt,nt,m)=>{m.d(nt,{x:()=>x,O:()=>te});var u=m(2416);let _=null;function x(he){if(u.v.useDeprecatedSynchronousErrorHandling){const _e=!_;if(_e&&(_={errorThrown:!1,error:null}),he(),_e){const{errorThrown:Re,error:ve}=_;if(_=null,Re)throw ve}}else he()}function te(he){u.v.useDeprecatedSynchronousErrorHandling&&_&&(_.errorThrown=!0,_.error=he)}},9672:(Zt,nt,m)=>{function u(_,x,te,he=0,_e=!1){const Re=x.schedule(function(){te(),_e?_.add(this.schedule(null,he)):this.unsubscribe()},he);if(_.add(Re),!_e)return Re}m.d(nt,{f:()=>u})},4671:(Zt,nt,m)=>{function u(_){return _}m.d(nt,{y:()=>u})},1144:(Zt,nt,m)=>{m.d(nt,{z:()=>u});const u=_=>_&&"number"==typeof _.length&&"function"!=typeof _},2206:(Zt,nt,m)=>{m.d(nt,{D:()=>_});var u=m(576);function _(x){return Symbol.asyncIterator&&(0,u.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(Zt,nt,m)=>{function u(_){return"function"==typeof _}m.d(nt,{m:()=>u})},3670:(Zt,nt,m)=>{m.d(nt,{c:()=>x});var u=m(8822),_=m(576);function x(te){return(0,_.m)(te[u.L])}},6495:(Zt,nt,m)=>{m.d(nt,{T:()=>x});var u=m(2202),_=m(576);function x(te){return(0,_.m)(null==te?void 0:te[u.h])}},8239:(Zt,nt,m)=>{m.d(nt,{t:()=>_});var u=m(576);function _(x){return(0,u.m)(null==x?void 0:x.then)}},3260:(Zt,nt,m)=>{m.d(nt,{Q:()=>x,L:()=>te});var u=m(655),_=m(576);function x(he){return(0,u.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:ve,done:be}=yield(0,u.qq)(Re.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ve)}}finally{Re.releaseLock()}})}function te(he){return(0,_.m)(null==he?void 0:he.getReader)}},3532:(Zt,nt,m)=>{m.d(nt,{K:()=>_});var u=m(576);function _(x){return x&&(0,u.m)(x.schedule)}},4482:(Zt,nt,m)=>{m.d(nt,{A:()=>_,e:()=>x});var u=m(576);function _(te){return(0,u.m)(null==te?void 0:te.lift)}function x(te){return he=>{if(_(he))return he.lift(function(_e){try{return te(_e,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Zt,nt,m)=>{m.d(nt,{Z:()=>te});var u=m(4004);const{isArray:_}=Array;function te(he){return(0,u.U)(_e=>function x(he,_e){return _(_e)?he(..._e):he(_e)}(he,_e))}},5032:(Zt,nt,m)=>{function u(){}m.d(nt,{Z:()=>u})},7849:(Zt,nt,m)=>{m.d(nt,{h:()=>x});var u=m(2416),_=m(3410);function x(te){_.z.setTimeout(()=>{const{onUnhandledError:he}=u.v;if(!he)throw te;he(te)})}},4532:(Zt,nt,m)=>{function u(_){return new TypeError(`You provided ${null!==_&&"object"==typeof _?"an invalid object":`'${_}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}m.d(nt,{z:()=>u})},655:(Zt,nt,m)=>{m.d(nt,{ZT:()=>_,pi:()=>x,_T:()=>te,mG:()=>ve,Jh:()=>be,ev:()=>$e,qq:()=>Fe,FC:()=>Ye,KL:()=>It});var u=function(re,De){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(He,Xe){He.__proto__=Xe}||function(He,Xe){for(var dt in Xe)Object.prototype.hasOwnProperty.call(Xe,dt)&&(He[dt]=Xe[dt])})(re,De)};function _(re,De){if("function"!=typeof De&&null!==De)throw new TypeError("Class extends value "+String(De)+" is not a constructor or null");function He(){this.constructor=re}u(re,De),re.prototype=null===De?Object.create(De):(He.prototype=De.prototype,new He)}var x=function(){return x=Object.assign||function(De){for(var He,Xe=1,dt=arguments.length;Xe<dt;Xe++)for(var ut in He=arguments[Xe])Object.prototype.hasOwnProperty.call(He,ut)&&(De[ut]=He[ut]);return De},x.apply(this,arguments)};function te(re,De){var He={};for(var Xe in re)Object.prototype.hasOwnProperty.call(re,Xe)&&De.indexOf(Xe)<0&&(He[Xe]=re[Xe]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Xe=Object.getOwnPropertySymbols(re);dt<Xe.length;dt++)De.indexOf(Xe[dt])<0&&Object.prototype.propertyIsEnumerable.call(re,Xe[dt])&&(He[Xe[dt]]=re[Xe[dt]])}return He}function ve(re,De,He,Xe){return new(He||(He=Promise))(function(ut,Xt){function on(_t){try{mn(Xe.next(_t))}catch($t){Xt($t)}}function An(_t){try{mn(Xe.throw(_t))}catch($t){Xt($t)}}function mn(_t){_t.done?ut(_t.value):function dt(ut){return ut instanceof He?ut:new He(function(Xt){Xt(ut)})}(_t.value).then(on,An)}mn((Xe=Xe.apply(re,De||[])).next())})}function be(re,De){var Xe,dt,ut,Xt,He={label:0,sent:function(){if(1&ut[0])throw ut[1];return ut[1]},trys:[],ops:[]};return Xt={next:on(0),throw:on(1),return:on(2)},"function"==typeof Symbol&&(Xt[Symbol.iterator]=function(){return this}),Xt;function on(mn){return function(_t){return function An(mn){if(Xe)throw new TypeError("Generator is already executing.");for(;He;)try{if(Xe=1,dt&&(ut=2&mn[0]?dt.return:mn[0]?dt.throw||((ut=dt.return)&&ut.call(dt),0):dt.next)&&!(ut=ut.call(dt,mn[1])).done)return ut;switch(dt=0,ut&&(mn=[2&mn[0],ut.value]),mn[0]){case 0:case 1:ut=mn;break;case 4:return He.label++,{value:mn[1],done:!1};case 5:He.label++,dt=mn[1],mn=[0];continue;case 7:mn=He.ops.pop(),He.trys.pop();continue;default:if(!(ut=(ut=He.trys).length>0&&ut[ut.length-1])&&(6===mn[0]||2===mn[0])){He=0;continue}if(3===mn[0]&&(!ut||mn[1]>ut[0]&&mn[1]<ut[3])){He.label=mn[1];break}if(6===mn[0]&&He.label<ut[1]){He.label=ut[1],ut=mn;break}if(ut&&He.label<ut[2]){He.label=ut[2],He.ops.push(mn);break}ut[2]&&He.ops.pop(),He.trys.pop();continue}mn=De.call(re,He)}catch(_t){mn=[6,_t],dt=0}finally{Xe=ut=0}if(5&mn[0])throw mn[1];return{value:mn[0]?mn[1]:void 0,done:!0}}([mn,_t])}}}function $e(re,De,He){if(He||2===arguments.length)for(var ut,Xe=0,dt=De.length;Xe<dt;Xe++)(ut||!(Xe in De))&&(ut||(ut=Array.prototype.slice.call(De,0,Xe)),ut[Xe]=De[Xe]);return re.concat(ut||Array.prototype.slice.call(De))}function Fe(re){return this instanceof Fe?(this.v=re,this):new Fe(re)}function Ye(re,De,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Xe=He.apply(re,De||[]),ut=[];return dt={},Xt("next"),Xt("throw"),Xt("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function Xt(zt){Xe[zt]&&(dt[zt]=function(ln){return new Promise(function(_n,xt){ut.push([zt,ln,_n,xt])>1||on(zt,ln)})})}function on(zt,ln){try{!function An(zt){zt.value instanceof Fe?Promise.resolve(zt.value.v).then(mn,_t):$t(ut[0][2],zt)}(Xe[zt](ln))}catch(_n){$t(ut[0][3],_n)}}function mn(zt){on("next",zt)}function _t(zt){on("throw",zt)}function $t(zt,ln){zt(ln),ut.shift(),ut.length&&on(ut[0][0],ut[0][1])}}function It(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,De=re[Symbol.asyncIterator];return De?De.call(re):(re=function ue(re){var De="function"==typeof Symbol&&Symbol.iterator,He=De&&re[De],Xe=0;if(He)return He.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Xe>=re.length&&(re=void 0),{value:re&&re[Xe++],done:!re}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),He={},Xe("next"),Xe("throw"),Xe("return"),He[Symbol.asyncIterator]=function(){return this},He);function Xe(ut){He[ut]=re[ut]&&function(Xt){return new Promise(function(on,An){!function dt(ut,Xt,on,An){Promise.resolve(An).then(function(mn){ut({value:mn,done:on})},Xt)}(on,An,(Xt=re[ut](Xt)).done,Xt.value)})}}}},9671:(Zt,nt,m)=>{function u(x,te,he,_e,Re,ve,be){try{var H=x[ve](be),ie=H.value}catch(ue){return void he(ue)}H.done?te(ie):Promise.resolve(ie).then(_e,Re)}function _(x){return function(){var te=this,he=arguments;return new Promise(function(_e,Re){var ve=x.apply(te,he);function be(ie){u(ve,_e,Re,be,H,"next",ie)}function H(ie){u(ve,_e,Re,be,H,"throw",ie)}be(void 0)})}}m.d(nt,{Z:()=>_})},623:(Zt,nt,m)=>{m.d(nt,{QT:()=>Ua,Sr:()=>Ao});var u=m(5e3),_=m(3075),x=m(3583),te=m(7531),he=m(9808),_e=m(1777),Re=m(5245);m(1135),m(8306),m(6451),m(7579),m(9300),m(8505);const st={provide:u.tb,useFactory:function je(I,ye){return()=>{if((0,he.NF)(ye)){const b=Array.from(I.querySelectorAll(`[class*=${Ke}]`)),$=/\bflex-layout-.+?\b/g;b.forEach(me=>{me.classList.contains(`${Ke}ssr`)&&me.parentNode?me.parentNode.removeChild(me):me.className.replace($,"")})}}},deps:[he.K0,u.Lbi],multi:!0},Ke="flex-layout-";let ee=(()=>{class I{}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({providers:[st]}),I})();const He={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Xe=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>He}),dt=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),ut=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});m(3191),m(2722),m(2313);let Xi=(()=>{class I{}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[[ee]]}),I})();var ls=m(226);let lr=(()=>{class I{}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[[ee,ls.vT]]}),I})(),Zn=(()=>{class I{}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[[ee]]}),I})(),Mn=(()=>{class I{constructor(b,$){(0,he.PM)($)&&!b&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(b,$=[]){return{ngModule:I,providers:b.serverLoaded?[{provide:Xe,useValue:Object.assign(Object.assign({},He),b)},{provide:ut,useValue:$,multi:!0},{provide:dt,useValue:!0}]:[{provide:Xe,useValue:Object.assign(Object.assign({},He),b)},{provide:ut,useValue:$,multi:!0}]}}}return I.\u0275fac=function(b){return new(b||I)(u.LFG(dt),u.LFG(u.Lbi))},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[[lr,Xi,Zn],lr,Xi,Zn]}),I})();const ya=(0,_e.oQ)([(0,_e.oB)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),(0,_e.jt)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",(0,_e.oB)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}});(0,_e.X$)("animate",[(0,_e.eR)("void => *",[(0,_e._7)(ya)])]),(0,_e.X$)("animateStagger",[(0,_e.SB)("50",(0,_e.oB)("*")),(0,_e.SB)("100",(0,_e.oB)("*")),(0,_e.SB)("200",(0,_e.oB)("*")),(0,_e.eR)("void => 50",(0,_e.IO)("@*",[(0,_e.EY)("50ms",[(0,_e.pV)()])],{optional:!0})),(0,_e.eR)("void => 100",(0,_e.IO)("@*",[(0,_e.EY)("100ms",[(0,_e.pV)()])],{optional:!0})),(0,_e.eR)("void => 200",(0,_e.IO)("@*",[(0,_e.EY)("200ms",[(0,_e.pV)()])],{optional:!0}))]);let Ua=(()=>{class I{constructor(b,$,me,ot,Kt){this.platformId=b,this.elemRef=$,this.mapsAPILoader=me,this.cf=ot,this.ngZone=Kt,this.autoCompleteOptions={},this.onChange=new u.vpe,this.onAutocompleteSelected=new u.vpe,this.onGermanAddressMapped=new u.vpe,this.onLocationSelected=new u.vpe,this.onNewPlaceResult=new u.vpe,this.propagateChange=hn=>{}}get value(){return this._value}set value(b){this._value=b,this.propagateChange(this.value),this.cf.markForCheck()}ngOnInit(){if((0,he.NF)(this.platformId)){const b={placeIdOnly:this.placeIdOnly,strictBounds:this.strictBounds,type:this.type};this.country&&(b.componentRestrictions={country:this.country}),this.country&&(b.types=this.types),this.autoCompleteOptions=Object.assign(this.autoCompleteOptions,b),this.initGoogleMapsAutocomplete()}}onChangeInputValue(){var b;const $=null===(b=this.elemRef.nativeElement)||void 0===b?void 0:b.value;this.value=$}initGoogleMapsAutocomplete(){this.mapsAPILoader.load().then(()=>{const b=new google.maps.places.Autocomplete(this.elemRef.nativeElement,this.autoCompleteOptions);b.addListener("place_changed",()=>{this.ngZone.run(()=>{const $=b.getPlace(),me={gmID:$.id,icon:$.icon,url:$.url,placeID:$.place_id,displayAddress:$.formatted_address,name:$.name,vicinity:$.vicinity,locality:{},state:{},country:{},geoLocation:{latitude:-1,longitude:-1}};$.geometry&&$.geometry.location&&(me.geoLocation.latitude=$.geometry.location.lat(),me.geoLocation.longitude=$.geometry.location.lng()),$.address_components.forEach(ot=>{ot.types.indexOf("street_number")>-1&&(me.streetNumber=ot.short_name),ot.types.indexOf("route")>-1&&(me.streetName=ot.long_name),ot.types.indexOf("postal_code")>-1&&(me.postalCode=Number(ot.short_name)),ot.types.indexOf("sublocality")>-1&&(me.sublocality=ot.long_name),ot.types.indexOf("locality")>-1&&(me.locality.long=ot.long_name,me.locality.short=ot.short_name),ot.types.indexOf("administrative_area_level_1")>-1&&(me.state.long=ot.long_name,me.state.short=ot.short_name),ot.types.indexOf("country")>-1&&(me.country.long=ot.long_name,me.country.short=ot.short_name),ot.types.indexOf("administrative_area_level_3")>-1&&(me.locality.short=ot.short_name)}),this.onGermanAddressMapped.emit(me),this.value=$.formatted_address,this.address=$.formatted_address,this.onAutocompleteSelected.emit($),this.onLocationSelected.emit({latitude:$.geometry.location.lat(),longitude:$.geometry.location.lng()})})})}).catch(b=>console.log(b))}registerOnChange(b){this.propagateChange=b}registerOnTouched(b){}setDisabledState(b){this.disabled=b}writeValue(b){b&&(this.value=b)}}return I.\u0275fac=function(b){return new(b||I)(u.Y36(u.Lbi),u.Y36(u.SBq),u.Y36(x.W7),u.Y36(u.sBO),u.Y36(u.R0b))},I.\u0275dir=u.lG2({type:I,selectors:[["","matGoogleMapsAutocomplete",""]],hostBindings:function(b,$){1&b&&u.NdJ("change",function(){return $.onChangeInputValue()})},inputs:{address:"address",country:"country",placeIdOnly:"placeIdOnly",strictBounds:"strictBounds",types:"types",type:"type",autoCompleteOptions:"autoCompleteOptions",value:"value"},outputs:{onChange:"onChange",onAutocompleteSelected:"onAutocompleteSelected",onGermanAddressMapped:"onGermanAddressMapped",onLocationSelected:"onLocationSelected"},exportAs:["matGoogleMapsAutocomplete"],features:[u._Bn([{provide:_.JU,useExisting:(0,u.Gpc)(()=>I),multi:!0}])]}),I})(),Ao=(()=>{class I{}return I.\u0275fac=function(b){return new(b||I)},I.\u0275mod=u.oAB({type:I}),I.\u0275inj=u.cJS({imports:[[he.ez,_.u5,_.UX,Mn,te.c,Re.Ps]]}),I})()},1777:(Zt,nt,m)=>{m.d(nt,{l3:()=>x,_j:()=>u,LC:()=>_,ZN:()=>Ye,jt:()=>he,pV:()=>Pe,oQ:()=>ue,ru:()=>_e,F4:()=>H,IO:()=>de,vP:()=>Re,EY:()=>$e,SB:()=>be,oB:()=>ve,eR:()=>ie,X$:()=>te,_7:()=>Me,ZE:()=>Ne,k1:()=>It});class u{}class _{}const x="*";function te(Je,xe){return{type:7,name:Je,definitions:xe,options:{}}}function he(Je,xe=null){return{type:4,styles:xe,timings:Je}}function _e(Je,xe=null){return{type:3,steps:Je,options:xe}}function Re(Je,xe=null){return{type:2,steps:Je,options:xe}}function ve(Je){return{type:6,styles:Je,offset:null}}function be(Je,xe,je){return{type:0,name:Je,styles:xe,options:je}}function H(Je){return{type:5,steps:Je}}function ie(Je,xe,je=null){return{type:1,expr:Je,animation:xe,options:je}}function ue(Je,xe=null){return{type:8,animation:Je,options:xe}}function Pe(Je=null){return{type:9,options:Je}}function Me(Je,xe=null){return{type:10,animation:Je,options:xe}}function de(Je,xe,je=null){return{type:11,selector:Je,animation:xe,options:je}}function $e(Je,xe){return{type:12,timings:Je,animation:xe}}function Fe(Je){Promise.resolve(null).then(Je)}class Ye{constructor(xe=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=xe+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}onStart(xe){this._onStartFns.push(xe)}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Fe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(xe=>xe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(xe){this._position=this.totalTime?xe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(xe){const je="start"==xe?this._onStartFns:this._onDoneFns;je.forEach(st=>st()),je.length=0}}class Ne{constructor(xe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=xe;let je=0,st=0,Ke=0;const ee=this.players.length;0==ee?Fe(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++je==ee&&this._onFinish()}),re.onDestroy(()=>{++st==ee&&this._onDestroy()}),re.onStart(()=>{++Ke==ee&&this._onStart()})}),this.totalTime=this.players.reduce((re,De)=>Math.max(re,De.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(xe=>xe()),this._onDoneFns=[])}init(){this.players.forEach(xe=>xe.init())}onStart(xe){this._onStartFns.push(xe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(xe=>xe()),this._onStartFns=[])}onDone(xe){this._onDoneFns.push(xe)}onDestroy(xe){this._onDestroyFns.push(xe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(xe=>xe.play())}pause(){this.players.forEach(xe=>xe.pause())}restart(){this.players.forEach(xe=>xe.restart())}finish(){this._onFinish(),this.players.forEach(xe=>xe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(xe=>xe.destroy()),this._onDestroyFns.forEach(xe=>xe()),this._onDestroyFns=[])}reset(){this.players.forEach(xe=>xe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(xe){const je=xe*this.totalTime;this.players.forEach(st=>{const Ke=st.totalTime?Math.min(1,je/st.totalTime):1;st.setPosition(Ke)})}getPosition(){const xe=this.players.reduce((je,st)=>null===je||st.totalTime>je.totalTime?st:je,null);return null!=xe?xe.getPosition():0}beforeDestroy(){this.players.forEach(xe=>{xe.beforeDestroy&&xe.beforeDestroy()})}triggerCallback(xe){const je="start"==xe?this._onStartFns:this._onDoneFns;je.forEach(st=>st()),je.length=0}}const It="!"},5664:(Zt,nt,m)=>{m.d(nt,{rt:()=>Ae,s1:()=>dt,kH:()=>Bn,mK:()=>Kn,Em:()=>ut,tE:()=>rr,qV:()=>fr,qm:()=>ct,ic:()=>on,Kd:()=>On,X6:()=>Er,yG:()=>vr});var u=m(9808),_=m(5e3),x=m(925),te=m(7579),he=m(727),_e=m(1135),Re=m(9646),ve=m(1159),be=m(8505),H=m(8372),ie=m(9300),ue=m(4004),Pe=m(5698),Me=m(5684),de=m(1884),$e=m(2722),Fe=m(3191),Ye=m(7144);class Xe{constructor(k){this._items=k,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new te.x,this._typeaheadSubscription=he.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=B=>B.disabled,this._pressedLetters=[],this.tabOut=new te.x,this.change=new te.x,k instanceof _.n_E&&k.changes.subscribe(B=>{if(this._activeItem){const ft=B.toArray().indexOf(this._activeItem);ft>-1&&ft!==this._activeItemIndex&&(this._activeItemIndex=ft)}})}skipPredicate(k){return this._skipPredicateFn=k,this}withWrap(k=!0){return this._wrap=k,this}withVerticalOrientation(k=!0){return this._vertical=k,this}withHorizontalOrientation(k){return this._horizontal=k,this}withAllowedModifierKeys(k){return this._allowedModifierKeys=k,this}withTypeAhead(k=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,be.b)(B=>this._pressedLetters.push(B)),(0,H.b)(k),(0,ie.h)(()=>this._pressedLetters.length>0),(0,ue.U)(()=>this._pressedLetters.join(""))).subscribe(B=>{const Te=this._getItemsArray();for(let ft=1;ft<Te.length+1;ft++){const Vt=(this._activeItemIndex+ft)%Te.length,pe=Te[Vt];if(!this._skipPredicateFn(pe)&&0===pe.getLabel().toUpperCase().trim().indexOf(B)){this.setActiveItem(Vt);break}}this._pressedLetters=[]}),this}withHomeAndEnd(k=!0){return this._homeAndEnd=k,this}setActiveItem(k){const B=this._activeItem;this.updateActiveItem(k),this._activeItem!==B&&this.change.next(this._activeItemIndex)}onKeydown(k){const B=k.keyCode,ft=["altKey","ctrlKey","metaKey","shiftKey"].every(Vt=>!k[Vt]||this._allowedModifierKeys.indexOf(Vt)>-1);switch(B){case ve.Mf:return void this.tabOut.next();case ve.JH:if(this._vertical&&ft){this.setNextItemActive();break}return;case ve.LH:if(this._vertical&&ft){this.setPreviousItemActive();break}return;case ve.SV:if(this._horizontal&&ft){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ve.oh:if(this._horizontal&&ft){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ve.Sd:if(this._homeAndEnd&&ft){this.setFirstItemActive();break}return;case ve.uR:if(this._homeAndEnd&&ft){this.setLastItemActive();break}return;default:return void((ft||(0,ve.Vb)(k,"shiftKey"))&&(k.key&&1===k.key.length?this._letterKeyStream.next(k.key.toLocaleUpperCase()):(B>=ve.A&&B<=ve.Z||B>=ve.xE&&B<=ve.aO)&&this._letterKeyStream.next(String.fromCharCode(B))))}this._pressedLetters=[],k.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(k){const B=this._getItemsArray(),Te="number"==typeof k?k:B.indexOf(k),ft=B[Te];this._activeItem=null==ft?null:ft,this._activeItemIndex=Te}_setActiveItemByDelta(k){this._wrap?this._setActiveInWrapMode(k):this._setActiveInDefaultMode(k)}_setActiveInWrapMode(k){const B=this._getItemsArray();for(let Te=1;Te<=B.length;Te++){const ft=(this._activeItemIndex+k*Te+B.length)%B.length;if(!this._skipPredicateFn(B[ft]))return void this.setActiveItem(ft)}}_setActiveInDefaultMode(k){this._setActiveItemByIndex(this._activeItemIndex+k,k)}_setActiveItemByIndex(k,B){const Te=this._getItemsArray();if(Te[k]){for(;this._skipPredicateFn(Te[k]);)if(!Te[k+=B])return;this.setActiveItem(k)}}_getItemsArray(){return this._items instanceof _.n_E?this._items.toArray():this._items}}class dt extends Xe{setActiveItem(k){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(k),this.activeItem&&this.activeItem.setActiveStyles()}}class ut extends Xe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(k){return this._origin=k,this}setActiveItem(k){super.setActiveItem(k),this.activeItem&&this.activeItem.focus(this._origin)}}let on=(()=>{class z{constructor(B){this._platform=B}isDisabled(B){return B.hasAttribute("disabled")}isVisible(B){return function mn(z){return!!(z.offsetWidth||z.offsetHeight||"function"==typeof z.getClientRects&&z.getClientRects().length)}(B)&&"visible"===getComputedStyle(B).visibility}isTabbable(B){if(!this._platform.isBrowser)return!1;const Te=function An(z){try{return z.frameElement}catch(k){return null}}(function wn(z){return z.ownerDocument&&z.ownerDocument.defaultView||window}(B));if(Te&&(-1===St(Te)||!this.isVisible(Te)))return!1;let ft=B.nodeName.toLowerCase(),Vt=St(B);return B.hasAttribute("contenteditable")?-1!==Vt:!("iframe"===ft||"object"===ft||this._platform.WEBKIT&&this._platform.IOS&&!function Gt(z){let k=z.nodeName.toLowerCase(),B="input"===k&&z.type;return"text"===B||"password"===B||"select"===k||"textarea"===k}(B))&&("audio"===ft?!!B.hasAttribute("controls")&&-1!==Vt:"video"===ft?-1!==Vt&&(null!==Vt||this._platform.FIREFOX||B.hasAttribute("controls")):B.tabIndex>=0)}isFocusable(B,Te){return function Sn(z){return!function $t(z){return function ln(z){return"input"==z.nodeName.toLowerCase()}(z)&&"hidden"==z.type}(z)&&(function _t(z){let k=z.nodeName.toLowerCase();return"input"===k||"select"===k||"button"===k||"textarea"===k}(z)||function zt(z){return function _n(z){return"a"==z.nodeName.toLowerCase()}(z)&&z.hasAttribute("href")}(z)||z.hasAttribute("contenteditable")||xt(z))}(B)&&!this.isDisabled(B)&&((null==Te?void 0:Te.ignoreVisibility)||this.isVisible(B))}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(x.t4))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();function xt(z){if(!z.hasAttribute("tabindex")||void 0===z.tabIndex)return!1;let k=z.getAttribute("tabindex");return!(!k||isNaN(parseInt(k,10)))}function St(z){if(!xt(z))return null;const k=parseInt(z.getAttribute("tabindex")||"",10);return isNaN(k)?-1:k}class Vn{constructor(k,B,Te,ft,Vt=!1){this._element=k,this._checker=B,this._ngZone=Te,this._document=ft,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Vt||this.attachAnchors()}get enabled(){return this._enabled}set enabled(k){this._enabled=k,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(k,this._startAnchor),this._toggleAnchorTabIndex(k,this._endAnchor))}destroy(){const k=this._startAnchor,B=this._endAnchor;k&&(k.removeEventListener("focus",this.startAnchorListener),k.remove()),B&&(B.removeEventListener("focus",this.endAnchorListener),B.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(k){return new Promise(B=>{this._executeOnStable(()=>B(this.focusInitialElement(k)))})}focusFirstTabbableElementWhenReady(k){return new Promise(B=>{this._executeOnStable(()=>B(this.focusFirstTabbableElement(k)))})}focusLastTabbableElementWhenReady(k){return new Promise(B=>{this._executeOnStable(()=>B(this.focusLastTabbableElement(k)))})}_getRegionBoundary(k){const B=this._element.querySelectorAll(`[cdk-focus-region-${k}], [cdkFocusRegion${k}], [cdk-focus-${k}]`);return"start"==k?B.length?B[0]:this._getFirstTabbableElement(this._element):B.length?B[B.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(k){const B=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(B){if(!this._checker.isFocusable(B)){const Te=this._getFirstTabbableElement(B);return null==Te||Te.focus(k),!!Te}return B.focus(k),!0}return this.focusFirstTabbableElement(k)}focusFirstTabbableElement(k){const B=this._getRegionBoundary("start");return B&&B.focus(k),!!B}focusLastTabbableElement(k){const B=this._getRegionBoundary("end");return B&&B.focus(k),!!B}hasAttached(){return this._hasAttached}_getFirstTabbableElement(k){if(this._checker.isFocusable(k)&&this._checker.isTabbable(k))return k;const B=k.children;for(let Te=0;Te<B.length;Te++){const ft=B[Te].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(B[Te]):null;if(ft)return ft}return null}_getLastTabbableElement(k){if(this._checker.isFocusable(k)&&this._checker.isTabbable(k))return k;const B=k.children;for(let Te=B.length-1;Te>=0;Te--){const ft=B[Te].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(B[Te]):null;if(ft)return ft}return null}_createAnchor(){const k=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,k),k.classList.add("cdk-visually-hidden"),k.classList.add("cdk-focus-trap-anchor"),k.setAttribute("aria-hidden","true"),k}_toggleAnchorTabIndex(k,B){k?B.setAttribute("tabindex","0"):B.removeAttribute("tabindex")}toggleAnchors(k){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(k,this._startAnchor),this._toggleAnchorTabIndex(k,this._endAnchor))}_executeOnStable(k){this._ngZone.isStable?k():this._ngZone.onStable.pipe((0,Pe.q)(1)).subscribe(k)}}let fr=(()=>{class z{constructor(B,Te,ft){this._checker=B,this._ngZone=Te,this._document=ft}create(B,Te=!1){return new Vn(B,this._checker,this._ngZone,this._document,Te)}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(on),_.LFG(_.R0b),_.LFG(u.K0))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Kn=(()=>{class z{constructor(B,Te,ft){this._elementRef=B,this._focusTrapFactory=Te,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(B){this.focusTrap.enabled=(0,Fe.Ig)(B)}get autoCapture(){return this._autoCapture}set autoCapture(B){this._autoCapture=(0,Fe.Ig)(B)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(B){const Te=B.autoCapture;Te&&!Te.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,x.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(_.SBq),_.Y36(fr),_.Y36(u.K0))},z.\u0275dir=_.lG2({type:z,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[_.TTD]}),z})();function Er(z){return 0===z.buttons||0===z.offsetX&&0===z.offsetY}function vr(z){const k=z.touches&&z.touches[0]||z.changedTouches&&z.changedTouches[0];return!(!k||-1!==k.identifier||null!=k.radiusX&&1!==k.radiusX||null!=k.radiusY&&1!==k.radiusY)}const dn=new _.OlP("cdk-input-modality-detector-options"),Ot={ignoreKeys:[ve.zL,ve.jx,ve.b2,ve.MW,ve.JU]},ze=(0,x.i$)({passive:!0,capture:!0});let Ft=(()=>{class z{constructor(B,Te,ft,Vt){this._platform=B,this._mostRecentTarget=null,this._modality=new _e.X(null),this._lastTouchMs=0,this._onKeydown=pe=>{var Rt,T;(null===(T=null===(Rt=this._options)||void 0===Rt?void 0:Rt.ignoreKeys)||void 0===T?void 0:T.some(Z=>Z===pe.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,x.sA)(pe))},this._onMousedown=pe=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Er(pe)?"keyboard":"mouse"),this._mostRecentTarget=(0,x.sA)(pe))},this._onTouchstart=pe=>{vr(pe)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,x.sA)(pe))},this._options=Object.assign(Object.assign({},Ot),Vt),this.modalityDetected=this._modality.pipe((0,Me.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,de.x)()),B.isBrowser&&Te.runOutsideAngular(()=>{ft.addEventListener("keydown",this._onKeydown,ze),ft.addEventListener("mousedown",this._onMousedown,ze),ft.addEventListener("touchstart",this._onTouchstart,ze)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ze),document.removeEventListener("mousedown",this._onMousedown,ze),document.removeEventListener("touchstart",this._onTouchstart,ze))}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(x.t4),_.LFG(_.R0b),_.LFG(u.K0),_.LFG(dn,8))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();const Nt=new _.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ht(){return null}}),nn=new _.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let On=(()=>{class z{constructor(B,Te,ft,Vt){this._ngZone=Te,this._defaultOptions=Vt,this._document=ft,this._liveElement=B||this._createLiveElement()}announce(B,...Te){const ft=this._defaultOptions;let Vt,pe;return 1===Te.length&&"number"==typeof Te[0]?pe=Te[0]:[Vt,pe]=Te,this.clear(),clearTimeout(this._previousTimeout),Vt||(Vt=ft&&ft.politeness?ft.politeness:"polite"),null==pe&&ft&&(pe=ft.duration),this._liveElement.setAttribute("aria-live",Vt),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Rt=>this._currentResolve=Rt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=B,"number"==typeof pe&&(this._previousTimeout=setTimeout(()=>this.clear(),pe)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var B,Te;clearTimeout(this._previousTimeout),null===(B=this._liveElement)||void 0===B||B.remove(),this._liveElement=null,null===(Te=this._currentResolve)||void 0===Te||Te.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const B="cdk-live-announcer-element",Te=this._document.getElementsByClassName(B),ft=this._document.createElement("div");for(let Vt=0;Vt<Te.length;Vt++)Te[Vt].remove();return ft.classList.add(B),ft.classList.add("cdk-visually-hidden"),ft.setAttribute("aria-atomic","true"),ft.setAttribute("aria-live","polite"),this._document.body.appendChild(ft),ft}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(Nt,8),_.LFG(_.R0b),_.LFG(u.K0),_.LFG(nn,8))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();const xn=new _.OlP("cdk-focus-monitor-default-options"),zn=(0,x.i$)({passive:!0,capture:!0});let rr=(()=>{class z{constructor(B,Te,ft,Vt,pe){this._ngZone=B,this._platform=Te,this._inputModalityDetector=ft,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te.x,this._rootNodeFocusAndBlurListener=Rt=>{const T=(0,x.sA)(Rt),Z="focus"===Rt.type?this._onFocus:this._onBlur;for(let at=T;at;at=at.parentElement)Z.call(this,Rt,at)},this._document=Vt,this._detectionMode=(null==pe?void 0:pe.detectionMode)||0}monitor(B,Te=!1){const ft=(0,Fe.fI)(B);if(!this._platform.isBrowser||1!==ft.nodeType)return(0,Re.of)(null);const Vt=(0,x.kV)(ft)||this._getDocument(),pe=this._elementInfo.get(ft);if(pe)return Te&&(pe.checkChildren=!0),pe.subject;const Rt={checkChildren:Te,subject:new te.x,rootNode:Vt};return this._elementInfo.set(ft,Rt),this._registerGlobalListeners(Rt),Rt.subject}stopMonitoring(B){const Te=(0,Fe.fI)(B),ft=this._elementInfo.get(Te);ft&&(ft.subject.complete(),this._setClasses(Te),this._elementInfo.delete(Te),this._removeGlobalListeners(ft))}focusVia(B,Te,ft){const Vt=(0,Fe.fI)(B);Vt===this._getDocument().activeElement?this._getClosestElementsInfo(Vt).forEach(([Rt,T])=>this._originChanged(Rt,Te,T)):(this._setOrigin(Te),"function"==typeof Vt.focus&&Vt.focus(ft))}ngOnDestroy(){this._elementInfo.forEach((B,Te)=>this.stopMonitoring(Te))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(B){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(B)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(B){return 1===this._detectionMode||!!(null==B?void 0:B.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(B,Te){B.classList.toggle("cdk-focused",!!Te),B.classList.toggle("cdk-touch-focused","touch"===Te),B.classList.toggle("cdk-keyboard-focused","keyboard"===Te),B.classList.toggle("cdk-mouse-focused","mouse"===Te),B.classList.toggle("cdk-program-focused","program"===Te)}_setOrigin(B,Te=!1){this._ngZone.runOutsideAngular(()=>{this._origin=B,this._originFromTouchInteraction="touch"===B&&Te,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(B,Te){const ft=this._elementInfo.get(Te),Vt=(0,x.sA)(B);!ft||!ft.checkChildren&&Te!==Vt||this._originChanged(Te,this._getFocusOrigin(Vt),ft)}_onBlur(B,Te){const ft=this._elementInfo.get(Te);!ft||ft.checkChildren&&B.relatedTarget instanceof Node&&Te.contains(B.relatedTarget)||(this._setClasses(Te),this._emitOrigin(ft.subject,null))}_emitOrigin(B,Te){this._ngZone.run(()=>B.next(Te))}_registerGlobalListeners(B){if(!this._platform.isBrowser)return;const Te=B.rootNode,ft=this._rootNodeFocusListenerCount.get(Te)||0;ft||this._ngZone.runOutsideAngular(()=>{Te.addEventListener("focus",this._rootNodeFocusAndBlurListener,zn),Te.addEventListener("blur",this._rootNodeFocusAndBlurListener,zn)}),this._rootNodeFocusListenerCount.set(Te,ft+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,$e.R)(this._stopInputModalityDetector)).subscribe(Vt=>{this._setOrigin(Vt,!0)}))}_removeGlobalListeners(B){const Te=B.rootNode;if(this._rootNodeFocusListenerCount.has(Te)){const ft=this._rootNodeFocusListenerCount.get(Te);ft>1?this._rootNodeFocusListenerCount.set(Te,ft-1):(Te.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zn),Te.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zn),this._rootNodeFocusListenerCount.delete(Te))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(B,Te,ft){this._setClasses(B,Te),this._emitOrigin(ft.subject,Te),this._lastFocusOrigin=Te}_getClosestElementsInfo(B){const Te=[];return this._elementInfo.forEach((ft,Vt)=>{(Vt===B||ft.checkChildren&&Vt.contains(B))&&Te.push([Vt,ft])}),Te}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(_.R0b),_.LFG(x.t4),_.LFG(Ft),_.LFG(u.K0,8),_.LFG(xn,8))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Bn=(()=>{class z{constructor(B,Te){this._elementRef=B,this._focusMonitor=Te,this.cdkFocusChange=new _.vpe}ngAfterViewInit(){const B=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(B,1===B.nodeType&&B.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Te=>this.cdkFocusChange.emit(Te))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return z.\u0275fac=function(B){return new(B||z)(_.Y36(_.SBq),_.Y36(rr))},z.\u0275dir=_.lG2({type:z,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),z})();const Gn="cdk-high-contrast-black-on-white",In="cdk-high-contrast-white-on-black",Zr="cdk-high-contrast-active";let ct=(()=>{class z{constructor(B,Te){this._platform=B,this._document=Te}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const B=this._document.createElement("div");B.style.backgroundColor="rgb(1,2,3)",B.style.position="absolute",this._document.body.appendChild(B);const Te=this._document.defaultView||window,ft=Te&&Te.getComputedStyle?Te.getComputedStyle(B):null,Vt=(ft&&ft.backgroundColor||"").replace(/ /g,"");switch(B.remove(),Vt){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const B=this._document.body.classList;B.remove(Zr),B.remove(Gn),B.remove(In),this._hasCheckedHighContrastMode=!0;const Te=this.getHighContrastMode();1===Te?(B.add(Zr),B.add(Gn)):2===Te&&(B.add(Zr),B.add(In))}}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(x.t4),_.LFG(u.K0))},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Ae=(()=>{class z{constructor(B){B._applyBodyHighContrastModeCssClasses()}}return z.\u0275fac=function(B){return new(B||z)(_.LFG(ct))},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({imports:[[Ye.Q8]]}),z})()},226:(Zt,nt,m)=>{m.d(nt,{vT:()=>be,Is:()=>Re});var u=m(5e3),_=m(9808);const x=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function te(){return(0,u.f3M)(_.K0)}}),he=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Re=(()=>{class H{constructor(ue){if(this.value="ltr",this.change=new u.vpe,ue){const Me=ue.documentElement?ue.documentElement.dir:null;this.value=function _e(H){const ie=(null==H?void 0:H.toLowerCase())||"";return"auto"===ie&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?he.test(navigator.language)?"rtl":"ltr":"rtl"===ie?"rtl":"ltr"}((ue.body?ue.body.dir:null)||Me||"ltr")}}ngOnDestroy(){this.change.complete()}}return H.\u0275fac=function(ue){return new(ue||H)(u.LFG(x,8))},H.\u0275prov=u.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),be=(()=>{class H{}return H.\u0275fac=function(ue){return new(ue||H)},H.\u0275mod=u.oAB({type:H}),H.\u0275inj=u.cJS({}),H})()},3191:(Zt,nt,m)=>{m.d(nt,{Eq:()=>he,Ig:()=>_,HM:()=>_e,fI:()=>Re,su:()=>x,du:()=>ve});var u=m(5e3);function _(be){return null!=be&&"false"!=`${be}`}function x(be,H=0){return function te(be){return!isNaN(parseFloat(be))&&!isNaN(Number(be))}(be)?Number(be):H}function he(be){return Array.isArray(be)?be:[be]}function _e(be){return null==be?"":"string"==typeof be?be:`${be}px`}function Re(be){return be instanceof u.SBq?be.nativeElement:be}function ve(be,H=/\s+/){const ie=[];if(null!=be){const ue=Array.isArray(be)?be:`${be}`.split(H);for(const Pe of ue){const Me=`${Pe}`.trim();Me&&ie.push(Me)}}return ie}},1159:(Zt,nt,m)=>{m.d(nt,{A:()=>zt,zL:()=>ve,ZH:()=>_,jx:()=>Re,yY:()=>st,JH:()=>It,uR:()=>de,K5:()=>he,hY:()=>ie,Sd:()=>$e,oh:()=>Fe,b2:()=>Yi,MW:()=>On,aO:()=>on,VM:()=>Me,Ku:()=>Pe,SV:()=>Ne,JU:()=>_e,L_:()=>ue,Mf:()=>x,LH:()=>Ye,Z:()=>nn,xE:()=>Ke,Vb:()=>pi});const _=8,x=9,he=13,_e=16,Re=17,ve=18,ie=27,ue=32,Pe=33,Me=34,de=35,$e=36,Fe=37,Ye=38,Ne=39,It=40,st=46,Ke=48,on=57,zt=65,nn=90,On=91,Yi=224;function pi(xr,...es){return es.length?es.some(Hi=>xr[Hi]):xr.altKey||xr.shiftKey||xr.ctrlKey||xr.metaKey}},7144:(Zt,nt,m)=>{m.d(nt,{wD:()=>ve,Q8:()=>be});var u=m(3191),_=m(5e3),x=m(8306),te=m(7579),he=m(8372);let _e=(()=>{class H{create(ue){return"undefined"==typeof MutationObserver?null:new MutationObserver(ue)}}return H.\u0275fac=function(ue){return new(ue||H)},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),Re=(()=>{class H{constructor(ue){this._mutationObserverFactory=ue,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ue,Pe)=>this._cleanupObserver(Pe))}observe(ue){const Pe=(0,u.fI)(ue);return new x.y(Me=>{const $e=this._observeElement(Pe).subscribe(Me);return()=>{$e.unsubscribe(),this._unobserveElement(Pe)}})}_observeElement(ue){if(this._observedElements.has(ue))this._observedElements.get(ue).count++;else{const Pe=new te.x,Me=this._mutationObserverFactory.create(de=>Pe.next(de));Me&&Me.observe(ue,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ue,{observer:Me,stream:Pe,count:1})}return this._observedElements.get(ue).stream}_unobserveElement(ue){this._observedElements.has(ue)&&(this._observedElements.get(ue).count--,this._observedElements.get(ue).count||this._cleanupObserver(ue))}_cleanupObserver(ue){if(this._observedElements.has(ue)){const{observer:Pe,stream:Me}=this._observedElements.get(ue);Pe&&Pe.disconnect(),Me.complete(),this._observedElements.delete(ue)}}}return H.\u0275fac=function(ue){return new(ue||H)(_.LFG(_e))},H.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),ve=(()=>{class H{constructor(ue,Pe,Me){this._contentObserver=ue,this._elementRef=Pe,this._ngZone=Me,this.event=new _.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ue){this._disabled=(0,u.Ig)(ue),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ue){this._debounce=(0,u.su)(ue),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ue=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ue.pipe((0,he.b)(this.debounce)):ue).subscribe(this.event)})}_unsubscribe(){var ue;null===(ue=this._currentSubscription)||void 0===ue||ue.unsubscribe()}}return H.\u0275fac=function(ue){return new(ue||H)(_.Y36(Re),_.Y36(_.SBq),_.Y36(_.R0b))},H.\u0275dir=_.lG2({type:H,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),H})(),be=(()=>{class H{}return H.\u0275fac=function(ue){return new(ue||H)},H.\u0275mod=_.oAB({type:H}),H.\u0275inj=_.cJS({providers:[_e]}),H})()},925:(Zt,nt,m)=>{m.d(nt,{t4:()=>te,sA:()=>It,ht:()=>Ne,kV:()=>Ye,Oy:()=>Je,qK:()=>ve,i$:()=>ie,Mq:()=>Me});var u=m(5e3),_=m(9808);let x;try{x="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(xe){x=!1}let _e,te=(()=>{class xe{constructor(st){this._platformId=st,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!x)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return xe.\u0275fac=function(st){return new(st||xe)(u.LFG(u.Lbi))},xe.\u0275prov=u.Yz7({token:xe,factory:xe.\u0275fac,providedIn:"root"}),xe})();const Re=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ve(){if(_e)return _e;if("object"!=typeof document||!document)return _e=new Set(Re),_e;let xe=document.createElement("input");return _e=new Set(Re.filter(je=>(xe.setAttribute("type",je),xe.type===je))),_e}let be,Pe,$e;function ie(xe){return function H(){if(null==be&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>be=!0}))}finally{be=be||!1}return be}()?xe:!!xe.capture}function Me(){if(null==Pe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Pe=!1,Pe;if("scrollBehavior"in document.documentElement.style)Pe=!0;else{const xe=Element.prototype.scrollTo;Pe=!!xe&&!/\{\s*\[native code\]\s*\}/.test(xe.toString())}}return Pe}function Ye(xe){if(function Fe(){if(null==$e){const xe="undefined"!=typeof document?document.head:null;$e=!(!xe||!xe.createShadowRoot&&!xe.attachShadow)}return $e}()){const je=xe.getRootNode?xe.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&je instanceof ShadowRoot)return je}return null}function Ne(){let xe="undefined"!=typeof document&&document?document.activeElement:null;for(;xe&&xe.shadowRoot;){const je=xe.shadowRoot.activeElement;if(je===xe)break;xe=je}return xe}function It(xe){return xe.composedPath?xe.composedPath()[0]:xe.target}function Je(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},9808:(Zt,nt,m)=>{m.d(nt,{mr:()=>Ne,ez:()=>$i,K0:()=>Re,uU:()=>mt,Do:()=>Je,V_:()=>H,Ye:()=>xe,S$:()=>Fe,mk:()=>Xi,sg:()=>ni,O5:()=>pi,PC:()=>bs,RF:()=>gi,n9:()=>Li,ED:()=>us,b0:()=>It,lw:()=>ve,EM:()=>ge,JF:()=>Yt,NF:()=>oi,PM:()=>Q,w_:()=>_e,bD:()=>Bi,q:()=>x,Mx:()=>Mi,HT:()=>he});var u=m(5e3);let _=null;function x(){return _}function he(L){_||(_=L)}class _e{}const Re=new u.OlP("DocumentToken");let ve=(()=>{class L{historyGo(F){throw new Error("Not implemented")}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275prov=u.Yz7({token:L,factory:function(){return function be(){return(0,u.LFG)(ie)}()},providedIn:"platform"}),L})();const H=new u.OlP("Location Initialized");let ie=(()=>{class L extends ve{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(F){const Ce=x().getGlobalEventTarget(this._doc,"window");return Ce.addEventListener("popstate",F,!1),()=>Ce.removeEventListener("popstate",F)}onHashChange(F){const Ce=x().getGlobalEventTarget(this._doc,"window");return Ce.addEventListener("hashchange",F,!1),()=>Ce.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,Ce,Ze){ue()?this._history.pushState(F,Ce,Ze):this.location.hash=Ze}replaceState(F,Ce,Ze){ue()?this._history.replaceState(F,Ce,Ze):this.location.hash=Ze}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return L.\u0275fac=function(F){return new(F||L)(u.LFG(Re))},L.\u0275prov=u.Yz7({token:L,factory:function(){return function Pe(){return new ie((0,u.LFG)(Re))}()},providedIn:"platform"}),L})();function ue(){return!!window.history.pushState}function Me(L,se){if(0==L.length)return se;if(0==se.length)return L;let F=0;return L.endsWith("/")&&F++,se.startsWith("/")&&F++,2==F?L+se.substring(1):1==F?L+se:L+"/"+se}function de(L){const se=L.match(/#|\?|$/),F=se&&se.index||L.length;return L.slice(0,F-("/"===L[F-1]?1:0))+L.slice(F)}function $e(L){return L&&"?"!==L[0]?"?"+L:L}let Fe=(()=>{class L{historyGo(F){throw new Error("Not implemented")}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275prov=u.Yz7({token:L,factory:function(){return function Ye(L){const se=(0,u.LFG)(Re).location;return new It((0,u.LFG)(ve),se&&se.origin||"")}()},providedIn:"root"}),L})();const Ne=new u.OlP("appBaseHref");let It=(()=>{class L extends Fe{constructor(F,Ce){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==Ce&&(Ce=this._platformLocation.getBaseHrefFromDOM()),null==Ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Me(this._baseHref,F)}path(F=!1){const Ce=this._platformLocation.pathname+$e(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&F?`${Ce}${Ze}`:Ce}pushState(F,Ce,Ze,wt){const Bt=this.prepareExternalUrl(Ze+$e(wt));this._platformLocation.pushState(F,Ce,Bt)}replaceState(F,Ce,Ze,wt){const Bt=this.prepareExternalUrl(Ze+$e(wt));this._platformLocation.replaceState(F,Ce,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var Ce,Ze;null===(Ze=(Ce=this._platformLocation).historyGo)||void 0===Ze||Ze.call(Ce,F)}}return L.\u0275fac=function(F){return new(F||L)(u.LFG(ve),u.LFG(Ne,8))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac}),L})(),Je=(()=>{class L extends Fe{constructor(F,Ce){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=Ce&&(this._baseHref=Ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let Ce=this._platformLocation.hash;return null==Ce&&(Ce="#"),Ce.length>0?Ce.substring(1):Ce}prepareExternalUrl(F){const Ce=Me(this._baseHref,F);return Ce.length>0?"#"+Ce:Ce}pushState(F,Ce,Ze,wt){let Bt=this.prepareExternalUrl(Ze+$e(wt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.pushState(F,Ce,Bt)}replaceState(F,Ce,Ze,wt){let Bt=this.prepareExternalUrl(Ze+$e(wt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.replaceState(F,Ce,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var Ce,Ze;null===(Ze=(Ce=this._platformLocation).historyGo)||void 0===Ze||Ze.call(Ce,F)}}return L.\u0275fac=function(F){return new(F||L)(u.LFG(ve),u.LFG(Ne,8))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac}),L})(),xe=(()=>{class L{constructor(F,Ce){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const Ze=this._platformStrategy.getBaseHref();this._platformLocation=Ce,this._baseHref=de(Ke(Ze)),this._platformStrategy.onPopState(wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:wt.state,type:wt.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,Ce=""){return this.path()==this.normalize(F+$e(Ce))}normalize(F){return L.stripTrailingSlash(function st(L,se){return L&&se.startsWith(L)?se.substring(L.length):se}(this._baseHref,Ke(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,Ce="",Ze=null){this._platformStrategy.pushState(Ze,"",F,Ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+$e(Ce)),Ze)}replaceState(F,Ce="",Ze=null){this._platformStrategy.replaceState(Ze,"",F,Ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+$e(Ce)),Ze)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var Ce,Ze;null===(Ze=(Ce=this._platformStrategy).historyGo)||void 0===Ze||Ze.call(Ce,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ce=>{this._notifyUrlChangeListeners(Ce.url,Ce.state)}))}_notifyUrlChangeListeners(F="",Ce){this._urlChangeListeners.forEach(Ze=>Ze(F,Ce))}subscribe(F,Ce,Ze){return this._subject.subscribe({next:F,error:Ce,complete:Ze})}}return L.normalizeQueryParams=$e,L.joinWithSlash=Me,L.stripTrailingSlash=de,L.\u0275fac=function(F){return new(F||L)(u.LFG(Fe),u.LFG(ve))},L.\u0275prov=u.Yz7({token:L,factory:function(){return function je(){return new xe((0,u.LFG)(Fe),(0,u.LFG)(ve))}()},providedIn:"root"}),L})();function Ke(L){return L.replace(/\/index.html$/,"")}var De=(()=>((De=De||{})[De.Zero=0]="Zero",De[De.One=1]="One",De[De.Two=2]="Two",De[De.Few=3]="Few",De[De.Many=4]="Many",De[De.Other=5]="Other",De))(),He=(()=>((He=He||{})[He.Format=0]="Format",He[He.Standalone=1]="Standalone",He))(),Xe=(()=>((Xe=Xe||{})[Xe.Narrow=0]="Narrow",Xe[Xe.Abbreviated=1]="Abbreviated",Xe[Xe.Wide=2]="Wide",Xe[Xe.Short=3]="Short",Xe))(),dt=(()=>((dt=dt||{})[dt.Short=0]="Short",dt[dt.Medium=1]="Medium",dt[dt.Long=2]="Long",dt[dt.Full=3]="Full",dt))(),ut=(()=>((ut=ut||{})[ut.Decimal=0]="Decimal",ut[ut.Group=1]="Group",ut[ut.List=2]="List",ut[ut.PercentSign=3]="PercentSign",ut[ut.PlusSign=4]="PlusSign",ut[ut.MinusSign=5]="MinusSign",ut[ut.Exponential=6]="Exponential",ut[ut.SuperscriptingExponent=7]="SuperscriptingExponent",ut[ut.PerMille=8]="PerMille",ut[ut.Infinity=9]="Infinity",ut[ut.NaN=10]="NaN",ut[ut.TimeSeparator=11]="TimeSeparator",ut[ut.CurrencyDecimal=12]="CurrencyDecimal",ut[ut.CurrencyGroup=13]="CurrencyGroup",ut))();function _n(L,se){return Er((0,u.cg1)(L)[u.wAp.DateFormat],se)}function xt(L,se){return Er((0,u.cg1)(L)[u.wAp.TimeFormat],se)}function St(L,se){return Er((0,u.cg1)(L)[u.wAp.DateTimeFormat],se)}function Gt(L,se){const F=(0,u.cg1)(L),Ce=F[u.wAp.NumberSymbols][se];if(void 0===Ce){if(se===ut.CurrencyDecimal)return F[u.wAp.NumberSymbols][ut.Decimal];if(se===ut.CurrencyGroup)return F[u.wAp.NumberSymbols][ut.Group]}return Ce}const hr=u.kL8;function qr(L){if(!L[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Er(L,se){for(let F=se;F>-1;F--)if(void 0!==L[F])return L[F];throw new Error("Locale data API: locale data undefined")}function vr(L){const[se,F]=L.split(":");return{hours:+se,minutes:+F}}const ze=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ft={},Nt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ht=(()=>((Ht=Ht||{})[Ht.Short=0]="Short",Ht[Ht.ShortGMT=1]="ShortGMT",Ht[Ht.Long=2]="Long",Ht[Ht.Extended=3]="Extended",Ht))(),nn=(()=>((nn=nn||{})[nn.FullYear=0]="FullYear",nn[nn.Month=1]="Month",nn[nn.Date=2]="Date",nn[nn.Hours=3]="Hours",nn[nn.Minutes=4]="Minutes",nn[nn.Seconds=5]="Seconds",nn[nn.FractionalSeconds=6]="FractionalSeconds",nn[nn.Day=7]="Day",nn))(),On=(()=>((On=On||{})[On.DayPeriods=0]="DayPeriods",On[On.Days=1]="Days",On[On.Months=2]="Months",On[On.Eras=3]="Eras",On))();function Ln(L,se,F,Ce){let Ze=function Ge(L){if(vt(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[Ze,wt=1,Bt=1]=L.split("-").map(Dn=>+Dn);return xn(Ze,wt-1,Bt)}const F=parseFloat(L);if(!isNaN(L-F))return new Date(F);let Ce;if(Ce=L.match(ze))return function rt(L){const se=new Date(0);let F=0,Ce=0;const Ze=L[8]?se.setUTCFullYear:se.setFullYear,wt=L[8]?se.setUTCHours:se.setHours;L[9]&&(F=Number(L[9]+L[10]),Ce=Number(L[9]+L[11])),Ze.call(se,Number(L[1]),Number(L[2])-1,Number(L[3]));const Bt=Number(L[4]||0)-F,Dn=Number(L[5]||0)-Ce,tr=Number(L[6]||0),cr=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return wt.call(se,Bt,Dn,tr,cr),se}(Ce)}const se=new Date(L);if(!vt(se))throw new Error(`Unable to convert "${L}" into a date`);return se}(L);se=zn(F,se)||se;let Dn,Bt=[];for(;se;){if(Dn=Nt.exec(se),!Dn){Bt.push(se);break}{Bt=Bt.concat(Dn.slice(1));const lr=Bt.pop();if(!lr)break;se=lr}}let tr=Ze.getTimezoneOffset();Ce&&(tr=Z(Ce,tr),Ze=function et(L,se,F){const Ce=F?-1:1,Ze=L.getTimezoneOffset();return function at(L,se){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+se),L}(L,Ce*(Z(se,Ze)-Ze))}(Ze,Ce,!0));let cr="";return Bt.forEach(lr=>{const dr=function T(L){if(Rt[L])return Rt[L];let se;switch(L){case"G":case"GG":case"GGG":se=ct(On.Eras,Xe.Abbreviated);break;case"GGGG":se=ct(On.Eras,Xe.Wide);break;case"GGGGG":se=ct(On.Eras,Xe.Narrow);break;case"y":se=In(nn.FullYear,1,0,!1,!0);break;case"yy":se=In(nn.FullYear,2,0,!0,!0);break;case"yyy":se=In(nn.FullYear,3,0,!1,!0);break;case"yyyy":se=In(nn.FullYear,4,0,!1,!0);break;case"Y":se=pe(1);break;case"YY":se=pe(2,!0);break;case"YYY":se=pe(3);break;case"YYYY":se=pe(4);break;case"M":case"L":se=In(nn.Month,1,1);break;case"MM":case"LL":se=In(nn.Month,2,1);break;case"MMM":se=ct(On.Months,Xe.Abbreviated);break;case"MMMM":se=ct(On.Months,Xe.Wide);break;case"MMMMM":se=ct(On.Months,Xe.Narrow);break;case"LLL":se=ct(On.Months,Xe.Abbreviated,He.Standalone);break;case"LLLL":se=ct(On.Months,Xe.Wide,He.Standalone);break;case"LLLLL":se=ct(On.Months,Xe.Narrow,He.Standalone);break;case"w":se=Vt(1);break;case"ww":se=Vt(2);break;case"W":se=Vt(1,!0);break;case"d":se=In(nn.Date,1);break;case"dd":se=In(nn.Date,2);break;case"c":case"cc":se=In(nn.Day,1);break;case"ccc":se=ct(On.Days,Xe.Abbreviated,He.Standalone);break;case"cccc":se=ct(On.Days,Xe.Wide,He.Standalone);break;case"ccccc":se=ct(On.Days,Xe.Narrow,He.Standalone);break;case"cccccc":se=ct(On.Days,Xe.Short,He.Standalone);break;case"E":case"EE":case"EEE":se=ct(On.Days,Xe.Abbreviated);break;case"EEEE":se=ct(On.Days,Xe.Wide);break;case"EEEEE":se=ct(On.Days,Xe.Narrow);break;case"EEEEEE":se=ct(On.Days,Xe.Short);break;case"a":case"aa":case"aaa":se=ct(On.DayPeriods,Xe.Abbreviated);break;case"aaaa":se=ct(On.DayPeriods,Xe.Wide);break;case"aaaaa":se=ct(On.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":se=ct(On.DayPeriods,Xe.Abbreviated,He.Standalone,!0);break;case"bbbb":se=ct(On.DayPeriods,Xe.Wide,He.Standalone,!0);break;case"bbbbb":se=ct(On.DayPeriods,Xe.Narrow,He.Standalone,!0);break;case"B":case"BB":case"BBB":se=ct(On.DayPeriods,Xe.Abbreviated,He.Format,!0);break;case"BBBB":se=ct(On.DayPeriods,Xe.Wide,He.Format,!0);break;case"BBBBB":se=ct(On.DayPeriods,Xe.Narrow,He.Format,!0);break;case"h":se=In(nn.Hours,1,-12);break;case"hh":se=In(nn.Hours,2,-12);break;case"H":se=In(nn.Hours,1);break;case"HH":se=In(nn.Hours,2);break;case"m":se=In(nn.Minutes,1);break;case"mm":se=In(nn.Minutes,2);break;case"s":se=In(nn.Seconds,1);break;case"ss":se=In(nn.Seconds,2);break;case"S":se=In(nn.FractionalSeconds,1);break;case"SS":se=In(nn.FractionalSeconds,2);break;case"SSS":se=In(nn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":se=z(Ht.Short);break;case"ZZZZZ":se=z(Ht.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":se=z(Ht.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":se=z(Ht.Long);break;default:return null}return Rt[L]=se,se}(lr);cr+=dr?dr(Ze,F,tr):"''"===lr?"'":lr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),cr}function xn(L,se,F){const Ce=new Date(0);return Ce.setFullYear(L,se,F),Ce.setHours(0,0,0),Ce}function zn(L,se){const F=function on(L){return(0,u.cg1)(L)[u.wAp.LocaleId]}(L);if(Ft[F]=Ft[F]||{},Ft[F][se])return Ft[F][se];let Ce="";switch(se){case"shortDate":Ce=_n(L,dt.Short);break;case"mediumDate":Ce=_n(L,dt.Medium);break;case"longDate":Ce=_n(L,dt.Long);break;case"fullDate":Ce=_n(L,dt.Full);break;case"shortTime":Ce=xt(L,dt.Short);break;case"mediumTime":Ce=xt(L,dt.Medium);break;case"longTime":Ce=xt(L,dt.Long);break;case"fullTime":Ce=xt(L,dt.Full);break;case"short":const Ze=zn(L,"shortTime"),wt=zn(L,"shortDate");Ce=rr(St(L,dt.Short),[Ze,wt]);break;case"medium":const Bt=zn(L,"mediumTime"),Dn=zn(L,"mediumDate");Ce=rr(St(L,dt.Medium),[Bt,Dn]);break;case"long":const tr=zn(L,"longTime"),cr=zn(L,"longDate");Ce=rr(St(L,dt.Long),[tr,cr]);break;case"full":const lr=zn(L,"fullTime"),dr=zn(L,"fullDate");Ce=rr(St(L,dt.Full),[lr,dr])}return Ce&&(Ft[F][se]=Ce),Ce}function rr(L,se){return se&&(L=L.replace(/\{([^}]+)}/g,function(F,Ce){return null!=se&&Ce in se?se[Ce]:F})),L}function Bn(L,se,F="-",Ce,Ze){let wt="";(L<0||Ze&&L<=0)&&(Ze?L=1-L:(L=-L,wt=F));let Bt=String(L);for(;Bt.length<se;)Bt="0"+Bt;return Ce&&(Bt=Bt.substr(Bt.length-se)),wt+Bt}function In(L,se,F=0,Ce=!1,Ze=!1){return function(wt,Bt){let Dn=function Zr(L,se){switch(L){case nn.FullYear:return se.getFullYear();case nn.Month:return se.getMonth();case nn.Date:return se.getDate();case nn.Hours:return se.getHours();case nn.Minutes:return se.getMinutes();case nn.Seconds:return se.getSeconds();case nn.FractionalSeconds:return se.getMilliseconds();case nn.Day:return se.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,wt);if((F>0||Dn>-F)&&(Dn+=F),L===nn.Hours)0===Dn&&-12===F&&(Dn=12);else if(L===nn.FractionalSeconds)return function Gn(L,se){return Bn(L,3).substr(0,se)}(Dn,se);const tr=Gt(Bt,ut.MinusSign);return Bn(Dn,se,tr,Ce,Ze)}}function ct(L,se,F=He.Format,Ce=!1){return function(Ze,wt){return function Ae(L,se,F,Ce,Ze,wt){switch(F){case On.Months:return function _t(L,se,F){const Ce=(0,u.cg1)(L),wt=Er([Ce[u.wAp.MonthsFormat],Ce[u.wAp.MonthsStandalone]],se);return Er(wt,F)}(se,Ze,Ce)[L.getMonth()];case On.Days:return function mn(L,se,F){const Ce=(0,u.cg1)(L),wt=Er([Ce[u.wAp.DaysFormat],Ce[u.wAp.DaysStandalone]],se);return Er(wt,F)}(se,Ze,Ce)[L.getDay()];case On.DayPeriods:const Bt=L.getHours(),Dn=L.getMinutes();if(wt){const cr=function Lr(L){const se=(0,u.cg1)(L);return qr(se),(se[u.wAp.ExtraData][2]||[]).map(Ce=>"string"==typeof Ce?vr(Ce):[vr(Ce[0]),vr(Ce[1])])}(se),lr=function pn(L,se,F){const Ce=(0,u.cg1)(L);qr(Ce);const wt=Er([Ce[u.wAp.ExtraData][0],Ce[u.wAp.ExtraData][1]],se)||[];return Er(wt,F)||[]}(se,Ze,Ce),dr=cr.findIndex(Tr=>{if(Array.isArray(Tr)){const[Sr,Xr]=Tr,Y=Bt>=Sr.hours&&Dn>=Sr.minutes,j=Bt<Xr.hours||Bt===Xr.hours&&Dn<Xr.minutes;if(Sr.hours<Xr.hours){if(Y&&j)return!0}else if(Y||j)return!0}else if(Tr.hours===Bt&&Tr.minutes===Dn)return!0;return!1});if(-1!==dr)return lr[dr]}return function An(L,se,F){const Ce=(0,u.cg1)(L),wt=Er([Ce[u.wAp.DayPeriodsFormat],Ce[u.wAp.DayPeriodsStandalone]],se);return Er(wt,F)}(se,Ze,Ce)[Bt<12?0:1];case On.Eras:return function $t(L,se){return Er((0,u.cg1)(L)[u.wAp.Eras],se)}(se,Ce)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${F}`)}}(Ze,wt,L,se,F,Ce)}}function z(L){return function(se,F,Ce){const Ze=-1*Ce,wt=Gt(F,ut.MinusSign),Bt=Ze>0?Math.floor(Ze/60):Math.ceil(Ze/60);switch(L){case Ht.Short:return(Ze>=0?"+":"")+Bn(Bt,2,wt)+Bn(Math.abs(Ze%60),2,wt);case Ht.ShortGMT:return"GMT"+(Ze>=0?"+":"")+Bn(Bt,1,wt);case Ht.Long:return"GMT"+(Ze>=0?"+":"")+Bn(Bt,2,wt)+":"+Bn(Math.abs(Ze%60),2,wt);case Ht.Extended:return 0===Ce?"Z":(Ze>=0?"+":"")+Bn(Bt,2,wt)+":"+Bn(Math.abs(Ze%60),2,wt);default:throw new Error(`Unknown zone width "${L}"`)}}}function ft(L){return xn(L.getFullYear(),L.getMonth(),L.getDate()+(4-L.getDay()))}function Vt(L,se=!1){return function(F,Ce){let Ze;if(se){const wt=new Date(F.getFullYear(),F.getMonth(),1).getDay()-1,Bt=F.getDate();Ze=1+Math.floor((Bt+wt)/7)}else{const wt=ft(F),Bt=function Te(L){const se=xn(L,0,1).getDay();return xn(L,0,1+(se<=4?4:11)-se)}(wt.getFullYear()),Dn=wt.getTime()-Bt.getTime();Ze=1+Math.round(Dn/6048e5)}return Bn(Ze,L,Gt(Ce,ut.MinusSign))}}function pe(L,se=!1){return function(F,Ce){return Bn(ft(F).getFullYear(),L,Gt(Ce,ut.MinusSign),se)}}const Rt={};function Z(L,se){L=L.replace(/:/g,"");const F=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(F)?se:F}function vt(L){return L instanceof Date&&!isNaN(L.valueOf())}class Hr{}let $r=(()=>{class L extends Hr{constructor(F){super(),this.locale=F}getPluralCategory(F,Ce){switch(hr(Ce||this.locale)(F)){case De.Zero:return"zero";case De.One:return"one";case De.Two:return"two";case De.Few:return"few";case De.Many:return"many";default:return"other"}}}return L.\u0275fac=function(F){return new(F||L)(u.LFG(u.soG))},L.\u0275prov=u.Yz7({token:L,factory:L.\u0275fac}),L})();function Mi(L,se){se=encodeURIComponent(se);for(const F of L.split(";")){const Ce=F.indexOf("="),[Ze,wt]=-1==Ce?[F,""]:[F.slice(0,Ce),F.slice(Ce+1)];if(Ze.trim()===se)return decodeURIComponent(wt)}return null}let Xi=(()=>{class L{constructor(F,Ce,Ze,wt){this._iterableDiffers=F,this._keyValueDiffers=Ce,this._ngEl=Ze,this._renderer=wt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(Ce=>this._toggleClass(Ce.key,Ce.currentValue)),F.forEachChangedItem(Ce=>this._toggleClass(Ce.key,Ce.currentValue)),F.forEachRemovedItem(Ce=>{Ce.previousValue&&this._toggleClass(Ce.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(Ce=>{if("string"!=typeof Ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(Ce.item)}`);this._toggleClass(Ce.item,!0)}),F.forEachRemovedItem(Ce=>this._toggleClass(Ce.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(Ce=>this._toggleClass(Ce,!0)):Object.keys(F).forEach(Ce=>this._toggleClass(Ce,!!F[Ce])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(Ce=>this._toggleClass(Ce,!1)):Object.keys(F).forEach(Ce=>this._toggleClass(Ce,!1)))}_toggleClass(F,Ce){(F=F.trim())&&F.split(/\s+/g).forEach(Ze=>{Ce?this._renderer.addClass(this._ngEl.nativeElement,Ze):this._renderer.removeClass(this._ngEl.nativeElement,Ze)})}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L})();class bi{constructor(se,F,Ce,Ze){this.$implicit=se,this.ngForOf=F,this.index=Ce,this.count=Ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class L{constructor(F,Ce,Ze){this._viewContainer=F,this._template=Ce,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const Ce=this._viewContainer;F.forEachOperation((Ze,wt,Bt)=>{if(null==Ze.previousIndex)Ce.createEmbeddedView(this._template,new bi(Ze.item,this._ngForOf,-1,-1),null===Bt?void 0:Bt);else if(null==Bt)Ce.remove(null===wt?void 0:wt);else if(null!==wt){const Dn=Ce.get(wt);Ce.move(Dn,Bt),Pi(Dn,Ze)}});for(let Ze=0,wt=Ce.length;Ze<wt;Ze++){const Dn=Ce.get(Ze).context;Dn.index=Ze,Dn.count=wt,Dn.ngForOf=this._ngForOf}F.forEachIdentityChange(Ze=>{Pi(Ce.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard(F,Ce){return!0}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();function Pi(L,se){L.context.$implicit=se.item}let pi=(()=>{class L{constructor(F,Ce){this._viewContainer=F,this._context=new xr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ce}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){es("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){es("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,Ce){return!0}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.s_b),u.Y36(u.Rgc))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class xr{constructor(){this.$implicit=null,this.ngIf=null}}function es(L,se){if(se&&!se.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,u.AaK)(se)}'.`)}class Hi{constructor(se,F){this._viewContainerRef=se,this._templateRef=F,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(se){se&&!this._created?this.create():!se&&this._created&&this.destroy()}}let gi=(()=>{class L{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(F){this._ngSwitch=F,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(F){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(F)}_matchCase(F){const Ce=F==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Ce,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ce}_updateDefaultCases(F){if(this._defaultViews&&F!==this._defaultUsed){this._defaultUsed=F;for(let Ce=0;Ce<this._defaultViews.length;Ce++)this._defaultViews[Ce].enforceState(F)}}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275dir=u.lG2({type:L,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),L})(),Li=(()=>{class L{constructor(F,Ce,Ze){this.ngSwitch=Ze,Ze._addCase(),this._view=new Hi(F,Ce)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(gi,9))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),L})(),us=(()=>{class L{constructor(F,Ce,Ze){Ze._addDefault(new Hi(F,Ce))}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(gi,9))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngSwitchDefault",""]]}),L})(),bs=(()=>{class L{constructor(F,Ce,Ze){this._ngEl=F,this._differs=Ce,this._renderer=Ze,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,Ce){const[Ze,wt]=F.split(".");null!=(Ce=null!=Ce&&wt?`${Ce}${wt}`:Ce)?this._renderer.setStyle(this._ngEl.nativeElement,Ze,Ce):this._renderer.removeStyle(this._ngEl.nativeElement,Ze)}_applyChanges(F){F.forEachRemovedItem(Ce=>this._setStyle(Ce.key,null)),F.forEachAddedItem(Ce=>this._setStyle(Ce.key,Ce.currentValue)),F.forEachChangedItem(Ce=>this._setStyle(Ce.key,Ce.currentValue))}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},L.\u0275dir=u.lG2({type:L,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),L})();const it=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let mt=(()=>{class L{constructor(F,Ce){this.locale=F,this.defaultTimezone=Ce}transform(F,Ce="mediumDate",Ze,wt){var Bt;if(null==F||""===F||F!=F)return null;try{return Ln(F,Ce,wt||this.locale,null!==(Bt=null!=Ze?Ze:this.defaultTimezone)&&void 0!==Bt?Bt:void 0)}catch(Dn){throw function yi(L,se){return new u.vHH(2100,"")}()}}}return L.\u0275fac=function(F){return new(F||L)(u.Y36(u.soG,16),u.Y36(it,24))},L.\u0275pipe=u.Yjl({name:"date",type:L,pure:!0}),L})(),$i=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=u.oAB({type:L}),L.\u0275inj=u.cJS({providers:[{provide:Hr,useClass:$r}]}),L})();const Bi="browser";function oi(L){return L===Bi}function Q(L){return"server"===L}let ge=(()=>{class L{}return L.\u0275prov=(0,u.Yz7)({token:L,providedIn:"root",factory:()=>new tt((0,u.LFG)(Re),window)}),L})();class tt{constructor(se,F){this.document=se,this.window=F,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const F=function Wt(L,se){const F=L.getElementById(se)||L.getElementsByName(se)[0];if(F)return F;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const Ce=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let Ze=Ce.currentNode;for(;Ze;){const wt=Ze.shadowRoot;if(wt){const Bt=wt.getElementById(se)||wt.querySelector(`[name="${se}"]`);if(Bt)return Bt}Ze=Ce.nextNode()}}return null}(this.document,se);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=se)}}scrollToElement(se){const F=se.getBoundingClientRect(),Ce=F.left+this.window.pageXOffset,Ze=F.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(Ce-wt[0],Ze-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=At(this.window.history)||At(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function At(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class Yt{}},520:(Zt,nt,m)=>{m.d(nt,{eN:()=>ut,Ed:()=>vr,JF:()=>Er,WM:()=>H,LE:()=>Fe});var u=m(9808),_=m(5e3),x=m(9646),te=m(8306),he=m(4351),_e=m(9300),Re=m(4004);class ve{}class be{}class H{constructor(Le){this.normalizedNames=new Map,this.lazyUpdate=null,Le?this.lazyInit="string"==typeof Le?()=>{this.headers=new Map,Le.split("\n").forEach(ze=>{const Ft=ze.indexOf(":");if(Ft>0){const Nt=ze.slice(0,Ft),Ht=Nt.toLowerCase(),nn=ze.slice(Ft+1).trim();this.maybeSetNormalizedName(Nt,Ht),this.headers.has(Ht)?this.headers.get(Ht).push(nn):this.headers.set(Ht,[nn])}})}:()=>{this.headers=new Map,Object.keys(Le).forEach(ze=>{let Ft=Le[ze];const Nt=ze.toLowerCase();"string"==typeof Ft&&(Ft=[Ft]),Ft.length>0&&(this.headers.set(Nt,Ft),this.maybeSetNormalizedName(ze,Nt))})}:this.headers=new Map}has(Le){return this.init(),this.headers.has(Le.toLowerCase())}get(Le){this.init();const ze=this.headers.get(Le.toLowerCase());return ze&&ze.length>0?ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Le){return this.init(),this.headers.get(Le.toLowerCase())||null}append(Le,ze){return this.clone({name:Le,value:ze,op:"a"})}set(Le,ze){return this.clone({name:Le,value:ze,op:"s"})}delete(Le,ze){return this.clone({name:Le,value:ze,op:"d"})}maybeSetNormalizedName(Le,ze){this.normalizedNames.has(ze)||this.normalizedNames.set(ze,Le)}init(){this.lazyInit&&(this.lazyInit instanceof H?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Le=>this.applyUpdate(Le)),this.lazyUpdate=null))}copyFrom(Le){Le.init(),Array.from(Le.headers.keys()).forEach(ze=>{this.headers.set(ze,Le.headers.get(ze)),this.normalizedNames.set(ze,Le.normalizedNames.get(ze))})}clone(Le){const ze=new H;return ze.lazyInit=this.lazyInit&&this.lazyInit instanceof H?this.lazyInit:this,ze.lazyUpdate=(this.lazyUpdate||[]).concat([Le]),ze}applyUpdate(Le){const ze=Le.name.toLowerCase();switch(Le.op){case"a":case"s":let Ft=Le.value;if("string"==typeof Ft&&(Ft=[Ft]),0===Ft.length)return;this.maybeSetNormalizedName(Le.name,ze);const Nt=("a"===Le.op?this.headers.get(ze):void 0)||[];Nt.push(...Ft),this.headers.set(ze,Nt);break;case"d":const Ht=Le.value;if(Ht){let nn=this.headers.get(ze);if(!nn)return;nn=nn.filter(On=>-1===Ht.indexOf(On)),0===nn.length?(this.headers.delete(ze),this.normalizedNames.delete(ze)):this.headers.set(ze,nn)}else this.headers.delete(ze),this.normalizedNames.delete(ze)}}forEach(Le){this.init(),Array.from(this.normalizedNames.keys()).forEach(ze=>Le(this.normalizedNames.get(ze),this.headers.get(ze)))}}class ie{encodeKey(Le){return de(Le)}encodeValue(Le){return de(Le)}decodeKey(Le){return decodeURIComponent(Le)}decodeValue(Le){return decodeURIComponent(Le)}}const Pe=/%(\d[a-f0-9])/gi,Me={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function de(Ot){return encodeURIComponent(Ot).replace(Pe,(Le,ze)=>{var Ft;return null!==(Ft=Me[ze])&&void 0!==Ft?Ft:Le})}function $e(Ot){return`${Ot}`}class Fe{constructor(Le={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Le.encoder||new ie,Le.fromString){if(Le.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ue(Ot,Le){const ze=new Map;return Ot.length>0&&Ot.replace(/^\?/,"").split("&").forEach(Nt=>{const Ht=Nt.indexOf("="),[nn,On]=-1==Ht?[Le.decodeKey(Nt),""]:[Le.decodeKey(Nt.slice(0,Ht)),Le.decodeValue(Nt.slice(Ht+1))],Ln=ze.get(nn)||[];Ln.push(On),ze.set(nn,Ln)}),ze}(Le.fromString,this.encoder)}else Le.fromObject?(this.map=new Map,Object.keys(Le.fromObject).forEach(ze=>{const Ft=Le.fromObject[ze];this.map.set(ze,Array.isArray(Ft)?Ft:[Ft])})):this.map=null}has(Le){return this.init(),this.map.has(Le)}get(Le){this.init();const ze=this.map.get(Le);return ze?ze[0]:null}getAll(Le){return this.init(),this.map.get(Le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Le,ze){return this.clone({param:Le,value:ze,op:"a"})}appendAll(Le){const ze=[];return Object.keys(Le).forEach(Ft=>{const Nt=Le[Ft];Array.isArray(Nt)?Nt.forEach(Ht=>{ze.push({param:Ft,value:Ht,op:"a"})}):ze.push({param:Ft,value:Nt,op:"a"})}),this.clone(ze)}set(Le,ze){return this.clone({param:Le,value:ze,op:"s"})}delete(Le,ze){return this.clone({param:Le,value:ze,op:"d"})}toString(){return this.init(),this.keys().map(Le=>{const ze=this.encoder.encodeKey(Le);return this.map.get(Le).map(Ft=>ze+"="+this.encoder.encodeValue(Ft)).join("&")}).filter(Le=>""!==Le).join("&")}clone(Le){const ze=new Fe({encoder:this.encoder});return ze.cloneFrom=this.cloneFrom||this,ze.updates=(this.updates||[]).concat(Le),ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Le=>this.map.set(Le,this.cloneFrom.map.get(Le))),this.updates.forEach(Le=>{switch(Le.op){case"a":case"s":const ze=("a"===Le.op?this.map.get(Le.param):void 0)||[];ze.push($e(Le.value)),this.map.set(Le.param,ze);break;case"d":if(void 0===Le.value){this.map.delete(Le.param);break}{let Ft=this.map.get(Le.param)||[];const Nt=Ft.indexOf($e(Le.value));-1!==Nt&&Ft.splice(Nt,1),Ft.length>0?this.map.set(Le.param,Ft):this.map.delete(Le.param)}}}),this.cloneFrom=this.updates=null)}}class Ne{constructor(){this.map=new Map}set(Le,ze){return this.map.set(Le,ze),this}get(Le){return this.map.has(Le)||this.map.set(Le,Le.defaultValue()),this.map.get(Le)}delete(Le){return this.map.delete(Le),this}has(Le){return this.map.has(Le)}keys(){return this.map.keys()}}function Je(Ot){return"undefined"!=typeof ArrayBuffer&&Ot instanceof ArrayBuffer}function xe(Ot){return"undefined"!=typeof Blob&&Ot instanceof Blob}function je(Ot){return"undefined"!=typeof FormData&&Ot instanceof FormData}class Ke{constructor(Le,ze,Ft,Nt){let Ht;if(this.url=ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Le.toUpperCase(),function It(Ot){switch(Ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Nt?(this.body=void 0!==Ft?Ft:null,Ht=Nt):Ht=Ft,Ht&&(this.reportProgress=!!Ht.reportProgress,this.withCredentials=!!Ht.withCredentials,Ht.responseType&&(this.responseType=Ht.responseType),Ht.headers&&(this.headers=Ht.headers),Ht.context&&(this.context=Ht.context),Ht.params&&(this.params=Ht.params)),this.headers||(this.headers=new H),this.context||(this.context=new Ne),this.params){const nn=this.params.toString();if(0===nn.length)this.urlWithParams=ze;else{const On=ze.indexOf("?");this.urlWithParams=ze+(-1===On?"?":On<ze.length-1?"&":"")+nn}}else this.params=new Fe,this.urlWithParams=ze}serializeBody(){return null===this.body?null:Je(this.body)||xe(this.body)||je(this.body)||function st(Ot){return"undefined"!=typeof URLSearchParams&&Ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||je(this.body)?null:xe(this.body)?this.body.type||null:Je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Le={}){var ze;const Ft=Le.method||this.method,Nt=Le.url||this.url,Ht=Le.responseType||this.responseType,nn=void 0!==Le.body?Le.body:this.body,On=void 0!==Le.withCredentials?Le.withCredentials:this.withCredentials,Ln=void 0!==Le.reportProgress?Le.reportProgress:this.reportProgress;let xn=Le.headers||this.headers,zn=Le.params||this.params;const rr=null!==(ze=Le.context)&&void 0!==ze?ze:this.context;return void 0!==Le.setHeaders&&(xn=Object.keys(Le.setHeaders).reduce((Bn,Gn)=>Bn.set(Gn,Le.setHeaders[Gn]),xn)),Le.setParams&&(zn=Object.keys(Le.setParams).reduce((Bn,Gn)=>Bn.set(Gn,Le.setParams[Gn]),zn)),new Ke(Ft,Nt,nn,{params:zn,headers:xn,context:rr,reportProgress:Ln,responseType:Ht,withCredentials:On})}}var ee=(()=>((ee=ee||{})[ee.Sent=0]="Sent",ee[ee.UploadProgress=1]="UploadProgress",ee[ee.ResponseHeader=2]="ResponseHeader",ee[ee.DownloadProgress=3]="DownloadProgress",ee[ee.Response=4]="Response",ee[ee.User=5]="User",ee))();class re{constructor(Le,ze=200,Ft="OK"){this.headers=Le.headers||new H,this.status=void 0!==Le.status?Le.status:ze,this.statusText=Le.statusText||Ft,this.url=Le.url||null,this.ok=this.status>=200&&this.status<300}}class De extends re{constructor(Le={}){super(Le),this.type=ee.ResponseHeader}clone(Le={}){return new De({headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class He extends re{constructor(Le={}){super(Le),this.type=ee.Response,this.body=void 0!==Le.body?Le.body:null}clone(Le={}){return new He({body:void 0!==Le.body?Le.body:this.body,headers:Le.headers||this.headers,status:void 0!==Le.status?Le.status:this.status,statusText:Le.statusText||this.statusText,url:Le.url||this.url||void 0})}}class Xe extends re{constructor(Le){super(Le,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Le.url||"(unknown url)"}`:`Http failure response for ${Le.url||"(unknown url)"}: ${Le.status} ${Le.statusText}`,this.error=Le.error||null}}function dt(Ot,Le){return{body:Le,headers:Ot.headers,context:Ot.context,observe:Ot.observe,params:Ot.params,reportProgress:Ot.reportProgress,responseType:Ot.responseType,withCredentials:Ot.withCredentials}}let ut=(()=>{class Ot{constructor(ze){this.handler=ze}request(ze,Ft,Nt={}){let Ht;if(ze instanceof Ke)Ht=ze;else{let Ln,xn;Ln=Nt.headers instanceof H?Nt.headers:new H(Nt.headers),Nt.params&&(xn=Nt.params instanceof Fe?Nt.params:new Fe({fromObject:Nt.params})),Ht=new Ke(ze,Ft,void 0!==Nt.body?Nt.body:null,{headers:Ln,context:Nt.context,params:xn,reportProgress:Nt.reportProgress,responseType:Nt.responseType||"json",withCredentials:Nt.withCredentials})}const nn=(0,x.of)(Ht).pipe((0,he.b)(Ln=>this.handler.handle(Ln)));if(ze instanceof Ke||"events"===Nt.observe)return nn;const On=nn.pipe((0,_e.h)(Ln=>Ln instanceof He));switch(Nt.observe||"body"){case"body":switch(Ht.responseType){case"arraybuffer":return On.pipe((0,Re.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ln.body}));case"blob":return On.pipe((0,Re.U)(Ln=>{if(null!==Ln.body&&!(Ln.body instanceof Blob))throw new Error("Response is not a Blob.");return Ln.body}));case"text":return On.pipe((0,Re.U)(Ln=>{if(null!==Ln.body&&"string"!=typeof Ln.body)throw new Error("Response is not a string.");return Ln.body}));default:return On.pipe((0,Re.U)(Ln=>Ln.body))}case"response":return On;default:throw new Error(`Unreachable: unhandled observe type ${Nt.observe}}`)}}delete(ze,Ft={}){return this.request("DELETE",ze,Ft)}get(ze,Ft={}){return this.request("GET",ze,Ft)}head(ze,Ft={}){return this.request("HEAD",ze,Ft)}jsonp(ze,Ft){return this.request("JSONP",ze,{params:(new Fe).append(Ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ze,Ft={}){return this.request("OPTIONS",ze,Ft)}patch(ze,Ft,Nt={}){return this.request("PATCH",ze,dt(Nt,Ft))}post(ze,Ft,Nt={}){return this.request("POST",ze,dt(Nt,Ft))}put(ze,Ft,Nt={}){return this.request("PUT",ze,dt(Nt,Ft))}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(ve))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class Xt{constructor(Le,ze){this.next=Le,this.interceptor=ze}handle(Le){return this.interceptor.intercept(Le,this.next)}}const on=new _.OlP("HTTP_INTERCEPTORS");let An=(()=>{class Ot{intercept(ze,Ft){return Ft.handle(ze)}}return Ot.\u0275fac=function(ze){return new(ze||Ot)},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),mn=0;class ln{}let _n=(()=>{class Ot{constructor(ze,Ft){this.callbackMap=ze,this.document=Ft,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+mn++}handle(ze){if("JSONP"!==ze.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==ze.responseType)throw new Error("JSONP requests must use Json response type.");return new te.y(Ft=>{const Nt=this.nextCallback(),Ht=ze.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${Nt}$1`),nn=this.document.createElement("script");nn.src=Ht;let On=null,Ln=!1,xn=!1;this.callbackMap[Nt]=Gn=>{delete this.callbackMap[Nt],!xn&&(On=Gn,Ln=!0)};const zn=()=>{nn.parentNode&&nn.parentNode.removeChild(nn),delete this.callbackMap[Nt]},rr=Gn=>{xn||this.resolvedPromise.then(()=>{zn(),Ln?(Ft.next(new He({body:On,status:200,statusText:"OK",url:Ht})),Ft.complete()):Ft.error(new Xe({url:Ht,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},Bn=Gn=>{xn||(zn(),Ft.error(new Xe({error:Gn,status:0,statusText:"JSONP Error",url:Ht})))};return nn.addEventListener("load",rr),nn.addEventListener("error",Bn),this.document.body.appendChild(nn),Ft.next({type:ee.Sent}),()=>{xn=!0,nn.removeEventListener("load",rr),nn.removeEventListener("error",Bn),zn()}})}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(ln),_.LFG(u.K0))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),xt=(()=>{class Ot{constructor(ze){this.jsonp=ze}intercept(ze,Ft){return"JSONP"===ze.method?this.jsonp.handle(ze):Ft.handle(ze)}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(_n))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const St=/^\)\]\}',?\n/;let Sn=(()=>{class Ot{constructor(ze){this.xhrFactory=ze}handle(ze){if("JSONP"===ze.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new te.y(Ft=>{const Nt=this.xhrFactory.build();if(Nt.open(ze.method,ze.urlWithParams),ze.withCredentials&&(Nt.withCredentials=!0),ze.headers.forEach((Gn,In)=>Nt.setRequestHeader(Gn,In.join(","))),ze.headers.has("Accept")||Nt.setRequestHeader("Accept","application/json, text/plain, */*"),!ze.headers.has("Content-Type")){const Gn=ze.detectContentTypeHeader();null!==Gn&&Nt.setRequestHeader("Content-Type",Gn)}if(ze.responseType){const Gn=ze.responseType.toLowerCase();Nt.responseType="json"!==Gn?Gn:"text"}const Ht=ze.serializeBody();let nn=null;const On=()=>{if(null!==nn)return nn;const Gn=Nt.statusText||"OK",In=new H(Nt.getAllResponseHeaders()),Zr=function Gt(Ot){return"responseURL"in Ot&&Ot.responseURL?Ot.responseURL:/^X-Request-URL:/m.test(Ot.getAllResponseHeaders())?Ot.getResponseHeader("X-Request-URL"):null}(Nt)||ze.url;return nn=new De({headers:In,status:Nt.status,statusText:Gn,url:Zr}),nn},Ln=()=>{let{headers:Gn,status:In,statusText:Zr,url:ct}=On(),Ae=null;204!==In&&(Ae=void 0===Nt.response?Nt.responseText:Nt.response),0===In&&(In=Ae?200:0);let z=In>=200&&In<300;if("json"===ze.responseType&&"string"==typeof Ae){const k=Ae;Ae=Ae.replace(St,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(B){Ae=k,z&&(z=!1,Ae={error:B,text:Ae})}}z?(Ft.next(new He({body:Ae,headers:Gn,status:In,statusText:Zr,url:ct||void 0})),Ft.complete()):Ft.error(new Xe({error:Ae,headers:Gn,status:In,statusText:Zr,url:ct||void 0}))},xn=Gn=>{const{url:In}=On(),Zr=new Xe({error:Gn,status:Nt.status||0,statusText:Nt.statusText||"Unknown Error",url:In||void 0});Ft.error(Zr)};let zn=!1;const rr=Gn=>{zn||(Ft.next(On()),zn=!0);let In={type:ee.DownloadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(In.total=Gn.total),"text"===ze.responseType&&!!Nt.responseText&&(In.partialText=Nt.responseText),Ft.next(In)},Bn=Gn=>{let In={type:ee.UploadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(In.total=Gn.total),Ft.next(In)};return Nt.addEventListener("load",Ln),Nt.addEventListener("error",xn),Nt.addEventListener("timeout",xn),Nt.addEventListener("abort",xn),ze.reportProgress&&(Nt.addEventListener("progress",rr),null!==Ht&&Nt.upload&&Nt.upload.addEventListener("progress",Bn)),Nt.send(Ht),Ft.next({type:ee.Sent}),()=>{Nt.removeEventListener("error",xn),Nt.removeEventListener("abort",xn),Nt.removeEventListener("load",Ln),Nt.removeEventListener("timeout",xn),ze.reportProgress&&(Nt.removeEventListener("progress",rr),null!==Ht&&Nt.upload&&Nt.upload.removeEventListener("progress",Bn)),Nt.readyState!==Nt.DONE&&Nt.abort()}})}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(u.JF))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const wn=new _.OlP("XSRF_COOKIE_NAME"),Vn=new _.OlP("XSRF_HEADER_NAME");class fr{}let Kn=(()=>{class Ot{constructor(ze,Ft,Nt){this.doc=ze,this.platform=Ft,this.cookieName=Nt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ze=this.doc.cookie||"";return ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(ze,this.cookieName),this.lastCookieString=ze),this.lastToken}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(u.K0),_.LFG(_.Lbi),_.LFG(wn))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),hr=(()=>{class Ot{constructor(ze,Ft){this.tokenService=ze,this.headerName=Ft}intercept(ze,Ft){const Nt=ze.url.toLowerCase();if("GET"===ze.method||"HEAD"===ze.method||Nt.startsWith("http://")||Nt.startsWith("https://"))return Ft.handle(ze);const Ht=this.tokenService.getToken();return null!==Ht&&!ze.headers.has(this.headerName)&&(ze=ze.clone({headers:ze.headers.set(this.headerName,Ht)})),Ft.handle(ze)}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(fr),_.LFG(Vn))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),qr=(()=>{class Ot{constructor(ze,Ft){this.backend=ze,this.injector=Ft,this.chain=null}handle(ze){if(null===this.chain){const Ft=this.injector.get(on,[]);this.chain=Ft.reduceRight((Nt,Ht)=>new Xt(Nt,Ht),this.backend)}return this.chain.handle(ze)}}return Ot.\u0275fac=function(ze){return new(ze||Ot)(_.LFG(be),_.LFG(_.zs3))},Ot.\u0275prov=_.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();function pn(){return"object"==typeof window?window:{}}let Yr=(()=>{class Ot{static disable(){return{ngModule:Ot,providers:[{provide:hr,useClass:An}]}}static withOptions(ze={}){return{ngModule:Ot,providers:[ze.cookieName?{provide:wn,useValue:ze.cookieName}:[],ze.headerName?{provide:Vn,useValue:ze.headerName}:[]]}}}return Ot.\u0275fac=function(ze){return new(ze||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({providers:[hr,{provide:on,useExisting:hr,multi:!0},{provide:fr,useClass:Kn},{provide:wn,useValue:"XSRF-TOKEN"},{provide:Vn,useValue:"X-XSRF-TOKEN"}]}),Ot})(),Er=(()=>{class Ot{}return Ot.\u0275fac=function(ze){return new(ze||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({providers:[ut,{provide:ve,useClass:qr},Sn,{provide:be,useExisting:Sn}],imports:[[Yr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ot})(),vr=(()=>{class Ot{}return Ot.\u0275fac=function(ze){return new(ze||Ot)},Ot.\u0275mod=_.oAB({type:Ot}),Ot.\u0275inj=_.cJS({providers:[_n,{provide:ln,useFactory:pn},{provide:on,useClass:xt,multi:!0}]}),Ot})()},5e3:(Zt,nt,m)=>{m.d(nt,{deG:()=>Br,tb:()=>OE,AFp:()=>TE,ip1:()=>Y_,CZH:()=>Mf,hGG:()=>mD,z2F:()=>Bg,sBO:()=>Ww,Sil:()=>Z_,_Vd:()=>Og,EJc:()=>PE,SBq:()=>Rg,qLn:()=>Zl,vpe:()=>Eu,tBr:()=>No,XFs:()=>pn,OlP:()=>hn,zs3:()=>Ro,ZZ4:()=>sv,aQg:()=>ov,soG:()=>nv,YKP:()=>G0,h0i:()=>xf,PXZ:()=>Bw,R0b:()=>Qa,FiY:()=>$s,Lbi:()=>ME,g9A:()=>SE,n_E:()=>Qy,Qsj:()=>Eb,FYo:()=>L0,JOm:()=>le,q3G:()=>ps,tp0:()=>_o,Rgc:()=>Ng,dDg:()=>NE,q4F:()=>V0,GfV:()=>B0,s_b:()=>Jy,ifc:()=>Ht,eFA:()=>VE,G48:()=>zw,Gpc:()=>ie,f3M:()=>Ar,X6Q:()=>$w,_c5:()=>uD,VLi:()=>Fw,c2e:()=>RE,zSh:()=>Dp,wAp:()=>Nr,vHH:()=>de,EiD:()=>rc,mCW:()=>ta,qzn:()=>$a,JVY:()=>Ea,pB0:()=>Iu,eBb:()=>wl,L6k:()=>Xd,LAX:()=>Ff,cg1:()=>bf,kL8:()=>My,yhl:()=>Hc,dqk:()=>zn,sIi:()=>Tc,CqO:()=>ty,QGY:()=>cf,F4k:()=>ey,RDi:()=>At,AaK:()=>ve,z3N:()=>Ha,qOj:()=>Zh,TTD:()=>Dr,_Bn:()=>k0,xp6:()=>Xg,uIk:()=>Dd,Gre:()=>Ey,ekj:()=>dg,Suo:()=>oE,Xpm:()=>ft,lG2:()=>Ge,Yz7:()=>_n,cJS:()=>St,oAB:()=>Z,Yjl:()=>rt,Y36:()=>pa,_UZ:()=>xd,GkF:()=>Xm,BQk:()=>eg,ynx:()=>Es,qZA:()=>uf,TgZ:()=>Id,EpF:()=>no,n5z:()=>qo,Ikx:()=>Nd,LFG:()=>yn,$8M:()=>ml,$Z:()=>Jp,NdJ:()=>df,CRH:()=>aE,kcU:()=>lo,O4$:()=>Ii,oxw:()=>sy,Hsn:()=>pl,F$t:()=>ng,Q6J:()=>Xp,s9C:()=>oy,MGl:()=>Aa,DdM:()=>W0,VKq:()=>K0,iGM:()=>iE,MAs:()=>Up,CHM:()=>Wo,LSH:()=>Al,kYT:()=>at,Udp:()=>$u,WFA:()=>tg,d8E:()=>Ef,YNc:()=>Gm,W1O:()=>dE,_uU:()=>vy,Oqu:()=>mf,hij:()=>kd,AsE:()=>yf,lnq:()=>vf,HOy:()=>mg,Gf:()=>sE});var u=m(7579),_=m(727),x=m(8306),te=m(6451),he=m(3099);function _e(n){for(let r in n)if(n[r]===_e)return r;throw Error("Could not find renamed property on target object.")}function Re(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function be(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const H=_e({__forward_ref__:_e});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return ve(this())},n}function ue(n){return Pe(n)?n():n}function Pe(n){return"function"==typeof n&&n.hasOwnProperty(H)&&n.__forward_ref__===ie}class de extends Error{constructor(r,o){super(function $e(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,o)),this.code=r}}function Fe(n){return"string"==typeof n?n:null==n?"":String(n)}function Ye(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Fe(n)}function xe(n,r){const o=r?` in ${r}`:"";throw new de(-201,`No provider for ${Ye(n)} found${o}`)}function mn(n,r){null==n&&function _t(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function _n(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function St(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gt(n){return Sn(n,Kn)||Sn(n,qr)}function Sn(n,r){return n.hasOwnProperty(r)?n[r]:null}function fr(n){return n&&(n.hasOwnProperty(hr)||n.hasOwnProperty(Lr))?n[hr]:null}const Kn=_e({\u0275prov:_e}),hr=_e({\u0275inj:_e}),qr=_e({ngInjectableDef:_e}),Lr=_e({ngInjectorDef:_e});var pn=(()=>((pn=pn||{})[pn.Default=0]="Default",pn[pn.Host=1]="Host",pn[pn.Self=2]="Self",pn[pn.SkipSelf=4]="SkipSelf",pn[pn.Optional=8]="Optional",pn))();let Yr;function vr(n){const r=Yr;return Yr=n,r}function dn(n,r,o){const a=Gt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&pn.Optional?null:void 0!==r?r:void xe(ve(n),"Injector")}function Le(n){return{toString:n}.toString()}var ze=(()=>((ze=ze||{})[ze.OnPush=0]="OnPush",ze[ze.Default=1]="Default",ze))(),Ht=(()=>{return(n=Ht||(Ht={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ht;var n})();const nn="undefined"!=typeof globalThis&&globalThis,On="undefined"!=typeof window&&window,Ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zn=nn||"undefined"!=typeof global&&global||On||Ln,Gn={},In=[],Zr=_e({\u0275cmp:_e}),ct=_e({\u0275dir:_e}),Ae=_e({\u0275pipe:_e}),z=_e({\u0275mod:_e}),k=_e({\u0275fac:_e}),B=_e({__NG_ELEMENT_ID__:_e});let Te=0;function ft(n){return Le(()=>{const o={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ze.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||In,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ht.Emulated,id:"c",styles:n.styles||In,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,p=n.features,E=n.pipes;return a.id+=Te++,a.inputs=et(n.inputs,o),a.outputs=et(n.outputs),p&&p.forEach(M=>M(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(pe):null,a.pipeDefs=E?()=>("function"==typeof E?E():E).map(Rt):null,a})}function pe(n){return vt(n)||function ht(n){return n[ct]||null}(n)}function Rt(n){return function Qn(n){return n[Ae]||null}(n)}const T={};function Z(n){return Le(()=>{const r={type:n.type,bootstrap:n.bootstrap||In,declarations:n.declarations||In,imports:n.imports||In,exports:n.exports||In,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(T[n.id]=n.type),r})}function at(n,r){return Le(()=>{const o=$n(n,!0);o.declarations=r.declarations||In,o.imports=r.imports||In,o.exports=r.exports||In})}function et(n,r){if(null==n)return Gn;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],p=c;Array.isArray(c)&&(p=c[1],c=c[0]),o[c]=a,r&&(r[c]=p)}return o}const Ge=ft;function rt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function vt(n){return n[Zr]||null}function $n(n,r){const o=n[z]||null;if(!o&&!0===r)throw new Error(`Type ${ve(n)} does not have '\u0275mod' property.`);return o}function gi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Li(n){return Array.isArray(n)&&!0===n[1]}function us(n){return 0!=(8&n.flags)}function ss(n){return 2==(2&n.flags)}function wi(n){return 1==(1&n.flags)}function Oi(n){return null!==n.template}function bs(n){return 0!=(512&n[2])}function ir(n,r){return n.hasOwnProperty(k)?n[k]:null}class Fr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Dr(){return Rr}function Rr(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ur),Jr}function Jr(){const n=Bi(this),r=null==n?void 0:n.current;if(r){const o=n.previous;if(o===Gn)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Ur(n,r,o,a){const c=Bi(n)||function Ri(n,r){return n[$i]=r}(n,{previous:Gn,current:null}),p=c.current||(c.current={}),E=c.previous,M=this.declaredInputs[o],V=E[M];p[M]=new Fr(V&&V.currentValue,r,E===Gn),n[a]=r}Dr.ngInherit=!0;const $i="__ngSimpleChanges__";function Bi(n){return n[$i]||null}const Q="svg",R="math";let tt;function At(n){tt=n}function Yt(n){return!!n.listen}const L={createRenderer:(n,r)=>function Wt(){return void 0!==tt?tt:"undefined"!=typeof document?document:void 0}()};function F(n){for(;Array.isArray(n);)n=n[0];return n}function wt(n,r){return F(r[n])}function Bt(n,r){return F(r[n.index])}function tr(n,r){return n.data[r]}function lr(n,r){const o=r[n];return gi(o)?o:o[0]}function dr(n){return 4==(4&n[2])}function Tr(n){return 128==(128&n[2])}function Xr(n,r){return null==r?null:n[r]}function Y(n){n[18]=0}function j(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const P={lFrame:gr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function hs(){return P.bindingsEnabled}function gn(){return P.lFrame.lView}function ri(){return P.lFrame.tView}function Wo(n){return P.lFrame.contextLView=n,n[8]}function Qi(){let n=Po();for(;null!==n&&64===n.type;)n=n.parent;return n}function Po(){return P.lFrame.currentTNode}function Ns(n,r){const o=P.lFrame;o.currentTNode=n,o.isParent=r}function Do(){return P.lFrame.isParent}function ia(){P.lFrame.isParent=!1}function ao(){return P.isInCheckNoChangesMode}function go(n){P.isInCheckNoChangesMode=n}function rs(){const n=P.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Hs(){return P.lFrame.bindingIndex}function Ee(){return P.lFrame.bindingIndex++}function v(n){const r=P.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function Ie(n,r){const o=P.lFrame;o.bindingIndex=o.bindingRootIndex=n,yt(r)}function yt(n){P.lFrame.currentDirectiveIndex=n}function Et(n){const r=P.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Lt(){return P.lFrame.currentQueryIndex}function fn(n){P.lFrame.currentQueryIndex=n}function Xn(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function pr(n,r,o){if(o&pn.SkipSelf){let c=r,p=n;for(;!(c=c.parent,null!==c||o&pn.Host||(c=Xn(p),null===c||(p=p[15],10&c.type))););if(null===c)return!1;r=c,n=p}const a=P.lFrame=ei();return a.currentTNode=r,a.lView=n,!0}function Mr(n){const r=ei(),o=n[1];P.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function ei(){const n=P.lFrame,r=null===n?null:n.child;return null===r?gr(n):r}function gr(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Pr(){const n=P.lFrame;return P.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Di=Pr;function zi(){const n=Pr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ui(){return P.lFrame.selectedIndex}function xs(n){P.lFrame.selectedIndex=n}function Ci(){const n=P.lFrame;return tr(n.tView,n.selectedIndex)}function Ii(){P.lFrame.currentNamespace=Q}function lo(){!function Ys(){P.lFrame.currentNamespace=null}()}function ro(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:M,ngAfterViewInit:V,ngAfterViewChecked:fe,ngOnDestroy:Se}=p;E&&(n.contentHooks||(n.contentHooks=[])).push(-o,E),M&&((n.contentHooks||(n.contentHooks=[])).push(o,M),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,M)),V&&(n.viewHooks||(n.viewHooks=[])).push(-o,V),fe&&((n.viewHooks||(n.viewHooks=[])).push(o,fe),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,fe)),null!=Se&&(n.destroyHooks||(n.destroyHooks=[])).push(o,Se)}}function co(n,r,o){er(n,r,3,o)}function Ts(n,r,o,a){(3&n[2])===o&&er(n,r,o,a)}function sr(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function er(n,r,o,a){const p=null!=a?a:-1,E=r.length-1;let M=0;for(let V=void 0!==a?65535&n[18]:0;V<E;V++)if("number"==typeof r[V+1]){if(M=r[V],null!=a&&M>=a)break}else r[V]<0&&(n[18]+=65536),(M<p||-1==p)&&(Or(n,o,r,V),n[18]=(4294901760&n[18])+V+2),V++}function Or(n,r,o,a){const c=o[a]<0,p=o[a+1],M=n[c?-o[a]:o[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{p.call(M)}finally{}}}else try{p.call(M)}finally{}}class ki{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Fi(n,r,o){const a=Yt(n);let c=0;for(;c<o.length;){const p=o[c];if("number"==typeof p){if(0!==p)break;c++;const E=o[c++],M=o[c++],V=o[c++];a?n.setAttribute(r,M,V,E):r.setAttributeNS(E,M,V)}else{const E=p,M=o[++c];oa(E)?a&&n.setProperty(r,E,M):a?n.setAttribute(r,E,M):r.setAttribute(E,M),c++}}return c}function Zs(n){return 3===n||4===n||6===n}function oa(n){return 64===n.charCodeAt(0)}function Js(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||ma(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function ma(n,r,o,a,c){let p=0,E=n.length;if(-1===r)E=-1;else for(;p<n.length;){const M=n[p++];if("number"==typeof M){if(M===r){E=-1;break}if(M>r){E=p-1;break}}}for(;p<n.length;){const M=n[p];if("number"==typeof M)break;if(M===o){if(null===a)return void(null!==c&&(n[p+1]=c));if(a===n[p+1])return void(n[p+2]=c)}p++,null!==a&&p++,null!==c&&p++}-1!==E&&(n.splice(E,0,r),p=E+1),n.splice(p++,0,o),null!==a&&n.splice(p++,0,a),null!==c&&n.splice(p++,0,c)}function Xa(n){return-1!==n}function ho(n){return 32767&n}function Wi(n,r){let o=function Va(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let Ta=!0;function N(n){const r=Ta;return Ta=n,r}let ce=0;function Ve(n,r){const o=cn(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,gt(a.data,n),gt(r,null),gt(a.blueprint,null));const c=Zn(n,r),p=n.injectorIndex;if(Xa(c)){const E=ho(c),M=Wi(c,r),V=M[1].data;for(let fe=0;fe<8;fe++)r[p+fe]=M[E+fe]|V[E+fe]}return r[p+8]=c,p}function gt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function cn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Zn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){const p=c[1],E=p.type;if(a=2===E?p.declTNode:1===E?c[6]:null,null===a)return-1;if(o++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function Pn(n,r,o){!function Be(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(B)&&(a=o[B]),null==a&&(a=o[B]=ce++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,o)}function xi(n,r,o){if(o&pn.Optional)return n;xe(r,"NodeInjector")}function Tn(n,r,o,a){if(o&pn.Optional&&void 0===a&&(a=null),0==(o&(pn.Self|pn.Host))){const c=n[9],p=vr(void 0);try{return c?c.get(r,a,o&pn.Optional):dn(r,a,o&pn.Optional)}finally{vr(p)}}return xi(a,r,o)}function Qt(n,r,o,a=pn.Default,c){if(null!==n){const p=function bu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(B)?n[B]:void 0;return"number"==typeof r?r>=0?255&r:ts:r}(o);if("function"==typeof p){if(!pr(r,n,a))return a&pn.Host?xi(c,o,a):Tn(r,o,a,c);try{const E=p(a);if(null!=E||a&pn.Optional)return E;xe(o)}finally{Di()}}else if("number"==typeof p){let E=null,M=cn(n,r),V=-1,fe=a&pn.Host?r[16][6]:null;for((-1===M||a&pn.SkipSelf)&&(V=-1===M?Zn(n,r):r[M+8],-1!==V&&gl(a,!1)?(E=r[1],M=ho(V),r=Wi(V,r)):M=-1);-1!==M;){const Se=r[1];if(Oa(p,M,Se.data)){const lt=Sa(M,r,o,E,a,fe);if(lt!==Cn)return lt}V=r[M+8],-1!==V&&gl(a,r[1].data[M+8]===fe)&&Oa(p,M,r)?(E=Se,M=ho(V),r=Wi(V,r)):M=-1}}}return Tn(r,o,a,c)}const Cn={};function ts(){return new ya(Qi(),gn())}function Sa(n,r,o,a,c,p){const E=r[1],M=E.data[n+8],Se=Fo(M,E,o,null==a?ss(M)&&Ta:a!=E&&0!=(3&M.type),c&pn.Host&&p===M);return null!==Se?Ma(r,E,Se,M):Cn}function Fo(n,r,o,a,c){const p=n.providerIndexes,E=r.data,M=1048575&p,V=n.directiveStart,Se=p>>20,Dt=c?M+Se:n.directiveEnd;for(let Ut=a?M:M+Se;Ut<Dt;Ut++){const bn=E[Ut];if(Ut<V&&o===bn||Ut>=V&&bn.type===o)return Ut}if(c){const Ut=E[V];if(Ut&&Oi(Ut)&&Ut.type===o)return V}return null}function Ma(n,r,o,a){let c=n[o];const p=r.data;if(function gs(n){return n instanceof ki}(c)){const E=c;E.resolving&&function Ne(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new de(-200,`Circular dependency in DI detected for ${n}${o}`)}(Ye(p[o]));const M=N(E.canSeeViewProviders);E.resolving=!0;const V=E.injectImpl?vr(E.injectImpl):null;pr(n,a,pn.Default);try{c=n[o]=E.factory(void 0,p,n,a),r.firstCreatePass&&o>=a.directiveStart&&function uo(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:p}=r.type.prototype;if(a){const E=Rr(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,E),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,E)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],r)}finally{null!==V&&vr(V),N(M),E.resolving=!1,Di()}}return c}function Oa(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function gl(n,r){return!(n&pn.Self||n&pn.Host&&r)}class ya{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Qt(this._tNode,this._lView,r,a,o)}}function qo(n){return Le(()=>{const r=n.prototype.constructor,o=r[k]||Ua(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const p=c[k]||Ua(c);if(p&&p!==o)return p;c=Object.getPrototypeOf(c)}return p=>new p})}function Ua(n){return Pe(n)?()=>{const r=Ua(ue(n));return r&&r()}:ir(n)}function ml(n){return function Mn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const p=o[c];if(Zs(p))break;if(0===p)c+=2;else if("number"==typeof p)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(p===r)return o[c+1];c+=2}}}return null}(Qi(),n)}const I="__parameters__";function me(n,r,o){return Le(()=>{const a=function $(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...p){if(this instanceof c)return a.apply(this,p),this;const E=new c(...p);return M.annotation=E,M;function M(V,fe,Se){const lt=V.hasOwnProperty(I)?V[I]:Object.defineProperty(V,I,{value:[]})[I];for(;lt.length<=Se;)lt.push(null);return(lt[Se]=lt[Se]||[]).push(E),V}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class hn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=_n({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Br=new hn("AnalyzeForEntryComponents");function yo(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),yo(a,r)):r!==n&&r.push(a)}return r}function qt(n,r){n.forEach(o=>Array.isArray(o)?qt(o,r):r(o))}function va(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function io(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function yl(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function fo(n,r,o){let a=js(n,r);return a>=0?n[1|a]=o:(a=~a,function _a(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function Nl(n,r){const o=js(n,r);if(o>=0)return n[1|o]}function js(n,r){return function Ra(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const p=a+(c-a>>1),E=n[p<<o];if(r===E)return p<<o;E>r?c=p:a=p+1}return~(c<<o)}(n,r,1)}const Cs={},rl="__NG_DI_FLAG__",xo="ngTempTokenPath",il=/\n/gm,J="__source",ke=_e({provide:String,useValue:_e});let pt;function Pt(n){const r=pt;return pt=n,r}function en(n,r=pn.Default){if(void 0===pt)throw new de(203,"");return null===pt?dn(n,void 0,r):pt.get(n,r&pn.Optional?null:void 0,r)}function yn(n,r=pn.Default){return(function Er(){return Yr}()||en)(ue(n),r)}const Ar=yn;function ti(n){const r=[];for(let o=0;o<n.length;o++){const a=ue(n[o]);if(Array.isArray(a)){if(0===a.length)throw new de(900,"");let c,p=pn.Default;for(let E=0;E<a.length;E++){const M=a[E],V=_r(M);"number"==typeof V?-1===V?c=M.token:p|=V:c=M}r.push(yn(c,p))}else r.push(yn(a))}return r}function Wr(n,r){return n[rl]=r,n.prototype[rl]=r,n}function _r(n){return n[rl]}const No=Wr(me("Inject",n=>({token:n})),-1),$s=Wr(me("Optional"),8),_o=Wr(me("SkipSelf"),4);let Qu;function Ga(n){var r;return(null===(r=function El(){if(void 0===Qu&&(Qu=null,zn.trustedTypes))try{Qu=zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Qu}())||void 0===r?void 0:r.createHTML(n))||n}class bl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pf extends bl{getTypeName(){return"HTML"}}class Jd extends bl{getTypeName(){return"Style"}}class kf extends bl{getTypeName(){return"Script"}}class ol extends bl{getTypeName(){return"URL"}}class Ul extends bl{getTypeName(){return"ResourceURL"}}function Ha(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function $a(n,r){const o=Hc(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}function Hc(n){return n instanceof bl&&n.getTypeName()||null}function Ea(n){return new Pf(n)}function Xd(n){return new Jd(n)}function wl(n){return new kf(n)}function Ff(n){return new ol(n)}function Iu(n){return new Ul(n)}class Xu{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Ga(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Dl{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const a=this.inertDocument.createElement("body");o.appendChild(a)}}getInertBodyElement(r){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ga(r),o;const a=this.inertDocument.createElement("body");return a.innerHTML=Ga(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const o=r.attributes;for(let c=o.length-1;0<c;c--){const E=o.item(c).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&r.removeAttribute(E)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const eh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ta(n){return(n=String(n)).match(eh)||n.match(Nf)?n:"unsafe:"+n}function ba(n){const r={};for(const o of n.split(","))r[o]=!0;return r}function al(...n){const r={};for(const o of n)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const th=ba("area,br,col,hr,img,wbr"),xu=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$c=ba("rp,rt"),zc=al(th,al(xu,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),al($c,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),al($c,xu)),jl=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ll=ba("srcset"),ul=al(jl,ll,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nh=ba("script,style,template");class Cl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!zc.hasOwnProperty(o))return this.sanitizedSomething=!0,!nh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let c=0;c<a.length;c++){const p=a.item(c),E=p.name,M=E.toLowerCase();if(!ul.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let V=p.value;jl[M]&&(V=ta(V)),ll[M]&&(n=V,V=(n=String(n)).split(",").map(r=>ta(r.trim())).join(", ")),this.buf.push(" ",E,'="',Hl(V),'"')}var n;return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();zc.hasOwnProperty(o)&&!th.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Hl(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rh=/([^\#-~ |!])/g;function Hl(n){return n.replace(/&/g,"&amp;").replace(nc,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(rh,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $l;function rc(n,r){let o=null;try{$l=$l||function Ju(n){const r=new Dl(n);return function ha(){try{return!!(new window.DOMParser).parseFromString(Ga(""),"text/html")}catch(n){return!1}}()?new Xu(r):r}(n);let a=r?String(r):"";o=$l.getInertBodyElement(a);let c=5,p=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=p,p=o.innerHTML,o=$l.getInertBodyElement(a)}while(a!==p);return Ga((new Cl).sanitizeChildren(_s(o)||o))}finally{if(o){const a=_s(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function _s(n){return"content"in n&&function ic(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ps=(()=>((ps=ps||{})[ps.NONE=0]="NONE",ps[ps.HTML=1]="HTML",ps[ps.STYLE=2]="STYLE",ps[ps.SCRIPT=3]="SCRIPT",ps[ps.URL=4]="URL",ps[ps.RESOURCE_URL=5]="RESOURCE_URL",ps))();function Al(n){const r=function Il(){const n=gn();return n&&n[12]}();return r?r.sanitize(ps.URL,n)||"":$a(n,"URL")?Ha(n):ta(Fe(n))}const sc="__ngContext__";function eo(n,r){n[sc]=r}function oc(n){const r=function Lo(n){return n[sc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Uo(n){return n.ngOriginalError}function uc(n,...r){n.error(...r)}class Zl{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),a=function Ql(n){return n&&n.ngErrorLogger||uc}(r);a(this._console,"ERROR",r),o&&a(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Uo(r);for(;o&&Uo(o);)o=Uo(o);return o||null}}const ch=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zn))();function to(n){return n instanceof Function?n():n}var le=(()=>((le=le||{})[le.Important=1]="Important",le[le.DashCase=2]="DashCase",le))();function Mt(n,r){return undefined(n,r)}function ur(n){const r=n[3];return Li(r)?r[3]:r}function Fs(n){return Mu(n[13])}function Go(n){return Mu(n[4])}function Mu(n){for(;null!==n&&!Li(n);)n=n[4];return n}function cl(n,r,o,a,c){if(null!=a){let p,E=!1;Li(a)?p=a:gi(a)&&(E=!0,a=a[0]);const M=F(a);0===n&&null!==o?null==c?Gg(r,o,M):Ou(r,o,M,c||null,!0):1===n&&null!==o?Ou(r,o,M,c||null,!0):2===n?function qg(n,r,o){const a=yh(n,r);a&&function uv(n,r,o,a){Yt(n)?n.removeChild(r,o,a):r.removeChild(o)}(n,a,r,o)}(r,M,E):3===n&&r.destroyNode(M),null!=p&&function $f(n,r,o,a,c){const p=o[7];p!==F(o)&&cl(r,n,a,p,c);for(let M=10;M<o.length;M++){const V=o[M];Ks(V[1],V,n,r,a,p)}}(r,n,p,o,c)}}function fc(n,r,o){if(Yt(n))return n.createElement(r,o);{const a=null!==o?function ge(n){const r=n.toLowerCase();return r===Q?"http://www.w3.org/2000/svg":r===R?"http://www.w3.org/1998/MathML/":null}(o):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Ka(n,r){const o=n[9],a=o.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,j(c,-1)),o.splice(a,1)}function gh(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const c=a[17];null!==c&&c!==n&&Ka(c,a),r>0&&(n[o-1][4]=a[4]);const p=io(n,10+r);!function fh(n,r){Ks(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const E=p[19];null!==E&&E.detachView(p[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function nd(n,r){if(!(256&r[2])){const o=r[11];Yt(o)&&o.destroyNode&&Ks(n,r,o,3,null,null),function Mo(n){let r=n[13];if(!r)return mh(n[1],n);for(;r;){let o=null;if(gi(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)gi(r)&&mh(r[1],r),r=r[3];null===r&&(r=n),gi(r)&&mh(r[1],r),o=r&&r[4]}r=o}}(r)}}function mh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function lv(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof ki)){const p=o[a+1];if(Array.isArray(p))for(let E=0;E<p.length;E+=2){const M=c[p[E]],V=p[E+1];try{V.call(M)}finally{}}else try{p.call(c)}finally{}}}}(n,r),function av(n,r){const o=n.cleanup,a=r[7];let c=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const E=o[p+1],M="function"==typeof E?E(r):F(r[E]),V=a[c=o[p+2]],fe=o[p+3];"boolean"==typeof fe?M.removeEventListener(o[p],V,fe):fe>=0?a[c=fe]():a[c=-fe].unsubscribe(),p+=2}else{const E=a[c=o[p+1]];o[p].call(E)}if(null!==a){for(let p=c+1;p<a.length;p++)a[p]();r[7]=null}}(n,r),1===r[1].type&&Yt(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Li(r[3])){o!==r[3]&&Ka(o,r);const a=r[19];null!==a&&a.detachView(n)}}}function Ug(n,r,o){return function jg(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===Ht.None||c===Ht.Emulated)return null}return Bt(a,o)}(n,r.parent,o)}function Ou(n,r,o,a,c){Yt(n)?n.insertBefore(r,o,a,c):r.insertBefore(o,a,c)}function Gg(n,r,o){Yt(n)?n.appendChild(r,o):r.appendChild(o)}function Hg(n,r,o,a,c){null!==a?Ou(n,r,o,a,c):Gg(n,r,o)}function yh(n,r){return Yt(n)?n.parentNode(r):r.parentNode}function $g(n,r,o){return Wg(n,r,o)}let Wg=function zg(n,r,o){return 40&n.type?Bt(n,o):null};function rd(n,r,o,a){const c=Ug(n,a,r),p=r[11],M=$g(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(o))for(let V=0;V<o.length;V++)Hg(p,c,o[V],M,!1);else Hg(p,c,o,M,!1)}function vh(n,r){if(null!==r){const o=r.type;if(3&o)return Bt(r,n);if(4&o)return _h(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return vh(n,a);{const c=n[r.index];return Li(c)?_h(-1,c):F(c)}}if(32&o)return Mt(r,n)()||F(n[r.index]);{const a=Gf(n,r);return null!==a?Array.isArray(a)?a[0]:vh(ur(n[16]),a):vh(n,r.next)}}return null}function Gf(n,r){return null!==r?n[16][6].projection[r.projection]:null}function _h(n,r){const o=10+n+1;if(o<r.length){const a=r[o],c=a[1].firstChild;if(null!==c)return vh(a,c)}return r[7]}function id(n,r,o,a,c,p,E){for(;null!=o;){const M=a[o.index],V=o.type;if(E&&0===r&&(M&&eo(F(M),a),o.flags|=4),64!=(64&o.flags))if(8&V)id(n,r,o.child,a,c,p,!1),cl(r,n,c,M,p);else if(32&V){const fe=Mt(o,a);let Se;for(;Se=fe();)cl(r,n,c,Se,p);cl(r,n,c,M,p)}else 16&V?Eh(n,r,a,o,c,p):cl(r,n,c,M,p);o=E?o.projectionNext:o.next}}function Ks(n,r,o,a,c,p){id(o,a,n.firstChild,r,c,p,!1)}function Eh(n,r,o,a,c,p){const E=o[16],V=E[6].projection[a.projection];if(Array.isArray(V))for(let fe=0;fe<V.length;fe++)cl(r,n,c,V[fe],p);else id(n,r,V,E[3],c,p,!0)}function zf(n,r,o){Yt(n)?n.setAttribute(r,"style",o):r.style.cssText=o}function Wf(n,r,o){Yt(n)?""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o):r.className=o}function Kf(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const p=r.length;if(c+p===a||n.charCodeAt(c+p)<=32)return c}o=c+1}}const eu="ng-template";function Ru(n,r,o){let a=0;for(;a<n.length;){let c=n[a++];if(o&&"class"===c){if(c=n[a],-1!==Kf(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function tu(n){return 4===n.type&&n.value!==eu}function sd(n,r,o){return r===(4!==n.type||o?n.value:eu)}function Yg(n,r,o){let a=4;const c=n.attrs||[],p=function dv(n){for(let r=0;r<n.length;r++)if(Zs(n[r]))return r;return n.length}(c);let E=!1;for(let M=0;M<r.length;M++){const V=r[M];if("number"!=typeof V){if(!E)if(4&a){if(a=2|1&a,""!==V&&!sd(n,V,o)||""===V&&1===r.length){if(wa(a))return!1;E=!0}}else{const fe=8&a?V:r[++M];if(8&a&&null!==n.attrs){if(!Ru(n.attrs,fe,o)){if(wa(a))return!1;E=!0}continue}const lt=Yf(8&a?"class":V,c,tu(n),o);if(-1===lt){if(wa(a))return!1;E=!0;continue}if(""!==fe){let Dt;Dt=lt>p?"":c[lt+1].toLowerCase();const Ut=8&a?Dt:null;if(Ut&&-1!==Kf(Ut,fe,0)||2&a&&fe!==Dt){if(wa(a))return!1;E=!0}}}}else{if(!E&&!wa(a)&&!wa(V))return!1;if(E&&wa(V))continue;E=!1,a=V|1&a}}return wa(a)||E}function wa(n){return 0==(1&n)}function Yf(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let p=!1;for(;c<r.length;){const E=r[c];if(E===n)return c;if(3===E||6===E)p=!0;else{if(1===E||2===E){let M=r[++c];for(;"string"==typeof M;)M=r[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=p?1:2}return-1}return function Zg(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function Qf(n,r,o=!1){for(let a=0;a<r.length;a++)if(Yg(n,r[a],o))return!0;return!1}function Jg(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function od(n,r){return n?":not("+r.trim()+")":r}function ad(n){let r=n[0],o=1,a=2,c="",p=!1;for(;o<n.length;){let E=n[o];if("string"==typeof E)if(2&a){const M=n[++o];c+="["+E+(M.length>0?'="'+M+'"':"")+"]"}else 8&a?c+="."+E:4&a&&(c+=" "+E);else""!==c&&!wa(E)&&(r+=od(p,c),c=""),a=E,p=p||!wa(a);o++}return""!==c&&(r+=od(p,c)),r}const hi={};function Xg(n){em(ri(),gn(),ui()+n,ao())}function em(n,r,o,a){if(!a)if(3==(3&r[2])){const p=n.preOrderCheckHooks;null!==p&&co(r,p,o)}else{const p=n.preOrderHooks;null!==p&&Ts(r,p,0,o)}xs(o)}function nu(n,r){return n<<17|r<<2}function Oo(n){return n>>17&32767}function Zf(n){return 2|n}function xl(n){return(131068&n)>>2}function ld(n,r){return-131069&n|r<<2}function Jf(n){return 1|n}function lp(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const c=o[a],p=o[a+1];if(-1!==p){const E=n.data[p];fn(c),E.contentQueries(2,r[p],p)}}}function hd(n,r,o,a,c,p,E,M,V,fe){const Se=r.blueprint.slice();return Se[0]=c,Se[2]=140|a,Y(Se),Se[3]=Se[15]=n,Se[8]=o,Se[10]=E||n&&n[10],Se[11]=M||n&&n[11],Se[12]=V||n&&n[12]||null,Se[9]=fe||n&&n[9]||null,Se[6]=p,Se[16]=2==r.type?n[16]:Se,Se}function ku(n,r,o,a,c){let p=n.data[r];if(null===p)p=function fd(n,r,o,a,c){const p=Po(),E=Do(),V=n.data[r]=function _c(n,r,o,a,c,p){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?p:p&&p.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=V),null!==p&&(E?null==p.child&&null!==V.parent&&(p.child=V):null===p.next&&(p.next=V)),V}(n,r,o,a,c),function D(){return P.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=a,p.attrs=c;const E=function oo(){const n=P.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();p.injectorIndex=null===E?-1:E.injectorIndex}return Ns(p,!0),p}function ou(n,r,o,a){if(0===o)return-1;const c=r.length;for(let p=0;p<o;p++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Sl(n,r,o){Mr(r);try{const a=n.viewQuery;null!==a&&yd(1,a,o);const c=n.template;null!==c&&xh(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lp(n,r),n.staticViewQueries&&yd(2,n.viewQuery,o);const p=n.components;null!==p&&function Ih(n,r){for(let o=0;o<r.length;o++)xv(n,r[o])}(r,p)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,zi()}}function Ml(n,r,o,a){const c=r[2];if(256==(256&c))return;Mr(r);const p=ao();try{Y(r),function sa(n){return P.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&xh(n,r,o,2,a);const E=3==(3&c);if(!p)if(E){const fe=n.preOrderCheckHooks;null!==fe&&co(r,fe,null)}else{const fe=n.preOrderHooks;null!==fe&&Ts(r,fe,0,null),sr(r,0)}if(function Av(n){for(let r=Fs(n);null!==r;r=Go(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const c=o[a],p=c[3];0==(1024&c[2])&&j(p,1),c[2]|=1024}}}(r),function Cv(n){for(let r=Fs(n);null!==r;r=Go(r))for(let o=10;o<r.length;o++){const a=r[o],c=a[1];Tr(a)&&Ml(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&lp(n,r),!p)if(E){const fe=n.contentCheckHooks;null!==fe&&co(r,fe)}else{const fe=n.contentHooks;null!==fe&&Ts(r,fe,1),sr(r,1)}!function _v(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)xs(~c);else{const p=c,E=o[++a],M=o[++a];Ie(E,p),M(2,r[p])}}}finally{xs(-1)}}(n,r);const M=n.components;null!==M&&function Ev(n,r){for(let o=0;o<r.length;o++)Iv(n,r[o])}(r,M);const V=n.viewQuery;if(null!==V&&yd(2,V,a),!p)if(E){const fe=n.viewCheckHooks;null!==fe&&co(r,fe)}else{const fe=n.viewHooks;null!==fe&&Ts(r,fe,2),sr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),p||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,j(r[3],-1))}finally{zi()}}function up(n,r,o,a){const c=r[10],p=!ao(),E=dr(r);try{p&&!E&&c.begin&&c.begin(),E&&Sl(n,r,a),Ml(n,r,o,a)}finally{p&&!E&&c.end&&c.end()}}function xh(n,r,o,a,c){const p=ui(),E=2&a;try{xs(-1),E&&r.length>20&&em(n,r,20,ao()),o(a,c)}finally{xs(p)}}function cp(n,r,o){if(us(r)){const c=r.directiveEnd;for(let p=r.directiveStart;p<c;p++){const E=n.data[p];E.contentQueries&&E.contentQueries(1,o[p],p)}}}function dp(n,r,o){!hs()||(function pd(n,r,o,a){const c=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||Ve(o,r),eo(a,r);const E=o.initialInputs;for(let M=c;M<p;M++){const V=n.data[M],fe=Oi(V);fe&&Dv(r,o,V);const Se=Ma(r,n,M,o);eo(Se,r),null!==E&&Lh(0,M-c,Se,V,0,E),fe&&(lr(o.index,r)[8]=Se)}}(n,r,o,Bt(o,r)),128==(128&o.flags)&&function Ph(n,r,o){const a=o.directiveStart,c=o.directiveEnd,E=o.index,M=function Qe(){return P.lFrame.currentDirectiveIndex}();try{xs(E);for(let V=a;V<c;V++){const fe=n.data[V],Se=r[V];yt(V),(null!==fe.hostBindings||0!==fe.hostVars||null!==fe.hostAttrs)&&kh(fe,Se)}}finally{xs(-1),yt(M)}}(n,r,o))}function Th(n,r,o=Bt){const a=r.localNames;if(null!==a){let c=r.index+1;for(let p=0;p<a.length;p+=2){const E=a[p+1],M=-1===E?o(r,n):n[E];n[c++]=M}}}function hp(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vc(n,r,o,a,c,p,E,M,V,fe){const Se=20+a,lt=Se+c,Dt=function bv(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:hi);return o}(Se,lt),Ut="function"==typeof fe?fe():fe;return Dt[1]={type:n,blueprint:Dt,template:o,queries:null,viewQuery:M,declTNode:r,data:Dt.slice().fill(null,Se),bindingStartIndex:Se,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:V,consts:Ut,incompleteFirstPass:!1}}function um(n,r,o,a){const c=bm(r);null===o?c.push(a):(c.push(o),n.firstCreatePass&&Vh(n).push(a,c.length-1))}function Fu(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,c):o[a]=[r,c]}return o}function fa(n,r,o,a,c,p,E,M){const V=Bt(r,o);let Se,fe=r.inputs;!M&&null!=fe&&(Se=fe[a])?(Dm(n,o,Se,a,c),ss(r)&&function cm(n,r){const o=lr(r,n);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(a=function Sh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=E?E(c,r.value||"",a):c,Yt(p)?p.setProperty(V,a,c):oa(a)||(V.setProperty?V.setProperty(a,c):V[a]=c))}function Mh(n,r,o,a){let c=!1;if(hs()){const p=function mp(n,r,o){const a=n.directiveRegistry;let c=null;if(a)for(let p=0;p<a.length;p++){const E=a[p];Qf(o,E.selectors,!1)&&(c||(c=[]),Pn(Ve(o,r),n,E.type),Oi(E)?(Fh(n,o),c.unshift(E)):c.push(E))}return c}(n,r,o),E=null===a?null:{"":-1};if(null!==p){c=!0,yp(o,n.data.length,p.length);for(let Se=0;Se<p.length;Se++){const lt=p[Se];lt.providersResolver&&lt.providersResolver(lt)}let M=!1,V=!1,fe=ou(n,r,p.length,null);for(let Se=0;Se<p.length;Se++){const lt=p[Se];o.mergedAttrs=Js(o.mergedAttrs,lt.hostAttrs),ym(n,o,r,fe,lt),wv(fe,lt,E),null!==lt.contentQueries&&(o.flags|=8),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(o.flags|=128);const Dt=lt.type.prototype;!M&&(Dt.ngOnChanges||Dt.ngOnInit||Dt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),M=!0),!V&&(Dt.ngOnChanges||Dt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),V=!0),fe++}!function gp(n,r){const a=r.directiveEnd,c=n.data,p=r.attrs,E=[];let M=null,V=null;for(let fe=r.directiveStart;fe<a;fe++){const Se=c[fe],lt=Se.inputs,Dt=null===p||tu(r)?null:gd(lt,p);E.push(Dt),M=Fu(lt,fe,M),V=Fu(Se.outputs,fe,V)}null!==M&&(M.hasOwnProperty("class")&&(r.flags|=16),M.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=M,r.outputs=V}(n,o)}E&&function mm(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const p=o[r[c+1]];if(null==p)throw new de(-301,!1);a.push(r[c],p)}}}(o,a,E)}return o.mergedAttrs=Js(o.mergedAttrs,o.attrs),c}function Oh(n,r,o,a,c,p){const E=p.hostBindings;if(E){let M=n.hostBindingOpCodes;null===M&&(M=n.hostBindingOpCodes=[]);const V=~r.index;(function Rh(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(M)!=V&&M.push(V),M.push(a,c,E)}}function kh(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Fh(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function wv(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;Oi(r)&&(o[""]=n)}}function yp(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function ym(n,r,o,a,c){n.data[a]=c;const p=c.factory||(c.factory=ir(c.type)),E=new ki(p,Oi(c),null);n.blueprint[a]=E,o[a]=E,Oh(n,r,0,a,ou(n,o,c.hostVars,hi),c)}function Dv(n,r,o){const a=Bt(r,n),c=hp(o),p=n[10],E=Ec(n,hd(n,c,null,o.onPush?64:16,a,r,p,p.createRenderer(a,o),null,null));n[r.index]=E}function fl(n,r,o,a,c,p){const E=Bt(n,r);!function Nh(n,r,o,a,c,p,E){if(null==p)Yt(n)?n.removeAttribute(r,c,o):r.removeAttribute(c);else{const M=null==E?Fe(p):E(p,a||"",c);Yt(n)?n.setAttribute(r,c,M,o):o?r.setAttributeNS(o,c,M):r.setAttribute(c,M)}}(r[11],E,p,n.value,o,a,c)}function Lh(n,r,o,a,c,p){const E=p[r];if(null!==E){const M=a.setInput;for(let V=0;V<E.length;){const fe=E[V++],Se=E[V++],lt=E[V++];null!==M?a.setInput(o,lt,fe,Se):o[Se]=lt}}}function gd(n,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return o}function vp(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function Iv(n,r){const o=lr(r,n);if(Tr(o)){const a=o[1];80&o[2]?Ml(a,o,a.template,o[8]):o[5]>0&&_p(o)}}function _p(n){for(let a=Fs(n);null!==a;a=Go(a))for(let c=10;c<a.length;c++){const p=a[c];if(1024&p[2]){const E=p[1];Ml(E,p,E.template,p[8])}else p[5]>0&&_p(p)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const c=lr(o[a],n);Tr(c)&&c[5]>0&&_p(c)}}function xv(n,r){const o=lr(r,n),a=o[1];(function md(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),Sl(a,o,o[8])}function Ec(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function au(n){for(;n;){n[2]|=64;const r=ur(n);if(bs(n)&&!r)return n;n=r}return null}function Nu(n,r,o){const a=r[10];a.begin&&a.begin();try{Ml(n,r,n.template,o)}catch(c){throw Uh(r,c),c}finally{a.end&&a.end()}}function Bh(n){!function bc(n){for(let r=0;r<n.components.length;r++){const o=n.components[r],a=oc(o),c=a[1];up(c,a,c.template,o)}}(n[8])}function yd(n,r,o){fn(0),r(n,o)}const Em=(()=>Promise.resolve(null))();function bm(n){return n[7]||(n[7]=[])}function Vh(n){return n.cleanup||(n.cleanup=[])}function wm(n,r,o){return(null===n||Oi(n))&&(o=function Ce(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(o[r.index])),o[11]}function Uh(n,r){const o=n[9],a=o?o.get(Zl,null):null;a&&a.handleError(r)}function Dm(n,r,o,a,c){for(let p=0;p<o.length;){const E=o[p++],M=o[p++],V=r[E],fe=n.data[E];null!==fe.setInput?fe.setInput(V,c,a,M):V[M]=c}}function qa(n,r,o){const a=wt(r,n);!function dl(n,r,o){Yt(n)?n.setValue(r,o):r.textContent=o}(n[11],a,o)}function Bu(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,p=0;if(null!==r)for(let E=0;E<r.length;E++){const M=r[E];"number"==typeof M?p=M:1==p?c=be(c,M):2==p&&(a=be(a,M+": "+r[++E]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}const _d=new hn("INJECTOR",-1);class Am{get(r,o=Cs){if(o===Cs){const a=new Error(`NullInjectorError: No provider for ${ve(r)}!`);throw a.name="NullInjectorError",a}return o}}const Dp=new hn("Set Injector scope."),wc={},Im={};let Cp;function jh(){return void 0===Cp&&(Cp=new Am),Cp}function xm(n,r=null,o=null,a){const c=Gh(n,r,o,a);return c._resolveInjectorDefTypes(),c}function Gh(n,r=null,o=null,a){return new Tv(n,o,r||jh(),a)}class Tv{constructor(r,o,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&qt(o,M=>this.processProvider(M,r,o)),qt([r],M=>this.processInjectorType(M,[],p)),this.records.set(_d,lu(void 0,this));const E=this.records.get(Dp);this.scope=null!=E?E.value:null,this.source=c||("object"==typeof r?null:ve(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=Cs,a=pn.Default){this.assertNotDestroyed();const c=Pt(this),p=vr(void 0);try{if(!(a&pn.SkipSelf)){let M=this.records.get(r);if(void 0===M){const V=function Tm(n){return"function"==typeof n||"object"==typeof n&&n instanceof hn}(r)&&Gt(r);M=V&&this.injectableDefInScope(V)?lu(Ed(r),wc):null,this.records.set(r,M)}if(null!=M)return this.hydrate(r,M)}return(a&pn.Self?jh():this.parent).get(r,o=a&pn.Optional&&o===Cs?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[xo]=E[xo]||[]).unshift(ve(r)),c)throw E;return function Ps(n,r,o,a){const c=n[xo];throw r[J]&&c.unshift(r[J]),n.message=function As(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=ve(r);if(Array.isArray(r))c=r.map(ve).join(" -> ");else if("object"==typeof r){let p=[];for(let E in r)if(r.hasOwnProperty(E)){let M=r[E];p.push(E+":"+("string"==typeof M?JSON.stringify(M):ve(M)))}c=`{${p.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(il,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[xo]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{vr(p),Pt(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,c)=>r.push(ve(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processInjectorType(r,o,a){if(!(r=ue(r)))return!1;let c=fr(r);const p=null==c&&r.ngModule||void 0,E=void 0===p?r:p,M=-1!==a.indexOf(E);if(void 0!==p&&(c=fr(p)),null==c)return!1;if(null!=c.imports&&!M){let Se;a.push(E);try{qt(c.imports,lt=>{this.processInjectorType(lt,o,a)&&(void 0===Se&&(Se=[]),Se.push(lt))})}finally{}if(void 0!==Se)for(let lt=0;lt<Se.length;lt++){const{ngModule:Dt,providers:Ut}=Se[lt];qt(Ut,bn=>this.processProvider(bn,Dt,Ut||In))}}this.injectorDefTypes.add(E);const V=ir(E)||(()=>new E);this.records.set(E,lu(V,wc));const fe=c.providers;if(null!=fe&&!M){const Se=r;qt(fe,lt=>this.processProvider(lt,Se,fe))}return void 0!==p&&void 0!==r.providers}processProvider(r,o,a){let c=Da(r=ue(r))?r:ue(r&&r.provide);const p=function Ap(n,r,o){return Hh(n)?lu(void 0,n.useValue):lu(Ip(n),wc)}(r);if(Da(r)||!0!==r.multi)this.records.get(c);else{let E=this.records.get(c);E||(E=lu(void 0,wc,!0),E.factory=()=>ti(E.multi),this.records.set(c,E)),c=r,E.multi.push(r)}this.records.set(c,p)}hydrate(r,o){return o.value===wc&&(o.value=Im,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ac(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=ue(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function Ed(n){const r=Gt(n),o=null!==r?r.factory:ir(n);if(null!==o)return o;if(n instanceof hn)throw new de(204,!1);if(n instanceof Function)return function Sv(n){const r=n.length;if(r>0)throw yl(r,"?"),new de(204,!1);const o=function wn(n){const r=n&&(n[Kn]||n[qr]);if(r){const o=function Vn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new de(204,!1)}function Ip(n,r,o){let a;if(Da(n)){const c=ue(n);return ir(c)||Ed(c)}if(Hh(n))a=()=>ue(n.useValue);else if(function Dc(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ti(n.deps||[]));else if(function xp(n){return!(!n||!n.useExisting)}(n))a=()=>yn(ue(n.useExisting));else{const c=ue(n&&(n.useClass||n.provide));if(!function Cc(n){return!!n.deps}(n))return ir(c)||Ed(c);a=()=>new c(...ti(n.deps))}return a}function lu(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function Hh(n){return null!==n&&"object"==typeof n&&ke in n}function Da(n){return"function"==typeof n}let Ro=(()=>{class n{static create(o,a){var c;if(Array.isArray(o))return xm({name:""},a,o,"");{const p=null!==(c=o.name)&&void 0!==c?c:"";return xm({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=Cs,n.NULL=new Am,n.\u0275prov=_n({token:n,providedIn:"any",factory:()=>yn(_d)}),n.__NG_ELEMENT_ID__=-1,n})();function Pp(n,r){ro(oc(n)[1],Qi())}function Zh(n){let r=function Qh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(Oi(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new de(903,"");c=r.\u0275dir}if(c){if(o){a.push(c);const E=n;E.inputs=bd(n.inputs),E.declaredInputs=bd(n.declaredInputs),E.outputs=bd(n.outputs);const M=c.hostBindings;M&&Vv(n,M);const V=c.viewQuery,fe=c.contentQueries;if(V&&Bv(n,V),fe&&kp(n,fe),Re(n.inputs,c.inputs),Re(n.declaredInputs,c.declaredInputs),Re(n.outputs,c.outputs),Oi(c)&&c.data.animation){const Se=n.data;Se.animation=(Se.animation||[]).concat(c.data.animation)}}const p=c.features;if(p)for(let E=0;E<p.length;E++){const M=p[E];M&&M.ngInherit&&M(n),M===Zh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Lv(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Js(c.hostAttrs,o=Js(o,c.hostAttrs))}}(a)}function bd(n){return n===Gn?{}:n===In?[]:n}function Bv(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function kp(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,p)=>{r(a,c,p),o(a,c,p)}:r}function Vv(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}let Ic=null;function uu(){if(!Ic){const n=zn.Symbol;if(n&&n.iterator)Ic=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ic=a)}}}return Ic}function Tc(n){return!!wd(n)&&(Array.isArray(n)||!(n instanceof Map)&&uu()in n)}function wd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Eo(n,r,o){return n[r]=o}function $o(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Ol(n,r,o,a){const c=$o(n,r,o);return $o(n,r+1,a)||c}function Dd(n,r,o,a){const c=gn();return $o(c,Ee(),r)&&(ri(),fl(Ci(),c,n,r,o,a)),Dd}function cu(n,r,o,a){return $o(n,Ee(),o)?r+Fe(o)+a:hi}function du(n,r,o,a,c,p,E,M){const fe=function Jh(n,r,o,a,c){const p=Ol(n,r,o,a);return $o(n,r+2,c)||p}(n,Hs(),o,c,E);return v(3),fe?r+Fe(o)+a+Fe(c)+p+Fe(E)+M:hi}function Oc(n,r,o,a,c,p,E,M,V,fe){const lt=function Na(n,r,o,a,c,p){const E=Ol(n,r,o,a);return Ol(n,r+2,c,p)||E}(n,Hs(),o,c,E,V);return v(4),lt?r+Fe(o)+a+Fe(c)+p+Fe(E)+M+Fe(V)+fe:hi}function Gm(n,r,o,a,c,p,E,M){const V=gn(),fe=ri(),Se=n+20,lt=fe.firstCreatePass?function jm(n,r,o,a,c,p,E,M,V){const fe=r.consts,Se=ku(r,n,4,E||null,Xr(fe,M));Mh(r,o,Se,Xr(fe,V)),ro(r,Se);const lt=Se.tViews=vc(2,Se,a,c,p,r.directiveRegistry,r.pipeRegistry,null,r.schemas,fe);return null!==r.queries&&(r.queries.template(r,Se),lt.queries=r.queries.embeddedTView(Se)),Se}(Se,fe,V,r,o,a,c,p,E):fe.data[Se];Ns(lt,!1);const Dt=V[11].createComment("");rd(fe,V,Dt,lt),eo(Dt,V),Ec(V,V[Se]=vp(Dt,V,Dt,lt)),wi(lt)&&dp(fe,V,lt),null!=E&&Th(V,lt,M)}function Up(n){return function cr(n,r){return n[r]}(function Ko(){return P.lFrame.contextLView}(),20+n)}function pa(n,r=pn.Default){const o=gn();return null===o?yn(n,r):Qt(Qi(),o,ue(n),r)}function Jp(){throw new Error("invalid")}function Xp(n,r,o){const a=gn();return $o(a,Ee(),r)&&fa(ri(),Ci(),a,n,r,a[11],o,!1),Xp}function kc(n,r,o,a,c){const E=c?"class":"style";Dm(n,o,r.inputs[E],E,a)}function Id(n,r,o,a){const c=gn(),p=ri(),E=20+n,M=c[11],V=c[E]=fc(M,r,function Qs(){return P.lFrame.currentNamespace}()),fe=p.firstCreatePass?function Jm(n,r,o,a,c,p,E){const M=r.consts,fe=ku(r,n,2,c,Xr(M,p));return Mh(r,o,fe,Xr(M,E)),null!==fe.attrs&&Bu(fe,fe.attrs,!1),null!==fe.mergedAttrs&&Bu(fe,fe.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,fe),fe}(E,p,c,0,r,o,a):p.data[E];Ns(fe,!0);const Se=fe.mergedAttrs;null!==Se&&Fi(M,V,Se);const lt=fe.classes;null!==lt&&Wf(M,V,lt);const Dt=fe.styles;return null!==Dt&&zf(M,V,Dt),64!=(64&fe.flags)&&rd(p,c,V,fe),0===function sn(){return P.lFrame.elementDepthCount}()&&eo(V,c),function Wn(){P.lFrame.elementDepthCount++}(),wi(fe)&&(dp(p,c,fe),cp(p,fe,c)),null!==a&&Th(c,fe),Id}function uf(){let n=Qi();Do()?ia():(n=n.parent,Ns(n,!1));const r=n;!function li(){P.lFrame.elementDepthCount--}();const o=ri();return o.firstCreatePass&&(ro(o,n),us(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function ko(n){return 0!=(16&n.flags)}(r)&&kc(o,r,gn(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vs(n){return 0!=(32&n.flags)}(r)&&kc(o,r,gn(),r.stylesWithoutHost,!1),uf}function xd(n,r,o,a){return Id(n,r,o,a),uf(),xd}function Es(n,r,o){const a=gn(),c=ri(),p=n+20,E=c.firstCreatePass?function Jv(n,r,o,a,c){const p=r.consts,E=Xr(p,a),M=ku(r,n,8,"ng-container",E);return null!==E&&Bu(M,E,!0),Mh(r,o,M,Xr(p,c)),null!==r.queries&&r.queries.elementStart(r,M),M}(p,c,a,r,o):c.data[p];Ns(E,!0);const M=a[p]=a[11].createComment("");return rd(c,a,M,E),eo(M,a),wi(E)&&(dp(c,a,E),cp(c,E,a)),null!=o&&Th(a,E),Es}function eg(){let n=Qi();const r=ri();return Do()?ia():(n=n.parent,Ns(n,!1)),r.firstCreatePass&&(ro(r,n),us(n)&&r.queries.elementEnd(n)),eg}function Xm(n,r,o){return Es(n,r,o),eg(),Xm}function no(){return gn()}function cf(n){return!!n&&"function"==typeof n.then}function ey(n){return!!n&&"function"==typeof n.subscribe}const ty=ey;function df(n,r,o,a){const c=gn(),p=ri(),E=Qi();return ny(p,c,c[11],E,n,r,!!o,a),df}function tg(n,r){const o=Qi(),a=gn(),c=ri();return ny(c,a,wm(Et(c.data),o,a),o,n,r,!1),tg}function ny(n,r,o,a,c,p,E,M){const V=wi(a),Se=n.firstCreatePass&&Vh(n),lt=r[8],Dt=bm(r);let Ut=!0;if(3&a.type||M){const or=Bt(a,r),Ir=M?M(or):or,Fn=Dt.length,Kr=M?qi=>M(F(qi[a.index])):a.index;if(Yt(o)){let qi=null;if(!M&&V&&(qi=function Xv(n,r,o,a){const c=n.cleanup;if(null!=c)for(let p=0;p<c.length-1;p+=2){const E=c[p];if(E===o&&c[p+1]===a){const M=r[7],V=c[p+2];return M.length>V?M[V]:null}"string"==typeof E&&(p+=2)}return null}(n,r,c,a.index)),null!==qi)(qi.__ngLastListenerFn__||qi).__ngNextListenerFn__=p,qi.__ngLastListenerFn__=p,Ut=!1;else{p=iy(a,r,lt,p,!1);const vs=o.listen(Ir,c,p);Dt.push(p,vs),Se&&Se.push(c,Kr,Fn,Fn+1)}}else p=iy(a,r,lt,p,!0),Ir.addEventListener(c,p,E),Dt.push(p),Se&&Se.push(c,Kr,Fn,E)}else p=iy(a,r,lt,p,!1);const bn=a.outputs;let qn;if(Ut&&null!==bn&&(qn=bn[c])){const or=qn.length;if(or)for(let Ir=0;Ir<or;Ir+=2){const Za=r[qn[Ir]][qn[Ir+1]].subscribe(p),$d=Dt.length;Dt.push(p,Za),Se&&Se.push(c,a.index,$d,-($d+1))}}}function ry(n,r,o,a){try{return!1!==o(a)}catch(c){return Uh(n,c),!1}}function iy(n,r,o,a,c){return function p(E){if(E===Function)return a;const M=2&n.flags?lr(n.index,r):r;0==(32&r[2])&&au(M);let V=ry(r,0,a,E),fe=p.__ngNextListenerFn__;for(;fe;)V=ry(r,0,fe,E)&&V,fe=fe.__ngNextListenerFn__;return c&&!1===V&&(E.preventDefault(),E.returnValue=!1),V}}function sy(n=1){return function Zi(n){return(P.lFrame.contextLView=function Ds(n,r){for(;n>0;)r=r[15],n--;return r}(n,P.lFrame.contextLView))[8]}(n)}function e_(n,r){let o=null;const a=function Qg(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let c=0;c<r.length;c++){const p=r[c];if("*"!==p){if(null===a?Qf(n,p,!0):Jg(a,p))return c}else o=c}return o}function ng(n){const r=gn()[16][6];if(!r.projection){const a=r.projection=yl(n?n.length:1,null),c=a.slice();let p=r.child;for(;null!==p;){const E=n?e_(p,n):0;null!==E&&(c[E]?c[E].projectionNext=p:a[E]=p,c[E]=p),p=p.next}}}function pl(n,r=0,o){const a=gn(),c=ri(),p=ku(c,20+n,16,null,o||null);null===p.projection&&(p.projection=r),ia(),64!=(64&p.flags)&&function Hf(n,r,o){Eh(r[11],0,r,o,Ug(n,o,r),$g(o.parent||r[6],o,r))}(c,a,p)}function oy(n,r,o){return Aa(n,"",r,"",o),oy}function Aa(n,r,o,a,c){const p=gn(),E=cu(p,r,o,a);return E!==hi&&fa(ri(),Ci(),p,n,E,p[11],c,!1),Aa}function sg(n,r,o,a,c){const p=n[o+1],E=null===r;let M=a?Oo(p):xl(p),V=!1;for(;0!==M&&(!1===V||E);){const Se=n[M+1];og(n[M],r)&&(V=!0,n[M+1]=a?Jf(Se):Zf(Se)),M=a?Oo(Se):xl(Se)}V&&(n[o+1]=a?Zf(p):Jf(p))}function og(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&js(n,r)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cy(n){return n.substring(po.key,po.keyEnd)}function ff(n,r){const o=po.textEnd;return o===r?-1:(r=po.keyEnd=function ug(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,po.key=r,o),Hu(n,r,o))}function Hu(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function $u(n,r,o){return bo(n,r,o,!1),$u}function dg(n,r){return bo(n,r,null,!0),dg}function ga(n,r){for(let o=function ag(n){return function lg(n){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=n.length}(n),ff(n,Hu(n,0,po.textEnd))}(r);o>=0;o=ff(r,o))fo(n,cy(r),!0)}function bo(n,r,o,a){const c=gn(),p=ri(),E=v(2);p.firstUpdatePass&&fg(p,n,E,a),r!==hi&&$o(c,E,r)&&gg(p,p.data[ui()],c,c[11],n,c[E+1]=function my(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=ve(Ha(n)))),n}(r,o),a,E)}function hg(n,r){return r>=n.expandoStartIndex}function fg(n,r,o,a){const c=n.data;if(null===c[o+1]){const p=c[ui()],E=hg(n,o);yy(p,a)&&null===r&&!E&&(r=!1),r=function Rd(n,r,o,a){const c=Et(n);let p=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Pd(o=pg(null,n,r,o,a),r.attrs,a),p=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==c)if(o=pg(c,n,r,o,a),null===p){let V=function mu(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==xl(a))return n[Oo(a)]}(n,r,a);void 0!==V&&Array.isArray(V)&&(V=pg(null,n,r,V[1],a),V=Pd(V,r.attrs,a),function r_(n,r,o,a){n[Oo(o?r.classBindings:r.styleBindings)]=a}(n,r,a,V))}else p=function i_(n,r,o){let a;const c=r.directiveEnd;for(let p=1+r.directiveStylingLast;p<c;p++)a=Pd(a,n[p].hostAttrs,o);return Pd(a,r.attrs,o)}(n,r,a)}return void 0!==p&&(a?r.residualClasses=p:r.residualStyles=p),o}(c,p,r,a),function hf(n,r,o,a,c,p){let E=p?r.classBindings:r.styleBindings,M=Oo(E),V=xl(E);n[a]=o;let Se,fe=!1;if(Array.isArray(o)){const lt=o;Se=lt[1],(null===Se||js(lt,Se)>0)&&(fe=!0)}else Se=o;if(c)if(0!==V){const Dt=Oo(n[M+1]);n[a+1]=nu(Dt,M),0!==Dt&&(n[Dt+1]=ld(n[Dt+1],a)),n[M+1]=function nm(n,r){return 131071&n|r<<17}(n[M+1],a)}else n[a+1]=nu(M,0),0!==M&&(n[M+1]=ld(n[M+1],a)),M=a;else n[a+1]=nu(V,0),0===M?M=a:n[V+1]=ld(n[V+1],a),V=a;fe&&(n[a+1]=Zf(n[a+1])),sg(n,Se,a,!0),sg(n,Se,a,!1),function Md(n,r,o,a,c){const p=c?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof r&&js(p,r)>=0&&(o[a+1]=Jf(o[a+1]))}(r,Se,n,a,p),E=nu(M,V),p?r.classBindings=E:r.styleBindings=E}(c,p,r,o,E,a)}}function pg(n,r,o,a,c){let p=null;const E=o.directiveEnd;let M=o.directiveStylingLast;for(-1===M?M=o.directiveStart:M++;M<E&&(p=r[M],a=Pd(a,p.hostAttrs,c),p!==n);)M++;return null!==n&&(o.directiveStylingLast=M),a}function Pd(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let p=0;p<r.length;p++){const E=r[p];"number"==typeof E?c=E:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fo(n,E,!!o||r[++p]))}return void 0===n?null:n}function gg(n,r,o,a,c,p,E,M){if(!(3&r.type))return;const V=n.data,fe=V[M+1];gf(function ud(n){return 1==(1&n)}(fe)?gy(V,r,o,c,xl(fe),E):void 0)||(gf(p)||function ru(n){return 2==(2&n)}(fe)&&(p=gy(V,null,o,c,M,E)),function Xl(n,r,o,a,c){const p=Yt(n);if(r)c?p?n.addClass(o,a):o.classList.add(a):p?n.removeClass(o,a):o.classList.remove(a);else{let E=-1===a.indexOf("-")?void 0:le.DashCase;if(null==c)p?n.removeStyle(o,a,E):o.style.removeProperty(a);else{const M="string"==typeof c&&c.endsWith("!important");M&&(c=c.slice(0,-10),E|=le.Important),p?n.setStyle(o,a,c,E):o.style.setProperty(a,c,M?"important":"")}}}(a,E,wt(ui(),o),c,p))}function gy(n,r,o,a,c,p){const E=null===r;let M;for(;c>0;){const V=n[c],fe=Array.isArray(V),Se=fe?V[1]:V,lt=null===Se;let Dt=o[c+1];Dt===hi&&(Dt=lt?In:void 0);let Ut=lt?Nl(Dt,a):Se===a?Dt:void 0;if(fe&&!gf(Ut)&&(Ut=Nl(V,a)),gf(Ut)&&(M=Ut,E))return M;const bn=n[c+1];c=E?Oo(bn):xl(bn)}if(null!==r){let V=p?r.residualClasses:r.residualStyles;null!=V&&(M=Nl(V,a))}return M}function gf(n){return void 0!==n}function yy(n,r){return 0!=(n.flags&(r?16:32))}function vy(n,r=""){const o=gn(),a=ri(),c=n+20,p=a.firstCreatePass?ku(a,c,1,r,null):a.data[c],E=o[c]=function hc(n,r){return Yt(n)?n.createText(r):n.createTextNode(r)}(o[11],r);rd(a,o,E,p),Ns(p,!1)}function mf(n){return kd("",n,""),mf}function kd(n,r,o){const a=gn(),c=cu(a,n,r,o);return c!==hi&&qa(a,ui(),c),kd}function yf(n,r,o,a,c){const p=gn(),E=function Mc(n,r,o,a,c,p){const M=Ol(n,Hs(),o,c);return v(2),M?r+Fe(o)+a+Fe(c)+p:hi}(p,n,r,o,a,c);return E!==hi&&qa(p,ui(),E),yf}function vf(n,r,o,a,c,p,E){const M=gn(),V=du(M,n,r,o,a,c,p,E);return V!==hi&&qa(M,ui(),V),vf}function mg(n,r,o,a,c,p,E,M,V){const fe=gn(),Se=Oc(fe,n,r,o,a,c,p,E,M,V);return Se!==hi&&qa(fe,ui(),Se),mg}function Ey(n,r,o){!function Ya(n,r,o,a){const c=ri(),p=v(2);c.firstUpdatePass&&fg(c,null,p,a);const E=gn();if(o!==hi&&$o(E,p,o)){const M=c.data[ui()];if(yy(M,a)&&!hg(c,p)){let V=a?M.classesWithoutHost:M.stylesWithoutHost;null!==V&&(o=be(V,o||"")),kc(c,M,E,o,a)}else!function s_(n,r,o,a,c,p,E,M){c===hi&&(c=In);let V=0,fe=0,Se=0<c.length?c[0]:null,lt=0<p.length?p[0]:null;for(;null!==Se||null!==lt;){const Dt=V<c.length?c[V+1]:void 0,Ut=fe<p.length?p[fe+1]:void 0;let qn,bn=null;Se===lt?(V+=2,fe+=2,Dt!==Ut&&(bn=lt,qn=Ut)):null===lt||null!==Se&&Se<lt?(V+=2,bn=Se):(fe+=2,bn=lt,qn=Ut),null!==bn&&gg(n,r,o,a,bn,qn,E,M),Se=V<c.length?c[V]:null,lt=fe<p.length?p[fe]:null}}(c,M,E,E[11],E[p+1],E[p+1]=function fy(n,r,o){if(null==o||""===o)return In;const a=[],c=Ha(o);if(Array.isArray(c))for(let p=0;p<c.length;p++)n(a,c[p],!0);else if("object"==typeof c)for(const p in c)c.hasOwnProperty(p)&&n(a,p,c[p]);else"string"==typeof c&&r(a,c);return a}(n,r,o),a,p)}}(fo,ga,cu(gn(),n,r,o),!0)}function Nd(n,r,o){const a=gn();return $o(a,Ee(),r)&&fa(ri(),Ci(),a,n,r,a[11],o,!0),Nd}function Ef(n,r,o){const a=gn();if($o(a,Ee(),r)){const p=ri(),E=Ci();fa(p,E,a,n,r,wm(Et(p.data),E,a),o,!0)}return Ef}const yu=void 0;var Eg=["en",[["a","p"],["AM","PM"],yu],[["AM","PM"],yu,yu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yu,"{1} 'at' {0}",yu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ld(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Lc={};function bf(n){const r=function La(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=wg(r);if(o)return o;const a=r.split("-")[0];if(o=wg(a),o)return o;if("en"===a)return Eg;throw new Error(`Missing locale data for the locale "${n}".`)}function My(n){return bf(n)[Nr.PluralCase]}function wg(n){return n in Lc||(Lc[n]=zn.ng&&zn.ng.common&&zn.ng.common.locales&&zn.ng.common.locales[n]),Lc[n]}var Nr=(()=>((Nr=Nr||{})[Nr.LocaleId=0]="LocaleId",Nr[Nr.DayPeriodsFormat=1]="DayPeriodsFormat",Nr[Nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nr[Nr.DaysFormat=3]="DaysFormat",Nr[Nr.DaysStandalone=4]="DaysStandalone",Nr[Nr.MonthsFormat=5]="MonthsFormat",Nr[Nr.MonthsStandalone=6]="MonthsStandalone",Nr[Nr.Eras=7]="Eras",Nr[Nr.FirstDayOfWeek=8]="FirstDayOfWeek",Nr[Nr.WeekendRange=9]="WeekendRange",Nr[Nr.DateFormat=10]="DateFormat",Nr[Nr.TimeFormat=11]="TimeFormat",Nr[Nr.DateTimeFormat=12]="DateTimeFormat",Nr[Nr.NumberSymbols=13]="NumberSymbols",Nr[Nr.NumberFormats=14]="NumberFormats",Nr[Nr.CurrencyCode=15]="CurrencyCode",Nr[Nr.CurrencySymbol=16]="CurrencySymbol",Nr[Nr.CurrencyName=17]="CurrencyName",Nr[Nr.Currencies=18]="Currencies",Nr[Nr.Directionality=19]="Directionality",Nr[Nr.PluralCase=20]="PluralCase",Nr[Nr.ExtraData=21]="ExtraData",Nr))();const Bd="en-US";let Ku=Bd;function M_(n,r,o,a,c){if(n=ue(n),Array.isArray(n))for(let p=0;p<n.length;p++)M_(n[p],r,o,a,c);else{const p=ri(),E=gn();let M=Da(n)?n:ue(n.provide),V=Ip(n);const fe=Qi(),Se=1048575&fe.providerIndexes,lt=fe.directiveStart,Dt=fe.providerIndexes>>20;if(Da(n)||!n.multi){const Ut=new ki(V,c,pa),bn=R_(M,r,c?Se:Se+Dt,lt);-1===bn?(Pn(Ve(fe,E),p,M),O_(p,n,r.length),r.push(M),fe.directiveStart++,fe.directiveEnd++,c&&(fe.providerIndexes+=1048576),o.push(Ut),E.push(Ut)):(o[bn]=Ut,E[bn]=Ut)}else{const Ut=R_(M,r,Se+Dt,lt),bn=R_(M,r,Se,Se+Dt),qn=Ut>=0&&o[Ut],or=bn>=0&&o[bn];if(c&&!or||!c&&!qn){Pn(Ve(fe,E),p,M);const Ir=function pb(n,r,o,a,c){const p=new ki(n,o,pa);return p.multi=[],p.index=r,p.componentProviders=0,P0(p,c,a&&!o),p}(c?fb:hb,o.length,c,a,V);!c&&or&&(o[bn].providerFactory=Ir),O_(p,n,r.length,0),r.push(M),fe.directiveStart++,fe.directiveEnd++,c&&(fe.providerIndexes+=1048576),o.push(Ir),E.push(Ir)}else O_(p,n,Ut>-1?Ut:bn,P0(o[c?bn:Ut],V,!c&&a));!c&&a&&or&&o[bn].componentProviders++}}}function O_(n,r,o,a){const c=Da(r),p=function Tp(n){return!!n.useClass}(r);if(c||p){const V=(p?ue(r.useClass):r).prototype.ngOnDestroy;if(V){const fe=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const Se=fe.indexOf(o);-1===Se?fe.push(o,[a,V]):fe[Se+1].push(a,V)}else fe.push(o,V)}}}function P0(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function R_(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function hb(n,r,o,a){return P_(this.multi,[])}function fb(n,r,o,a){const c=this.multi;let p;if(this.providerFactory){const E=this.providerFactory.componentProviders,M=Ma(o,o[1],this.providerFactory.index,a);p=M.slice(0,E),P_(c,p);for(let V=E;V<M.length;V++)p.push(M[V])}else p=[],P_(c,p);return p}function P_(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function k0(n,r=[]){return o=>{o.providersResolver=(a,c)=>function db(n,r,o){const a=ri();if(a.firstCreatePass){const c=Oi(n);M_(o,a.data,a.blueprint,c,!0),M_(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class F0{}class yb{resolveComponentFactory(r){throw function mb(n){const r=Error(`No component factory found for ${ve(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Og=(()=>{class n{}return n.NULL=new yb,n})();function vb(){return If(Qi(),gn())}function If(n,r){return new Rg(Bt(n,r))}let Rg=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=vb,n})();function _b(n){return n instanceof Rg?n.nativeElement:n}class L0{}let Eb=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wb(){const n=gn(),o=lr(Qi().index,n);return function bb(n){return n[11]}(gi(o)?o:n)}(),n})(),Db=(()=>{class n{}return n.\u0275prov=_n({token:n,providedIn:"root",factory:()=>null}),n})();class B0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const V0=new B0("13.2.3"),k_={};function Yy(n,r,o,a,c=!1){for(;null!==o;){const p=r[o.index];if(null!==p&&a.push(F(p)),Li(p))for(let M=10;M<p.length;M++){const V=p[M],fe=V[1].firstChild;null!==fe&&Yy(V[1],V,fe,a)}const E=o.type;if(8&E)Yy(n,r,o.child,a);else if(32&E){const M=Mt(o,r);let V;for(;V=M();)a.push(V)}else if(16&E){const M=Gf(r,o);if(Array.isArray(M))a.push(...M);else{const V=ur(r[16]);Yy(V[1],V,M,a,!0)}}o=c?o.projectionNext:o.next}return a}class Pg{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Yy(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Li(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(gh(r,a),io(o,a))}this._attachedToViewContainer=!1}nd(this._lView[1],this._lView)}onDestroy(r){um(this._lView[1],this._lView,null,r)}markForCheck(){au(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _m(n,r,o){go(!0);try{Nu(n,r,o)}finally{go(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new de(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ed(n,r){Ks(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new de(902,"");this._appRef=r}}class Cb extends Pg{constructor(r){super(r),this._view=r}detectChanges(){Bh(this._view)}checkNoChanges(){!function bp(n){go(!0);try{Bh(n)}finally{go(!1)}}(this._view)}get context(){return null}}class U0 extends Og{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=vt(r);return new F_(o,this.ngModule)}}function j0(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}const Ib=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ch});class F_ extends F0{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Pu(n){return n.map(ad).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return j0(this.componentDef.inputs)}get outputs(){return j0(this.componentDef.outputs)}create(r,o,a,c){const p=(c=c||this.ngModule)?function xb(n,r){return{get:(o,a,c)=>{const p=n.get(o,k_,c);return p!==k_||a===k_?p:r.get(o,a,c)}}}(r,c.injector):r,E=p.get(L0,L),M=p.get(Db,null),V=E.createRenderer(null,this.componentDef),fe=this.componentDef.selectors[0][0]||"div",Se=a?function pp(n,r,o){if(Yt(n))return n.selectRootElement(r,o===Ht.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(V,a,this.componentDef.encapsulation):fc(E.createRenderer(null,this.componentDef),fe,function Ab(n){const r=n.toLowerCase();return"svg"===r?Q:"math"===r?R:null}(fe)),lt=this.componentDef.onPush?576:528,Dt=function Nm(n,r){return{components:[],scheduler:n||ch,clean:Em,playerHandler:r||null,flags:0}}(),Ut=vc(0,null,null,1,0,null,null,null,null,null),bn=hd(null,Ut,Dt,lt,null,null,E,V,M,p);let qn,or;Mr(bn);try{const Ir=function Fm(n,r,o,a,c,p){const E=o[1];o[20]=n;const V=ku(E,20,2,"#host",null),fe=V.mergedAttrs=r.hostAttrs;null!==fe&&(Bu(V,fe,!0),null!==n&&(Fi(c,n,fe),null!==V.classes&&Wf(c,n,V.classes),null!==V.styles&&zf(c,n,V.styles)));const Se=a.createRenderer(n,r),lt=hd(o,hp(r),null,r.onPush?64:16,o[20],V,a,Se,p||null,null);return E.firstCreatePass&&(Pn(Ve(V,o),E,r.type),Fh(E,V),yp(V,o.length,1)),Ec(o,lt),o[20]=lt}(Se,this.componentDef,bn,E,V);if(Se)if(a)Fi(V,Se,["ng-version",V0.full]);else{const{attrs:Fn,classes:Kr}=function hv(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let p=n[a];if("string"==typeof p)2===c?""!==p&&r.push(p,n[++a]):8===c&&o.push(p);else{if(!wa(c))break;c=p}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Fn&&Fi(V,Se,Fn),Kr&&Kr.length>0&&Wf(V,Se,Kr.join(" "))}if(or=tr(Ut,20),void 0!==o){const Fn=or.projection=[];for(let Kr=0;Kr<this.ngContentSelectors.length;Kr++){const qi=o[Kr];Fn.push(null!=qi?Array.from(qi):null)}}qn=function Yh(n,r,o,a,c){const p=o[1],E=function gm(n,r,o){const a=Qi();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ym(n,a,r,ou(n,r,1,null),o));const c=Ma(r,n,a.directiveStart,a);eo(c,r);const p=Bt(a,r);return p&&eo(p,r),c}(p,o,r);if(a.components.push(E),n[8]=E,c&&c.forEach(V=>V(E,r)),r.contentQueries){const V=Qi();r.contentQueries(1,E,V.directiveStart)}const M=Qi();return!p.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(xs(M.index),Oh(o[1],M,0,M.directiveStart,M.directiveEnd,r),kh(r,E)),E}(Ir,this.componentDef,bn,Dt,[Pp]),Sl(Ut,bn,null)}finally{zi()}return new Sb(this.componentType,qn,If(or,bn),bn,or)}}class Sb extends class gb{}{constructor(r,o,a,c,p){super(),this.location=a,this._rootLView=c,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Cb(c),this.componentType=r}get injector(){return new ya(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class xf{}class G0{}const Tf=new Map;class z0 extends xf{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U0(this);const a=$n(r);this._bootstrapComponents=to(a.bootstrap),this._r3Injector=Gh(r,o,[{provide:xf,useValue:this},{provide:Og,useValue:this.componentFactoryResolver}],ve(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Ro.THROW_IF_NOT_FOUND,a=pn.Default){return r===Ro||r===xf||r===_d?this:this._r3Injector.get(r,o,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class N_ extends G0{constructor(r){super(),this.moduleType=r,null!==$n(r)&&function Ob(n){const r=new Set;!function o(a){const c=$n(a,!0),p=c.id;null!==p&&(function H0(n,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${n} - ${ve(r)} vs ${ve(r.name)}`)}(p,Tf.get(p),a),Tf.set(p,a));const E=to(c.imports);for(const M of E)r.has(M)||(r.add(M),o(M))}(n)}(r)}create(r){return new z0(this.moduleType,r)}}function W0(n,r,o){const a=rs()+n,c=gn();return c[a]===hi?Eo(c,a,o?r.call(o):r()):function Vu(n,r){return n[r]}(c,a)}function K0(n,r,o,a){return function q0(n,r,o,a,c,p){const E=r+o;return $o(n,E,c)?Eo(n,E+1,p?a.call(p,c):a(c)):function kg(n,r){const o=n[r];return o===hi?void 0:o}(n,E+1)}(gn(),rs(),n,r,o,a)}function L_(n){return r=>{setTimeout(n,void 0,r)}}const Eu=class Kb extends u.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){var c,p,E;let M=r,V=o||(()=>null),fe=a;if(r&&"object"==typeof r){const lt=r;M=null===(c=lt.next)||void 0===c?void 0:c.bind(lt),V=null===(p=lt.error)||void 0===p?void 0:p.bind(lt),fe=null===(E=lt.complete)||void 0===E?void 0:E.bind(lt)}this.__isAsync&&(V=L_(V),M&&(M=L_(M)),fe&&(fe=L_(fe)));const Se=super.subscribe({next:M,error:V,complete:fe});return r instanceof _.w0&&r.add(Se),Se}};function qb(){return this._results[uu()]()}class Qy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=uu(),a=Qy.prototype;a[o]||(a[o]=qb)}get changes(){return this._changes||(this._changes=new Eu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=yo(r);(this._changesDetected=!function la(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],p=r[a];if(o&&(c=o(c),p=o(p)),p!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ng=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zb,n})();const Yb=Ng,Qb=class extends Yb{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r){const o=this._declarationTContainer.tViews,a=hd(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(a[19]=p.createEmbeddedView(o)),Sl(o,a,r),new Pg(a)}};function Zb(){return Zy(Qi(),gn())}function Zy(n,r){return 4&n.type?new Qb(r,n,If(n,r)):null}let Jy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jb,n})();function Jb(){return tE(Qi(),gn())}const Xb=Jy,X0=class extends Xb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return If(this._hostTNode,this._hostLView)}get injector(){return new ya(this._hostTNode,this._hostLView)}get parentInjector(){const r=Zn(this._hostTNode,this._hostLView);if(Xa(r)){const o=Wi(r,this._hostLView),a=ho(r);return new ya(o[1].data[a+8],o)}return new ya(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=eE(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){const c=r.createEmbeddedView(o||{});return this.insert(c,a),c}createComponent(r,o,a,c,p){const E=r&&!function Qo(n){return"function"==typeof n}(r);let M;if(E)M=o;else{const lt=o||{};M=lt.index,a=lt.injector,c=lt.projectableNodes,p=lt.ngModuleRef}const V=E?r:new F_(vt(r)),fe=a||this.parentInjector;if(!p&&null==V.ngModule){const Dt=(E?fe:this.parentInjector).get(xf,null);Dt&&(p=Dt)}const Se=V.create(fe,c,void 0,p);return this.insert(Se.hostView,M),Se}insert(r,o){const a=r._lView,c=a[1];if(function Sr(n){return Li(n[3])}(a)){const Se=this.indexOf(r);if(-1!==Se)this.detach(Se);else{const lt=a[3],Dt=new X0(lt,lt[6],lt[3]);Dt.detach(Dt.indexOf(r))}}const p=this._adjustIndex(o),E=this._lContainer;!function td(n,r,o,a){const c=10+a,p=o.length;a>0&&(o[c-1][4]=r),a<p-10?(r[4]=o[c],va(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const E=r[17];null!==E&&o!==E&&function ph(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(E,r);const M=r[19];null!==M&&M.insertView(n),r[2]|=128}(c,a,E,p);const M=_h(p,E),V=a[11],fe=yh(V,E[7]);return null!==fe&&function Xc(n,r,o,a,c,p){a[0]=c,a[6]=r,Ks(n,a,o,1,c,p)}(c,E[6],V,a,fe,M),r.attachToViewContainerRef(),va(B_(E),p,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=eE(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=gh(this._lContainer,o);a&&(io(B_(this._lContainer),o),nd(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=gh(this._lContainer,o);return a&&null!=io(B_(this._lContainer),o)?new Pg(a):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function eE(n){return n[8]}function B_(n){return n[8]||(n[8]=[])}function tE(n,r){let o;const a=r[n.index];if(Li(a))o=a;else{let c;if(8&n.type)c=F(a);else{const p=r[11];c=p.createComment("");const E=Bt(n,r);Ou(p,yh(p,E),c,function cv(n,r){return Yt(n)?n.nextSibling(r):r.nextSibling}(p,E),!1)}r[n.index]=o=vp(a,r,c,n),Ec(r,o)}return new X0(o,n,r)}class V_{constructor(r){this.queryList=r,this.matches=null}clone(){return new V_(this.queryList)}setDirty(){this.queryList.setDirty()}}class U_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let p=0;p<a;p++){const E=o.getByIndex(p);c.push(this.queries[E.indexInDeclarationView].clone())}return new U_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==cE(r,o).matches&&this.queries[o].setDirty()}}class nE{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class j_{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,p=this.getByIndex(a).embeddedTView(r,c);p&&(p.indexInDeclarationView=a,null!==o?o.push(p):o=[p])}return null!==o?new j_(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class G_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new G_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const p=a[c];this.matchTNodeWithReadOption(r,o,nw(o,p)),this.matchTNodeWithReadOption(r,o,Fo(o,r,p,!1,!1))}else a===Ng?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Fo(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Rg||c===Jy||c===Ng&&4&o.type)this.addMatch(o.index,-2);else{const p=Fo(o,r,c,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function nw(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function iw(n,r,o,a){return-1===o?function rw(n,r){return 11&n.type?If(n,r):4&n.type?Zy(n,r):null}(r,n):-2===o?function sw(n,r,o){return o===Rg?If(r,n):o===Ng?Zy(r,n):o===Jy?tE(r,n):void 0}(n,r,a):Ma(n,n[1],o,r)}function rE(n,r,o,a){const c=r[19].queries[a];if(null===c.matches){const p=n.data,E=o.matches,M=[];for(let V=0;V<E.length;V+=2){const fe=E[V];M.push(fe<0?null:iw(r,p[fe],E[V+1],o.metadata.read))}c.matches=M}return c.matches}function H_(n,r,o,a){const c=n.queries.getByIndex(o),p=c.matches;if(null!==p){const E=rE(n,r,c,o);for(let M=0;M<p.length;M+=2){const V=p[M];if(V>0)a.push(E[M/2]);else{const fe=p[M+1],Se=r[-V];for(let lt=10;lt<Se.length;lt++){const Dt=Se[lt];Dt[17]===Dt[3]&&H_(Dt[1],Dt,fe,a)}if(null!==Se[9]){const lt=Se[9];for(let Dt=0;Dt<lt.length;Dt++){const Ut=lt[Dt];H_(Ut[1],Ut,fe,a)}}}}}return a}function iE(n){const r=gn(),o=ri(),a=Lt();fn(a+1);const c=cE(o,a);if(n.dirty&&dr(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const p=c.crossesNgTemplate?H_(o,r,a,[]):rE(o,r,c,a);n.reset(p,_b),n.notifyOnChanges()}return!0}return!1}function sE(n,r,o){const a=ri();a.firstCreatePass&&(uE(a,new nE(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),lE(a,gn(),r)}function oE(n,r,o,a){const c=ri();if(c.firstCreatePass){const p=Qi();uE(c,new nE(r,o,a),p.index),function aw(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}lE(c,gn(),o)}function aE(){return function ow(n,r){return n[19].queries[r].queryList}(gn(),Lt())}function lE(n,r,o){const a=new Qy(4==(4&o));um(n,r,a,a.destroy),null===r[19]&&(r[19]=new U_),r[19].queries.push(new V_(a))}function uE(n,r,o){null===n.queries&&(n.queries=new j_),n.queries.track(new G_(r,o))}function cE(n,r){return n.queries.getByIndex(r)}function dE(n,r){return Zy(n,r)}function tv(...n){}const Y_=new hn("Application Initializer");let Mf=(()=>{class n{constructor(o){this.appInits=o,this.resolve=tv,this.reject=tv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const p=this.appInits[c]();if(cf(p))o.push(p);else if(ty(p)){const E=new Promise((M,V)=>{p.subscribe({complete:M,error:V})});o.push(E)}}Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(yn(Y_,8))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const TE=new hn("AppId"),Aw={provide:TE,useFactory:function Cw(){return`${Q_()}${Q_()}${Q_()}`},deps:[]};function Q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const SE=new hn("Platform Initializer"),ME=new hn("Platform ID"),OE=new hn("appBootstrapListener");let RE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const nv=new hn("LocaleId"),PE=new hn("DefaultCurrencyCode");class Iw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Z_=(()=>{class n{compileModuleSync(o){return new N_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),p=to($n(o).declarations).reduce((E,M)=>{const V=vt(M);return V&&E.push(new F_(V)),E},[]);return new Iw(a,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();const Tw=(()=>Promise.resolve(0))();function J_(n){"undefined"==typeof Zone?Tw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qa{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Sw(){let n=zn.requestAnimationFrame,r=zn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Rw(n){const r=()=>{!function Ow(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e0(n),n.isCheckStableRunning=!0,X_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,p,E,M)=>{try{return kE(n),o.invokeTask(c,p,E,M)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&r(),FE(n)}},onInvoke:(o,a,c,p,E,M,V)=>{try{return kE(n),o.invoke(c,p,E,M,V)}finally{n.shouldCoalesceRunChangeDetection&&r(),FE(n)}},onHasTask:(o,a,c,p)=>{o.hasTask(c,p),a===c&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,e0(n),X_(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,a,c,p)=>(o.handleError(c,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const p=this._inner,E=p.scheduleEventTask("NgZoneEvent: "+c,r,Mw,tv,tv);try{return p.runTask(E,o,a)}finally{p.cancelTask(E)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Mw={};function X_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FE(n){n._nesting--,X_(n)}class Pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}let NE=(()=>{class n{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qa.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let p=-1;a&&a>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==p),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,a,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(yn(Qa))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})(),LE=(()=>{class n{constructor(){this._applications=new Map,t0.addToWindow(this)}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return t0.findTestabilityInTree(this,o,a)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();class kw{addToWindow(r){}findTestabilityInTree(r,o,a){return null}}function Fw(n){t0=n}let kl,t0=new kw;const BE=new hn("AllowMultipleToken");class Bw{constructor(r,o){this.name=r,this.token=o}}function VE(n,r,o=[]){const a=`Platform: ${r}`,c=new hn(a);return(p=[])=>{let E=UE();if(!E||E.injector.get(BE,!1))if(n)n(o.concat(p).concat({provide:c,useValue:!0}));else{const M=o.concat(p).concat({provide:c,useValue:!0},{provide:Dp,useValue:"platform"});!function Vw(n){if(kl&&!kl.destroyed&&!kl.injector.get(BE,!1))throw new de(400,"");kl=n.get(jE);const r=n.get(SE,null);r&&r.forEach(o=>o())}(Ro.create({providers:M,name:a}))}return function Uw(n){const r=UE();if(!r)throw new de(401,"");return r}()}}function UE(){return kl&&!kl.destroyed?kl:null}let jE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const M=function jw(n,r){let o;return o="noop"===n?new Pw:("zone.js"===n?void 0:n)||new Qa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),V=[{provide:Qa,useValue:M}];return M.run(()=>{const fe=Ro.create({providers:V,parent:this.injector,name:o.moduleType.name}),Se=o.create(fe),lt=Se.injector.get(Zl,null);if(!lt)throw new de(402,"");return M.runOutsideAngular(()=>{const Dt=M.onError.subscribe({next:Ut=>{lt.handleError(Ut)}});Se.onDestroy(()=>{n0(this._modules,Se),Dt.unsubscribe()})}),function Gw(n,r,o){try{const a=o();return cf(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(lt,M,()=>{const Dt=Se.injector.get(Mf);return Dt.runInitializers(),Dt.donePromise.then(()=>(function qu(n){mn(n,"Expected localeId to be defined"),"string"==typeof n&&(Ku=n.toLowerCase().replace(/_/g,"-"))}(Se.injector.get(nv,Bd)||Bd),this._moduleDoBootstrap(Se),Se))})})}bootstrapModule(o,a=[]){const c=GE({},a);return function Nw(n,r,o){const a=new N_(o);return Promise.resolve(a)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,c))}_moduleDoBootstrap(o){const a=o.injector.get(Bg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new de(403,"");o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(yn(Ro))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();function GE(n,r){return Array.isArray(r)?r.reduce(GE,n):Object.assign(Object.assign({},n),r)}let Bg=(()=>{class n{constructor(o,a,c,p,E){this._zone=o,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=p,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new x.y(fe=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{fe.next(this._stable),fe.complete()})}),V=new x.y(fe=>{let Se;this._zone.runOutsideAngular(()=>{Se=this._zone.onStable.subscribe(()=>{Qa.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,fe.next(!0))})})});const lt=this._zone.onUnstable.subscribe(()=>{Qa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{fe.next(!1)}))});return()=>{Se.unsubscribe(),lt.unsubscribe()}});this.isStable=(0,te.T)(M,V.pipe((0,he.B)()))}bootstrap(o,a){if(!this._initStatus.done)throw new de(405,"");let c;c=o instanceof F0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const p=function Lw(n){return n.isBoundToModule}(c)?void 0:this._injector.get(xf),M=c.create(Ro.NULL,[],a||c.selector,p),V=M.location.nativeElement,fe=M.injector.get(NE,null),Se=fe&&M.injector.get(LE);return fe&&Se&&Se.registerApplication(V,fe),M.onDestroy(()=>{this.detachView(M.hostView),n0(this.components,M),Se&&Se.unregisterApplication(V)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new de(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;n0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(OE,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(o){return new(o||n)(yn(Qa),yn(Ro),yn(Zl),yn(Og),yn(Mf))},n.\u0275prov=_n({token:n,factory:n.\u0275fac}),n})();function n0(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let $E=!0,zE=!1;function $w(){return zE=!0,$E}function zw(){if(zE)throw new Error("Cannot enable prod mode after platform setup.");$E=!1}let Ww=(()=>{class n{}return n.__NG_ELEMENT_ID__=Kw,n})();function Kw(n){return function qw(n,r,o){if(ss(n)&&!o){const a=lr(n.index,r);return new Pg(a,a)}return 47&n.type?new Pg(r[16],r):null}(Qi(),gn(),16==(16&n))}class YE{constructor(){}supports(r){return Tc(r)}create(r){return new eD(r)}}const Xw=(n,r)=>r;class eD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Xw}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,p=null;for(;o||a;){const E=!a||o&&o.currentIndex<ZE(a,c,p)?o:a,M=ZE(E,c,p),V=E.currentIndex;if(E===a)c--,a=a._nextRemoved;else if(o=o._next,null==E.previousIndex)c++;else{p||(p=[]);const fe=M-c,Se=V-c;if(fe!=Se){for(let Dt=0;Dt<fe;Dt++){const Ut=Dt<p.length?p[Dt]:p[Dt]=0,bn=Ut+Dt;Se<=bn&&bn<fe&&(p[Dt]=Ut+1)}p[E.previousIndex]=Se-fe}}M!==V&&r(E,M,V)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Tc(r))throw new de(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,p,E,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let M=0;M<this.length;M++)p=r[M],E=this._trackByFn(M,p),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,p,E,M)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,E,M),a=!0),o=o._next}else c=0,function jv(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[uu()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,M=>{E=this._trackByFn(c,M),null!==o&&Object.is(o.trackById,E)?(a&&(o=this._verifyReinsertion(o,M,E,c)),Object.is(o.item,M)||this._addIdentityChange(o,M)):(o=this._mismatch(o,M,E,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let p;return null===r?p=this._itTail:(p=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,p,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,p,c)):r=this._addAfter(new tD(o,a),p,c),r}_verifyReinsertion(r,o,a,c){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==p?r=this._reinsertAfter(p,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,p=r._nextRemoved;return null===c?this._removalsHead=p:c._nextRemoved=p,null===p?this._removalsTail=c:p._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new QE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class tD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class QE{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new nD,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZE(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class JE{constructor(){}supports(r){return r instanceof Map||wd(r)}create(){return new rD}}class rD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||wd(r)))throw new de(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const p=c._prev,E=c._next;return p&&(p._next=E),E&&(E._prev=p),c._next=null,c._prev=null,c}const a=new iD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class iD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XE(){return new sv([new YE])}let sv=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||XE()),deps:[[n,new _o,new $s]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new de(901,"")}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:XE}),n})();function eb(){return new ov([new JE])}let ov=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||eb()),deps:[[n,new _o,new $s]]}}find(o){const a=this.factories.find(p=>p.supports(o));if(a)return a;throw new de(901,"")}}return n.\u0275prov=_n({token:n,providedIn:"root",factory:eb}),n})();const sD=[new JE],aD=new sv([new YE]),lD=new ov(sD),uD=VE(null,"core",[{provide:ME,useValue:"unknown"},{provide:jE,deps:[Ro]},{provide:LE,deps:[]},{provide:RE,deps:[]}]),pD=[{provide:Bg,useClass:Bg,deps:[Qa,Ro,Zl,Og,Mf]},{provide:Ib,deps:[Qa],useFactory:function gD(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(o){r.push(o)}}},{provide:Mf,useClass:Mf,deps:[[new $s,Y_]]},{provide:Z_,useClass:Z_,deps:[]},Aw,{provide:sv,useFactory:function cD(){return aD},deps:[]},{provide:ov,useFactory:function dD(){return lD},deps:[]},{provide:nv,useFactory:function hD(n){return n||function fD(){return"undefined"!=typeof $localize&&$localize.locale||Bd}()},deps:[[new No(nv),new $s,new _o]]},{provide:PE,useValue:"USD"}];let mD=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(yn(Bg))},n.\u0275mod=Z({type:n}),n.\u0275inj=St({providers:pD}),n})()},3075:(Zt,nt,m)=>{m.d(nt,{Zs:()=>Wt,Fj:()=>Me,qu:()=>Sr,u:()=>Un,sg:()=>We,u5:()=>lr,Cf:()=>Fe,JU:()=>ve,a5:()=>fr,JJ:()=>pn,JL:()=>Yr,F:()=>ni,wV:()=>bs,UX:()=>dr,kI:()=>It,_Y:()=>wi});var u=m(5e3),_=m(9808),x=m(8996),te=m(4128),he=m(4004);let _e=(()=>{class Y{constructor(P,Oe){this._renderer=P,this._elementRef=Oe,this.onChange=sn=>{},this.onTouched=()=>{}}setProperty(P,Oe){this._renderer.setProperty(this._elementRef.nativeElement,P,Oe)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(u.Qsj),u.Y36(u.SBq))},Y.\u0275dir=u.lG2({type:Y}),Y})(),Re=(()=>{class Y extends _e{}return Y.\u0275fac=function(){let j;return function(Oe){return(j||(j=u.n5z(Y)))(Oe||Y)}}(),Y.\u0275dir=u.lG2({type:Y,features:[u.qOj]}),Y})();const ve=new u.OlP("NgValueAccessor"),ie={provide:ve,useExisting:(0,u.Gpc)(()=>Me),multi:!0},Pe=new u.OlP("CompositionEventMode");let Me=(()=>{class Y extends _e{constructor(P,Oe,sn){super(P,Oe),this._compositionMode=sn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const Y=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(P){this.setProperty("value",null==P?"":P)}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Pe,8))},Y.\u0275dir=u.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,Oe){1&P&&u.NdJ("input",function(Wn){return Oe._handleInput(Wn.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(Wn){return Oe._compositionEnd(Wn.target.value)})},features:[u._Bn([ie]),u.qOj]}),Y})();function de(Y){return null==Y||0===Y.length}function $e(Y){return null!=Y&&"number"==typeof Y.length}const Fe=new u.OlP("NgValidators"),Ye=new u.OlP("NgAsyncValidators"),Ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class It{static min(j){return function Je(Y){return j=>{if(de(j.value)||de(Y))return null;const P=parseFloat(j.value);return!isNaN(P)&&P<Y?{min:{min:Y,actual:j.value}}:null}}(j)}static max(j){return function xe(Y){return j=>{if(de(j.value)||de(Y))return null;const P=parseFloat(j.value);return!isNaN(P)&&P>Y?{max:{max:Y,actual:j.value}}:null}}(j)}static required(j){return je(j)}static requiredTrue(j){return st(j)}static email(j){return function Ke(Y){return de(Y.value)||Ne.test(Y.value)?null:{email:!0}}(j)}static minLength(j){return function ee(Y){return j=>de(j.value)||!$e(j.value)?null:j.value.length<Y?{minlength:{requiredLength:Y,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function re(Y){return j=>$e(j.value)&&j.value.length>Y?{maxlength:{requiredLength:Y,actualLength:j.value.length}}:null}(j)}static pattern(j){return function De(Y){if(!Y)return He;let j,P;return"string"==typeof Y?(P="","^"!==Y.charAt(0)&&(P+="^"),P+=Y,"$"!==Y.charAt(Y.length-1)&&(P+="$"),j=new RegExp(P)):(P=Y.toString(),j=Y),Oe=>{if(de(Oe.value))return null;const sn=Oe.value;return j.test(sn)?null:{pattern:{requiredPattern:P,actualValue:sn}}}}(j)}static nullValidator(j){return null}static compose(j){return mn(j)}static composeAsync(j){return $t(j)}}function je(Y){return de(Y.value)?{required:!0}:null}function st(Y){return!0===Y.value?null:{required:!0}}function He(Y){return null}function Xe(Y){return null!=Y}function dt(Y){const j=(0,u.QGY)(Y)?(0,x.D)(Y):Y;return(0,u.CqO)(j),j}function ut(Y){let j={};return Y.forEach(P=>{j=null!=P?Object.assign(Object.assign({},j),P):j}),0===Object.keys(j).length?null:j}function Xt(Y,j){return j.map(P=>P(Y))}function An(Y){return Y.map(j=>function on(Y){return!Y.validate}(j)?j:P=>j.validate(P))}function mn(Y){if(!Y)return null;const j=Y.filter(Xe);return 0==j.length?null:function(P){return ut(Xt(P,j))}}function _t(Y){return null!=Y?mn(An(Y)):null}function $t(Y){if(!Y)return null;const j=Y.filter(Xe);return 0==j.length?null:function(P){const Oe=Xt(P,j).map(dt);return(0,te.D)(Oe).pipe((0,he.U)(ut))}}function zt(Y){return null!=Y?$t(An(Y)):null}function ln(Y,j){return null===Y?[j]:Array.isArray(Y)?[...Y,j]:[Y,j]}function _n(Y){return Y._rawValidators}function xt(Y){return Y._rawAsyncValidators}function St(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Gt(Y,j){return Array.isArray(Y)?Y.includes(j):Y===j}function Sn(Y,j){const P=St(j);return St(Y).forEach(sn=>{Gt(P,sn)||P.push(sn)}),P}function wn(Y,j){return St(j).filter(P=>!Gt(Y,P))}class Vn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,P){return!!this.control&&this.control.hasError(j,P)}getError(j,P){return this.control?this.control.getError(j,P):null}}class fr extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kn extends Vn{get formDirective(){return null}get path(){return null}}class hr{constructor(j){this._cd=j}is(j){var P,Oe,sn;return"submitted"===j?!!(null===(P=this._cd)||void 0===P?void 0:P.submitted):!!(null===(sn=null===(Oe=this._cd)||void 0===Oe?void 0:Oe.control)||void 0===sn?void 0:sn[j])}}let pn=(()=>{class Y extends hr{constructor(P){super(P)}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(fr,2))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,Oe){2&P&&u.ekj("ng-untouched",Oe.is("untouched"))("ng-touched",Oe.is("touched"))("ng-pristine",Oe.is("pristine"))("ng-dirty",Oe.is("dirty"))("ng-valid",Oe.is("valid"))("ng-invalid",Oe.is("invalid"))("ng-pending",Oe.is("pending"))},features:[u.qOj]}),Y})(),Yr=(()=>{class Y extends hr{constructor(P){super(P)}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(Kn,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,Oe){2&P&&u.ekj("ng-untouched",Oe.is("untouched"))("ng-touched",Oe.is("touched"))("ng-pristine",Oe.is("pristine"))("ng-dirty",Oe.is("dirty"))("ng-valid",Oe.is("valid"))("ng-invalid",Oe.is("invalid"))("ng-pending",Oe.is("pending"))("ng-submitted",Oe.is("submitted"))},features:[u.qOj]}),Y})();function In(Y,j){z(Y,j),j.valueAccessor.writeValue(Y.value),function B(Y,j){j.valueAccessor.registerOnChange(P=>{Y._pendingValue=P,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&ft(Y,j)})}(Y,j),function Vt(Y,j){const P=(Oe,sn)=>{j.valueAccessor.writeValue(Oe),sn&&j.viewToModelUpdate(Oe)};Y.registerOnChange(P),j._registerOnDestroy(()=>{Y._unregisterOnChange(P)})}(Y,j),function Te(Y,j){j.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&ft(Y,j),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,j),function Ae(Y,j){if(j.valueAccessor.setDisabledState){const P=Oe=>{j.valueAccessor.setDisabledState(Oe)};Y.registerOnDisabledChange(P),j._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(P)})}}(Y,j)}function Zr(Y,j,P=!0){const Oe=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(Oe),j.valueAccessor.registerOnTouched(Oe)),k(Y,j),Y&&(j._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function ct(Y,j){Y.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(j)})}function z(Y,j){const P=_n(Y);null!==j.validator?Y.setValidators(ln(P,j.validator)):"function"==typeof P&&Y.setValidators([P]);const Oe=xt(Y);null!==j.asyncValidator?Y.setAsyncValidators(ln(Oe,j.asyncValidator)):"function"==typeof Oe&&Y.setAsyncValidators([Oe]);const sn=()=>Y.updateValueAndValidity();ct(j._rawValidators,sn),ct(j._rawAsyncValidators,sn)}function k(Y,j){let P=!1;if(null!==Y){if(null!==j.validator){const sn=_n(Y);if(Array.isArray(sn)&&sn.length>0){const Wn=sn.filter(li=>li!==j.validator);Wn.length!==sn.length&&(P=!0,Y.setValidators(Wn))}}if(null!==j.asyncValidator){const sn=xt(Y);if(Array.isArray(sn)&&sn.length>0){const Wn=sn.filter(li=>li!==j.asyncValidator);Wn.length!==sn.length&&(P=!0,Y.setAsyncValidators(Wn))}}}const Oe=()=>{};return ct(j._rawValidators,Oe),ct(j._rawAsyncValidators,Oe),P}function ft(Y,j){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function pe(Y,j){z(Y,j)}function vt(Y,j){Y._syncPendingControls(),j.forEach(P=>{const Oe=P.control;"submit"===Oe.updateOn&&Oe._pendingChange&&(P.viewToModelUpdate(Oe._pendingValue),Oe._pendingChange=!1)})}function Qn(Y,j){const P=Y.indexOf(j);P>-1&&Y.splice(P,1)}const ai="VALID",Ai="INVALID",si="PENDING",fi="DISABLED";function Gi(Y){return(jr(Y)?Y.validators:Y)||null}function Qr(Y){return Array.isArray(Y)?_t(Y):Y||null}function Rn(Y,j){return(jr(j)?j.asyncValidators:Y)||null}function Yn(Y){return Array.isArray(Y)?zt(Y):Y||null}function jr(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}const Ei=Y=>Y instanceof mr,mi=Y=>Y instanceof Mi,ii=Y=>Y instanceof Xi;function ci(Y){return Ei(Y)?Y.value:Y.getRawValue()}function Hr(Y,j){const P=mi(Y),Oe=Y.controls;if(!(P?Object.keys(Oe):Oe).length)throw new u.vHH(1e3,"");if(!Oe[j])throw new u.vHH(1001,"")}function Si(Y,j){mi(Y),Y._forEachChild((Oe,sn)=>{if(void 0===j[sn])throw new u.vHH(1002,"")})}class $r{constructor(j,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=P,this._composedValidatorFn=Qr(this._rawValidators),this._composedAsyncValidatorFn=Yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===ai}get invalid(){return this.status===Ai}get pending(){return this.status==si}get disabled(){return this.status===fi}get enabled(){return this.status!==fi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Qr(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=Yn(j)}addValidators(j){this.setValidators(Sn(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Sn(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(wn(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(wn(j,this._rawAsyncValidators))}hasValidator(j){return Gt(this._rawValidators,j)}hasAsyncValidator(j){return Gt(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=si,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=fi,this.errors=null,this._forEachChild(Oe=>{Oe.disable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:P})),this._onDisabledChange.forEach(Oe=>Oe(!0))}enable(j={}){const P=this._parentMarkedDirty(j.onlySelf);this.status=ai,this._forEachChild(Oe=>{Oe.enable(Object.assign(Object.assign({},j),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},j),{skipPristineCheck:P})),this._onDisabledChange.forEach(Oe=>Oe(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ai||this.status===si)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fi:ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=si,this._hasOwnPendingAsyncValidator=!0;const P=dt(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(Oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Oe,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,P={}){this.errors=j,this._updateControlsErrors(!1!==P.emitEvent)}get(j){return function br(Y,j,P){if(null==j||(Array.isArray(j)||(j=j.split(P)),Array.isArray(j)&&0===j.length))return null;let Oe=Y;return j.forEach(sn=>{Oe=mi(Oe)?Oe.controls.hasOwnProperty(sn)?Oe.controls[sn]:null:ii(Oe)&&Oe.at(sn)||null}),Oe}(this,j,".")}getError(j,P){const Oe=P?this.get(P):this;return Oe&&Oe.errors?Oe.errors[j]:null}hasError(j,P){return!!this.getError(j,P)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?fi:this.errors?Ai:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(si)?si:this._anyControlsHaveStatus(Ai)?Ai:ai}_anyControlsHaveStatus(j){return this._anyControls(P=>P.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_isBoxedValue(j){return"object"==typeof j&&null!==j&&2===Object.keys(j).length&&"value"in j&&"disabled"in j}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){jr(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mr extends $r{constructor(j=null,P,Oe){super(Gi(P),Rn(Oe,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jr(P)&&P.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(j)?j.value:j)}setValue(j,P={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(Oe=>Oe(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(j,P={}){this.setValue(j,P)}reset(j=this.defaultValue,P={}){this._applyFormState(j),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Qn(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Qn(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){this._isBoxedValue(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}}class Mi extends $r{constructor(j,P,Oe){super(Gi(P),Rn(Oe,P)),this.controls=j,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,P){return this.controls[j]?this.controls[j]:(this.controls[j]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(j,P,Oe={}){this.registerControl(j,P),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}removeControl(j,P={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(j,P,Oe={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],P&&this.registerControl(j,P),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,P={}){Si(this,j),Object.keys(j).forEach(Oe=>{Hr(this,Oe),this.controls[Oe].setValue(j[Oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(j,P={}){null!=j&&(Object.keys(j).forEach(Oe=>{this.controls[Oe]&&this.controls[Oe].patchValue(j[Oe],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(j={},P={}){this._forEachChild((Oe,sn)=>{Oe.reset(j[sn],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(j,P,Oe)=>(j[Oe]=ci(P),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(P,Oe)=>!!Oe._syncPendingControls()||P);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(P=>{const Oe=this.controls[P];Oe&&j(Oe,P)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const P of Object.keys(this.controls)){const Oe=this.controls[P];if(this.contains(P)&&j(Oe))return!0}return!1}_reduceValue(){return this._reduceChildren({},(j,P,Oe)=>((P.enabled||this.disabled)&&(j[Oe]=P.value),j))}_reduceChildren(j,P){let Oe=j;return this._forEachChild((sn,Wn)=>{Oe=P(Oe,sn,Wn)}),Oe}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Xi extends $r{constructor(j,P,Oe){super(Gi(P),Rn(Oe,P)),this.controls=j,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[j]}push(j,P={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(j,P,Oe={}){this.controls.splice(j,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:Oe.emitEvent})}removeAt(j,P={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(j,P,Oe={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),P&&(this.controls.splice(j,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:Oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,P={}){Si(this,j),j.forEach((Oe,sn)=>{Hr(this,sn),this.at(sn).setValue(Oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(j,P={}){null!=j&&(j.forEach((Oe,sn)=>{this.at(sn)&&this.at(sn).patchValue(Oe,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(j=[],P={}){this._forEachChild((Oe,sn)=>{Oe.reset(j[sn],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(j=>ci(j))}clear(j={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_syncPendingControls(){let j=this.controls.reduce((P,Oe)=>!!Oe._syncPendingControls()||P,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((P,Oe)=>{j(P,Oe)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(P=>P.enabled&&j(P))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}}const ls={provide:Kn,useExisting:(0,u.Gpc)(()=>ni)},bi=(()=>Promise.resolve(null))();let ni=(()=>{class Y extends Kn{constructor(P,Oe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Mi({},_t(P),zt(Oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(P){bi.then(()=>{const Oe=this._findContainer(P.path);P.control=Oe.registerControl(P.name,P.control),In(P.control,P),P.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(P)})}getControl(P){return this.form.get(P.path)}removeControl(P){bi.then(()=>{const Oe=this._findContainer(P.path);Oe&&Oe.removeControl(P.name),this._directives.delete(P)})}addFormGroup(P){bi.then(()=>{const Oe=this._findContainer(P.path),sn=new Mi({});pe(sn,P),Oe.registerControl(P.name,sn),sn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(P){bi.then(()=>{const Oe=this._findContainer(P.path);Oe&&Oe.removeControl(P.name)})}getFormGroup(P){return this.form.get(P.path)}updateModel(P,Oe){bi.then(()=>{this.form.get(P.path).setValue(Oe)})}setValue(P){this.control.setValue(P)}onSubmit(P){return this.submitted=!0,vt(this.form,this._directives),this.ngSubmit.emit(P),!1}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(P){return P.pop(),P.length?this.form.get(P):this.form}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(Fe,10),u.Y36(Ye,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(P,Oe){1&P&&u.NdJ("submit",function(Wn){return Oe.onSubmit(Wn)})("reset",function(){return Oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([ls]),u.qOj]}),Y})(),wi=(()=>{class Y{}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275dir=u.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})();const Oi={provide:ve,useExisting:(0,u.Gpc)(()=>bs),multi:!0};let bs=(()=>{class Y extends Re{writeValue(P){this.setProperty("value",null==P?"":P)}registerOnChange(P){this.onChange=Oe=>{P(""==Oe?null:parseFloat(Oe))}}}return Y.\u0275fac=function(){let j;return function(Oe){return(j||(j=u.n5z(Y)))(Oe||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(P,Oe){1&P&&u.NdJ("input",function(Wn){return Oe.onChange(Wn.target.value)})("blur",function(){return Oe.onTouched()})},features:[u._Bn([Oi]),u.qOj]}),Y})(),yi=(()=>{class Y{}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({}),Y})();const ae=new u.OlP("NgModelWithFormControlWarning"),oe={provide:Kn,useExisting:(0,u.Gpc)(()=>We)};let We=(()=>{class Y extends Kn{constructor(P,Oe){super(),this.validators=P,this.asyncValidators=Oe,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(P),this._setAsyncValidators(Oe)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(k(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const Oe=this.form.get(P.path);return In(Oe,P),Oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),Oe}getControl(P){return this.form.get(P.path)}removeControl(P){Zr(P.control||null,P,!1),Qn(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,Oe){this.form.get(P.path).setValue(Oe)}onSubmit(P){return this.submitted=!0,vt(this.form,this.directives),this.ngSubmit.emit(P),!1}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const Oe=P.control,sn=this.form.get(P.path);Oe!==sn&&(Zr(Oe||null,P),Ei(sn)&&(In(sn,P),P.control=sn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const Oe=this.form.get(P.path);pe(Oe,P),Oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const Oe=this.form.get(P.path);Oe&&function Rt(Y,j){return k(Y,j)}(Oe,P)&&Oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){z(this.form,this),this._oldForm&&k(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(P){return new(P||Y)(u.Y36(Fe,10),u.Y36(Ye,10))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(P,Oe){1&P&&u.NdJ("submit",function(Wn){return Oe.onSubmit(Wn)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([oe]),u.qOj,u.TTD]}),Y})();const vn={provide:fr,useExisting:(0,u.Gpc)(()=>Un)};let Un=(()=>{class Y extends fr{constructor(P,Oe,sn,Wn,li){super(),this._ngModelWarningConfig=li,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(Oe),this._setAsyncValidators(sn),this.valueAccessor=function ht(Y,j){if(!j)return null;let P,Oe,sn;return Array.isArray(j),j.forEach(Wn=>{Wn.constructor===Me?P=Wn:function rt(Y){return Object.getPrototypeOf(Y.constructor)===Re}(Wn)?Oe=Wn:sn=Wn}),sn||Oe||P||null}(0,Wn)}set isDisabled(P){}ngOnChanges(P){this._added||this._setUpControl(),function Ge(Y,j){if(!Y.hasOwnProperty("model"))return!1;const P=Y.model;return!!P.isFirstChange()||!Object.is(j,P.currentValue)}(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return function Gn(Y,j){return[...j.path,Y]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(P){return new(P||Y)(u.Y36(Kn,13),u.Y36(Fe,10),u.Y36(Ye,10),u.Y36(ve,10),u.Y36(ae,8))},Y.\u0275dir=u.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([vn]),u.qOj,u.TTD]}),Y})(),oi=(()=>{class Y{constructor(){this._validator=He}ngOnChanges(P){if(this.inputName in P){const Oe=this.normalizeInput(P[this.inputName].currentValue);this._enabled=this.enabled(Oe),this._validator=this._enabled?this.createValidator(Oe):He,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(P){return null!=P}}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275dir=u.lG2({type:Y,features:[u.TTD]}),Y})();const ge={provide:Fe,useExisting:(0,u.Gpc)(()=>At),multi:!0},tt={provide:Fe,useExisting:(0,u.Gpc)(()=>Wt),multi:!0};let At=(()=>{class Y extends oi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=P=>function vi(Y){return null!=Y&&!1!==Y&&"false"!=`${Y}`}(P),this.createValidator=P=>je}enabled(P){return P}}return Y.\u0275fac=function(){let j;return function(Oe){return(j||(j=u.n5z(Y)))(Oe||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(P,Oe){2&P&&u.uIk("required",Oe._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([ge]),u.qOj]}),Y})(),Wt=(()=>{class Y extends At{constructor(){super(...arguments),this.createValidator=P=>st}}return Y.\u0275fac=function(){let j;return function(Oe){return(j||(j=u.n5z(Y)))(Oe||Y)}}(),Y.\u0275dir=u.lG2({type:Y,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(P,Oe){2&P&&u.uIk("required",Oe._enabled?"":null)},features:[u._Bn([tt]),u.qOj]}),Y})(),cr=(()=>{class Y{}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[[yi]]}),Y})(),lr=(()=>{class Y{}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[cr]}),Y})(),dr=(()=>{class Y{static withConfig(P){return{ngModule:Y,providers:[{provide:ae,useValue:P.warnOnNgModelWithFormControl}]}}}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[cr]}),Y})(),Sr=(()=>{class Y{group(P,Oe=null){const sn=this._reduceControls(P);let hs,Wn=null,li=null;return null!=Oe&&(function Tr(Y){return void 0!==Y.asyncValidators||void 0!==Y.validators||void 0!==Y.updateOn}(Oe)?(Wn=null!=Oe.validators?Oe.validators:null,li=null!=Oe.asyncValidators?Oe.asyncValidators:null,hs=null!=Oe.updateOn?Oe.updateOn:void 0):(Wn=null!=Oe.validator?Oe.validator:null,li=null!=Oe.asyncValidator?Oe.asyncValidator:null)),new Mi(sn,{asyncValidators:li,updateOn:hs,validators:Wn})}control(P,Oe,sn){return new mr(P,Oe,sn)}array(P,Oe,sn){const Wn=P.map(li=>this._createControl(li));return new Xi(Wn,Oe,sn)}_reduceControls(P){const Oe={};return Object.keys(P).forEach(sn=>{Oe[sn]=this._createControl(P[sn])}),Oe}_createControl(P){return Ei(P)||mi(P)||ii(P)?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return Y.\u0275fac=function(P){return new(P||Y)},Y.\u0275prov=u.Yz7({token:Y,factory:Y.\u0275fac,providedIn:dr}),Y})()},508:(Zt,nt,m)=>{m.d(nt,{yN:()=>Ye,mZ:()=>Ne,_A:()=>on,rD:()=>St,sG:()=>An,K7:()=>Ln,HF:()=>Nt,Y2:()=>dn,BQ:()=>xe,X2:()=>Gt,uc:()=>Vn,XK:()=>_n,ey:()=>Gn,Ng:()=>ct,rN:()=>rr,nP:()=>ze,us:()=>Ft,wG:()=>Ot,si:()=>Le,IR:()=>Yr,CB:()=>In,jH:()=>Zr,pj:()=>re,Kr:()=>De,Id:()=>ee,FD:()=>Xe,sb:()=>He,E0:()=>Sn});var u=m(5e3),_=m(226),te=m(9808),he=m(925),_e=m(5664),Re=m(3191),ve=m(7579),be=m(8675),H=m(6360),ie=m(1159);function Me(Ae,z){if(1&Ae&&u._UZ(0,"mat-pseudo-checkbox",4),2&Ae){const k=u.oxw();u.Q6J("state",k.selected?"checked":"unchecked")("disabled",k.disabled)}}function de(Ae,z){if(1&Ae&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&Ae){const k=u.oxw();u.xp6(1),u.hij("(",k.group.label,")")}}const $e=["*"];let Ye=(()=>{class Ae{}return Ae.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",Ae.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",Ae.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",Ae.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",Ae})(),Ne=(()=>{class Ae{}return Ae.COMPLEX="375ms",Ae.ENTERING="225ms",Ae.EXITING="195ms",Ae})();const Je=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function It(){return!0}});let xe=(()=>{class Ae{constructor(k,B,Te){this._sanityChecks=B,this._document=Te,this._hasDoneGlobalChecks=!1,k._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(k){return!(0,he.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[k])}}return Ae.\u0275fac=function(k){return new(k||Ae)(u.LFG(_e.qm),u.LFG(Je,8),u.LFG(te.K0))},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[_.vT],_.vT]}),Ae})();function ee(Ae){return class extends Ae{constructor(...z){super(...z),this._disabled=!1}get disabled(){return this._disabled}set disabled(z){this._disabled=(0,Re.Ig)(z)}}}function re(Ae,z){return class extends Ae{constructor(...k){super(...k),this.defaultColor=z,this.color=z}get color(){return this._color}set color(k){const B=k||this.defaultColor;B!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),B&&this._elementRef.nativeElement.classList.add(`mat-${B}`),this._color=B)}}}function De(Ae){return class extends Ae{constructor(...z){super(...z),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(z){this._disableRipple=(0,Re.Ig)(z)}}}function He(Ae,z=0){return class extends Ae{constructor(...k){super(...k),this._tabIndex=z,this.defaultTabIndex=z}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(k){this._tabIndex=null!=k?(0,Re.su)(k):this.defaultTabIndex}}}function Xe(Ae){return class extends Ae{constructor(...z){super(...z),this.stateChanges=new ve.x,this.errorState=!1}updateErrorState(){const z=this.errorState,ft=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ft!==z&&(this.errorState=ft,this.stateChanges.next())}}}const ut=new u.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Xt(){return(0,u.f3M)(u.soG)}});class on{constructor(){this._localeChanges=new ve.x,this.localeChanges=this._localeChanges}getValidDateOrNull(z){return this.isDateInstance(z)&&this.isValid(z)?z:null}deserialize(z){return null==z||this.isDateInstance(z)&&this.isValid(z)?z:this.invalid()}setLocale(z){this.locale=z,this._localeChanges.next()}compareDate(z,k){return this.getYear(z)-this.getYear(k)||this.getMonth(z)-this.getMonth(k)||this.getDate(z)-this.getDate(k)}sameDate(z,k){if(z&&k){let B=this.isValid(z),Te=this.isValid(k);return B&&Te?!this.compareDate(z,k):B==Te}return z==k}clampDate(z,k,B){return k&&this.compareDate(z,k)<0?k:B&&this.compareDate(z,B)>0?B:z}}const An=new u.OlP("mat-date-formats"),mn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function _t(Ae,z){const k=Array(Ae);for(let B=0;B<Ae;B++)k[B]=z(B);return k}let $t=(()=>{class Ae extends on{constructor(k,B){super(),this.useUtcForDisplay=!1,super.setLocale(k)}getYear(k){return k.getFullYear()}getMonth(k){return k.getMonth()}getDate(k){return k.getDate()}getDayOfWeek(k){return k.getDay()}getMonthNames(k){const B=new Intl.DateTimeFormat(this.locale,{month:k,timeZone:"utc"});return _t(12,Te=>this._format(B,new Date(2017,Te,1)))}getDateNames(){const k=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return _t(31,B=>this._format(k,new Date(2017,0,B+1)))}getDayOfWeekNames(k){const B=new Intl.DateTimeFormat(this.locale,{weekday:k,timeZone:"utc"});return _t(7,Te=>this._format(B,new Date(2017,0,Te+1)))}getYearName(k){const B=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(B,k)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(k){return this.getDate(this._createDateWithOverflow(this.getYear(k),this.getMonth(k)+1,0))}clone(k){return new Date(k.getTime())}createDate(k,B,Te){let ft=this._createDateWithOverflow(k,B,Te);return ft.getMonth(),ft}today(){return new Date}parse(k){return"number"==typeof k?new Date(k):k?new Date(Date.parse(k)):null}format(k,B){if(!this.isValid(k))throw Error("NativeDateAdapter: Cannot format invalid date.");const Te=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},B),{timeZone:"utc"}));return this._format(Te,k)}addCalendarYears(k,B){return this.addCalendarMonths(k,12*B)}addCalendarMonths(k,B){let Te=this._createDateWithOverflow(this.getYear(k),this.getMonth(k)+B,this.getDate(k));return this.getMonth(Te)!=((this.getMonth(k)+B)%12+12)%12&&(Te=this._createDateWithOverflow(this.getYear(Te),this.getMonth(Te),0)),Te}addCalendarDays(k,B){return this._createDateWithOverflow(this.getYear(k),this.getMonth(k),this.getDate(k)+B)}toIso8601(k){return[k.getUTCFullYear(),this._2digit(k.getUTCMonth()+1),this._2digit(k.getUTCDate())].join("-")}deserialize(k){if("string"==typeof k){if(!k)return null;if(mn.test(k)){let B=new Date(k);if(this.isValid(B))return B}}return super.deserialize(k)}isDateInstance(k){return k instanceof Date}isValid(k){return!isNaN(k.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(k,B,Te){const ft=new Date;return ft.setFullYear(k,B,Te),ft.setHours(0,0,0,0),ft}_2digit(k){return("00"+k).slice(-2)}_format(k,B){const Te=new Date;return Te.setUTCFullYear(B.getFullYear(),B.getMonth(),B.getDate()),Te.setUTCHours(B.getHours(),B.getMinutes(),B.getSeconds(),B.getMilliseconds()),k.format(Te)}}return Ae.\u0275fac=function(k){return new(k||Ae)(u.LFG(ut,8),u.LFG(he.t4))},Ae.\u0275prov=u.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const zt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ln=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[{provide:on,useClass:$t}]}),Ae})(),_n=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({providers:[{provide:An,useValue:zt}],imports:[[ln]]}),Ae})(),St=(()=>{class Ae{isErrorState(k,B){return!!(k&&k.invalid&&(k.touched||B&&B.submitted))}}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275prov=u.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Gt=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275dir=u.lG2({type:Ae,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),Ae})();function Sn(Ae,z,k="mat"){Ae.changes.pipe((0,be.O)(Ae)).subscribe(({length:B})=>{wn(z,`${k}-2-line`,!1),wn(z,`${k}-3-line`,!1),wn(z,`${k}-multi-line`,!1),2===B||3===B?wn(z,`${k}-${B}-line`,!0):B>3&&wn(z,`${k}-multi-line`,!0)})}function wn(Ae,z,k){Ae.nativeElement.classList.toggle(z,k)}let Vn=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[xe],xe]}),Ae})();class fr{constructor(z,k,B){this._renderer=z,this.element=k,this.config=B,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kn={enterDuration:225,exitDuration:150},qr=(0,he.i$)({passive:!0}),Lr=["mousedown","touchstart"],pn=["mouseup","mouseleave","touchend","touchcancel"];class Yr{constructor(z,k,B,Te){this._target=z,this._ngZone=k,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Te.isBrowser&&(this._containerElement=(0,Re.fI)(B))}fadeInRipple(z,k,B={}){const Te=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ft=Object.assign(Object.assign({},Kn),B.animation);B.centered&&(z=Te.left+Te.width/2,k=Te.top+Te.height/2);const Vt=B.radius||function vr(Ae,z,k){const B=Math.max(Math.abs(Ae-k.left),Math.abs(Ae-k.right)),Te=Math.max(Math.abs(z-k.top),Math.abs(z-k.bottom));return Math.sqrt(B*B+Te*Te)}(z,k,Te),pe=z-Te.left,Rt=k-Te.top,T=ft.enterDuration,Z=document.createElement("div");Z.classList.add("mat-ripple-element"),Z.style.left=pe-Vt+"px",Z.style.top=Rt-Vt+"px",Z.style.height=2*Vt+"px",Z.style.width=2*Vt+"px",null!=B.color&&(Z.style.backgroundColor=B.color),Z.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(Z),function Er(Ae){window.getComputedStyle(Ae).getPropertyValue("opacity")}(Z),Z.style.transform="scale(1)";const at=new fr(this,Z,B);return at.state=0,this._activeRipples.add(at),B.persistent||(this._mostRecentTransientRipple=at),this._runTimeoutOutsideZone(()=>{const et=at===this._mostRecentTransientRipple;at.state=1,!B.persistent&&(!et||!this._isPointerDown)&&at.fadeOut()},T),at}fadeOutRipple(z){const k=this._activeRipples.delete(z);if(z===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!k)return;const B=z.element,Te=Object.assign(Object.assign({},Kn),z.config.animation);B.style.transitionDuration=`${Te.exitDuration}ms`,B.style.opacity="0",z.state=2,this._runTimeoutOutsideZone(()=>{z.state=3,B.remove()},Te.exitDuration)}fadeOutAll(){this._activeRipples.forEach(z=>z.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(z=>{z.config.persistent||z.fadeOut()})}setupTriggerEvents(z){const k=(0,Re.fI)(z);!k||k===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=k,this._registerEvents(Lr))}handleEvent(z){"mousedown"===z.type?this._onMousedown(z):"touchstart"===z.type?this._onTouchStart(z):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(pn),this._pointerUpEventsRegistered=!0)}_onMousedown(z){const k=(0,_e.X6)(z),B=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!k&&!B&&(this._isPointerDown=!0,this.fadeInRipple(z.clientX,z.clientY,this._target.rippleConfig))}_onTouchStart(z){if(!this._target.rippleDisabled&&!(0,_e.yG)(z)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const k=z.changedTouches;for(let B=0;B<k.length;B++)this.fadeInRipple(k[B].clientX,k[B].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(z=>{!z.config.persistent&&(1===z.state||z.config.terminateOnPointerUp&&0===z.state)&&z.fadeOut()}))}_runTimeoutOutsideZone(z,k=0){this._ngZone.runOutsideAngular(()=>setTimeout(z,k))}_registerEvents(z){this._ngZone.runOutsideAngular(()=>{z.forEach(k=>{this._triggerElement.addEventListener(k,this,qr)})})}_removeTriggerEvents(){this._triggerElement&&(Lr.forEach(z=>{this._triggerElement.removeEventListener(z,this,qr)}),this._pointerUpEventsRegistered&&pn.forEach(z=>{this._triggerElement.removeEventListener(z,this,qr)}))}}const dn=new u.OlP("mat-ripple-global-options");let Ot=(()=>{class Ae{constructor(k,B,Te,ft,Vt){this._elementRef=k,this._animationMode=Vt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ft||{},this._rippleRenderer=new Yr(this,B,k,Te)}get disabled(){return this._disabled}set disabled(k){k&&this.fadeOutAllNonPersistent(),this._disabled=k,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(k){this._trigger=k,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(k,B=0,Te){return"number"==typeof k?this._rippleRenderer.fadeInRipple(k,B,Object.assign(Object.assign({},this.rippleConfig),Te)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),k))}}return Ae.\u0275fac=function(k){return new(k||Ae)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(he.t4),u.Y36(dn,8),u.Y36(H.Qb,8))},Ae.\u0275dir=u.lG2({type:Ae,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(k,B){2&k&&u.ekj("mat-ripple-unbounded",B.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),Ae})(),Le=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[xe],xe]}),Ae})(),ze=(()=>{class Ae{constructor(k){this._animationMode=k,this.state="unchecked",this.disabled=!1}}return Ae.\u0275fac=function(k){return new(k||Ae)(u.Y36(H.Qb,8))},Ae.\u0275cmp=u.Xpm({type:Ae,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(k,B){2&k&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===B.state)("mat-pseudo-checkbox-checked","checked"===B.state)("mat-pseudo-checkbox-disabled",B.disabled)("_mat-animation-noopable","NoopAnimations"===B._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(k,B){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),Ae})(),Ft=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[xe]]}),Ae})();const Nt=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),Ln=new u.OlP("MatOptgroup");let zn=0;class rr{constructor(z,k=!1){this.source=z,this.isUserInput=k}}let Bn=(()=>{class Ae{constructor(k,B,Te,ft){this._element=k,this._changeDetectorRef=B,this._parent=Te,this.group=ft,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+zn++,this.onSelectionChange=new u.vpe,this._stateChanges=new ve.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(k){this._disabled=(0,Re.Ig)(k)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(k,B){const Te=this._getHostElement();"function"==typeof Te.focus&&Te.focus(B)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(k){(k.keyCode===ie.K5||k.keyCode===ie.L_)&&!(0,ie.Vb)(k)&&(this._selectViaInteraction(),k.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const k=this.viewValue;k!==this._mostRecentViewValue&&(this._mostRecentViewValue=k,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(k=!1){this.onSelectionChange.emit(new rr(this,k))}}return Ae.\u0275fac=function(k){u.$Z()},Ae.\u0275dir=u.lG2({type:Ae,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),Ae})(),Gn=(()=>{class Ae extends Bn{constructor(k,B,Te,ft){super(k,B,Te,ft)}}return Ae.\u0275fac=function(k){return new(k||Ae)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Nt,8),u.Y36(Ln,8))},Ae.\u0275cmp=u.Xpm({type:Ae,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(k,B){1&k&&u.NdJ("click",function(){return B._selectViaInteraction()})("keydown",function(ft){return B._handleKeydown(ft)}),2&k&&(u.Ikx("id",B.id),u.uIk("tabindex",B._getTabIndex())("aria-selected",B._getAriaSelected())("aria-disabled",B.disabled.toString()),u.ekj("mat-selected",B.selected)("mat-option-multiple",B.multiple)("mat-active",B.active)("mat-option-disabled",B.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:$e,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(k,B){1&k&&(u.F$t(),u.YNc(0,Me,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,de,2,1,"span",2),u._UZ(4,"div",3)),2&k&&(u.Q6J("ngIf",B.multiple),u.xp6(3),u.Q6J("ngIf",B.group&&B.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",B._getHostElement())("matRippleDisabled",B.disabled||B.disableRipple))},directives:[ze,te.O5,Ot],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),Ae})();function In(Ae,z,k){if(k.length){let B=z.toArray(),Te=k.toArray(),ft=0;for(let Vt=0;Vt<Ae+1;Vt++)B[Vt].group&&B[Vt].group===Te[ft]&&ft++;return ft}return 0}function Zr(Ae,z,k,B){return Ae<k?Ae:Ae+z>k+B?Math.max(0,Ae-B+z):k}let ct=(()=>{class Ae{}return Ae.\u0275fac=function(k){return new(k||Ae)},Ae.\u0275mod=u.oAB({type:Ae}),Ae.\u0275inj=u.cJS({imports:[[Le,te.ez,xe,Ft]]}),Ae})()},7322:(Zt,nt,m)=>{m.d(nt,{G_:()=>Yr,TO:()=>on,KE:()=>Er,Eo:()=>mn,lN:()=>vr,bx:()=>xt,hX:()=>St,R9:()=>fr});var u=m(7144),_=m(9808),x=m(5e3),te=m(508),he=m(3191),_e=m(7579),Re=m(6451),ve=m(4968),be=m(8675),H=m(2722),ie=m(5698),ue=m(1777),Pe=m(6360),Me=m(226),de=m(925);const $e=["connectionContainer"],Fe=["inputContainer"],Ye=["label"];function Ne(dn,Ot){1&dn&&(x.ynx(0),x.TgZ(1,"div",14),x._UZ(2,"div",15)(3,"div",16)(4,"div",17),x.qZA(),x.TgZ(5,"div",18),x._UZ(6,"div",15)(7,"div",16)(8,"div",17),x.qZA(),x.BQk())}function It(dn,Ot){if(1&dn){const Le=x.EpF();x.TgZ(0,"div",19),x.NdJ("cdkObserveContent",function(){return x.CHM(Le),x.oxw().updateOutlineGap()}),x.Hsn(1,1),x.qZA()}if(2&dn){const Le=x.oxw();x.Q6J("cdkObserveContentDisabled","outline"!=Le.appearance)}}function Je(dn,Ot){if(1&dn&&(x.ynx(0),x.Hsn(1,2),x.TgZ(2,"span"),x._uU(3),x.qZA(),x.BQk()),2&dn){const Le=x.oxw(2);x.xp6(3),x.Oqu(Le._control.placeholder)}}function xe(dn,Ot){1&dn&&x.Hsn(0,3,["*ngSwitchCase","true"])}function je(dn,Ot){1&dn&&(x.TgZ(0,"span",23),x._uU(1," *"),x.qZA())}function st(dn,Ot){if(1&dn){const Le=x.EpF();x.TgZ(0,"label",20,21),x.NdJ("cdkObserveContent",function(){return x.CHM(Le),x.oxw().updateOutlineGap()}),x.YNc(2,Je,4,1,"ng-container",12),x.YNc(3,xe,1,0,"ng-content",12),x.YNc(4,je,2,0,"span",22),x.qZA()}if(2&dn){const Le=x.oxw();x.ekj("mat-empty",Le._control.empty&&!Le._shouldAlwaysFloat())("mat-form-field-empty",Le._control.empty&&!Le._shouldAlwaysFloat())("mat-accent","accent"==Le.color)("mat-warn","warn"==Le.color),x.Q6J("cdkObserveContentDisabled","outline"!=Le.appearance)("id",Le._labelId)("ngSwitch",Le._hasLabel()),x.uIk("for",Le._control.id)("aria-owns",Le._control.id),x.xp6(2),x.Q6J("ngSwitchCase",!1),x.xp6(1),x.Q6J("ngSwitchCase",!0),x.xp6(1),x.Q6J("ngIf",!Le.hideRequiredMarker&&Le._control.required&&!Le._control.disabled)}}function Ke(dn,Ot){1&dn&&(x.TgZ(0,"div",24),x.Hsn(1,4),x.qZA())}function ee(dn,Ot){if(1&dn&&(x.TgZ(0,"div",25),x._UZ(1,"span",26),x.qZA()),2&dn){const Le=x.oxw();x.xp6(1),x.ekj("mat-accent","accent"==Le.color)("mat-warn","warn"==Le.color)}}function re(dn,Ot){if(1&dn&&(x.TgZ(0,"div"),x.Hsn(1,5),x.qZA()),2&dn){const Le=x.oxw();x.Q6J("@transitionMessages",Le._subscriptAnimationState)}}function De(dn,Ot){if(1&dn&&(x.TgZ(0,"div",30),x._uU(1),x.qZA()),2&dn){const Le=x.oxw(2);x.Q6J("id",Le._hintLabelId),x.xp6(1),x.Oqu(Le.hintLabel)}}function He(dn,Ot){if(1&dn&&(x.TgZ(0,"div",27),x.YNc(1,De,2,2,"div",28),x.Hsn(2,6),x._UZ(3,"div",29),x.Hsn(4,7),x.qZA()),2&dn){const Le=x.oxw();x.Q6J("@transitionMessages",Le._subscriptAnimationState),x.xp6(1),x.Q6J("ngIf",Le.hintLabel)}}const Xe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dt=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let ut=0;const Xt=new x.OlP("MatError");let on=(()=>{class dn{constructor(Le,ze){this.id="mat-error-"+ut++,Le||ze.nativeElement.setAttribute("aria-live","polite")}}return dn.\u0275fac=function(Le){return new(Le||dn)(x.$8M("aria-live"),x.Y36(x.SBq))},dn.\u0275dir=x.lG2({type:dn,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(Le,ze){2&Le&&x.uIk("id",ze.id)},inputs:{id:"id"},features:[x._Bn([{provide:Xt,useExisting:dn}])]}),dn})();const An={transitionMessages:(0,ue.X$)("transitionMessages",[(0,ue.SB)("enter",(0,ue.oB)({opacity:1,transform:"translateY(0%)"})),(0,ue.eR)("void => enter",[(0,ue.oB)({opacity:0,transform:"translateY(-5px)"}),(0,ue.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mn=(()=>{class dn{}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275dir=x.lG2({type:dn}),dn})(),ln=0;const _n=new x.OlP("MatHint");let xt=(()=>{class dn{constructor(){this.align="start",this.id="mat-hint-"+ln++}}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275dir=x.lG2({type:dn,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(Le,ze){2&Le&&(x.uIk("id",ze.id)("align",null),x.ekj("mat-form-field-hint-end","end"===ze.align))},inputs:{align:"align",id:"id"},features:[x._Bn([{provide:_n,useExisting:dn}])]}),dn})(),St=(()=>{class dn{}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275dir=x.lG2({type:dn,selectors:[["mat-label"]]}),dn})(),Gt=(()=>{class dn{}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275dir=x.lG2({type:dn,selectors:[["mat-placeholder"]]}),dn})();const Sn=new x.OlP("MatPrefix"),Vn=new x.OlP("MatSuffix");let fr=(()=>{class dn{}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275dir=x.lG2({type:dn,selectors:[["","matSuffix",""]],features:[x._Bn([{provide:Vn,useExisting:dn}])]}),dn})(),Kn=0;const Lr=(0,te.pj)(class{constructor(dn){this._elementRef=dn}},"primary"),pn=new x.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Yr=new x.OlP("MatFormField");let Er=(()=>{class dn extends Lr{constructor(Le,ze,Ft,Nt,Ht,nn,On){super(Le),this._changeDetectorRef=ze,this._dir=Ft,this._defaults=Nt,this._platform=Ht,this._ngZone=nn,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _e.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kn++,this._labelId="mat-form-field-label-"+Kn++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==On,this.appearance=Nt&&Nt.appearance?Nt.appearance:"legacy",this._hideRequiredMarker=!(!Nt||null==Nt.hideRequiredMarker)&&Nt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Le){const ze=this._appearance;this._appearance=Le||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&ze!==Le&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Le){this._hideRequiredMarker=(0,he.Ig)(Le)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Le){this._hintLabel=Le,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Le){Le!==this._floatLabel&&(this._floatLabel=Le||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Le){this._explicitFormFieldControl=Le}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Le=this._control;Le.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Le.controlType}`),Le.stateChanges.pipe((0,be.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Le.ngControl&&Le.ngControl.valueChanges&&Le.ngControl.valueChanges.pipe((0,H.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,H.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Re.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,be.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,be.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,H.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Le){const ze=this._control?this._control.ngControl:null;return ze&&ze[Le]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,ve.R)(this._label.nativeElement,"transitionend").pipe((0,ie.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Le=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Le.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const ze=this._hintChildren?this._hintChildren.find(Nt=>"start"===Nt.align):null,Ft=this._hintChildren?this._hintChildren.find(Nt=>"end"===Nt.align):null;ze?Le.push(ze.id):this._hintLabel&&Le.push(this._hintLabelId),Ft&&Le.push(Ft.id)}else this._errorChildren&&Le.push(...this._errorChildren.map(ze=>ze.id));this._control.setDescribedByIds(Le)}}_validateControlChild(){}updateOutlineGap(){const Le=this._label?this._label.nativeElement:null,ze=this._connectionContainerRef.nativeElement,Ft=".mat-form-field-outline-start",Nt=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!Le||!Le.children.length||!Le.textContent.trim()){const xn=ze.querySelectorAll(`${Ft}, ${Nt}`);for(let zn=0;zn<xn.length;zn++)xn[zn].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ht=0,nn=0;const On=ze.querySelectorAll(Ft),Ln=ze.querySelectorAll(Nt);if(this._label&&this._label.nativeElement.children.length){const xn=ze.getBoundingClientRect();if(0===xn.width&&0===xn.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const zn=this._getStartEnd(xn),rr=Le.children,Bn=this._getStartEnd(rr[0].getBoundingClientRect());let Gn=0;for(let In=0;In<rr.length;In++)Gn+=rr[In].offsetWidth;Ht=Math.abs(Bn-zn)-5,nn=Gn>0?.75*Gn+10:0}for(let xn=0;xn<On.length;xn++)On[xn].style.width=`${Ht}px`;for(let xn=0;xn<Ln.length;xn++)Ln[xn].style.width=`${nn}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Le){return this._dir&&"rtl"===this._dir.value?Le.right:Le.left}_isAttachedToDOM(){const Le=this._elementRef.nativeElement;if(Le.getRootNode){const ze=Le.getRootNode();return ze&&ze!==Le}return document.documentElement.contains(Le)}}return dn.\u0275fac=function(Le){return new(Le||dn)(x.Y36(x.SBq),x.Y36(x.sBO),x.Y36(Me.Is,8),x.Y36(pn,8),x.Y36(de.t4),x.Y36(x.R0b),x.Y36(Pe.Qb,8))},dn.\u0275cmp=x.Xpm({type:dn,selectors:[["mat-form-field"]],contentQueries:function(Le,ze,Ft){if(1&Le&&(x.Suo(Ft,mn,5),x.Suo(Ft,mn,7),x.Suo(Ft,St,5),x.Suo(Ft,St,7),x.Suo(Ft,Gt,5),x.Suo(Ft,Xt,5),x.Suo(Ft,_n,5),x.Suo(Ft,Sn,5),x.Suo(Ft,Vn,5)),2&Le){let Nt;x.iGM(Nt=x.CRH())&&(ze._controlNonStatic=Nt.first),x.iGM(Nt=x.CRH())&&(ze._controlStatic=Nt.first),x.iGM(Nt=x.CRH())&&(ze._labelChildNonStatic=Nt.first),x.iGM(Nt=x.CRH())&&(ze._labelChildStatic=Nt.first),x.iGM(Nt=x.CRH())&&(ze._placeholderChild=Nt.first),x.iGM(Nt=x.CRH())&&(ze._errorChildren=Nt),x.iGM(Nt=x.CRH())&&(ze._hintChildren=Nt),x.iGM(Nt=x.CRH())&&(ze._prefixChildren=Nt),x.iGM(Nt=x.CRH())&&(ze._suffixChildren=Nt)}},viewQuery:function(Le,ze){if(1&Le&&(x.Gf($e,7),x.Gf(Fe,5),x.Gf(Ye,5)),2&Le){let Ft;x.iGM(Ft=x.CRH())&&(ze._connectionContainerRef=Ft.first),x.iGM(Ft=x.CRH())&&(ze._inputContainerRef=Ft.first),x.iGM(Ft=x.CRH())&&(ze._label=Ft.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Le,ze){2&Le&&x.ekj("mat-form-field-appearance-standard","standard"==ze.appearance)("mat-form-field-appearance-fill","fill"==ze.appearance)("mat-form-field-appearance-outline","outline"==ze.appearance)("mat-form-field-appearance-legacy","legacy"==ze.appearance)("mat-form-field-invalid",ze._control.errorState)("mat-form-field-can-float",ze._canLabelFloat())("mat-form-field-should-float",ze._shouldLabelFloat())("mat-form-field-has-label",ze._hasFloatingLabel())("mat-form-field-hide-placeholder",ze._hideControlPlaceholder())("mat-form-field-disabled",ze._control.disabled)("mat-form-field-autofilled",ze._control.autofilled)("mat-focused",ze._control.focused)("ng-untouched",ze._shouldForward("untouched"))("ng-touched",ze._shouldForward("touched"))("ng-pristine",ze._shouldForward("pristine"))("ng-dirty",ze._shouldForward("dirty"))("ng-valid",ze._shouldForward("valid"))("ng-invalid",ze._shouldForward("invalid"))("ng-pending",ze._shouldForward("pending"))("_mat-animation-noopable",!ze._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[x._Bn([{provide:Yr,useExisting:dn}]),x.qOj],ngContentSelectors:dt,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Le,ze){1&Le&&(x.F$t(Xe),x.TgZ(0,"div",0)(1,"div",1,2),x.NdJ("click",function(Nt){return ze._control.onContainerClick&&ze._control.onContainerClick(Nt)}),x.YNc(3,Ne,9,0,"ng-container",3),x.YNc(4,It,2,1,"div",4),x.TgZ(5,"div",5,6),x.Hsn(7),x.TgZ(8,"span",7),x.YNc(9,st,5,16,"label",8),x.qZA()(),x.YNc(10,Ke,2,0,"div",9),x.qZA(),x.YNc(11,ee,2,4,"div",10),x.TgZ(12,"div",11),x.YNc(13,re,2,1,"div",12),x.YNc(14,He,5,2,"div",13),x.qZA()()),2&Le&&(x.xp6(3),x.Q6J("ngIf","outline"==ze.appearance),x.xp6(1),x.Q6J("ngIf",ze._prefixChildren.length),x.xp6(5),x.Q6J("ngIf",ze._hasFloatingLabel()),x.xp6(1),x.Q6J("ngIf",ze._suffixChildren.length),x.xp6(1),x.Q6J("ngIf","outline"!=ze.appearance),x.xp6(1),x.Q6J("ngSwitch",ze._getDisplayedMessages()),x.xp6(1),x.Q6J("ngSwitchCase","error"),x.xp6(1),x.Q6J("ngSwitchCase","hint"))},directives:[_.O5,u.wD,_.RF,_.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[An.transitionMessages]},changeDetection:0}),dn})(),vr=(()=>{class dn{}return dn.\u0275fac=function(Le){return new(Le||dn)},dn.\u0275mod=x.oAB({type:dn}),dn.\u0275inj=x.cJS({imports:[[_.ez,te.BQ,u.Q8],te.BQ]}),dn})()},5245:(Zt,nt,m)=>{m.d(nt,{Hw:()=>$t,Ps:()=>zt});var u=m(5e3),_=m(508),x=m(3191),te=m(9808),he=m(9646),_e=m(2843),Re=m(4128),ve=m(727),be=m(8505),H=m(4004),ie=m(262),ue=m(8746),Pe=m(3099),Me=m(5698),de=m(520),$e=m(2313);const Fe=["*"];let Ye;function It(ln){var _n;return(null===(_n=function Ne(){if(void 0===Ye&&(Ye=null,"undefined"!=typeof window)){const ln=window;void 0!==ln.trustedTypes&&(Ye=ln.trustedTypes.createPolicy("angular#components",{createHTML:_n=>_n}))}return Ye}())||void 0===_n?void 0:_n.createHTML(ln))||ln}function Je(ln){return Error(`Unable to find icon with the name "${ln}"`)}function je(ln){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${ln}".`)}function st(ln){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${ln}".`)}class Ke{constructor(_n,xt,St){this.url=_n,this.svgText=xt,this.options=St}}let ee=(()=>{class ln{constructor(xt,St,Gt,Sn){this._httpClient=xt,this._sanitizer=St,this._errorHandler=Sn,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Gt}addSvgIcon(xt,St,Gt){return this.addSvgIconInNamespace("",xt,St,Gt)}addSvgIconLiteral(xt,St,Gt){return this.addSvgIconLiteralInNamespace("",xt,St,Gt)}addSvgIconInNamespace(xt,St,Gt,Sn){return this._addSvgIconConfig(xt,St,new Ke(Gt,null,Sn))}addSvgIconResolver(xt){return this._resolvers.push(xt),this}addSvgIconLiteralInNamespace(xt,St,Gt,Sn){const wn=this._sanitizer.sanitize(u.q3G.HTML,Gt);if(!wn)throw st(Gt);const Vn=It(wn);return this._addSvgIconConfig(xt,St,new Ke("",Vn,Sn))}addSvgIconSet(xt,St){return this.addSvgIconSetInNamespace("",xt,St)}addSvgIconSetLiteral(xt,St){return this.addSvgIconSetLiteralInNamespace("",xt,St)}addSvgIconSetInNamespace(xt,St,Gt){return this._addSvgIconSetConfig(xt,new Ke(St,null,Gt))}addSvgIconSetLiteralInNamespace(xt,St,Gt){const Sn=this._sanitizer.sanitize(u.q3G.HTML,St);if(!Sn)throw st(St);const wn=It(Sn);return this._addSvgIconSetConfig(xt,new Ke("",wn,Gt))}registerFontClassAlias(xt,St=xt){return this._fontCssClassesByAlias.set(xt,St),this}classNameForFontAlias(xt){return this._fontCssClassesByAlias.get(xt)||xt}setDefaultFontSetClass(xt){return this._defaultFontSetClass=xt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(xt){const St=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,xt);if(!St)throw je(xt);const Gt=this._cachedIconsByUrl.get(St);return Gt?(0,he.of)(He(Gt)):this._loadSvgIconFromConfig(new Ke(xt,null)).pipe((0,be.b)(Sn=>this._cachedIconsByUrl.set(St,Sn)),(0,H.U)(Sn=>He(Sn)))}getNamedSvgIcon(xt,St=""){const Gt=Xe(St,xt);let Sn=this._svgIconConfigs.get(Gt);if(Sn)return this._getSvgFromConfig(Sn);if(Sn=this._getIconConfigFromResolvers(St,xt),Sn)return this._svgIconConfigs.set(Gt,Sn),this._getSvgFromConfig(Sn);const wn=this._iconSetConfigs.get(St);return wn?this._getSvgFromIconSetConfigs(xt,wn):(0,_e._)(Je(Gt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(xt){return xt.svgText?(0,he.of)(He(this._svgElementFromConfig(xt))):this._loadSvgIconFromConfig(xt).pipe((0,H.U)(St=>He(St)))}_getSvgFromIconSetConfigs(xt,St){const Gt=this._extractIconWithNameFromAnySet(xt,St);if(Gt)return(0,he.of)(Gt);const Sn=St.filter(wn=>!wn.svgText).map(wn=>this._loadSvgIconSetFromConfig(wn).pipe((0,ie.K)(Vn=>{const Kn=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,wn.url)} failed: ${Vn.message}`;return this._errorHandler.handleError(new Error(Kn)),(0,he.of)(null)})));return(0,Re.D)(Sn).pipe((0,H.U)(()=>{const wn=this._extractIconWithNameFromAnySet(xt,St);if(!wn)throw Je(xt);return wn}))}_extractIconWithNameFromAnySet(xt,St){for(let Gt=St.length-1;Gt>=0;Gt--){const Sn=St[Gt];if(Sn.svgText&&Sn.svgText.toString().indexOf(xt)>-1){const wn=this._svgElementFromConfig(Sn),Vn=this._extractSvgIconFromSet(wn,xt,Sn.options);if(Vn)return Vn}}return null}_loadSvgIconFromConfig(xt){return this._fetchIcon(xt).pipe((0,be.b)(St=>xt.svgText=St),(0,H.U)(()=>this._svgElementFromConfig(xt)))}_loadSvgIconSetFromConfig(xt){return xt.svgText?(0,he.of)(null):this._fetchIcon(xt).pipe((0,be.b)(St=>xt.svgText=St))}_extractSvgIconFromSet(xt,St,Gt){const Sn=xt.querySelector(`[id="${St}"]`);if(!Sn)return null;const wn=Sn.cloneNode(!0);if(wn.removeAttribute("id"),"svg"===wn.nodeName.toLowerCase())return this._setSvgAttributes(wn,Gt);if("symbol"===wn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(wn),Gt);const Vn=this._svgElementFromString(It("<svg></svg>"));return Vn.appendChild(wn),this._setSvgAttributes(Vn,Gt)}_svgElementFromString(xt){const St=this._document.createElement("DIV");St.innerHTML=xt;const Gt=St.querySelector("svg");if(!Gt)throw Error("<svg> tag not found");return Gt}_toSvgElement(xt){const St=this._svgElementFromString(It("<svg></svg>")),Gt=xt.attributes;for(let Sn=0;Sn<Gt.length;Sn++){const{name:wn,value:Vn}=Gt[Sn];"id"!==wn&&St.setAttribute(wn,Vn)}for(let Sn=0;Sn<xt.childNodes.length;Sn++)xt.childNodes[Sn].nodeType===this._document.ELEMENT_NODE&&St.appendChild(xt.childNodes[Sn].cloneNode(!0));return St}_setSvgAttributes(xt,St){return xt.setAttribute("fit",""),xt.setAttribute("height","100%"),xt.setAttribute("width","100%"),xt.setAttribute("preserveAspectRatio","xMidYMid meet"),xt.setAttribute("focusable","false"),St&&St.viewBox&&xt.setAttribute("viewBox",St.viewBox),xt}_fetchIcon(xt){var St;const{url:Gt,options:Sn}=xt,wn=null!==(St=null==Sn?void 0:Sn.withCredentials)&&void 0!==St&&St;if(!this._httpClient)throw function xe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Gt)throw Error(`Cannot fetch icon from URL "${Gt}".`);const Vn=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,Gt);if(!Vn)throw je(Gt);const fr=this._inProgressUrlFetches.get(Vn);if(fr)return fr;const Kn=this._httpClient.get(Vn,{responseType:"text",withCredentials:wn}).pipe((0,H.U)(hr=>It(hr)),(0,ue.x)(()=>this._inProgressUrlFetches.delete(Vn)),(0,Pe.B)());return this._inProgressUrlFetches.set(Vn,Kn),Kn}_addSvgIconConfig(xt,St,Gt){return this._svgIconConfigs.set(Xe(xt,St),Gt),this}_addSvgIconSetConfig(xt,St){const Gt=this._iconSetConfigs.get(xt);return Gt?Gt.push(St):this._iconSetConfigs.set(xt,[St]),this}_svgElementFromConfig(xt){if(!xt.svgElement){const St=this._svgElementFromString(xt.svgText);this._setSvgAttributes(St,xt.options),xt.svgElement=St}return xt.svgElement}_getIconConfigFromResolvers(xt,St){for(let Gt=0;Gt<this._resolvers.length;Gt++){const Sn=this._resolvers[Gt](St,xt);if(Sn)return dt(Sn)?new Ke(Sn.url,null,Sn.options):new Ke(Sn,null)}}}return ln.\u0275fac=function(xt){return new(xt||ln)(u.LFG(de.eN,8),u.LFG($e.H7),u.LFG(te.K0,8),u.LFG(u.qLn))},ln.\u0275prov=u.Yz7({token:ln,factory:ln.\u0275fac,providedIn:"root"}),ln})();function He(ln){return ln.cloneNode(!0)}function Xe(ln,_n){return ln+":"+_n}function dt(ln){return!(!ln.url||!ln.options)}const ut=(0,_.pj)(class{constructor(ln){this._elementRef=ln}}),Xt=new u.OlP("mat-icon-location",{providedIn:"root",factory:function on(){const ln=(0,u.f3M)(te.K0),_n=ln?ln.location:null;return{getPathname:()=>_n?_n.pathname+_n.search:""}}}),An=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mn=An.map(ln=>`[${ln}]`).join(", "),_t=/^url\(['"]?#(.*?)['"]?\)$/;let $t=(()=>{class ln extends ut{constructor(xt,St,Gt,Sn,wn){super(xt),this._iconRegistry=St,this._location=Sn,this._errorHandler=wn,this._inline=!1,this._currentIconFetch=ve.w0.EMPTY,Gt||xt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(xt){this._inline=(0,x.Ig)(xt)}get svgIcon(){return this._svgIcon}set svgIcon(xt){xt!==this._svgIcon&&(xt?this._updateSvgIcon(xt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=xt)}get fontSet(){return this._fontSet}set fontSet(xt){const St=this._cleanupFontValue(xt);St!==this._fontSet&&(this._fontSet=St,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(xt){const St=this._cleanupFontValue(xt);St!==this._fontIcon&&(this._fontIcon=St,this._updateFontIconClasses())}_splitIconName(xt){if(!xt)return["",""];const St=xt.split(":");switch(St.length){case 1:return["",St[0]];case 2:return St;default:throw Error(`Invalid icon name: "${xt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const xt=this._elementsWithExternalReferences;if(xt&&xt.size){const St=this._location.getPathname();St!==this._previousPath&&(this._previousPath=St,this._prependPathToReferences(St))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(xt){this._clearSvgElement();const St=this._location.getPathname();this._previousPath=St,this._cacheChildrenWithExternalReferences(xt),this._prependPathToReferences(St),this._elementRef.nativeElement.appendChild(xt)}_clearSvgElement(){const xt=this._elementRef.nativeElement;let St=xt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();St--;){const Gt=xt.childNodes[St];(1!==Gt.nodeType||"svg"===Gt.nodeName.toLowerCase())&&Gt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const xt=this._elementRef.nativeElement,St=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();St!=this._previousFontSetClass&&(this._previousFontSetClass&&xt.classList.remove(this._previousFontSetClass),St&&xt.classList.add(St),this._previousFontSetClass=St),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&xt.classList.remove(this._previousFontIconClass),this.fontIcon&&xt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(xt){return"string"==typeof xt?xt.trim().split(" ")[0]:xt}_prependPathToReferences(xt){const St=this._elementsWithExternalReferences;St&&St.forEach((Gt,Sn)=>{Gt.forEach(wn=>{Sn.setAttribute(wn.name,`url('${xt}#${wn.value}')`)})})}_cacheChildrenWithExternalReferences(xt){const St=xt.querySelectorAll(mn),Gt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Sn=0;Sn<St.length;Sn++)An.forEach(wn=>{const Vn=St[Sn],fr=Vn.getAttribute(wn),Kn=fr?fr.match(_t):null;if(Kn){let hr=Gt.get(Vn);hr||(hr=[],Gt.set(Vn,hr)),hr.push({name:wn,value:Kn[1]})}})}_updateSvgIcon(xt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),xt){const[St,Gt]=this._splitIconName(xt);St&&(this._svgNamespace=St),Gt&&(this._svgName=Gt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Gt,St).pipe((0,Me.q)(1)).subscribe(Sn=>this._setSvgElement(Sn),Sn=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${St}:${Gt}! ${Sn.message}`))})}}}return ln.\u0275fac=function(xt){return new(xt||ln)(u.Y36(u.SBq),u.Y36(ee),u.$8M("aria-hidden"),u.Y36(Xt),u.Y36(u.qLn))},ln.\u0275cmp=u.Xpm({type:ln,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(xt,St){2&xt&&(u.uIk("data-mat-icon-type",St._usingFontIcon()?"font":"svg")("data-mat-icon-name",St._svgName||St.fontIcon)("data-mat-icon-namespace",St._svgNamespace||St.fontSet),u.ekj("mat-icon-inline",St.inline)("mat-icon-no-color","primary"!==St.color&&"accent"!==St.color&&"warn"!==St.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:Fe,decls:1,vars:0,template:function(xt,St){1&xt&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),ln})(),zt=(()=>{class ln{}return ln.\u0275fac=function(xt){return new(xt||ln)},ln.\u0275mod=u.oAB({type:ln}),ln.\u0275inj=u.cJS({imports:[[_.BQ],_.BQ]}),ln})()},7531:(Zt,nt,m)=>{m.d(nt,{Jk:()=>de,Nt:()=>Ne,c:()=>It});var u=m(3191),_=m(925),x=m(5e3),te=m(3075),he=m(508),_e=m(7322),Re=m(7579),ve=m(515);const be=(0,_.i$)({passive:!0});let H=(()=>{class Je{constructor(je,st){this._platform=je,this._ngZone=st,this._monitoredElements=new Map}monitor(je){if(!this._platform.isBrowser)return ve.E;const st=(0,u.fI)(je),Ke=this._monitoredElements.get(st);if(Ke)return Ke.subject;const ee=new Re.x,re="cdk-text-field-autofilled",De=He=>{"cdk-text-field-autofill-start"!==He.animationName||st.classList.contains(re)?"cdk-text-field-autofill-end"===He.animationName&&st.classList.contains(re)&&(st.classList.remove(re),this._ngZone.run(()=>ee.next({target:He.target,isAutofilled:!1}))):(st.classList.add(re),this._ngZone.run(()=>ee.next({target:He.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{st.addEventListener("animationstart",De,be),st.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(st,{subject:ee,unlisten:()=>{st.removeEventListener("animationstart",De,be)}}),ee}stopMonitoring(je){const st=(0,u.fI)(je),Ke=this._monitoredElements.get(st);Ke&&(Ke.unlisten(),Ke.subject.complete(),st.classList.remove("cdk-text-field-autofill-monitored"),st.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(st))}ngOnDestroy(){this._monitoredElements.forEach((je,st)=>this.stopMonitoring(st))}}return Je.\u0275fac=function(je){return new(je||Je)(x.LFG(_.t4),x.LFG(x.R0b))},Je.\u0275prov=x.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),Pe=(()=>{class Je{}return Je.\u0275fac=function(je){return new(je||Je)},Je.\u0275mod=x.oAB({type:Je}),Je.\u0275inj=x.cJS({}),Je})();const de=new x.OlP("MAT_INPUT_VALUE_ACCESSOR"),$e=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Fe=0;const Ye=(0,he.FD)(class{constructor(Je,xe,je,st){this._defaultErrorStateMatcher=Je,this._parentForm=xe,this._parentFormGroup=je,this.ngControl=st}});let Ne=(()=>{class Je extends Ye{constructor(je,st,Ke,ee,re,De,He,Xe,dt,ut){super(De,ee,re,Ke),this._elementRef=je,this._platform=st,this._autofillMonitor=Xe,this._formField=ut,this._uid="mat-input-"+Fe++,this.focused=!1,this.stateChanges=new Re.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(An=>(0,_.qK)().has(An)),this._iOSKeyupListener=An=>{const mn=An.target;!mn.value&&0===mn.selectionStart&&0===mn.selectionEnd&&(mn.setSelectionRange(1,1),mn.setSelectionRange(0,0))};const Xt=this._elementRef.nativeElement,on=Xt.nodeName.toLowerCase();this._inputValueAccessor=He||Xt,this._previousNativeValue=this.value,this.id=this.id,st.IOS&&dt.runOutsideAngular(()=>{je.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===on,this._isTextarea="textarea"===on,this._isInFormField=!!ut,this._isNativeSelect&&(this.controlType=Xt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(je){this._disabled=(0,u.Ig)(je),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(je){this._id=je||this._uid}get required(){var je,st,Ke,ee;return null!==(ee=null!==(je=this._required)&&void 0!==je?je:null===(Ke=null===(st=this.ngControl)||void 0===st?void 0:st.control)||void 0===Ke?void 0:Ke.hasValidator(te.kI.required))&&void 0!==ee&&ee}set required(je){this._required=(0,u.Ig)(je)}get type(){return this._type}set type(je){this._type=je||"text",this._validateType(),!this._isTextarea&&(0,_.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(je){je!==this.value&&(this._inputValueAccessor.value=je,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(je){this._readonly=(0,u.Ig)(je)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(je=>{this.autofilled=je.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(je){this._elementRef.nativeElement.focus(je)}_focusChanged(je){je!==this.focused&&(this.focused=je,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var je,st;const Ke=(null===(st=null===(je=this._formField)||void 0===je?void 0:je._hideControlPlaceholder)||void 0===st?void 0:st.call(je))?null:this.placeholder;if(Ke!==this._previousPlaceholder){const ee=this._elementRef.nativeElement;this._previousPlaceholder=Ke,Ke?ee.setAttribute("placeholder",Ke):ee.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const je=this._elementRef.nativeElement.value;this._previousNativeValue!==je&&(this._previousNativeValue=je,this.stateChanges.next())}_validateType(){$e.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let je=this._elementRef.nativeElement.validity;return je&&je.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const je=this._elementRef.nativeElement,st=je.options[0];return this.focused||je.multiple||!this.empty||!!(je.selectedIndex>-1&&st&&st.label)}return this.focused||!this.empty}setDescribedByIds(je){je.length?this._elementRef.nativeElement.setAttribute("aria-describedby",je.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const je=this._elementRef.nativeElement;return this._isNativeSelect&&(je.multiple||je.size>1)}}return Je.\u0275fac=function(je){return new(je||Je)(x.Y36(x.SBq),x.Y36(_.t4),x.Y36(te.a5,10),x.Y36(te.F,8),x.Y36(te.sg,8),x.Y36(he.rD),x.Y36(de,10),x.Y36(H),x.Y36(x.R0b),x.Y36(_e.G_,8))},Je.\u0275dir=x.lG2({type:Je,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(je,st){1&je&&x.NdJ("focus",function(){return st._focusChanged(!0)})("blur",function(){return st._focusChanged(!1)})("input",function(){return st._onInput()}),2&je&&(x.Ikx("disabled",st.disabled)("required",st.required),x.uIk("id",st.id)("data-placeholder",st.placeholder)("name",st.name||null)("readonly",st.readonly&&!st._isNativeSelect||null)("aria-invalid",st.empty&&st.required?null:st.errorState)("aria-required",st.required),x.ekj("mat-input-server",st._isServer)("mat-native-select-inline",st._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[x._Bn([{provide:_e.Eo,useExisting:Je}]),x.qOj,x.TTD]}),Je})(),It=(()=>{class Je{}return Je.\u0275fac=function(je){return new(je||Je)},Je.\u0275mod=x.oAB({type:Je}),Je.\u0275inj=x.cJS({providers:[he.rD],imports:[[Pe,_e.lN,he.BQ],Pe,_e.lN]}),Je})()},6360:(Zt,nt,m)=>{m.d(nt,{Qb:()=>Ko,PW:()=>Hs});var u=m(5e3),_=m(2313),x=m(1777);const te=!1;function _e(Ee){return new u.vHH(3e3,te)}function xt(){return"undefined"!=typeof window&&void 0!==window.document}function St(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gt(Ee){switch(Ee.length){case 0:return new x.ZN;case 1:return Ee[0];default:return new x.ZE(Ee)}}function Sn(Ee,v,D,G,Ie={},Qe={}){const yt=[],Et=[];let Lt=-1,fn=null;if(G.forEach(Xn=>{const pr=Xn.offset,Mr=pr==Lt,ei=Mr&&fn||{};Object.keys(Xn).forEach(gr=>{let Pr=gr,Di=Xn[gr];if("offset"!==gr)switch(Pr=v.normalizePropertyName(Pr,yt),Di){case x.k1:Di=Ie[gr];break;case x.l3:Di=Qe[gr];break;default:Di=v.normalizeStyleValue(gr,Pr,Di,yt)}ei[Pr]=Di}),Mr||Et.push(ei),fn=ei,Lt=pr}),yt.length)throw function Xe(Ee){return new u.vHH(3502,te)}();return Et}function wn(Ee,v,D,G){switch(v){case"start":Ee.onStart(()=>G(D&&Vn(D,"start",Ee)));break;case"done":Ee.onDone(()=>G(D&&Vn(D,"done",Ee)));break;case"destroy":Ee.onDestroy(()=>G(D&&Vn(D,"destroy",Ee)))}}function Vn(Ee,v,D){const G=D.totalTime,Qe=fr(Ee.element,Ee.triggerName,Ee.fromState,Ee.toState,v||Ee.phaseName,null==G?Ee.totalTime:G,!!D.disabled),yt=Ee._data;return null!=yt&&(Qe._data=yt),Qe}function fr(Ee,v,D,G,Ie="",Qe=0,yt){return{element:Ee,triggerName:v,fromState:D,toState:G,phaseName:Ie,totalTime:Qe,disabled:!!yt}}function Kn(Ee,v,D){let G;return Ee instanceof Map?(G=Ee.get(v),G||Ee.set(v,G=D)):(G=Ee[v],G||(G=Ee[v]=D)),G}function hr(Ee){const v=Ee.indexOf(":");return[Ee.substring(1,v),Ee.substr(v+1)]}let qr=(Ee,v)=>!1,Lr=(Ee,v,D)=>[],pn=null;function Yr(Ee){const v=Ee.parentNode||Ee.host;return v===pn?null:v}(St()||"undefined"!=typeof Element)&&(xt()?(pn=(()=>document.documentElement)(),qr=(Ee,v)=>{for(;v;){if(v===Ee)return!0;v=Yr(v)}return!1}):qr=(Ee,v)=>Ee.contains(v),Lr=(Ee,v,D)=>{if(D)return Array.from(Ee.querySelectorAll(v));const G=Ee.querySelector(v);return G?[G]:[]});let dn=null,Ot=!1;function Le(Ee){dn||(dn=function ze(){return"undefined"!=typeof document?document.body:null}()||{},Ot=!!dn.style&&"WebkitAppearance"in dn.style);let v=!0;return dn.style&&!function vr(Ee){return"ebkit"==Ee.substring(1,6)}(Ee)&&(v=Ee in dn.style,!v&&Ot&&(v="Webkit"+Ee.charAt(0).toUpperCase()+Ee.substr(1)in dn.style)),v}const Ft=qr,Nt=Lr;let nn=(()=>{class Ee{validateStyleProperty(D){return Le(D)}matchesElement(D,G){return!1}containsElement(D,G){return Ft(D,G)}getParentElement(D){return Yr(D)}query(D,G,Ie){return Nt(D,G,Ie)}computeStyle(D,G,Ie){return Ie||""}animate(D,G,Ie,Qe,yt,Et=[],Lt){return new x.ZN(Ie,Qe)}}return Ee.\u0275fac=function(D){return new(D||Ee)},Ee.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),On=(()=>{class Ee{}return Ee.NOOP=new nn,Ee})();const rr="ng-enter",Bn="ng-leave",Gn="ng-trigger",In=".ng-trigger",Zr="ng-animating",ct=".ng-animating";function Ae(Ee){if("number"==typeof Ee)return Ee;const v=Ee.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:z(parseFloat(v[1]),v[2])}function z(Ee,v){return"s"===v?1e3*Ee:Ee}function k(Ee,v,D){return Ee.hasOwnProperty("duration")?Ee:function B(Ee,v,D){let Ie,Qe=0,yt="";if("string"==typeof Ee){const Et=Ee.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Et)return v.push(_e()),{duration:0,delay:0,easing:""};Ie=z(parseFloat(Et[1]),Et[2]);const Lt=Et[3];null!=Lt&&(Qe=z(parseFloat(Lt),Et[4]));const fn=Et[5];fn&&(yt=fn)}else Ie=Ee;if(!D){let Et=!1,Lt=v.length;Ie<0&&(v.push(function Re(){return new u.vHH(3100,te)}()),Et=!0),Qe<0&&(v.push(function ve(){return new u.vHH(3101,te)}()),Et=!0),Et&&v.splice(Lt,0,_e())}return{duration:Ie,delay:Qe,easing:yt}}(Ee,v,D)}function Te(Ee,v={}){return Object.keys(Ee).forEach(D=>{v[D]=Ee[D]}),v}function Vt(Ee,v,D={}){if(v)for(let G in Ee)D[G]=Ee[G];else Te(Ee,D);return D}function pe(Ee,v,D){return D?v+":"+D+";":""}function Rt(Ee){let v="";for(let D=0;D<Ee.style.length;D++){const G=Ee.style.item(D);v+=pe(0,G,Ee.style.getPropertyValue(G))}for(const D in Ee.style)Ee.style.hasOwnProperty(D)&&!D.startsWith("_")&&(v+=pe(0,Cr(D),Ee.style[D]));Ee.setAttribute("style",v)}function T(Ee,v,D){Ee.style&&(Object.keys(v).forEach(G=>{const Ie=$n(G);D&&!D.hasOwnProperty(G)&&(D[G]=Ee.style[Ie]),Ee.style[Ie]=v[G]}),St()&&Rt(Ee))}function Z(Ee,v){Ee.style&&(Object.keys(v).forEach(D=>{const G=$n(D);Ee.style[G]=""}),St()&&Rt(Ee))}function at(Ee){return Array.isArray(Ee)?1==Ee.length?Ee[0]:(0,x.vP)(Ee):Ee}const Ge=new RegExp("{{\\s*(.+?)\\s*}}","g");function rt(Ee){let v=[];if("string"==typeof Ee){let D;for(;D=Ge.exec(Ee);)v.push(D[1]);Ge.lastIndex=0}return v}function vt(Ee,v,D){const G=Ee.toString(),Ie=G.replace(Ge,(Qe,yt)=>{let Et=v[yt];return v.hasOwnProperty(yt)||(D.push(function H(Ee){return new u.vHH(3003,te)}()),Et=""),Et.toString()});return Ie==G?Ee:Ie}function ht(Ee){const v=[];let D=Ee.next();for(;!D.done;)v.push(D.value),D=Ee.next();return v}const Qn=/-+([a-z0-9])/g;function $n(Ee){return Ee.replace(Qn,(...v)=>v[1].toUpperCase())}function Cr(Ee){return Ee.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function si(Ee,v,D){switch(v.type){case 7:return Ee.visitTrigger(v,D);case 0:return Ee.visitState(v,D);case 1:return Ee.visitTransition(v,D);case 2:return Ee.visitSequence(v,D);case 3:return Ee.visitGroup(v,D);case 4:return Ee.visitAnimate(v,D);case 5:return Ee.visitKeyframes(v,D);case 6:return Ee.visitStyle(v,D);case 8:return Ee.visitReference(v,D);case 9:return Ee.visitAnimateChild(v,D);case 10:return Ee.visitAnimateRef(v,D);case 11:return Ee.visitQuery(v,D);case 12:return Ee.visitStagger(v,D);default:throw function ie(Ee){return new u.vHH(3004,te)}()}}function fi(Ee,v){return window.getComputedStyle(Ee)[v]}function ii(Ee,v){const D=[];return"string"==typeof Ee?Ee.split(/\s*,\s*/).forEach(G=>function ci(Ee,v,D){if(":"==Ee[0]){const Lt=function Hr(Ee,v){switch(Ee){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,G)=>parseFloat(G)>parseFloat(D);case":decrement":return(D,G)=>parseFloat(G)<parseFloat(D);default:return v.push(function ee(Ee){return new u.vHH(3016,te)}()),"* => *"}}(Ee,D);if("function"==typeof Lt)return void v.push(Lt);Ee=Lt}const G=Ee.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==G||G.length<4)return D.push(function Ke(Ee){return new u.vHH(3015,te)}()),v;const Ie=G[1],Qe=G[2],yt=G[3];v.push(mr(Ie,yt));"<"==Qe[0]&&!("*"==Ie&&"*"==yt)&&v.push(mr(yt,Ie))}(G,D,v)):D.push(Ee),D}const Si=new Set(["true","1"]),$r=new Set(["false","0"]);function mr(Ee,v){const D=Si.has(Ee)||$r.has(Ee),G=Si.has(v)||$r.has(v);return(Ie,Qe)=>{let yt="*"==Ee||Ee==Ie,Et="*"==v||v==Qe;return!yt&&D&&"boolean"==typeof Ie&&(yt=Ie?Si.has(Ee):$r.has(Ee)),!Et&&G&&"boolean"==typeof Qe&&(Et=Qe?Si.has(v):$r.has(v)),yt&&Et}}const Xi=new RegExp("s*:selfs*,?","g");function ls(Ee,v,D,G){return new ni(Ee).build(v,D,G)}class ni{constructor(v){this._driver=v}build(v,D,G){const Ie=new pi(D);this._resetContextStyleTimingState(Ie);const Qe=si(this,at(v),Ie);return Ie.unsupportedCSSPropertiesFound.size&&Ie.unsupportedCSSPropertiesFound.keys(),Qe}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,D){let G=D.queryCount=0,Ie=D.depCount=0;const Qe=[],yt=[];return"@"==v.name.charAt(0)&&D.errors.push(function Pe(){return new u.vHH(3006,te)}()),v.definitions.forEach(Et=>{if(this._resetContextStyleTimingState(D),0==Et.type){const Lt=Et,fn=Lt.name;fn.toString().split(/\s*,\s*/).forEach(Xn=>{Lt.name=Xn,Qe.push(this.visitState(Lt,D))}),Lt.name=fn}else if(1==Et.type){const Lt=this.visitTransition(Et,D);G+=Lt.queryCount,Ie+=Lt.depCount,yt.push(Lt)}else D.errors.push(function Me(){return new u.vHH(3007,te)}())}),{type:7,name:v.name,states:Qe,transitions:yt,queryCount:G,depCount:Ie,options:null}}visitState(v,D){const G=this.visitStyle(v.styles,D),Ie=v.options&&v.options.params||null;if(G.containsDynamicStyles){const Qe=new Set,yt=Ie||{};G.styles.forEach(Et=>{if(es(Et)){const Lt=Et;Object.keys(Lt).forEach(fn=>{rt(Lt[fn]).forEach(Xn=>{yt.hasOwnProperty(Xn)||Qe.add(Xn)})})}}),Qe.size&&(ht(Qe.values()),D.errors.push(function de(Ee,v){return new u.vHH(3008,te)}()))}return{type:0,name:v.name,style:G,options:Ie?{params:Ie}:null}}visitTransition(v,D){D.queryCount=0,D.depCount=0;const G=si(this,at(v.animation),D);return{type:1,matchers:ii(v.expr,D.errors),animation:G,queryCount:D.queryCount,depCount:D.depCount,options:gi(v.options)}}visitSequence(v,D){return{type:2,steps:v.steps.map(G=>si(this,G,D)),options:gi(v.options)}}visitGroup(v,D){const G=D.currentTime;let Ie=0;const Qe=v.steps.map(yt=>{D.currentTime=G;const Et=si(this,yt,D);return Ie=Math.max(Ie,D.currentTime),Et});return D.currentTime=Ie,{type:3,steps:Qe,options:gi(v.options)}}visitAnimate(v,D){const G=function Hi(Ee,v){if(Ee.hasOwnProperty("duration"))return Ee;if("number"==typeof Ee)return Li(k(Ee,v).duration,0,"");const D=Ee;if(D.split(/\s+/).some(Qe=>"{"==Qe.charAt(0)&&"{"==Qe.charAt(1))){const Qe=Li(0,0,"");return Qe.dynamic=!0,Qe.strValue=D,Qe}const Ie=k(D,v);return Li(Ie.duration,Ie.delay,Ie.easing)}(v.timings,D.errors);D.currentAnimateTimings=G;let Ie,Qe=v.styles?v.styles:(0,x.oB)({});if(5==Qe.type)Ie=this.visitKeyframes(Qe,D);else{let yt=v.styles,Et=!1;if(!yt){Et=!0;const fn={};G.easing&&(fn.easing=G.easing),yt=(0,x.oB)(fn)}D.currentTime+=G.duration+G.delay;const Lt=this.visitStyle(yt,D);Lt.isEmptyStep=Et,Ie=Lt}return D.currentAnimateTimings=null,{type:4,timings:G,style:Ie,options:null}}visitStyle(v,D){const G=this._makeStyleAst(v,D);return this._validateStyleAst(G,D),G}_makeStyleAst(v,D){const G=[];Array.isArray(v.styles)?v.styles.forEach(yt=>{"string"==typeof yt?yt==x.l3?G.push(yt):D.errors.push(function $e(Ee){return new u.vHH(3002,te)}()):G.push(yt)}):G.push(v.styles);let Ie=!1,Qe=null;return G.forEach(yt=>{if(es(yt)){const Et=yt,Lt=Et.easing;if(Lt&&(Qe=Lt,delete Et.easing),!Ie)for(let fn in Et)if(Et[fn].toString().indexOf("{{")>=0){Ie=!0;break}}}),{type:6,styles:G,easing:Qe,offset:v.offset,containsDynamicStyles:Ie,options:null}}_validateStyleAst(v,D){const G=D.currentAnimateTimings;let Ie=D.currentTime,Qe=D.currentTime;G&&Qe>0&&(Qe-=G.duration+G.delay),v.styles.forEach(yt=>{"string"!=typeof yt&&Object.keys(yt).forEach(Et=>{if(!this._driver.validateStyleProperty(Et))return delete yt[Et],void D.unsupportedCSSPropertiesFound.add(Et);const Lt=D.collectedStyles[D.currentQuerySelector],fn=Lt[Et];let Xn=!0;fn&&(Qe!=Ie&&Qe>=fn.startTime&&Ie<=fn.endTime&&(D.errors.push(function Ye(Ee,v,D,G,Ie){return new u.vHH(3010,te)}()),Xn=!1),Qe=fn.startTime),Xn&&(Lt[Et]={startTime:Qe,endTime:Ie}),D.options&&function et(Ee,v,D){const G=v.params||{},Ie=rt(Ee);Ie.length&&Ie.forEach(Qe=>{G.hasOwnProperty(Qe)||D.push(function be(Ee){return new u.vHH(3001,te)}())})}(yt[Et],D.options,D.errors)})})}visitKeyframes(v,D){const G={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function Ne(){return new u.vHH(3011,te)}()),G;let Qe=0;const yt=[];let Et=!1,Lt=!1,fn=0;const Xn=v.steps.map(zi=>{const Zi=this._makeStyleAst(zi,D);let Ds=null!=Zi.offset?Zi.offset:function xr(Ee){if("string"==typeof Ee)return null;let v=null;if(Array.isArray(Ee))Ee.forEach(D=>{if(es(D)&&D.hasOwnProperty("offset")){const G=D;v=parseFloat(G.offset),delete G.offset}});else if(es(Ee)&&Ee.hasOwnProperty("offset")){const D=Ee;v=parseFloat(D.offset),delete D.offset}return v}(Zi.styles),ui=0;return null!=Ds&&(Qe++,ui=Zi.offset=Ds),Lt=Lt||ui<0||ui>1,Et=Et||ui<fn,fn=ui,yt.push(ui),Zi});Lt&&D.errors.push(function It(){return new u.vHH(3012,te)}()),Et&&D.errors.push(function Je(){return new u.vHH(3200,te)}());const pr=v.steps.length;let Mr=0;Qe>0&&Qe<pr?D.errors.push(function xe(){return new u.vHH(3202,te)}()):0==Qe&&(Mr=1/(pr-1));const ei=pr-1,gr=D.currentTime,Pr=D.currentAnimateTimings,Di=Pr.duration;return Xn.forEach((zi,Zi)=>{const Ds=Mr>0?Zi==ei?1:Mr*Zi:yt[Zi],ui=Ds*Di;D.currentTime=gr+Pr.delay+ui,Pr.duration=ui,this._validateStyleAst(zi,D),zi.offset=Ds,G.styles.push(zi)}),G}visitReference(v,D){return{type:8,animation:si(this,at(v.animation),D),options:gi(v.options)}}visitAnimateChild(v,D){return D.depCount++,{type:9,options:gi(v.options)}}visitAnimateRef(v,D){return{type:10,animation:this.visitReference(v.animation,D),options:gi(v.options)}}visitQuery(v,D){const G=D.currentQuerySelector,Ie=v.options||{};D.queryCount++,D.currentQuery=v;const[Qe,yt]=function Pi(Ee){const v=!!Ee.split(/\s*,\s*/).find(D=>":self"==D);return v&&(Ee=Ee.replace(Xi,"")),Ee=Ee.replace(/@\*/g,In).replace(/@\w+/g,D=>In+"-"+D.substr(1)).replace(/:animating/g,ct),[Ee,v]}(v.selector);D.currentQuerySelector=G.length?G+" "+Qe:Qe,Kn(D.collectedStyles,D.currentQuerySelector,{});const Et=si(this,at(v.animation),D);return D.currentQuery=null,D.currentQuerySelector=G,{type:11,selector:Qe,limit:Ie.limit||0,optional:!!Ie.optional,includeSelf:yt,animation:Et,originalSelector:v.selector,options:gi(v.options)}}visitStagger(v,D){D.currentQuery||D.errors.push(function je(){return new u.vHH(3013,te)}());const G="full"===v.timings?{duration:0,delay:0,easing:"full"}:k(v.timings,D.errors,!0);return{type:12,animation:si(this,at(v.animation),D),timings:G,options:null}}}class pi{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function es(Ee){return!Array.isArray(Ee)&&"object"==typeof Ee}function gi(Ee){return Ee?(Ee=Te(Ee)).params&&(Ee.params=function Yi(Ee){return Ee?Te(Ee):null}(Ee.params)):Ee={},Ee}function Li(Ee,v,D){return{duration:Ee,delay:v,easing:D}}function us(Ee,v,D,G,Ie,Qe,yt=null,Et=!1){return{type:1,element:Ee,keyframes:v,preStyleProps:D,postStyleProps:G,duration:Ie,delay:Qe,totalTime:Ie+Qe,easing:yt,subTimeline:Et}}class ss{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,D){let G=this._map.get(v);G||this._map.set(v,G=[]),G.push(...D)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const bs=new RegExp(":enter","g"),Rs=new RegExp(":leave","g");function yi(Ee,v,D,G,Ie,Qe={},yt={},Et,Lt,fn=[]){return(new ns).buildKeyframes(Ee,v,D,G,Ie,Qe,yt,Et,Lt,fn)}class ns{buildKeyframes(v,D,G,Ie,Qe,yt,Et,Lt,fn,Xn=[]){fn=fn||new ss;const pr=new Ct(v,D,fn,Ie,Qe,Xn,[]);pr.options=Lt,pr.currentTimeline.setStyles([yt],null,pr.errors,Lt),si(this,G,pr);const Mr=pr.timelines.filter(ei=>ei.containsAnimation());if(Object.keys(Et).length){let ei;for(let gr=Mr.length-1;gr>=0;gr--){const Pr=Mr[gr];if(Pr.element===D){ei=Pr;break}}ei&&!ei.allowOnlyTimelineStyles()&&ei.setStyles([Et],null,pr.errors,Lt)}return Mr.length?Mr.map(ei=>ei.buildKeyframes()):[us(D,[],[],[],0,0,"",!1)]}visitTrigger(v,D){}visitState(v,D){}visitTransition(v,D){}visitAnimateChild(v,D){const G=D.subInstructions.get(D.element);if(G){const Ie=D.createSubContext(v.options),Qe=D.currentTimeline.currentTime,yt=this._visitSubInstructions(G,Ie,Ie.options);Qe!=yt&&D.transformIntoNewTimeline(yt)}D.previousNode=v}visitAnimateRef(v,D){const G=D.createSubContext(v.options);G.transformIntoNewTimeline(),this.visitReference(v.animation,G),D.transformIntoNewTimeline(G.currentTimeline.currentTime),D.previousNode=v}_visitSubInstructions(v,D,G){let Qe=D.currentTimeline.currentTime;const yt=null!=G.duration?Ae(G.duration):null,Et=null!=G.delay?Ae(G.delay):null;return 0!==yt&&v.forEach(Lt=>{const fn=D.appendInstructionToTimeline(Lt,yt,Et);Qe=Math.max(Qe,fn.duration+fn.delay)}),Qe}visitReference(v,D){D.updateOptions(v.options,!0),si(this,v.animation,D),D.previousNode=v}visitSequence(v,D){const G=D.subContextCount;let Ie=D;const Qe=v.options;if(Qe&&(Qe.params||Qe.delay)&&(Ie=D.createSubContext(Qe),Ie.transformIntoNewTimeline(),null!=Qe.delay)){6==Ie.previousNode.type&&(Ie.currentTimeline.snapshotCurrentStyles(),Ie.previousNode=Tt);const yt=Ae(Qe.delay);Ie.delayNextStep(yt)}v.steps.length&&(v.steps.forEach(yt=>si(this,yt,Ie)),Ie.currentTimeline.applyStylesToKeyframe(),Ie.subContextCount>G&&Ie.transformIntoNewTimeline()),D.previousNode=v}visitGroup(v,D){const G=[];let Ie=D.currentTimeline.currentTime;const Qe=v.options&&v.options.delay?Ae(v.options.delay):0;v.steps.forEach(yt=>{const Et=D.createSubContext(v.options);Qe&&Et.delayNextStep(Qe),si(this,yt,Et),Ie=Math.max(Ie,Et.currentTimeline.currentTime),G.push(Et.currentTimeline)}),G.forEach(yt=>D.currentTimeline.mergeTimelineCollectedStyles(yt)),D.transformIntoNewTimeline(Ie),D.previousNode=v}_visitTiming(v,D){if(v.dynamic){const G=v.strValue;return k(D.params?vt(G,D.params,D.errors):G,D.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,D){const G=D.currentAnimateTimings=this._visitTiming(v.timings,D),Ie=D.currentTimeline;G.delay&&(D.incrementTime(G.delay),Ie.snapshotCurrentStyles());const Qe=v.style;5==Qe.type?this.visitKeyframes(Qe,D):(D.incrementTime(G.duration),this.visitStyle(Qe,D),Ie.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=v}visitStyle(v,D){const G=D.currentTimeline,Ie=D.currentAnimateTimings;!Ie&&G.getCurrentStyleProperties().length&&G.forwardFrame();const Qe=Ie&&Ie.easing||v.easing;v.isEmptyStep?G.applyEmptyStep(Qe):G.setStyles(v.styles,Qe,D.errors,D.options),D.previousNode=v}visitKeyframes(v,D){const G=D.currentAnimateTimings,Ie=D.currentTimeline.duration,Qe=G.duration,Et=D.createSubContext().currentTimeline;Et.easing=G.easing,v.styles.forEach(Lt=>{Et.forwardTime((Lt.offset||0)*Qe),Et.setStyles(Lt.styles,Lt.easing,D.errors,D.options),Et.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(Et),D.transformIntoNewTimeline(Ie+Qe),D.previousNode=v}visitQuery(v,D){const G=D.currentTimeline.currentTime,Ie=v.options||{},Qe=Ie.delay?Ae(Ie.delay):0;Qe&&(6===D.previousNode.type||0==G&&D.currentTimeline.getCurrentStyleProperties().length)&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=Tt);let yt=G;const Et=D.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!Ie.optional,D.errors);D.currentQueryTotal=Et.length;let Lt=null;Et.forEach((fn,Xn)=>{D.currentQueryIndex=Xn;const pr=D.createSubContext(v.options,fn);Qe&&pr.delayNextStep(Qe),fn===D.element&&(Lt=pr.currentTimeline),si(this,v.animation,pr),pr.currentTimeline.applyStylesToKeyframe(),yt=Math.max(yt,pr.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(yt),Lt&&(D.currentTimeline.mergeTimelineCollectedStyles(Lt),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=v}visitStagger(v,D){const G=D.parentContext,Ie=D.currentTimeline,Qe=v.timings,yt=Math.abs(Qe.duration),Et=yt*(D.currentQueryTotal-1);let Lt=yt*D.currentQueryIndex;switch(Qe.duration<0?"reverse":Qe.easing){case"reverse":Lt=Et-Lt;break;case"full":Lt=G.currentStaggerTime}const Xn=D.currentTimeline;Lt&&Xn.delayNextStep(Lt);const pr=Xn.currentTime;si(this,v.animation,D),D.previousNode=v,G.currentStaggerTime=Ie.currentTime-pr+(Ie.startTime-G.currentTimeline.startTime)}}const Tt={};class Ct{constructor(v,D,G,Ie,Qe,yt,Et,Lt){this._driver=v,this.element=D,this.subInstructions=G,this._enterClassName=Ie,this._leaveClassName=Qe,this.errors=yt,this.timelines=Et,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Lt||new kt(this._driver,D,0),Et.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,D){if(!v)return;const G=v;let Ie=this.options;null!=G.duration&&(Ie.duration=Ae(G.duration)),null!=G.delay&&(Ie.delay=Ae(G.delay));const Qe=G.params;if(Qe){let yt=Ie.params;yt||(yt=this.options.params={}),Object.keys(Qe).forEach(Et=>{(!D||!yt.hasOwnProperty(Et))&&(yt[Et]=vt(Qe[Et],yt,this.errors))})}}_copyOptions(){const v={};if(this.options){const D=this.options.params;if(D){const G=v.params={};Object.keys(D).forEach(Ie=>{G[Ie]=D[Ie]})}}return v}createSubContext(v=null,D,G){const Ie=D||this.element,Qe=new Ct(this._driver,Ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Ie,G||0));return Qe.previousNode=this.previousNode,Qe.currentAnimateTimings=this.currentAnimateTimings,Qe.options=this._copyOptions(),Qe.updateOptions(v),Qe.currentQueryIndex=this.currentQueryIndex,Qe.currentQueryTotal=this.currentQueryTotal,Qe.parentContext=this,this.subContextCount++,Qe}transformIntoNewTimeline(v){return this.previousNode=Tt,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,D,G){const Ie={duration:null!=D?D:v.duration,delay:this.currentTimeline.currentTime+(null!=G?G:0)+v.delay,easing:""},Qe=new ae(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,Ie,v.stretchStartingKeyframe);return this.timelines.push(Qe),Ie}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,D,G,Ie,Qe,yt){let Et=[];if(Ie&&Et.push(this.element),v.length>0){v=(v=v.replace(bs,"."+this._enterClassName)).replace(Rs,"."+this._leaveClassName);let fn=this._driver.query(this.element,v,1!=G);0!==G&&(fn=G<0?fn.slice(fn.length+G,fn.length):fn.slice(0,G)),Et.push(...fn)}return!Qe&&0==Et.length&&yt.push(function st(Ee){return new u.vHH(3014,te)}()),Et}}class kt{constructor(v,D,G,Ie){this._driver=v,this.element=D,this.startTime=G,this._elementTimelineStylesLookup=Ie,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const D=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||D?(this.forwardTime(this.currentTime+v),D&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,D){return this.applyStylesToKeyframe(),new kt(this._driver,v,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,D){this._localTimelineStyles[v]=D,this._globalTimelineStyles[v]=D,this._styleSummary[v]={time:this.currentTime,value:D}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(D=>{this._backFill[D]=this._globalTimelineStyles[D]||x.l3,this._currentKeyframe[D]=x.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,D,G,Ie){D&&(this._previousKeyframe.easing=D);const Qe=Ie&&Ie.params||{},yt=function W(Ee,v){const D={};let G;return Ee.forEach(Ie=>{"*"===Ie?(G=G||Object.keys(v),G.forEach(Qe=>{D[Qe]=x.l3})):Vt(Ie,!1,D)}),D}(v,this._globalTimelineStyles);Object.keys(yt).forEach(Et=>{const Lt=vt(yt[Et],Qe,G);this._pendingStyles[Et]=Lt,this._localTimelineStyles.hasOwnProperty(Et)||(this._backFill[Et]=this._globalTimelineStyles.hasOwnProperty(Et)?this._globalTimelineStyles[Et]:x.l3),this._updateStyle(Et,Lt)})}applyStylesToKeyframe(){const v=this._pendingStyles,D=Object.keys(v);0!=D.length&&(this._pendingStyles={},D.forEach(G=>{this._currentKeyframe[G]=v[G]}),Object.keys(this._localTimelineStyles).forEach(G=>{this._currentKeyframe.hasOwnProperty(G)||(this._currentKeyframe[G]=this._localTimelineStyles[G])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const D=this._localTimelineStyles[v];this._pendingStyles[v]=D,this._updateStyle(v,D)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let D in this._currentKeyframe)v.push(D);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(D=>{const G=this._styleSummary[D],Ie=v._styleSummary[D];(!G||Ie.time>G.time)&&this._updateStyle(D,Ie.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,D=new Set,G=1===this._keyframes.size&&0===this.duration;let Ie=[];this._keyframes.forEach((Et,Lt)=>{const fn=Vt(Et,!0);Object.keys(fn).forEach(Xn=>{const pr=fn[Xn];pr==x.k1?v.add(Xn):pr==x.l3&&D.add(Xn)}),G||(fn.offset=Lt/this.duration),Ie.push(fn)});const Qe=v.size?ht(v.values()):[],yt=D.size?ht(D.values()):[];if(G){const Et=Ie[0],Lt=Te(Et);Et.offset=0,Lt.offset=1,Ie=[Et,Lt]}return us(this.element,Ie,Qe,yt,this.duration,this.startTime,this.easing,!1)}}class ae extends kt{constructor(v,D,G,Ie,Qe,yt,Et=!1){super(v,D,yt.delay),this.keyframes=G,this.preStyleProps=Ie,this.postStyleProps=Qe,this._stretchStartingKeyframe=Et,this.timings={duration:yt.duration,delay:yt.delay,easing:yt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:D,duration:G,easing:Ie}=this.timings;if(this._stretchStartingKeyframe&&D){const Qe=[],yt=G+D,Et=D/yt,Lt=Vt(v[0],!1);Lt.offset=0,Qe.push(Lt);const fn=Vt(v[0],!1);fn.offset=K(Et),Qe.push(fn);const Xn=v.length-1;for(let pr=1;pr<=Xn;pr++){let Mr=Vt(v[pr],!1);Mr.offset=K((D+Mr.offset*G)/yt),Qe.push(Mr)}G=yt,D=0,Ie="",v=Qe}return us(this.element,v,this.preStyleProps,this.postStyleProps,G,D,Ie,!0)}}function K(Ee,v=3){const D=Math.pow(10,v-1);return Math.round(Ee*D)/D}class We{}class mt extends We{normalizePropertyName(v,D){return $n(v)}normalizeStyleValue(v,D,G,Ie){let Qe="";const yt=G.toString().trim();if(rn[D]&&0!==G&&"0"!==G)if("number"==typeof G)Qe="px";else{const Et=G.match(/^[+-]?[\d\.]+([a-z]*)$/);Et&&0==Et[1].length&&Ie.push(function ue(Ee,v){return new u.vHH(3005,te)}())}return yt+Qe}}const rn=(()=>function un(Ee){const v={};return Ee.forEach(D=>v[D]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jt(Ee,v,D,G,Ie,Qe,yt,Et,Lt,fn,Xn,pr,Mr){return{type:0,element:Ee,triggerName:v,isRemovalTransition:Ie,fromState:D,fromStyles:Qe,toState:G,toStyles:yt,timelines:Et,queriedElements:Lt,preStyleProps:fn,postStyleProps:Xn,totalTime:pr,errors:Mr}}const vn={};class Un{constructor(v,D,G){this._triggerName=v,this.ast=D,this._stateStyles=G}match(v,D,G,Ie){return function Nn(Ee,v,D,G,Ie){return Ee.some(Qe=>Qe(v,D,G,Ie))}(this.ast.matchers,v,D,G,Ie)}buildStyles(v,D,G){const Ie=this._stateStyles["*"],Qe=this._stateStyles[v],yt=Ie?Ie.buildStyles(D,G):{};return Qe?Qe.buildStyles(D,G):yt}build(v,D,G,Ie,Qe,yt,Et,Lt,fn,Xn){const pr=[],Mr=this.ast.options&&this.ast.options.params||vn,gr=this.buildStyles(G,Et&&Et.params||vn,pr),Pr=Lt&&Lt.params||vn,Di=this.buildStyles(Ie,Pr,pr),zi=new Set,Zi=new Map,Ds=new Map,ui="void"===Ie,xs={params:Object.assign(Object.assign({},Mr),Pr)},Ci=Xn?[]:yi(v,D,this.ast.animation,Qe,yt,gr,Di,xs,fn,pr);let Ii=0;if(Ci.forEach(lo=>{Ii=Math.max(lo.duration+lo.delay,Ii)}),pr.length)return jt(D,this._triggerName,G,Ie,ui,gr,Di,[],[],Zi,Ds,Ii,pr);Ci.forEach(lo=>{const Ys=lo.element,Qs=Kn(Zi,Ys,{});lo.preStyleProps.forEach(ro=>Qs[ro]=!0);const uo=Kn(Ds,Ys,{});lo.postStyleProps.forEach(ro=>uo[ro]=!0),Ys!==D&&zi.add(Ys)});const Ls=ht(zi.values());return jt(D,this._triggerName,G,Ie,ui,gr,Di,Ci,Ls,Zi,Ds,Ii)}}class Jn{constructor(v,D,G){this.styles=v,this.defaultParams=D,this.normalizer=G}buildStyles(v,D){const G={},Ie=Te(this.defaultParams);return Object.keys(v).forEach(Qe=>{const yt=v[Qe];null!=yt&&(Ie[Qe]=yt)}),this.styles.styles.forEach(Qe=>{if("string"!=typeof Qe){const yt=Qe;Object.keys(yt).forEach(Et=>{let Lt=yt[Et];Lt.length>1&&(Lt=vt(Lt,Ie,D));const fn=this.normalizer.normalizePropertyName(Et,D);Lt=this.normalizer.normalizeStyleValue(Et,fn,Lt,D),G[fn]=Lt})}}),G}}class ir{constructor(v,D,G){this.name=v,this.ast=D,this._normalizer=G,this.transitionFactories=[],this.states={},D.states.forEach(Ie=>{this.states[Ie.name]=new Jn(Ie.style,Ie.options&&Ie.options.params||{},G)}),Dr(this.states,"true","1"),Dr(this.states,"false","0"),D.transitions.forEach(Ie=>{this.transitionFactories.push(new Un(v,Ie,this.states))}),this.fallbackTransition=function Fr(Ee,v,D){return new Un(Ee,{type:1,animation:{type:2,steps:[],options:null},matchers:[(yt,Et)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,D,G,Ie){return this.transitionFactories.find(yt=>yt.match(v,D,G,Ie))||null}matchStyles(v,D,G){return this.fallbackTransition.buildStyles(v,D,G)}}function Dr(Ee,v,D){Ee.hasOwnProperty(v)?Ee.hasOwnProperty(D)||(Ee[D]=Ee[v]):Ee.hasOwnProperty(D)&&(Ee[v]=Ee[D])}const Rr=new ss;class Jr{constructor(v,D,G){this.bodyNode=v,this._driver=D,this._normalizer=G,this._animations={},this._playersById={},this.players=[]}register(v,D){const G=[],Qe=ls(this._driver,D,G,[]);if(G.length)throw function dt(Ee){return new u.vHH(3503,te)}();this._animations[v]=Qe}_buildPlayer(v,D,G){const Ie=v.element,Qe=Sn(0,this._normalizer,0,v.keyframes,D,G);return this._driver.animate(Ie,Qe,v.duration,v.delay,v.easing,[],!0)}create(v,D,G={}){const Ie=[],Qe=this._animations[v];let yt;const Et=new Map;if(Qe?(yt=yi(this._driver,D,Qe,rr,Bn,{},{},G,Rr,Ie),yt.forEach(Xn=>{const pr=Kn(Et,Xn.element,{});Xn.postStyleProps.forEach(Mr=>pr[Mr]=null)})):(Ie.push(function ut(){return new u.vHH(3300,te)}()),yt=[]),Ie.length)throw function Xt(Ee){return new u.vHH(3504,te)}();Et.forEach((Xn,pr)=>{Object.keys(Xn).forEach(Mr=>{Xn[Mr]=this._driver.computeStyle(pr,Mr,x.l3)})});const fn=Gt(yt.map(Xn=>{const pr=Et.get(Xn.element);return this._buildPlayer(Xn,{},pr)}));return this._playersById[v]=fn,fn.onDestroy(()=>this.destroy(v)),this.players.push(fn),fn}destroy(v){const D=this._getPlayer(v);D.destroy(),delete this._playersById[v];const G=this.players.indexOf(D);G>=0&&this.players.splice(G,1)}_getPlayer(v){const D=this._playersById[v];if(!D)throw function on(Ee){return new u.vHH(3301,te)}();return D}listen(v,D,G,Ie){const Qe=fr(D,"","","");return wn(this._getPlayer(v),G,Qe,Ie),()=>{}}command(v,D,G,Ie){if("register"==G)return void this.register(v,Ie[0]);if("create"==G)return void this.create(v,D,Ie[0]||{});const Qe=this._getPlayer(v);switch(G){case"play":Qe.play();break;case"pause":Qe.pause();break;case"reset":Qe.reset();break;case"restart":Qe.restart();break;case"finish":Qe.finish();break;case"init":Qe.init();break;case"setPosition":Qe.setPosition(parseFloat(Ie[0]));break;case"destroy":this.destroy(v)}}}const Ur="ng-animate-queued",Bi="ng-animate-disabled",oi=[],Q={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},w={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},R="__ng_removed";class X{constructor(v,D=""){this.namespaceId=D;const G=v&&v.hasOwnProperty("value");if(this.value=function L(Ee){return null!=Ee?Ee:null}(G?v.value:v),G){const Qe=Te(v);delete Qe.value,this.options=Qe}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const D=v.params;if(D){const G=this.options.params;Object.keys(D).forEach(Ie=>{null==G[Ie]&&(G[Ie]=D[Ie])})}}}const ge="void",tt=new X(ge);class At{constructor(v,D,G){this.id=v,this.hostElement=D,this._engine=G,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Bt(D,this._hostClassName)}listen(v,D,G,Ie){if(!this._triggers.hasOwnProperty(D))throw function An(Ee,v){return new u.vHH(3302,te)}();if(null==G||0==G.length)throw function mn(Ee){return new u.vHH(3303,te)}();if(!function F(Ee){return"start"==Ee||"done"==Ee}(G))throw function _t(Ee,v){return new u.vHH(3400,te)}();const Qe=Kn(this._elementListeners,v,[]),yt={name:D,phase:G,callback:Ie};Qe.push(yt);const Et=Kn(this._engine.statesByElement,v,{});return Et.hasOwnProperty(D)||(Bt(v,Gn),Bt(v,Gn+"-"+D),Et[D]=tt),()=>{this._engine.afterFlush(()=>{const Lt=Qe.indexOf(yt);Lt>=0&&Qe.splice(Lt,1),this._triggers[D]||delete Et[D]})}}register(v,D){return!this._triggers[v]&&(this._triggers[v]=D,!0)}_getTrigger(v){const D=this._triggers[v];if(!D)throw function $t(Ee){return new u.vHH(3401,te)}();return D}trigger(v,D,G,Ie=!0){const Qe=this._getTrigger(D),yt=new tn(this.id,D,v);let Et=this._engine.statesByElement.get(v);Et||(Bt(v,Gn),Bt(v,Gn+"-"+D),this._engine.statesByElement.set(v,Et={}));let Lt=Et[D];const fn=new X(G,this.id);if(!(G&&G.hasOwnProperty("value"))&&Lt&&fn.absorbOptions(Lt.options),Et[D]=fn,Lt||(Lt=tt),fn.value!==ge&&Lt.value===fn.value){if(!function dr(Ee,v){const D=Object.keys(Ee),G=Object.keys(v);if(D.length!=G.length)return!1;for(let Ie=0;Ie<D.length;Ie++){const Qe=D[Ie];if(!v.hasOwnProperty(Qe)||Ee[Qe]!==v[Qe])return!1}return!0}(Lt.params,fn.params)){const Pr=[],Di=Qe.matchStyles(Lt.value,Lt.params,Pr),zi=Qe.matchStyles(fn.value,fn.params,Pr);Pr.length?this._engine.reportError(Pr):this._engine.afterFlush(()=>{Z(v,Di),T(v,zi)})}return}const Mr=Kn(this._engine.playersByElement,v,[]);Mr.forEach(Pr=>{Pr.namespaceId==this.id&&Pr.triggerName==D&&Pr.queued&&Pr.destroy()});let ei=Qe.matchTransition(Lt.value,fn.value,v,fn.params),gr=!1;if(!ei){if(!Ie)return;ei=Qe.fallbackTransition,gr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:D,transition:ei,fromState:Lt,toState:fn,player:yt,isFallbackTransition:gr}),gr||(Bt(v,Ur),yt.onStart(()=>{Dn(v,Ur)})),yt.onDone(()=>{let Pr=this.players.indexOf(yt);Pr>=0&&this.players.splice(Pr,1);const Di=this._engine.playersByElement.get(v);if(Di){let zi=Di.indexOf(yt);zi>=0&&Di.splice(zi,1)}}),this.players.push(yt),Mr.push(yt),yt}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((D,G)=>{delete D[v]}),this._elementListeners.forEach((D,G)=>{this._elementListeners.set(G,D.filter(Ie=>Ie.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const D=this._engine.playersByElement.get(v);D&&(D.forEach(G=>G.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,D){const G=this._engine.driver.query(v,In,!0);G.forEach(Ie=>{if(Ie[R])return;const Qe=this._engine.fetchNamespacesByElement(Ie);Qe.size?Qe.forEach(yt=>yt.triggerLeaveAnimation(Ie,D,!1,!0)):this.clearElementCache(Ie)}),this._engine.afterFlushAnimationsDone(()=>G.forEach(Ie=>this.clearElementCache(Ie)))}triggerLeaveAnimation(v,D,G,Ie){const Qe=this._engine.statesByElement.get(v),yt=new Map;if(Qe){const Et=[];if(Object.keys(Qe).forEach(Lt=>{if(yt.set(Lt,Qe[Lt].value),this._triggers[Lt]){const fn=this.trigger(v,Lt,ge,Ie);fn&&Et.push(fn)}}),Et.length)return this._engine.markElementAsRemoved(this.id,v,!0,D,yt),G&&Gt(Et).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const D=this._elementListeners.get(v),G=this._engine.statesByElement.get(v);if(D&&G){const Ie=new Set;D.forEach(Qe=>{const yt=Qe.name;if(Ie.has(yt))return;Ie.add(yt);const Lt=this._triggers[yt].fallbackTransition,fn=G[yt]||tt,Xn=new X(ge),pr=new tn(this.id,yt,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:yt,transition:Lt,fromState:fn,toState:Xn,player:pr,isFallbackTransition:!0})})}}removeNode(v,D){const G=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,D),this.triggerLeaveAnimation(v,D,!0))return;let Ie=!1;if(G.totalAnimations){const Qe=G.players.length?G.playersByQueriedElement.get(v):[];if(Qe&&Qe.length)Ie=!0;else{let yt=v;for(;yt=yt.parentNode;)if(G.statesByElement.get(yt)){Ie=!0;break}}}if(this.prepareLeaveAnimationListeners(v),Ie)G.markElementAsRemoved(this.id,v,!1,D);else{const Qe=v[R];(!Qe||Qe===Q)&&(G.afterFlush(()=>this.clearElementCache(v)),G.destroyInnerAnimations(v),G._onRemovalComplete(v,D))}}insertNode(v,D){Bt(v,this._hostClassName)}drainQueuedTransitions(v){const D=[];return this._queue.forEach(G=>{const Ie=G.player;if(Ie.destroyed)return;const Qe=G.element,yt=this._elementListeners.get(Qe);yt&&yt.forEach(Et=>{if(Et.name==G.triggerName){const Lt=fr(Qe,G.triggerName,G.fromState.value,G.toState.value);Lt._data=v,wn(G.player,Et.phase,Lt,Et.callback)}}),Ie.markedForDestroy?this._engine.afterFlush(()=>{Ie.destroy()}):D.push(G)}),this._queue=[],D.sort((G,Ie)=>{const Qe=G.transition.ast.depCount,yt=Ie.transition.ast.depCount;return 0==Qe||0==yt?Qe-yt:this._engine.driver.containsElement(G.element,Ie.element)?1:-1})}destroy(v){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let D=!1;return this._elementListeners.has(v)&&(D=!0),D=!!this._queue.find(G=>G.element===v)||D,D}}class Wt{constructor(v,D,G){this.bodyNode=v,this.driver=D,this._normalizer=G,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Ie,Qe)=>{}}_onRemovalComplete(v,D){this.onRemovalComplete(v,D)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(D=>{D.players.forEach(G=>{G.queued&&v.push(G)})}),v}createNamespace(v,D){const G=new At(v,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(G,D):(this.newHostElements.set(D,G),this.collectEnterElement(D)),this._namespaceLookup[v]=G}_balanceNamespaceList(v,D){const G=this._namespaceList,Ie=this.namespacesByHostElement,Qe=G.length-1;if(Qe>=0){let yt=!1;if(void 0!==this.driver.getParentElement){let Et=this.driver.getParentElement(D);for(;Et;){const Lt=Ie.get(Et);if(Lt){const fn=G.indexOf(Lt);G.splice(fn+1,0,v),yt=!0;break}Et=this.driver.getParentElement(Et)}}else for(let Et=Qe;Et>=0;Et--)if(this.driver.containsElement(G[Et].hostElement,D)){G.splice(Et+1,0,v),yt=!0;break}yt||G.unshift(v)}else G.push(v);return Ie.set(D,v),v}register(v,D){let G=this._namespaceLookup[v];return G||(G=this.createNamespace(v,D)),G}registerTrigger(v,D,G){let Ie=this._namespaceLookup[v];Ie&&Ie.register(D,G)&&this.totalAnimations++}destroy(v,D){if(!v)return;const G=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(G.hostElement),delete this._namespaceLookup[v];const Ie=this._namespaceList.indexOf(G);Ie>=0&&this._namespaceList.splice(Ie,1)}),this.afterFlushAnimationsDone(()=>G.destroy(D))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const D=new Set,G=this.statesByElement.get(v);if(G){const Ie=Object.keys(G);for(let Qe=0;Qe<Ie.length;Qe++){const yt=G[Ie[Qe]].namespaceId;if(yt){const Et=this._fetchNamespace(yt);Et&&D.add(Et)}}}return D}trigger(v,D,G,Ie){if(se(D)){const Qe=this._fetchNamespace(v);if(Qe)return Qe.trigger(D,G,Ie),!0}return!1}insertNode(v,D,G,Ie){if(!se(D))return;const Qe=D[R];if(Qe&&Qe.setForRemoval){Qe.setForRemoval=!1,Qe.setForMove=!0;const yt=this.collectedLeaveElements.indexOf(D);yt>=0&&this.collectedLeaveElements.splice(yt,1)}if(v){const yt=this._fetchNamespace(v);yt&&yt.insertNode(D,G)}Ie&&this.collectEnterElement(D)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,D){D?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Bt(v,Bi)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Dn(v,Bi))}removeNode(v,D,G,Ie){if(se(D)){const Qe=v?this._fetchNamespace(v):null;if(Qe?Qe.removeNode(D,Ie):this.markElementAsRemoved(v,D,!1,Ie),G){const yt=this.namespacesByHostElement.get(D);yt&&yt.id!==v&&yt.removeNode(D,Ie)}}else this._onRemovalComplete(D,Ie)}markElementAsRemoved(v,D,G,Ie,Qe){this.collectedLeaveElements.push(D),D[R]={namespaceId:v,setForRemoval:Ie,hasAnimation:G,removedBeforeQueried:!1,previousTriggersValues:Qe}}listen(v,D,G,Ie,Qe){return se(D)?this._fetchNamespace(v).listen(D,G,Ie,Qe):()=>{}}_buildInstruction(v,D,G,Ie,Qe){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,G,Ie,v.fromState.options,v.toState.options,D,Qe)}destroyInnerAnimations(v){let D=this.driver.query(v,In,!0);D.forEach(G=>this.destroyActiveAnimationsForElement(G)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(v,ct,!0),D.forEach(G=>this.finishActiveQueriedAnimationOnElement(G)))}destroyActiveAnimationsForElement(v){const D=this.playersByElement.get(v);D&&D.forEach(G=>{G.queued?G.markedForDestroy=!0:G.destroy()})}finishActiveQueriedAnimationOnElement(v){const D=this.playersByQueriedElement.get(v);D&&D.forEach(G=>G.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Gt(this.players).onDone(()=>v());v()})}processLeaveNode(v){var D;const G=v[R];if(G&&G.setForRemoval){if(v[R]=Q,G.namespaceId){this.destroyInnerAnimations(v);const Ie=this._fetchNamespace(G.namespaceId);Ie&&Ie.clearElementCache(v)}this._onRemovalComplete(v,G.setForRemoval)}(null===(D=v.classList)||void 0===D?void 0:D.contains(Bi))&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(Ie=>{this.markElementAsDisabled(Ie,!1)})}flush(v=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((G,Ie)=>this._balanceNamespaceList(G,Ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let G=0;G<this.collectedEnterElements.length;G++)Bt(this.collectedEnterElements[G],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const G=[];try{D=this._flushAnimations(G,v)}finally{for(let Ie=0;Ie<G.length;Ie++)G[Ie]()}}else for(let G=0;G<this.collectedLeaveElements.length;G++)this.processLeaveNode(this.collectedLeaveElements[G]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(G=>G()),this._flushFns=[],this._whenQuietFns.length){const G=this._whenQuietFns;this._whenQuietFns=[],D.length?Gt(D).onDone(()=>{G.forEach(Ie=>Ie())}):G.forEach(Ie=>Ie())}}reportError(v){throw function zt(Ee){return new u.vHH(3402,te)}()}_flushAnimations(v,D){const G=new ss,Ie=[],Qe=new Map,yt=[],Et=new Map,Lt=new Map,fn=new Map,Xn=new Set;this.disabledNodes.forEach(sr=>{Xn.add(sr);const er=this.driver.query(sr,".ng-animate-queued",!0);for(let Or=0;Or<er.length;Or++)Xn.add(er[Or])});const pr=this.bodyNode,Mr=Array.from(this.statesByElement.keys()),ei=wt(Mr,this.collectedEnterElements),gr=new Map;let Pr=0;ei.forEach((sr,er)=>{const Or=rr+Pr++;gr.set(er,Or),sr.forEach(zr=>Bt(zr,Or))});const Di=[],zi=new Set,Zi=new Set;for(let sr=0;sr<this.collectedLeaveElements.length;sr++){const er=this.collectedLeaveElements[sr],Or=er[R];Or&&Or.setForRemoval&&(Di.push(er),zi.add(er),Or.hasAnimation?this.driver.query(er,".ng-star-inserted",!0).forEach(zr=>zi.add(zr)):Zi.add(er))}const Ds=new Map,ui=wt(Mr,Array.from(zi));ui.forEach((sr,er)=>{const Or=Bn+Pr++;Ds.set(er,Or),sr.forEach(zr=>Bt(zr,Or))}),v.push(()=>{ei.forEach((sr,er)=>{const Or=gr.get(er);sr.forEach(zr=>Dn(zr,Or))}),ui.forEach((sr,er)=>{const Or=Ds.get(er);sr.forEach(zr=>Dn(zr,Or))}),Di.forEach(sr=>{this.processLeaveNode(sr)})});const xs=[],Ci=[];for(let sr=this._namespaceList.length-1;sr>=0;sr--)this._namespaceList[sr].drainQueuedTransitions(D).forEach(Or=>{const zr=Or.player,ki=Or.element;if(xs.push(zr),this.collectedEnterElements.length){const Ss=ki[R];if(Ss&&Ss.setForMove){if(Ss.previousTriggersValues&&Ss.previousTriggersValues.has(Or.triggerName)){const Co=Ss.previousTriggersValues.get(Or.triggerName),Fi=this.statesByElement.get(Or.element);Fi&&Fi[Or.triggerName]&&(Fi[Or.triggerName].value=Co)}return void zr.destroy()}}const gs=!pr||!this.driver.containsElement(pr,ki),fs=Ds.get(ki),Bs=gr.get(ki),_i=this._buildInstruction(Or,G,Bs,fs,gs);if(_i.errors&&_i.errors.length)return void Ci.push(_i);if(gs)return zr.onStart(()=>Z(ki,_i.fromStyles)),zr.onDestroy(()=>T(ki,_i.toStyles)),void Ie.push(zr);if(Or.isFallbackTransition)return zr.onStart(()=>Z(ki,_i.fromStyles)),zr.onDestroy(()=>T(ki,_i.toStyles)),void Ie.push(zr);const ko=[];_i.timelines.forEach(Ss=>{Ss.stretchStartingKeyframe=!0,this.disabledNodes.has(Ss.element)||ko.push(Ss)}),_i.timelines=ko,G.append(ki,_i.timelines),yt.push({instruction:_i,player:zr,element:ki}),_i.queriedElements.forEach(Ss=>Kn(Et,Ss,[]).push(zr)),_i.preStyleProps.forEach((Ss,Co)=>{const Fi=Object.keys(Ss);if(Fi.length){let Zs=Lt.get(Co);Zs||Lt.set(Co,Zs=new Set),Fi.forEach(oa=>Zs.add(oa))}}),_i.postStyleProps.forEach((Ss,Co)=>{const Fi=Object.keys(Ss);let Zs=fn.get(Co);Zs||fn.set(Co,Zs=new Set),Fi.forEach(oa=>Zs.add(oa))})});if(Ci.length){const sr=[];Ci.forEach(er=>{sr.push(function _n(Ee,v){return new u.vHH(3505,te)}())}),xs.forEach(er=>er.destroy()),this.reportError(sr)}const Ii=new Map,Ls=new Map;yt.forEach(sr=>{const er=sr.element;G.has(er)&&(Ls.set(er,er),this._beforeAnimationBuild(sr.player.namespaceId,sr.instruction,Ii))}),Ie.forEach(sr=>{const er=sr.element;this._getPreviousPlayers(er,!1,sr.namespaceId,sr.triggerName,null).forEach(zr=>{Kn(Ii,er,[]).push(zr),zr.destroy()})});const lo=Di.filter(sr=>Tr(sr,Lt,fn)),Ys=new Map;Ze(Ys,this.driver,Zi,fn,x.l3).forEach(sr=>{Tr(sr,Lt,fn)&&lo.push(sr)});const uo=new Map;ei.forEach((sr,er)=>{Ze(uo,this.driver,new Set(sr),Lt,x.k1)}),lo.forEach(sr=>{const er=Ys.get(sr),Or=uo.get(sr);Ys.set(sr,Object.assign(Object.assign({},er),Or))});const ro=[],co=[],Ts={};yt.forEach(sr=>{const{element:er,player:Or,instruction:zr}=sr;if(G.has(er)){if(Xn.has(er))return Or.onDestroy(()=>T(er,zr.toStyles)),Or.disabled=!0,Or.overrideTotalTime(zr.totalTime),void Ie.push(Or);let ki=Ts;if(Ls.size>1){let fs=er;const Bs=[];for(;fs=fs.parentNode;){const _i=Ls.get(fs);if(_i){ki=_i;break}Bs.push(fs)}Bs.forEach(_i=>Ls.set(_i,ki))}const gs=this._buildAnimation(Or.namespaceId,zr,Ii,Qe,uo,Ys);if(Or.setRealPlayer(gs),ki===Ts)ro.push(Or);else{const fs=this.playersByElement.get(ki);fs&&fs.length&&(Or.parentPlayer=Gt(fs)),Ie.push(Or)}}else Z(er,zr.fromStyles),Or.onDestroy(()=>T(er,zr.toStyles)),co.push(Or),Xn.has(er)&&Ie.push(Or)}),co.forEach(sr=>{const er=Qe.get(sr.element);if(er&&er.length){const Or=Gt(er);sr.setRealPlayer(Or)}}),Ie.forEach(sr=>{sr.parentPlayer?sr.syncPlayerEvents(sr.parentPlayer):sr.destroy()});for(let sr=0;sr<Di.length;sr++){const er=Di[sr],Or=er[R];if(Dn(er,Bn),Or&&Or.hasAnimation)continue;let zr=[];if(Et.size){let gs=Et.get(er);gs&&gs.length&&zr.push(...gs);let fs=this.driver.query(er,ct,!0);for(let Bs=0;Bs<fs.length;Bs++){let _i=Et.get(fs[Bs]);_i&&_i.length&&zr.push(..._i)}}const ki=zr.filter(gs=>!gs.destroyed);ki.length?tr(this,er,ki):this.processLeaveNode(er)}return Di.length=0,ro.forEach(sr=>{this.players.push(sr),sr.onDone(()=>{sr.destroy();const er=this.players.indexOf(sr);this.players.splice(er,1)}),sr.play()}),ro}elementContainsData(v,D){let G=!1;const Ie=D[R];return Ie&&Ie.setForRemoval&&(G=!0),this.playersByElement.has(D)&&(G=!0),this.playersByQueriedElement.has(D)&&(G=!0),this.statesByElement.has(D)&&(G=!0),this._fetchNamespace(v).elementContainsData(D)||G}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,D,G,Ie,Qe){let yt=[];if(D){const Et=this.playersByQueriedElement.get(v);Et&&(yt=Et)}else{const Et=this.playersByElement.get(v);if(Et){const Lt=!Qe||Qe==ge;Et.forEach(fn=>{fn.queued||!Lt&&fn.triggerName!=Ie||yt.push(fn)})}}return(G||Ie)&&(yt=yt.filter(Et=>!(G&&G!=Et.namespaceId||Ie&&Ie!=Et.triggerName))),yt}_beforeAnimationBuild(v,D,G){const Qe=D.element,yt=D.isRemovalTransition?void 0:v,Et=D.isRemovalTransition?void 0:D.triggerName;for(const Lt of D.timelines){const fn=Lt.element,Xn=fn!==Qe,pr=Kn(G,fn,[]);this._getPreviousPlayers(fn,Xn,yt,Et,D.toState).forEach(ei=>{const gr=ei.getRealPlayer();gr.beforeDestroy&&gr.beforeDestroy(),ei.destroy(),pr.push(ei)})}Z(Qe,D.fromStyles)}_buildAnimation(v,D,G,Ie,Qe,yt){const Et=D.triggerName,Lt=D.element,fn=[],Xn=new Set,pr=new Set,Mr=D.timelines.map(gr=>{const Pr=gr.element;Xn.add(Pr);const Di=Pr[R];if(Di&&Di.removedBeforeQueried)return new x.ZN(gr.duration,gr.delay);const zi=Pr!==Lt,Zi=function cr(Ee){const v=[];return lr(Ee,v),v}((G.get(Pr)||oi).map(Ii=>Ii.getRealPlayer())).filter(Ii=>!!Ii.element&&Ii.element===Pr),Ds=Qe.get(Pr),ui=yt.get(Pr),xs=Sn(0,this._normalizer,0,gr.keyframes,Ds,ui),Ci=this._buildPlayer(gr,xs,Zi);if(gr.subTimeline&&Ie&&pr.add(Pr),zi){const Ii=new tn(v,Et,Pr);Ii.setRealPlayer(Ci),fn.push(Ii)}return Ci});fn.forEach(gr=>{Kn(this.playersByQueriedElement,gr.element,[]).push(gr),gr.onDone(()=>function Yt(Ee,v,D){let G;if(Ee instanceof Map){if(G=Ee.get(v),G){if(G.length){const Ie=G.indexOf(D);G.splice(Ie,1)}0==G.length&&Ee.delete(v)}}else if(G=Ee[v],G){if(G.length){const Ie=G.indexOf(D);G.splice(Ie,1)}0==G.length&&delete Ee[v]}return G}(this.playersByQueriedElement,gr.element,gr))}),Xn.forEach(gr=>Bt(gr,Zr));const ei=Gt(Mr);return ei.onDestroy(()=>{Xn.forEach(gr=>Dn(gr,Zr)),T(Lt,D.toStyles)}),pr.forEach(gr=>{Kn(Ie,gr,[]).push(ei)}),ei}_buildPlayer(v,D,G){return D.length>0?this.driver.animate(v.element,D,v.duration,v.delay,v.easing,G):new x.ZN(v.duration,v.delay)}}class tn{constructor(v,D,G){this.namespaceId=v,this.triggerName=D,this.element=G,this._player=new x.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(D=>{this._queuedCallbacks[D].forEach(G=>wn(v,D,void 0,G))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const D=this._player;D.triggerCallback&&v.onStart(()=>D.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,D){Kn(this._queuedCallbacks,v,[]).push(D)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const D=this._player;D.triggerCallback&&D.triggerCallback(v)}}function se(Ee){return Ee&&1===Ee.nodeType}function Ce(Ee,v){const D=Ee.style.display;return Ee.style.display=null!=v?v:"none",D}function Ze(Ee,v,D,G,Ie){const Qe=[];D.forEach(Lt=>Qe.push(Ce(Lt)));const yt=[];G.forEach((Lt,fn)=>{const Xn={};Lt.forEach(pr=>{const Mr=Xn[pr]=v.computeStyle(fn,pr,Ie);(!Mr||0==Mr.length)&&(fn[R]=w,yt.push(fn))}),Ee.set(fn,Xn)});let Et=0;return D.forEach(Lt=>Ce(Lt,Qe[Et++])),yt}function wt(Ee,v){const D=new Map;if(Ee.forEach(Et=>D.set(Et,[])),0==v.length)return D;const Ie=new Set(v),Qe=new Map;function yt(Et){if(!Et)return 1;let Lt=Qe.get(Et);if(Lt)return Lt;const fn=Et.parentNode;return Lt=D.has(fn)?fn:Ie.has(fn)?1:yt(fn),Qe.set(Et,Lt),Lt}return v.forEach(Et=>{const Lt=yt(Et);1!==Lt&&D.get(Lt).push(Et)}),D}function Bt(Ee,v){var D;null===(D=Ee.classList)||void 0===D||D.add(v)}function Dn(Ee,v){var D;null===(D=Ee.classList)||void 0===D||D.remove(v)}function tr(Ee,v,D){Gt(D).onDone(()=>Ee.processLeaveNode(v))}function lr(Ee,v){for(let D=0;D<Ee.length;D++){const G=Ee[D];G instanceof x.ZE?lr(G.players,v):v.push(G)}}function Tr(Ee,v,D){const G=D.get(Ee);if(!G)return!1;let Ie=v.get(Ee);return Ie?G.forEach(Qe=>Ie.add(Qe)):v.set(Ee,G),D.delete(Ee),!0}class Sr{constructor(v,D,G){this.bodyNode=v,this._driver=D,this._normalizer=G,this._triggerCache={},this.onRemovalComplete=(Ie,Qe)=>{},this._transitionEngine=new Wt(v,D,G),this._timelineEngine=new Jr(v,D,G),this._transitionEngine.onRemovalComplete=(Ie,Qe)=>this.onRemovalComplete(Ie,Qe)}registerTrigger(v,D,G,Ie,Qe){const yt=v+"-"+Ie;let Et=this._triggerCache[yt];if(!Et){const Lt=[],Xn=ls(this._driver,Qe,Lt,[]);if(Lt.length)throw function He(Ee,v){return new u.vHH(3404,te)}();Et=function wr(Ee,v,D){return new ir(Ee,v,D)}(Ie,Xn,this._normalizer),this._triggerCache[yt]=Et}this._transitionEngine.registerTrigger(D,Ie,Et)}register(v,D){this._transitionEngine.register(v,D)}destroy(v,D){this._transitionEngine.destroy(v,D)}onInsert(v,D,G,Ie){this._transitionEngine.insertNode(v,D,G,Ie)}onRemove(v,D,G,Ie){this._transitionEngine.removeNode(v,D,Ie||!1,G)}disableAnimations(v,D){this._transitionEngine.markElementAsDisabled(v,D)}process(v,D,G,Ie){if("@"==G.charAt(0)){const[Qe,yt]=hr(G);this._timelineEngine.command(Qe,D,yt,Ie)}else this._transitionEngine.trigger(v,D,G,Ie)}listen(v,D,G,Ie,Qe){if("@"==G.charAt(0)){const[yt,Et]=hr(G);return this._timelineEngine.listen(yt,D,Et,Qe)}return this._transitionEngine.listen(v,D,G,Ie,Qe)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y=(()=>{class Ee{constructor(D,G,Ie){this._element=D,this._startStyles=G,this._endStyles=Ie,this._state=0;let Qe=Ee.initialStylesByElement.get(D);Qe||Ee.initialStylesByElement.set(D,Qe={}),this._initialStyles=Qe}start(){this._state<1&&(this._startStyles&&T(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(T(this._element,this._initialStyles),this._endStyles&&(T(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ee.initialStylesByElement.delete(this._element),this._startStyles&&(Z(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Z(this._element,this._endStyles),this._endStyles=null),T(this._element,this._initialStyles),this._state=3)}}return Ee.initialStylesByElement=new WeakMap,Ee})();function j(Ee){let v=null;const D=Object.keys(Ee);for(let G=0;G<D.length;G++){const Ie=D[G];P(Ie)&&(v=v||{},v[Ie]=Ee[Ie])}return v}function P(Ee){return"display"===Ee||"position"===Ee}class Oe{constructor(v,D,G,Ie){this.element=v,this.keyframes=D,this.options=G,this._specialStyles=Ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=G.duration,this._delay=G.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,D,G){return v.animate(D,G)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};if(this.hasStarted()){const D=this._finalKeyframe;Object.keys(D).forEach(G=>{"offset"!=G&&(v[G]=this._finished?D[G]:fi(this.element,G))})}this.currentSnapshot=v}triggerCallback(v){const D="start"==v?this._onStartFns:this._onDoneFns;D.forEach(G=>G()),D.length=0}}class sn{validateStyleProperty(v){return Le(v)}matchesElement(v,D){return!1}containsElement(v,D){return Ft(v,D)}getParentElement(v){return Yr(v)}query(v,D,G){return Nt(v,D,G)}computeStyle(v,D,G){return window.getComputedStyle(v)[D]}animate(v,D,G,Ie,Qe,yt=[]){const Lt={duration:G,delay:Ie,fill:0==Ie?"both":"forwards"};Qe&&(Lt.easing=Qe);const fn={},Xn=yt.filter(Mr=>Mr instanceof Oe);(function ai(Ee,v){return 0===Ee||0===v})(G,Ie)&&Xn.forEach(Mr=>{let ei=Mr.currentSnapshot;Object.keys(ei).forEach(gr=>fn[gr]=ei[gr])}),D=function Ai(Ee,v,D){const G=Object.keys(D);if(G.length&&v.length){let Qe=v[0],yt=[];if(G.forEach(Et=>{Qe.hasOwnProperty(Et)||yt.push(Et),Qe[Et]=D[Et]}),yt.length)for(var Ie=1;Ie<v.length;Ie++){let Et=v[Ie];yt.forEach(function(Lt){Et[Lt]=fi(Ee,Lt)})}}return v}(v,D=D.map(Mr=>Vt(Mr,!1)),fn);const pr=function Xr(Ee,v){let D=null,G=null;return Array.isArray(v)&&v.length?(D=j(v[0]),v.length>1&&(G=j(v[v.length-1]))):v&&(D=j(v)),D||G?new Y(Ee,D,G):null}(v,D);return new Oe(v,D,Lt,pr)}}var Wn=m(9808);let li=(()=>{class Ee extends x._j{constructor(D,G){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(G.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(D){const G=this._nextAnimationId.toString();this._nextAnimationId++;const Ie=Array.isArray(D)?(0,x.vP)(D):D;return Gs(this._renderer,null,G,"register",[Ie]),new hs(G,this._renderer)}}return Ee.\u0275fac=function(D){return new(D||Ee)(u.LFG(u.FYo),u.LFG(Wn.K0))},Ee.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class hs extends x.LC{constructor(v,D){super(),this._id=v,this._renderer=D}create(v,D){return new Vi(this._id,v,D||{},this._renderer)}}class Vi{constructor(v,D,G,Ie){this.id=v,this.element=D,this._renderer=Ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",G)}_listen(v,D){return this._renderer.listen(this.element,`@@${this.id}:${v}`,D)}_command(v,...D){return Gs(this._renderer,this.element,this.id,v,D)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,D;return null!==(D=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==D?D:0}}function Gs(Ee,v,D,G,Ie){return Ee.setProperty(v,`@@${D}:${G}`,Ie)}const ri="@.disabled";let Wo=(()=>{class Ee{constructor(D,G,Ie){this.delegate=D,this.engine=G,this._zone=Ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),G.onRemovalComplete=(Qe,yt)=>{const Et=null==yt?void 0:yt.parentNode(Qe);Et&&yt.removeChild(Et,Qe)}}createRenderer(D,G){const Qe=this.delegate.createRenderer(D,G);if(!(D&&G&&G.data&&G.data.animation)){let Xn=this._rendererCache.get(Qe);return Xn||(Xn=new Qi("",Qe,this.engine),this._rendererCache.set(Qe,Xn)),Xn}const yt=G.id,Et=G.id+"-"+this._currentId;this._currentId++,this.engine.register(Et,D);const Lt=Xn=>{Array.isArray(Xn)?Xn.forEach(Lt):this.engine.registerTrigger(yt,Et,D,Xn.name,Xn)};return G.data.animation.forEach(Lt),new Po(this,Et,Qe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(D,G,Ie){D>=0&&D<this._microtaskId?this._zone.run(()=>G(Ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Qe=>{const[yt,Et]=Qe;yt(Et)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([G,Ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return Ee.\u0275fac=function(D){return new(D||Ee)(u.LFG(u.FYo),u.LFG(Sr),u.LFG(u.R0b))},Ee.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Qi{constructor(v,D,G){this.namespaceId=v,this.delegate=D,this.engine=G,this.destroyNode=this.delegate.destroyNode?Ie=>D.destroyNode(Ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,D){return this.delegate.createElement(v,D)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,D){this.delegate.appendChild(v,D),this.engine.onInsert(this.namespaceId,D,v,!1)}insertBefore(v,D,G,Ie=!0){this.delegate.insertBefore(v,D,G),this.engine.onInsert(this.namespaceId,D,v,Ie)}removeChild(v,D,G){this.engine.onRemove(this.namespaceId,D,this.delegate,G)}selectRootElement(v,D){return this.delegate.selectRootElement(v,D)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,D,G,Ie){this.delegate.setAttribute(v,D,G,Ie)}removeAttribute(v,D,G){this.delegate.removeAttribute(v,D,G)}addClass(v,D){this.delegate.addClass(v,D)}removeClass(v,D){this.delegate.removeClass(v,D)}setStyle(v,D,G,Ie){this.delegate.setStyle(v,D,G,Ie)}removeStyle(v,D,G){this.delegate.removeStyle(v,D,G)}setProperty(v,D,G){"@"==D.charAt(0)&&D==ri?this.disableAnimations(v,!!G):this.delegate.setProperty(v,D,G)}setValue(v,D){this.delegate.setValue(v,D)}listen(v,D,G){return this.delegate.listen(v,D,G)}disableAnimations(v,D){this.engine.disableAnimations(v,D)}}class Po extends Qi{constructor(v,D,G,Ie){super(D,G,Ie),this.factory=v,this.namespaceId=D}setProperty(v,D,G){"@"==D.charAt(0)?"."==D.charAt(1)&&D==ri?this.disableAnimations(v,G=void 0===G||!!G):this.engine.process(this.namespaceId,v,D.substr(1),G):this.delegate.setProperty(v,D,G)}listen(v,D,G){if("@"==D.charAt(0)){const Ie=function oo(Ee){switch(Ee){case"body":return document.body;case"document":return document;case"window":return window;default:return Ee}}(v);let Qe=D.substr(1),yt="";return"@"!=Qe.charAt(0)&&([Qe,yt]=function Ns(Ee){const v=Ee.indexOf(".");return[Ee.substring(0,v),Ee.substr(v+1)]}(Qe)),this.engine.listen(this.namespaceId,Ie,Qe,yt,Et=>{this.factory.scheduleListenerCallback(Et._data||-1,G,Et)})}return this.delegate.listen(v,D,G)}}let Do=(()=>{class Ee extends Sr{constructor(D,G,Ie){super(D.body,G,Ie)}ngOnDestroy(){this.flush()}}return Ee.\u0275fac=function(D){return new(D||Ee)(u.LFG(Wn.K0),u.LFG(On),u.LFG(We))},Ee.\u0275prov=u.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Ko=new u.OlP("AnimationModuleType"),ao=[{provide:x._j,useClass:li},{provide:We,useFactory:function ia(){return new mt}},{provide:Sr,useClass:Do},{provide:u.FYo,useFactory:function Ja(Ee,v,D){return new Wo(Ee,v,D)},deps:[_.se,Sr,u.R0b]}],go=[{provide:On,useFactory:()=>new sn},{provide:Ko,useValue:"BrowserAnimations"},...ao],rs=[{provide:On,useClass:nn},{provide:Ko,useValue:"NoopAnimations"},...ao];let Hs=(()=>{class Ee{static withConfig(D){return{ngModule:Ee,providers:D.disableAnimations?rs:go}}}return Ee.\u0275fac=function(D){return new(D||Ee)},Ee.\u0275mod=u.oAB({type:Ee}),Ee.\u0275inj=u.cJS({providers:go,imports:[_.b2]}),Ee})()},2313:(Zt,nt,m)=>{m.d(nt,{b2:()=>qr,H7:()=>Rt,q6:()=>Kn,se:()=>dt});var u=m(9808),_=m(5e3);class x extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends x{static makeCurrent(){(0,u.HT)(new te)}onAndCancel(Ge,rt,vt){return Ge.addEventListener(rt,vt,!1),()=>{Ge.removeEventListener(rt,vt,!1)}}dispatchEvent(Ge,rt){Ge.dispatchEvent(rt)}remove(Ge){Ge.parentNode&&Ge.parentNode.removeChild(Ge)}createElement(Ge,rt){return(rt=rt||this.getDefaultDocument()).createElement(Ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ge){return Ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ge){return Ge instanceof DocumentFragment}getGlobalEventTarget(Ge,rt){return"window"===rt?window:"document"===rt?Ge:"body"===rt?Ge.body:null}getBaseHref(Ge){const rt=function _e(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==rt?null:function ve(et){Re=Re||document.createElement("a"),Re.setAttribute("href",et);const Ge=Re.pathname;return"/"===Ge.charAt(0)?Ge:`/${Ge}`}(rt)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ge){return(0,u.Mx)(document.cookie,Ge)}}let Re,he=null;const be=new _.OlP("TRANSITION_ID"),ie=[{provide:_.ip1,useFactory:function H(et,Ge,rt){return()=>{rt.get(_.CZH).donePromise.then(()=>{const vt=(0,u.q)(),ht=Ge.querySelectorAll(`style[ng-transition="${et}"]`);for(let Qn=0;Qn<ht.length;Qn++)vt.remove(ht[Qn])})}},deps:[be,u.K0,_.zs3],multi:!0}];class ue{static init(){(0,_.VLi)(new ue)}addToWindow(Ge){_.dqk.getAngularTestability=(vt,ht=!0)=>{const Qn=Ge.findTestabilityInTree(vt,ht);if(null==Qn)throw new Error("Could not find testability for element.");return Qn},_.dqk.getAllAngularTestabilities=()=>Ge.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Ge.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(vt=>{const ht=_.dqk.getAllAngularTestabilities();let Qn=ht.length,$n=!1;const Cr=function(ai){$n=$n||ai,Qn--,0==Qn&&vt($n)};ht.forEach(function(ai){ai.whenStable(Cr)})})}findTestabilityInTree(Ge,rt,vt){if(null==rt)return null;const ht=Ge.getTestability(rt);return null!=ht?ht:vt?(0,u.q)().isShadowRoot(rt)?this.findTestabilityInTree(Ge,rt.host,!0):this.findTestabilityInTree(Ge,rt.parentElement,!0):null}}let Pe=(()=>{class et{build(){return new XMLHttpRequest}}return et.\u0275fac=function(rt){return new(rt||et)},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();const Me=new _.OlP("EventManagerPlugins");let de=(()=>{class et{constructor(rt,vt){this._zone=vt,this._eventNameToPlugin=new Map,rt.forEach(ht=>ht.manager=this),this._plugins=rt.slice().reverse()}addEventListener(rt,vt,ht){return this._findPluginFor(vt).addEventListener(rt,vt,ht)}addGlobalEventListener(rt,vt,ht){return this._findPluginFor(vt).addGlobalEventListener(rt,vt,ht)}getZone(){return this._zone}_findPluginFor(rt){const vt=this._eventNameToPlugin.get(rt);if(vt)return vt;const ht=this._plugins;for(let Qn=0;Qn<ht.length;Qn++){const $n=ht[Qn];if($n.supports(rt))return this._eventNameToPlugin.set(rt,$n),$n}throw new Error(`No event manager plugin found for event ${rt}`)}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(Me),_.LFG(_.R0b))},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();class $e{constructor(Ge){this._doc=Ge}addGlobalEventListener(Ge,rt,vt){const ht=(0,u.q)().getGlobalEventTarget(this._doc,Ge);if(!ht)throw new Error(`Unsupported event target ${ht} for event ${rt}`);return this.addEventListener(ht,rt,vt)}}let Fe=(()=>{class et{constructor(){this._stylesSet=new Set}addStyles(rt){const vt=new Set;rt.forEach(ht=>{this._stylesSet.has(ht)||(this._stylesSet.add(ht),vt.add(ht))}),this.onStylesAdded(vt)}onStylesAdded(rt){}getAllStyles(){return Array.from(this._stylesSet)}}return et.\u0275fac=function(rt){return new(rt||et)},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})(),Ye=(()=>{class et extends Fe{constructor(rt){super(),this._doc=rt,this._hostNodes=new Map,this._hostNodes.set(rt.head,[])}_addStylesToHost(rt,vt,ht){rt.forEach(Qn=>{const $n=this._doc.createElement("style");$n.textContent=Qn,ht.push(vt.appendChild($n))})}addHost(rt){const vt=[];this._addStylesToHost(this._stylesSet,rt,vt),this._hostNodes.set(rt,vt)}removeHost(rt){const vt=this._hostNodes.get(rt);vt&&vt.forEach(Ne),this._hostNodes.delete(rt)}onStylesAdded(rt){this._hostNodes.forEach((vt,ht)=>{this._addStylesToHost(rt,ht,vt)})}ngOnDestroy(){this._hostNodes.forEach(rt=>rt.forEach(Ne))}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(u.K0))},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();function Ne(et){(0,u.q)().remove(et)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Je=/%COMP%/g;function De(et,Ge,rt){for(let vt=0;vt<Ge.length;vt++){let ht=Ge[vt];Array.isArray(ht)?De(et,ht,rt):(ht=ht.replace(Je,et),rt.push(ht))}return rt}function He(et){return Ge=>{if("__ngUnwrap__"===Ge)return et;!1===et(Ge)&&(Ge.preventDefault(),Ge.returnValue=!1)}}let dt=(()=>{class et{constructor(rt,vt,ht){this.eventManager=rt,this.sharedStylesHost=vt,this.appId=ht,this.rendererByCompId=new Map,this.defaultRenderer=new ut(rt)}createRenderer(rt,vt){if(!rt||!vt)return this.defaultRenderer;switch(vt.encapsulation){case _.ifc.Emulated:{let ht=this.rendererByCompId.get(vt.id);return ht||(ht=new An(this.eventManager,this.sharedStylesHost,vt,this.appId),this.rendererByCompId.set(vt.id,ht)),ht.applyToHost(rt),ht}case 1:case _.ifc.ShadowDom:return new mn(this.eventManager,this.sharedStylesHost,rt,vt);default:if(!this.rendererByCompId.has(vt.id)){const ht=De(vt.id,vt.styles,[]);this.sharedStylesHost.addStyles(ht),this.rendererByCompId.set(vt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(de),_.LFG(Ye),_.LFG(_.AFp))},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();class ut{constructor(Ge){this.eventManager=Ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ge,rt){return rt?document.createElementNS(It[rt]||rt,Ge):document.createElement(Ge)}createComment(Ge){return document.createComment(Ge)}createText(Ge){return document.createTextNode(Ge)}appendChild(Ge,rt){Ge.appendChild(rt)}insertBefore(Ge,rt,vt){Ge&&Ge.insertBefore(rt,vt)}removeChild(Ge,rt){Ge&&Ge.removeChild(rt)}selectRootElement(Ge,rt){let vt="string"==typeof Ge?document.querySelector(Ge):Ge;if(!vt)throw new Error(`The selector "${Ge}" did not match any elements`);return rt||(vt.textContent=""),vt}parentNode(Ge){return Ge.parentNode}nextSibling(Ge){return Ge.nextSibling}setAttribute(Ge,rt,vt,ht){if(ht){rt=ht+":"+rt;const Qn=It[ht];Qn?Ge.setAttributeNS(Qn,rt,vt):Ge.setAttribute(rt,vt)}else Ge.setAttribute(rt,vt)}removeAttribute(Ge,rt,vt){if(vt){const ht=It[vt];ht?Ge.removeAttributeNS(ht,rt):Ge.removeAttribute(`${vt}:${rt}`)}else Ge.removeAttribute(rt)}addClass(Ge,rt){Ge.classList.add(rt)}removeClass(Ge,rt){Ge.classList.remove(rt)}setStyle(Ge,rt,vt,ht){ht&(_.JOm.DashCase|_.JOm.Important)?Ge.style.setProperty(rt,vt,ht&_.JOm.Important?"important":""):Ge.style[rt]=vt}removeStyle(Ge,rt,vt){vt&_.JOm.DashCase?Ge.style.removeProperty(rt):Ge.style[rt]=""}setProperty(Ge,rt,vt){Ge[rt]=vt}setValue(Ge,rt){Ge.nodeValue=rt}listen(Ge,rt,vt){return"string"==typeof Ge?this.eventManager.addGlobalEventListener(Ge,rt,He(vt)):this.eventManager.addEventListener(Ge,rt,He(vt))}}class An extends ut{constructor(Ge,rt,vt,ht){super(Ge),this.component=vt;const Qn=De(ht+"-"+vt.id,vt.styles,[]);rt.addStyles(Qn),this.contentAttr=function ee(et){return"_ngcontent-%COMP%".replace(Je,et)}(ht+"-"+vt.id),this.hostAttr=function re(et){return"_nghost-%COMP%".replace(Je,et)}(ht+"-"+vt.id)}applyToHost(Ge){super.setAttribute(Ge,this.hostAttr,"")}createElement(Ge,rt){const vt=super.createElement(Ge,rt);return super.setAttribute(vt,this.contentAttr,""),vt}}class mn extends ut{constructor(Ge,rt,vt,ht){super(Ge),this.sharedStylesHost=rt,this.hostEl=vt,this.shadowRoot=vt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qn=De(ht.id,ht.styles,[]);for(let $n=0;$n<Qn.length;$n++){const Cr=document.createElement("style");Cr.textContent=Qn[$n],this.shadowRoot.appendChild(Cr)}}nodeOrShadowRoot(Ge){return Ge===this.hostEl?this.shadowRoot:Ge}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ge,rt){return super.appendChild(this.nodeOrShadowRoot(Ge),rt)}insertBefore(Ge,rt,vt){return super.insertBefore(this.nodeOrShadowRoot(Ge),rt,vt)}removeChild(Ge,rt){return super.removeChild(this.nodeOrShadowRoot(Ge),rt)}parentNode(Ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ge)))}}let _t=(()=>{class et extends $e{constructor(rt){super(rt)}supports(rt){return!0}addEventListener(rt,vt,ht){return rt.addEventListener(vt,ht,!1),()=>this.removeEventListener(rt,vt,ht)}removeEventListener(rt,vt,ht){return rt.removeEventListener(vt,ht)}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(u.K0))},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();const $t=["alt","control","meta","shift"],ln={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xt={alt:et=>et.altKey,control:et=>et.ctrlKey,meta:et=>et.metaKey,shift:et=>et.shiftKey};let St=(()=>{class et extends $e{constructor(rt){super(rt)}supports(rt){return null!=et.parseEventName(rt)}addEventListener(rt,vt,ht){const Qn=et.parseEventName(vt),$n=et.eventCallback(Qn.fullKey,ht,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(rt,Qn.domEventName,$n))}static parseEventName(rt){const vt=rt.toLowerCase().split("."),ht=vt.shift();if(0===vt.length||"keydown"!==ht&&"keyup"!==ht)return null;const Qn=et._normalizeKey(vt.pop());let $n="";if($t.forEach(ai=>{const Ai=vt.indexOf(ai);Ai>-1&&(vt.splice(Ai,1),$n+=ai+".")}),$n+=Qn,0!=vt.length||0===Qn.length)return null;const Cr={};return Cr.domEventName=ht,Cr.fullKey=$n,Cr}static getEventFullKey(rt){let vt="",ht=function Gt(et){let Ge=et.key;if(null==Ge){if(Ge=et.keyIdentifier,null==Ge)return"Unidentified";Ge.startsWith("U+")&&(Ge=String.fromCharCode(parseInt(Ge.substring(2),16)),3===et.location&&_n.hasOwnProperty(Ge)&&(Ge=_n[Ge]))}return ln[Ge]||Ge}(rt);return ht=ht.toLowerCase()," "===ht?ht="space":"."===ht&&(ht="dot"),$t.forEach(Qn=>{Qn!=ht&&xt[Qn](rt)&&(vt+=Qn+".")}),vt+=ht,vt}static eventCallback(rt,vt,ht){return Qn=>{et.getEventFullKey(Qn)===rt&&ht.runGuarded(()=>vt(Qn))}}static _normalizeKey(rt){return"esc"===rt?"escape":rt}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(u.K0))},et.\u0275prov=_.Yz7({token:et,factory:et.\u0275fac}),et})();const Kn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:u.bD},{provide:_.g9A,useValue:function Sn(){te.makeCurrent(),ue.init()},multi:!0},{provide:u.K0,useFactory:function Vn(){return(0,_.RDi)(document),document},deps:[]}]),hr=[{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function wn(){return new _.qLn},deps:[]},{provide:Me,useClass:_t,multi:!0,deps:[u.K0,_.R0b,_.Lbi]},{provide:Me,useClass:St,multi:!0,deps:[u.K0]},{provide:dt,useClass:dt,deps:[de,Ye,_.AFp]},{provide:_.FYo,useExisting:dt},{provide:Fe,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[u.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:de,useClass:de,deps:[Me,_.R0b]},{provide:u.JF,useClass:Pe,deps:[]}];let qr=(()=>{class et{constructor(rt){if(rt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(rt){return{ngModule:et,providers:[{provide:_.AFp,useValue:rt.appId},{provide:be,useExisting:_.AFp},ie]}}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(et,12))},et.\u0275mod=_.oAB({type:et}),et.\u0275inj=_.cJS({providers:hr,imports:[u.ez,_.hGG]}),et})();"undefined"!=typeof window&&window;let Rt=(()=>{class et{}return et.\u0275fac=function(rt){return new(rt||et)},et.\u0275prov=_.Yz7({token:et,factory:function(rt){let vt=null;return vt=rt?new(rt||et):_.LFG(Z),vt},providedIn:"root"}),et})(),Z=(()=>{class et extends Rt{constructor(rt){super(),this._doc=rt}sanitize(rt,vt){if(null==vt)return null;switch(rt){case _.q3G.NONE:return vt;case _.q3G.HTML:return(0,_.qzn)(vt,"HTML")?(0,_.z3N)(vt):(0,_.EiD)(this._doc,String(vt)).toString();case _.q3G.STYLE:return(0,_.qzn)(vt,"Style")?(0,_.z3N)(vt):vt;case _.q3G.SCRIPT:if((0,_.qzn)(vt,"Script"))return(0,_.z3N)(vt);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(vt),(0,_.qzn)(vt,"URL")?(0,_.z3N)(vt):(0,_.mCW)(String(vt));case _.q3G.RESOURCE_URL:if((0,_.qzn)(vt,"ResourceURL"))return(0,_.z3N)(vt);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${rt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(rt){return(0,_.JVY)(rt)}bypassSecurityTrustStyle(rt){return(0,_.L6k)(rt)}bypassSecurityTrustScript(rt){return(0,_.eBb)(rt)}bypassSecurityTrustUrl(rt){return(0,_.LAX)(rt)}bypassSecurityTrustResourceUrl(rt){return(0,_.pB0)(rt)}}return et.\u0275fac=function(rt){return new(rt||et)(_.LFG(u.K0))},et.\u0275prov=_.Yz7({token:et,factory:function(rt){let vt=null;return vt=rt?new rt:function T(et){return new Z(et.get(u.K0))}(_.LFG(_.zs3)),vt},providedIn:"root"}),et})()},5357:(Zt,nt,m)=>{m.d(nt,{gz:()=>Mi,F0:()=>Ii,rH:()=>Ys,yS:()=>Qs,Bz:()=>ko,lC:()=>$i});var u=m(5e3),_=m(8996),x=m(9646),te=m(1135),he=m(9841),_e=m(2843),Re=m(6805),ve=m(7272),be=m(9770),H=m(8306),ie=m(515),ue=m(4033),Pe=m(7579),Me=m(9300),de=m(4482),$e=m(5403);function Fe(N){return N<=0?()=>ie.E:(0,de.e)((S,C)=>{let q=[];S.subscribe((0,$e.x)(C,ce=>{q.push(ce),N<q.length&&q.shift()},()=>{for(const ce of q)C.next(ce);C.complete()},void 0,()=>{q=null}))})}var Ye=m(8068),Ne=m(6590),It=m(4671),xe=m(4004),je=m(3900),st=m(5698),Ke=m(8675),ee=m(5026),re=m(262),De=m(4351),He=m(590),Xe=m(5577),dt=m(8505),ut=m(8343),Xt=m(8746),on=m(8189),An=m(9808);class mn{constructor(S,C){this.id=S,this.url=C}}class _t extends mn{constructor(S,C,q="imperative",ce=null){super(S,C),this.navigationTrigger=q,this.restoredState=ce}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $t extends mn{constructor(S,C,q){super(S,C),this.urlAfterRedirects=q}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zt extends mn{constructor(S,C,q){super(S,C),this.reason=q}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ln extends mn{constructor(S,C,q){super(S,C),this.error=q}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _n extends mn{constructor(S,C,q,ce){super(S,C),this.urlAfterRedirects=q,this.state=ce}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xt extends mn{constructor(S,C,q,ce){super(S,C),this.urlAfterRedirects=q,this.state=ce}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St extends mn{constructor(S,C,q,ce,Be){super(S,C),this.urlAfterRedirects=q,this.state=ce,this.shouldActivate=Be}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends mn{constructor(S,C,q,ce){super(S,C),this.urlAfterRedirects=q,this.state=ce}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends mn{constructor(S,C,q,ce){super(S,C),this.urlAfterRedirects=q,this.state=ce}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vn{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fr{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(S,C,q){this.routerEvent=S,this.position=C,this.anchor=q}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pn="primary";class Yr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const C=this.params[S];return Array.isArray(C)?C[0]:C}return null}getAll(S){if(this.has(S)){const C=this.params[S];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Er(N){return new Yr(N)}const vr="ngNavigationCancelingError";function dn(N){const S=Error("NavigationCancelingError: "+N);return S[vr]=!0,S}function Le(N,S,C){const q=C.path.split("/");if(q.length>N.length||"full"===C.pathMatch&&(S.hasChildren()||q.length<N.length))return null;const ce={};for(let Be=0;Be<q.length;Be++){const Ve=q[Be],gt=N[Be];if(Ve.startsWith(":"))ce[Ve.substring(1)]=gt;else if(Ve!==gt.path)return null}return{consumed:N.slice(0,q.length),posParams:ce}}function Ft(N,S){const C=N?Object.keys(N):void 0,q=S?Object.keys(S):void 0;if(!C||!q||C.length!=q.length)return!1;let ce;for(let Be=0;Be<C.length;Be++)if(ce=C[Be],!Nt(N[ce],S[ce]))return!1;return!0}function Nt(N,S){if(Array.isArray(N)&&Array.isArray(S)){if(N.length!==S.length)return!1;const C=[...N].sort(),q=[...S].sort();return C.every((ce,Be)=>q[Be]===ce)}return N===S}function Ht(N){return Array.prototype.concat.apply([],N)}function nn(N){return N.length>0?N[N.length-1]:null}function Ln(N,S){for(const C in N)N.hasOwnProperty(C)&&S(N[C],C)}function xn(N){return(0,u.CqO)(N)?N:(0,u.QGY)(N)?(0,_.D)(Promise.resolve(N)):(0,x.of)(N)}const rr={exact:function Zr(N,S,C){if(!pe(N.segments,S.segments)||!k(N.segments,S.segments,C)||N.numberOfChildren!==S.numberOfChildren)return!1;for(const q in S.children)if(!N.children[q]||!Zr(N.children[q],S.children[q],C))return!1;return!0},subset:Ae},Bn={exact:function In(N,S){return Ft(N,S)},subset:function ct(N,S){return Object.keys(S).length<=Object.keys(N).length&&Object.keys(S).every(C=>Nt(N[C],S[C]))},ignored:()=>!0};function Gn(N,S,C){return rr[C.paths](N.root,S.root,C.matrixParams)&&Bn[C.queryParams](N.queryParams,S.queryParams)&&!("exact"===C.fragment&&N.fragment!==S.fragment)}function Ae(N,S,C){return z(N,S,S.segments,C)}function z(N,S,C,q){if(N.segments.length>C.length){const ce=N.segments.slice(0,C.length);return!(!pe(ce,C)||S.hasChildren()||!k(ce,C,q))}if(N.segments.length===C.length){if(!pe(N.segments,C)||!k(N.segments,C,q))return!1;for(const ce in S.children)if(!N.children[ce]||!Ae(N.children[ce],S.children[ce],q))return!1;return!0}{const ce=C.slice(0,N.segments.length),Be=C.slice(N.segments.length);return!!(pe(N.segments,ce)&&k(N.segments,ce,q)&&N.children[pn])&&z(N.children[pn],S,Be,q)}}function k(N,S,C){return S.every((q,ce)=>Bn[C](N[ce].parameters,q.parameters))}class B{constructor(S,C,q){this.root=S,this.queryParams=C,this.fragment=q}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return at.serialize(this)}}class Te{constructor(S,C){this.segments=S,this.children=C,this.parent=null,Ln(C,(q,ce)=>q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return et(this)}}class ft{constructor(S,C){this.path=S,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Er(this.parameters)),this._parameterMap}toString(){return ai(this)}}function pe(N,S){return N.length===S.length&&N.every((C,q)=>C.path===S[q].path)}class T{}class Z{parse(S){const C=new jr(S);return new B(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(S){const C=`/${Ge(S.root,!0)}`,q=function si(N){const S=Object.keys(N).map(C=>{const q=N[C];return Array.isArray(q)?q.map(ce=>`${vt(C)}=${vt(ce)}`).join("&"):`${vt(C)}=${vt(q)}`}).filter(C=>!!C);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${C}${q}${"string"==typeof S.fragment?`#${function ht(N){return encodeURI(N)}(S.fragment)}`:""}`}}const at=new Z;function et(N){return N.segments.map(S=>ai(S)).join("/")}function Ge(N,S){if(!N.hasChildren())return et(N);if(S){const C=N.children[pn]?Ge(N.children[pn],!1):"",q=[];return Ln(N.children,(ce,Be)=>{Be!==pn&&q.push(`${Be}:${Ge(ce,!1)}`)}),q.length>0?`${C}(${q.join("//")})`:C}{const C=function Rt(N,S){let C=[];return Ln(N.children,(q,ce)=>{ce===pn&&(C=C.concat(S(q,ce)))}),Ln(N.children,(q,ce)=>{ce!==pn&&(C=C.concat(S(q,ce)))}),C}(N,(q,ce)=>ce===pn?[Ge(N.children[pn],!1)]:[`${ce}:${Ge(q,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[pn]?`${et(N)}/${C[0]}`:`${et(N)}/(${C.join("//")})`}}function rt(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vt(N){return rt(N).replace(/%3B/gi,";")}function Qn(N){return rt(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $n(N){return decodeURIComponent(N)}function Cr(N){return $n(N.replace(/\+/g,"%20"))}function ai(N){return`${Qn(N.path)}${function Ai(N){return Object.keys(N).map(S=>`;${Qn(S)}=${Qn(N[S])}`).join("")}(N.parameters)}`}const fi=/^[^\/()?;=#]+/;function br(N){const S=N.match(fi);return S?S[0]:""}const Gi=/^[^=?&#]+/,Rn=/^[^&#]+/;class jr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let q={};return this.peekStartsWith("(")&&(q=this.parseParens(!1)),(S.length>0||Object.keys(C).length>0)&&(q[pn]=new Te(S,C)),q}parseSegment(){const S=br(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new ft($n(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const C=br(this.remaining);if(!C)return;this.capture(C);let q="";if(this.consumeOptional("=")){const ce=br(this.remaining);ce&&(q=ce,this.capture(q))}S[$n(C)]=$n(q)}parseQueryParam(S){const C=function Qr(N){const S=N.match(Gi);return S?S[0]:""}(this.remaining);if(!C)return;this.capture(C);let q="";if(this.consumeOptional("=")){const Ve=function Yn(N){const S=N.match(Rn);return S?S[0]:""}(this.remaining);Ve&&(q=Ve,this.capture(q))}const ce=Cr(C),Be=Cr(q);if(S.hasOwnProperty(ce)){let Ve=S[ce];Array.isArray(Ve)||(Ve=[Ve],S[ce]=Ve),Ve.push(Be)}else S[ce]=Be}parseParens(S){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const q=br(this.remaining),ce=this.remaining[q.length];if("/"!==ce&&")"!==ce&&";"!==ce)throw new Error(`Cannot parse url '${this.url}'`);let Be;q.indexOf(":")>-1?(Be=q.substr(0,q.indexOf(":")),this.capture(Be),this.capture(":")):S&&(Be=pn);const Ve=this.parseChildren();C[Be]=1===Object.keys(Ve).length?Ve[pn]:new Te([],Ve),this.consumeOptional("//")}return C}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}class Ei{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const C=this.pathFromRoot(S);return C.length>1?C[C.length-2]:null}children(S){const C=mi(S,this._root);return C?C.children.map(q=>q.value):[]}firstChild(S){const C=mi(S,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(S){const C=ii(S,this._root);return C.length<2?[]:C[C.length-2].children.map(ce=>ce.value).filter(ce=>ce!==S)}pathFromRoot(S){return ii(S,this._root).map(C=>C.value)}}function mi(N,S){if(N===S.value)return S;for(const C of S.children){const q=mi(N,C);if(q)return q}return null}function ii(N,S){if(N===S.value)return[S];for(const C of S.children){const q=ii(N,C);if(q.length)return q.unshift(S),q}return[]}class ci{constructor(S,C){this.value=S,this.children=C}toString(){return`TreeNode(${this.value})`}}function Hr(N){const S={};return N&&N.children.forEach(C=>S[C.value.outlet]=C),S}class Si extends Ei{constructor(S,C){super(S),this.snapshot=C,Pi(this,S)}toString(){return this.snapshot.toString()}}function $r(N,S){const C=function mr(N,S){const Ve=new bi([],{},{},"",{},pn,S,null,N.root,-1,{});return new ni("",new ci(Ve,[]))}(N,S),q=new te.X([new ft("",{})]),ce=new te.X({}),Be=new te.X({}),Ve=new te.X({}),gt=new te.X(""),cn=new Mi(q,ce,Ve,gt,Be,pn,S,C.root);return cn.snapshot=C.root,new Si(new ci(cn,[]),C)}class Mi{constructor(S,C,q,ce,Be,Ve,gt,cn){this.url=S,this.params=C,this.queryParams=q,this.fragment=ce,this.data=Be,this.outlet=Ve,this.component=gt,this._futureSnapshot=cn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xe.U)(S=>Er(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xe.U)(S=>Er(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xi(N,S="emptyOnly"){const C=N.pathFromRoot;let q=0;if("always"!==S)for(q=C.length-1;q>=1;){const ce=C[q],Be=C[q-1];if(ce.routeConfig&&""===ce.routeConfig.path)q--;else{if(Be.component)break;q--}}return function ls(N){return N.reduce((S,C)=>({params:Object.assign(Object.assign({},S.params),C.params),data:Object.assign(Object.assign({},S.data),C.data),resolve:Object.assign(Object.assign({},S.resolve),C._resolvedData)}),{params:{},data:{},resolve:{}})}(C.slice(q))}class bi{constructor(S,C,q,ce,Be,Ve,gt,cn,Zn,Pn,Mn){this.url=S,this.params=C,this.queryParams=q,this.fragment=ce,this.data=Be,this.outlet=Ve,this.component=gt,this.routeConfig=cn,this._urlSegment=Zn,this._lastPathIndex=Pn,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(q=>q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ni extends Ei{constructor(S,C){super(C),this.url=S,Pi(this,C)}toString(){return Yi(this._root)}}function Pi(N,S){S.value._routerState=N,S.children.forEach(C=>Pi(N,C))}function Yi(N){const S=N.children.length>0?` { ${N.children.map(Yi).join(", ")} } `:"";return`${N.value}${S}`}function pi(N){if(N.snapshot){const S=N.snapshot,C=N._futureSnapshot;N.snapshot=C,Ft(S.queryParams,C.queryParams)||N.queryParams.next(C.queryParams),S.fragment!==C.fragment&&N.fragment.next(C.fragment),Ft(S.params,C.params)||N.params.next(C.params),function ze(N,S){if(N.length!==S.length)return!1;for(let C=0;C<N.length;++C)if(!Ft(N[C],S[C]))return!1;return!0}(S.url,C.url)||N.url.next(C.url),Ft(S.data,C.data)||N.data.next(C.data)}else N.snapshot=N._futureSnapshot,N.data.next(N._futureSnapshot.data)}function xr(N,S){const C=Ft(N.params,S.params)&&function Vt(N,S){return pe(N,S)&&N.every((C,q)=>Ft(C.parameters,S[q].parameters))}(N.url,S.url);return C&&!(!N.parent!=!S.parent)&&(!N.parent||xr(N.parent,S.parent))}function Hi(N,S,C){if(C&&N.shouldReuseRoute(S.value,C.value.snapshot)){const q=C.value;q._futureSnapshot=S.value;const ce=function gi(N,S,C){return S.children.map(q=>{for(const ce of C.children)if(N.shouldReuseRoute(q.value,ce.value.snapshot))return Hi(N,q,ce);return Hi(N,q)})}(N,S,C);return new ci(q,ce)}{if(N.shouldAttach(S.value)){const Be=N.retrieve(S.value);if(null!==Be){const Ve=Be.route;return Ve.value._futureSnapshot=S.value,Ve.children=S.children.map(gt=>Hi(N,gt)),Ve}}const q=function Li(N){return new Mi(new te.X(N.url),new te.X(N.params),new te.X(N.queryParams),new te.X(N.fragment),new te.X(N.data),N.outlet,N.component,N)}(S.value),ce=S.children.map(Be=>Hi(N,Be));return new ci(q,ce)}}function ss(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function wi(N){return"object"==typeof N&&null!=N&&N.outlets}function Oi(N,S,C,q,ce){let Be={};if(q&&Ln(q,(gt,cn)=>{Be[cn]=Array.isArray(gt)?gt.map(Zn=>`${Zn}`):`${gt}`}),N===S)return new B(C,Be,ce);const Ve=bs(N,S,C);return new B(Ve,Be,ce)}function bs(N,S,C){const q={};return Ln(N.children,(ce,Be)=>{q[Be]=ce===S?C:bs(ce,S,C)}),new Te(N.segments,q)}class ws{constructor(S,C,q){if(this.isAbsolute=S,this.numberOfDoubleDots=C,this.commands=q,S&&q.length>0&&ss(q[0]))throw new Error("Root segment cannot have matrix parameters");const ce=q.find(wi);if(ce&&ce!==nn(q))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yi{constructor(S,C,q){this.segmentGroup=S,this.processChildren=C,this.index=q}}function kt(N,S,C){if(N||(N=new Te([],{})),0===N.segments.length&&N.hasChildren())return ae(N,S,C);const q=function K(N,S,C){let q=0,ce=S;const Be={match:!1,pathIndex:0,commandIndex:0};for(;ce<N.segments.length;){if(q>=C.length)return Be;const Ve=N.segments[ce],gt=C[q];if(wi(gt))break;const cn=`${gt}`,Zn=q<C.length-1?C[q+1]:null;if(ce>0&&void 0===cn)break;if(cn&&Zn&&"object"==typeof Zn&&void 0===Zn.outlets){if(!it(cn,Zn,Ve))return Be;q+=2}else{if(!it(cn,{},Ve))return Be;q++}ce++}return{match:!0,pathIndex:ce,commandIndex:q}}(N,S,C),ce=C.slice(q.commandIndex);if(q.match&&q.pathIndex<N.segments.length){const Be=new Te(N.segments.slice(0,q.pathIndex),{});return Be.children[pn]=new Te(N.segments.slice(q.pathIndex),N.children),ae(Be,0,ce)}return q.match&&0===ce.length?new Te(N.segments,{}):q.match&&!N.hasChildren()?W(N,S,C):q.match?ae(N,0,ce):W(N,S,C)}function ae(N,S,C){if(0===C.length)return new Te(N.segments,{});{const q=function Ct(N){return wi(N[0])?N[0].outlets:{[pn]:N}}(C),ce={};return Ln(q,(Be,Ve)=>{"string"==typeof Be&&(Be=[Be]),null!==Be&&(ce[Ve]=kt(N.children[Ve],S,Be))}),Ln(N.children,(Be,Ve)=>{void 0===q[Ve]&&(ce[Ve]=Be)}),new Te(N.segments,ce)}}function W(N,S,C){const q=N.segments.slice(0,S);let ce=0;for(;ce<C.length;){const Be=C[ce];if(wi(Be)){const cn=oe(Be.outlets);return new Te(q,cn)}if(0===ce&&ss(C[0])){q.push(new ft(N.segments[S].path,We(C[0]))),ce++;continue}const Ve=wi(Be)?Be.outlets[pn]:`${Be}`,gt=ce<C.length-1?C[ce+1]:null;Ve&&gt&&ss(gt)?(q.push(new ft(Ve,We(gt))),ce+=2):(q.push(new ft(Ve,{})),ce++)}return new Te(q,{})}function oe(N){const S={};return Ln(N,(C,q)=>{"string"==typeof C&&(C=[C]),null!==C&&(S[q]=W(new Te([],{}),0,C))}),S}function We(N){const S={};return Ln(N,(C,q)=>S[q]=`${C}`),S}function it(N,S,C){return N==C.path&&Ft(S,C.parameters)}class rn{constructor(S,C,q,ce){this.routeReuseStrategy=S,this.futureState=C,this.currState=q,this.forwardEvent=ce}activate(S){const C=this.futureState._root,q=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,q,S),pi(this.futureState.root),this.activateChildRoutes(C,q,S)}deactivateChildRoutes(S,C,q){const ce=Hr(C);S.children.forEach(Be=>{const Ve=Be.value.outlet;this.deactivateRoutes(Be,ce[Ve],q),delete ce[Ve]}),Ln(ce,(Be,Ve)=>{this.deactivateRouteAndItsChildren(Be,q)})}deactivateRoutes(S,C,q){const ce=S.value,Be=C?C.value:null;if(ce===Be)if(ce.component){const Ve=q.getContext(ce.outlet);Ve&&this.deactivateChildRoutes(S,C,Ve.children)}else this.deactivateChildRoutes(S,C,q);else Be&&this.deactivateRouteAndItsChildren(C,q)}deactivateRouteAndItsChildren(S,C){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,C):this.deactivateRouteAndOutlet(S,C)}detachAndStoreRouteSubtree(S,C){const q=C.getContext(S.value.outlet),ce=q&&S.value.component?q.children:C,Be=Hr(S);for(const Ve of Object.keys(Be))this.deactivateRouteAndItsChildren(Be[Ve],ce);if(q&&q.outlet){const Ve=q.outlet.detach(),gt=q.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Ve,route:S,contexts:gt})}}deactivateRouteAndOutlet(S,C){const q=C.getContext(S.value.outlet),ce=q&&S.value.component?q.children:C,Be=Hr(S);for(const Ve of Object.keys(Be))this.deactivateRouteAndItsChildren(Be[Ve],ce);q&&q.outlet&&(q.outlet.deactivate(),q.children.onOutletDeactivated(),q.attachRef=null,q.resolver=null,q.route=null)}activateChildRoutes(S,C,q){const ce=Hr(C);S.children.forEach(Be=>{this.activateRoutes(Be,ce[Be.value.outlet],q),this.forwardEvent(new qr(Be.value.snapshot))}),S.children.length&&this.forwardEvent(new Kn(S.value.snapshot))}activateRoutes(S,C,q){const ce=S.value,Be=C?C.value:null;if(pi(ce),ce===Be)if(ce.component){const Ve=q.getOrCreateContext(ce.outlet);this.activateChildRoutes(S,C,Ve.children)}else this.activateChildRoutes(S,C,q);else if(ce.component){const Ve=q.getOrCreateContext(ce.outlet);if(this.routeReuseStrategy.shouldAttach(ce.snapshot)){const gt=this.routeReuseStrategy.retrieve(ce.snapshot);this.routeReuseStrategy.store(ce.snapshot,null),Ve.children.onOutletReAttached(gt.contexts),Ve.attachRef=gt.componentRef,Ve.route=gt.route.value,Ve.outlet&&Ve.outlet.attach(gt.componentRef,gt.route.value),pi(gt.route.value),this.activateChildRoutes(S,null,Ve.children)}else{const gt=function un(N){for(let S=N.parent;S;S=S.parent){const C=S.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig;if(C&&C.component)return null}return null}(ce.snapshot),cn=gt?gt.module.componentFactoryResolver:null;Ve.attachRef=null,Ve.route=ce,Ve.resolver=cn,Ve.outlet&&Ve.outlet.activateWith(ce,cn),this.activateChildRoutes(S,null,Ve.children)}}else this.activateChildRoutes(S,null,q)}}class jt{constructor(S,C){this.routes=S,this.module=C}}function vn(N){return"function"==typeof N}function Nn(N){return N instanceof B}const Dr=Symbol("INITIAL_VALUE");function Rr(){return(0,je.w)(N=>(0,he.a)(N.map(S=>S.pipe((0,st.q)(1),(0,Ke.O)(Dr)))).pipe((0,ee.R)((S,C)=>{let q=!1;return C.reduce((ce,Be,Ve)=>ce!==Dr?ce:(Be===Dr&&(q=!0),q||!1!==Be&&Ve!==C.length-1&&!Nn(Be)?ce:Be),S)},Dr),(0,Me.h)(S=>S!==Dr),(0,xe.U)(S=>Nn(S)?S:!0===S),(0,st.q)(1)))}class Jr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ur,this.attachRef=null}}class Ur{constructor(){this.contexts=new Map}onChildOutletCreated(S,C){const q=this.getOrCreateContext(S);q.outlet=C,this.contexts.set(S,q)}onChildOutletDestroyed(S){const C=this.getContext(S);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let C=this.getContext(S);return C||(C=new Jr,this.contexts.set(S,C)),C}getContext(S){return this.contexts.get(S)||null}}let $i=(()=>{class N{constructor(C,q,ce,Be,Ve){this.parentContexts=C,this.location=q,this.resolver=ce,this.changeDetector=Ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=Be||pn,C.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const C=this.parentContexts.getContext(this.name);C&&C.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,q){this.activated=C,this._activatedRoute=q,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=C;const Ve=(q=q||this.resolver).resolveComponentFactory(C._futureSnapshot.routeConfig.component),gt=this.parentContexts.getOrCreateContext(this.name).children,cn=new Bi(C,gt,this.location.injector);this.activated=this.location.createComponent(Ve,this.location.length,cn),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return N.\u0275fac=function(C){return new(C||N)(u.Y36(Ur),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},N.\u0275dir=u.lG2({type:N,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),N})();class Bi{constructor(S,C,q){this.route=S,this.childContexts=C,this.parent=q}get(S,C){return S===Mi?this.route:S===Ur?this.childContexts:this.parent.get(S,C)}}let Ri=(()=>{class N{}return N.\u0275fac=function(C){return new(C||N)},N.\u0275cmp=u.Xpm({type:N,selectors:[["ng-component"]],decls:1,vars:0,template:function(C,q){1&C&&u._UZ(0,"router-outlet")},directives:[$i],encapsulation:2}),N})();function vi(N,S=""){for(let C=0;C<N.length;C++){const q=N[C];Is(q,oi(S,q))}}function Is(N,S){N.children&&vi(N.children,S)}function oi(N,S){return S?N||S.path?N&&!S.path?`${N}/`:!N&&S.path?S.path:`${N}/${S.path}`:"":N}function Q(N){const S=N.children&&N.children.map(Q),C=S?Object.assign(Object.assign({},N),{children:S}):Object.assign({},N);return!C.component&&(S||C.loadChildren)&&C.outlet&&C.outlet!==pn&&(C.component=Ri),C}function w(N){return N.outlet||pn}function R(N,S){const C=N.filter(q=>w(q)===S);return C.push(...N.filter(q=>w(q)!==S)),C}const X={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ge(N,S,C){var q;if(""===S.path)return"full"===S.pathMatch&&(N.hasChildren()||C.length>0)?Object.assign({},X):{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const Be=(S.matcher||Le)(C,N,S);if(!Be)return Object.assign({},X);const Ve={};Ln(Be.posParams,(cn,Zn)=>{Ve[Zn]=cn.path});const gt=Be.consumed.length>0?Object.assign(Object.assign({},Ve),Be.consumed[Be.consumed.length-1].parameters):Ve;return{matched:!0,consumedSegments:Be.consumed,remainingSegments:C.slice(Be.consumed.length),parameters:gt,positionalParamSegments:null!==(q=Be.posParams)&&void 0!==q?q:{}}}function tt(N,S,C,q,ce="corrected"){if(C.length>0&&function tn(N,S,C){return C.some(q=>L(N,S,q)&&w(q)!==pn)}(N,C,q)){const Ve=new Te(S,function Wt(N,S,C,q){const ce={};ce[pn]=q,q._sourceSegment=N,q._segmentIndexShift=S.length;for(const Be of C)if(""===Be.path&&w(Be)!==pn){const Ve=new Te([],{});Ve._sourceSegment=N,Ve._segmentIndexShift=S.length,ce[w(Be)]=Ve}return ce}(N,S,q,new Te(C,N.children)));return Ve._sourceSegment=N,Ve._segmentIndexShift=S.length,{segmentGroup:Ve,slicedSegments:[]}}if(0===C.length&&function Yt(N,S,C){return C.some(q=>L(N,S,q))}(N,C,q)){const Ve=new Te(N.segments,function At(N,S,C,q,ce,Be){const Ve={};for(const gt of q)if(L(N,C,gt)&&!ce[w(gt)]){const cn=new Te([],{});cn._sourceSegment=N,cn._segmentIndexShift="legacy"===Be?N.segments.length:S.length,Ve[w(gt)]=cn}return Object.assign(Object.assign({},ce),Ve)}(N,S,C,q,N.children,ce));return Ve._sourceSegment=N,Ve._segmentIndexShift=S.length,{segmentGroup:Ve,slicedSegments:C}}const Be=new Te(N.segments,N.children);return Be._sourceSegment=N,Be._segmentIndexShift=S.length,{segmentGroup:Be,slicedSegments:C}}function L(N,S,C){return(!(N.hasChildren()||S.length>0)||"full"!==C.pathMatch)&&""===C.path}function se(N,S,C,q){return!!(w(N)===q||q!==pn&&L(S,C,N))&&("**"===N.path||ge(S,N,C).matched)}function F(N,S,C){return 0===S.length&&!N.children[C]}class Ce{constructor(S){this.segmentGroup=S||null}}class Ze{constructor(S){this.urlTree=S}}function wt(N){return(0,_e._)(new Ce(N))}function Bt(N){return(0,_e._)(new Ze(N))}class lr{constructor(S,C,q,ce,Be){this.configLoader=C,this.urlSerializer=q,this.urlTree=ce,this.config=Be,this.allowRedirects=!0,this.ngModule=S.get(u.h0i)}apply(){const S=tt(this.urlTree.root,[],[],this.config).segmentGroup,C=new Te(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,C,pn).pipe((0,xe.U)(Be=>this.createUrlTree(Tr(Be),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,re.K)(Be=>{if(Be instanceof Ze)return this.allowRedirects=!1,this.match(Be.urlTree);throw Be instanceof Ce?this.noMatchError(Be):Be}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,pn).pipe((0,xe.U)(ce=>this.createUrlTree(Tr(ce),S.queryParams,S.fragment))).pipe((0,re.K)(ce=>{throw ce instanceof Ce?this.noMatchError(ce):ce}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,C,q){const ce=S.segments.length>0?new Te([],{[pn]:S}):S;return new B(ce,C,q)}expandSegmentGroup(S,C,q,ce){return 0===q.segments.length&&q.hasChildren()?this.expandChildren(S,C,q).pipe((0,xe.U)(Be=>new Te([],Be))):this.expandSegment(S,q,C,q.segments,ce,!0)}expandChildren(S,C,q){const ce=[];for(const Be of Object.keys(q.children))"primary"===Be?ce.unshift(Be):ce.push(Be);return(0,_.D)(ce).pipe((0,De.b)(Be=>{const Ve=q.children[Be],gt=R(C,Be);return this.expandSegmentGroup(S,gt,Ve,Be).pipe((0,xe.U)(cn=>({segment:cn,outlet:Be})))}),(0,ee.R)((Be,Ve)=>(Be[Ve.outlet]=Ve.segment,Be),{}),function Je(N,S){const C=arguments.length>=2;return q=>q.pipe(N?(0,Me.h)((ce,Be)=>N(ce,Be,q)):It.y,Fe(1),C?(0,Ne.d)(S):(0,Ye.T)(()=>new Re.K))}())}expandSegment(S,C,q,ce,Be,Ve){return(0,_.D)(q).pipe((0,De.b)(gt=>this.expandSegmentAgainstRoute(S,C,q,gt,ce,Be,Ve).pipe((0,re.K)(Zn=>{if(Zn instanceof Ce)return(0,x.of)(null);throw Zn}))),(0,He.P)(gt=>!!gt),(0,re.K)((gt,cn)=>{if(gt instanceof Re.K||"EmptyError"===gt.name)return F(C,ce,Be)?(0,x.of)(new Te([],{})):wt(C);throw gt}))}expandSegmentAgainstRoute(S,C,q,ce,Be,Ve,gt){return se(ce,C,Be,Ve)?void 0===ce.redirectTo?this.matchSegmentAgainstRoute(S,C,ce,Be,Ve):gt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,C,q,ce,Be,Ve):wt(C):wt(C)}expandSegmentAgainstRouteUsingRedirect(S,C,q,ce,Be,Ve){return"**"===ce.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,q,ce,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(S,C,q,ce,Be,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,C,q,ce){const Be=this.applyRedirectCommands([],q.redirectTo,{});return q.redirectTo.startsWith("/")?Bt(Be):this.lineralizeSegments(q,Be).pipe((0,Xe.z)(Ve=>{const gt=new Te(Ve,{});return this.expandSegment(S,gt,C,Ve,ce,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,C,q,ce,Be,Ve){const{matched:gt,consumedSegments:cn,remainingSegments:Zn,positionalParamSegments:Pn}=ge(C,ce,Be);if(!gt)return wt(C);const Mn=this.applyRedirectCommands(cn,ce.redirectTo,Pn);return ce.redirectTo.startsWith("/")?Bt(Mn):this.lineralizeSegments(ce,Mn).pipe((0,Xe.z)(xi=>this.expandSegment(S,C,q,xi.concat(Zn),Ve,!1)))}matchSegmentAgainstRoute(S,C,q,ce,Be){if("**"===q.path)return q.loadChildren?(q._loadedConfig?(0,x.of)(q._loadedConfig):this.configLoader.load(S.injector,q)).pipe((0,xe.U)(Mn=>(q._loadedConfig=Mn,new Te(ce,{})))):(0,x.of)(new Te(ce,{}));const{matched:Ve,consumedSegments:gt,remainingSegments:cn}=ge(C,q,ce);return Ve?this.getChildConfig(S,q,ce).pipe((0,Xe.z)(Pn=>{const Mn=Pn.module,xi=Pn.routes,{segmentGroup:Tn,slicedSegments:Qt}=tt(C,gt,cn,xi),Cn=new Te(Tn.segments,Tn.children);if(0===Qt.length&&Cn.hasChildren())return this.expandChildren(Mn,xi,Cn).pipe((0,xe.U)(Ma=>new Te(gt,Ma)));if(0===xi.length&&0===Qt.length)return(0,x.of)(new Te(gt,{}));const ts=w(q)===Be;return this.expandSegment(Mn,Cn,xi,Qt,ts?pn:Be,!0).pipe((0,xe.U)(Fo=>new Te(gt.concat(Fo.segments),Fo.children)))})):wt(C)}getChildConfig(S,C,q){return C.children?(0,x.of)(new jt(C.children,S)):C.loadChildren?void 0!==C._loadedConfig?(0,x.of)(C._loadedConfig):this.runCanLoadGuards(S.injector,C,q).pipe((0,Xe.z)(ce=>ce?this.configLoader.load(S.injector,C).pipe((0,xe.U)(Be=>(C._loadedConfig=Be,Be))):function tr(N){return(0,_e._)(dn(`Cannot load children because the guard of the route "path: '${N.path}'" returned false`))}(C))):(0,x.of)(new jt([],S))}runCanLoadGuards(S,C,q){const ce=C.canLoad;if(!ce||0===ce.length)return(0,x.of)(!0);const Be=ce.map(Ve=>{const gt=S.get(Ve);let cn;if(function Jn(N){return N&&vn(N.canLoad)}(gt))cn=gt.canLoad(C,q);else{if(!vn(gt))throw new Error("Invalid CanLoad guard");cn=gt(C,q)}return xn(cn)});return(0,x.of)(Be).pipe(Rr(),(0,dt.b)(Ve=>{if(!Nn(Ve))return;const gt=dn(`Redirecting to "${this.urlSerializer.serialize(Ve)}"`);throw gt.url=Ve,gt}),(0,xe.U)(Ve=>!0===Ve))}lineralizeSegments(S,C){let q=[],ce=C.root;for(;;){if(q=q.concat(ce.segments),0===ce.numberOfChildren)return(0,x.of)(q);if(ce.numberOfChildren>1||!ce.children[pn])return(0,_e._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));ce=ce.children[pn]}}applyRedirectCommands(S,C,q){return this.applyRedirectCreatreUrlTree(C,this.urlSerializer.parse(C),S,q)}applyRedirectCreatreUrlTree(S,C,q,ce){const Be=this.createSegmentGroup(S,C.root,q,ce);return new B(Be,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(S,C){const q={};return Ln(S,(ce,Be)=>{if("string"==typeof ce&&ce.startsWith(":")){const gt=ce.substring(1);q[Be]=C[gt]}else q[Be]=ce}),q}createSegmentGroup(S,C,q,ce){const Be=this.createSegments(S,C.segments,q,ce);let Ve={};return Ln(C.children,(gt,cn)=>{Ve[cn]=this.createSegmentGroup(S,gt,q,ce)}),new Te(Be,Ve)}createSegments(S,C,q,ce){return C.map(Be=>Be.path.startsWith(":")?this.findPosParam(S,Be,ce):this.findOrReturn(Be,q))}findPosParam(S,C,q){const ce=q[C.path.substring(1)];if(!ce)throw new Error(`Cannot redirect to '${S}'. Cannot find '${C.path}'.`);return ce}findOrReturn(S,C){let q=0;for(const ce of C){if(ce.path===S.path)return C.splice(q),ce;q++}return S}}function Tr(N){const S={};for(const q of Object.keys(N.children)){const Be=Tr(N.children[q]);(Be.segments.length>0||Be.hasChildren())&&(S[q]=Be)}return function dr(N){if(1===N.numberOfChildren&&N.children[pn]){const S=N.children[pn];return new Te(N.segments.concat(S.segments),S.children)}return N}(new Te(N.segments,S))}class Xr{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Y{constructor(S,C){this.component=S,this.route=C}}function j(N,S,C){const q=N._root;return Wn(q,S?S._root:null,C,[q.value])}function Oe(N,S,C){const q=function sn(N){if(!N)return null;for(let S=N.parent;S;S=S.parent){const C=S.routeConfig;if(C&&C._loadedConfig)return C._loadedConfig}return null}(S);return(q?q.module.injector:C).get(N)}function Wn(N,S,C,q,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Be=Hr(S);return N.children.forEach(Ve=>{(function li(N,S,C,q,ce={canDeactivateChecks:[],canActivateChecks:[]}){const Be=N.value,Ve=S?S.value:null,gt=C?C.getContext(N.value.outlet):null;if(Ve&&Be.routeConfig===Ve.routeConfig){const cn=function hs(N,S,C){if("function"==typeof C)return C(N,S);switch(C){case"pathParamsChange":return!pe(N.url,S.url);case"pathParamsOrQueryParamsChange":return!pe(N.url,S.url)||!Ft(N.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(N,S)||!Ft(N.queryParams,S.queryParams);default:return!xr(N,S)}}(Ve,Be,Be.routeConfig.runGuardsAndResolvers);cn?ce.canActivateChecks.push(new Xr(q)):(Be.data=Ve.data,Be._resolvedData=Ve._resolvedData),Wn(N,S,Be.component?gt?gt.children:null:C,q,ce),cn&&gt&&gt.outlet&&gt.outlet.isActivated&&ce.canDeactivateChecks.push(new Y(gt.outlet.component,Ve))}else Ve&&Vi(S,gt,ce),ce.canActivateChecks.push(new Xr(q)),Wn(N,null,Be.component?gt?gt.children:null:C,q,ce)})(Ve,Be[Ve.value.outlet],C,q.concat([Ve.value]),ce),delete Be[Ve.value.outlet]}),Ln(Be,(Ve,gt)=>Vi(Ve,C.getContext(gt),ce)),ce}function Vi(N,S,C){const q=Hr(N),ce=N.value;Ln(q,(Be,Ve)=>{Vi(Be,ce.component?S?S.children.getContext(Ve):null:S,C)}),C.canDeactivateChecks.push(new Y(ce.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,ce))}class Do{}function ia(N){return new H.y(S=>S.error(N))}class Ko{constructor(S,C,q,ce,Be,Ve){this.rootComponentType=S,this.config=C,this.urlTree=q,this.url=ce,this.paramsInheritanceStrategy=Be,this.relativeLinkResolution=Ve}recognize(){const S=tt(this.urlTree.root,[],[],this.config.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution).segmentGroup,C=this.processSegmentGroup(this.config,S,pn);if(null===C)return null;const q=new bi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),ce=new ci(q,C),Be=new ni(this.url,ce);return this.inheritParamsAndData(Be._root),Be}inheritParamsAndData(S){const C=S.value,q=Xi(C,this.paramsInheritanceStrategy);C.params=Object.freeze(q.params),C.data=Object.freeze(q.data),S.children.forEach(ce=>this.inheritParamsAndData(ce))}processSegmentGroup(S,C,q){return 0===C.segments.length&&C.hasChildren()?this.processChildren(S,C):this.processSegment(S,C,C.segments,q)}processChildren(S,C){const q=[];for(const Be of Object.keys(C.children)){const Ve=C.children[Be],gt=R(S,Be),cn=this.processSegmentGroup(gt,Ve,Be);if(null===cn)return null;q.push(...cn)}const ce=Hs(q);return function ao(N){N.sort((S,C)=>S.value.outlet===pn?-1:C.value.outlet===pn?1:S.value.outlet.localeCompare(C.value.outlet))}(ce),ce}processSegment(S,C,q,ce){for(const Be of S){const Ve=this.processSegmentAgainstRoute(Be,C,q,ce);if(null!==Ve)return Ve}return F(C,q,ce)?[]:null}processSegmentAgainstRoute(S,C,q,ce){if(S.redirectTo||!se(S,C,q,ce))return null;let Be,Ve=[],gt=[];if("**"===S.path){const Tn=q.length>0?nn(q).parameters:{};Be=new bi(q,Tn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,D(S),w(S),S.component,S,Ee(C),v(C)+q.length,G(S))}else{const Tn=ge(C,S,q);if(!Tn.matched)return null;Ve=Tn.consumedSegments,gt=Tn.remainingSegments,Be=new bi(Ve,Tn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,D(S),w(S),S.component,S,Ee(C),v(C)+Ve.length,G(S))}const cn=function go(N){return N.children?N.children:N.loadChildren?N._loadedConfig.routes:[]}(S),{segmentGroup:Zn,slicedSegments:Pn}=tt(C,Ve,gt,cn.filter(Tn=>void 0===Tn.redirectTo),this.relativeLinkResolution);if(0===Pn.length&&Zn.hasChildren()){const Tn=this.processChildren(cn,Zn);return null===Tn?null:[new ci(Be,Tn)]}if(0===cn.length&&0===Pn.length)return[new ci(Be,[])];const Mn=w(S)===ce,xi=this.processSegment(cn,Zn,Pn,Mn?pn:ce);return null===xi?null:[new ci(Be,xi)]}}function rs(N){const S=N.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Hs(N){const S=[],C=new Set;for(const q of N){if(!rs(q)){S.push(q);continue}const ce=S.find(Be=>q.value.routeConfig===Be.value.routeConfig);void 0!==ce?(ce.children.push(...q.children),C.add(ce)):S.push(q)}for(const q of C){const ce=Hs(q.children);S.push(new ci(q.value,ce))}return S.filter(q=>!C.has(q))}function Ee(N){let S=N;for(;S._sourceSegment;)S=S._sourceSegment;return S}function v(N){let S=N,C=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,C+=S._segmentIndexShift?S._segmentIndexShift:0;return C-1}function D(N){return N.data||{}}function G(N){return N.resolve||{}}function Lt(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function Xn(N){return(0,je.w)(S=>{const C=N(S);return C?(0,_.D)(C).pipe((0,xe.U)(()=>S)):(0,x.of)(S)})}class ei extends class Mr{shouldDetach(S){return!1}store(S,C){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,C){return S.routeConfig===C.routeConfig}}{}const gr=new u.OlP("ROUTES");class Pr{constructor(S,C,q,ce){this.injector=S,this.compiler=C,this.onLoadStartListener=q,this.onLoadEndListener=ce}load(S,C){if(C._loader$)return C._loader$;this.onLoadStartListener&&this.onLoadStartListener(C);const ce=this.loadModuleFactory(C.loadChildren).pipe((0,xe.U)(Be=>{this.onLoadEndListener&&this.onLoadEndListener(C);const Ve=Be.create(S);return new jt(Ht(Ve.injector.get(gr,void 0,u.XFs.Self|u.XFs.Optional)).map(Q),Ve)}),(0,re.K)(Be=>{throw C._loader$=void 0,Be}));return C._loader$=new ue.c(ce,()=>new Pe.x).pipe((0,ut.x)()),C._loader$}loadModuleFactory(S){return xn(S()).pipe((0,Xe.z)(C=>C instanceof u.YKP?(0,x.of)(C):(0,_.D)(this.compiler.compileModuleAsync(C))))}}class zi{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,C){return S}}function Zi(N){throw N}function Ds(N,S,C){return S.parse("/")}function ui(N,S){return(0,x.of)(null)}const xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ci={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class N{constructor(C,q,ce,Be,Ve,gt,cn){this.rootComponentType=C,this.urlSerializer=q,this.rootContexts=ce,this.location=Be,this.config=cn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pe.x,this.errorHandler=Zi,this.malformedUriErrorHandler=Ds,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ui,afterPreactivation:ui},this.urlHandlingStrategy=new zi,this.routeReuseStrategy=new ei,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ve.get(u.h0i),this.console=Ve.get(u.c2e);const Mn=Ve.get(u.R0b);this.isNgZoneEnabled=Mn instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(cn),this.currentUrlTree=function zn(){return new B(new Te([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Pr(Ve,gt,xi=>this.triggerEvent(new wn(xi)),xi=>this.triggerEvent(new Vn(xi))),this.routerState=$r(this.currentUrlTree,this.rootComponentType),this.transitions=new te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var C;return null===(C=this.location.getState())||void 0===C?void 0:C.\u0275routerPageId}setupNavigations(C){const q=this.events;return C.pipe((0,Me.h)(ce=>0!==ce.id),(0,xe.U)(ce=>Object.assign(Object.assign({},ce),{extractedUrl:this.urlHandlingStrategy.extract(ce.rawUrl)})),(0,je.w)(ce=>{let Be=!1,Ve=!1;return(0,x.of)(ce).pipe((0,dt.b)(gt=>{this.currentNavigation={id:gt.id,initialUrl:gt.currentRawUrl,extractedUrl:gt.extractedUrl,trigger:gt.source,extras:gt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,je.w)(gt=>{const cn=this.browserUrlTree.toString(),Zn=!this.navigated||gt.extractedUrl.toString()!==cn||cn!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Zn)&&this.urlHandlingStrategy.shouldProcessUrl(gt.rawUrl))return lo(gt.source)&&(this.browserUrlTree=gt.extractedUrl),(0,x.of)(gt).pipe((0,je.w)(Mn=>{const xi=this.transitions.getValue();return q.next(new _t(Mn.id,this.serializeUrl(Mn.extractedUrl),Mn.source,Mn.restoredState)),xi!==this.transitions.getValue()?ie.E:Promise.resolve(Mn)}),function Sr(N,S,C,q){return(0,je.w)(ce=>function cr(N,S,C,q,ce){return new lr(N,S,C,q,ce).apply()}(N,S,C,ce.extractedUrl,q).pipe((0,xe.U)(Be=>Object.assign(Object.assign({},ce),{urlAfterRedirects:Be}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,dt.b)(Mn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Mn.urlAfterRedirects})}),function Ie(N,S,C,q,ce){return(0,Xe.z)(Be=>function Ja(N,S,C,q,ce="emptyOnly",Be="legacy"){try{const Ve=new Ko(N,S,C,q,ce,Be).recognize();return null===Ve?ia(new Do):(0,x.of)(Ve)}catch(Ve){return ia(Ve)}}(N,S,Be.urlAfterRedirects,C(Be.urlAfterRedirects),q,ce).pipe((0,xe.U)(Ve=>Object.assign(Object.assign({},Be),{targetSnapshot:Ve}))))}(this.rootComponentType,this.config,Mn=>this.serializeUrl(Mn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,dt.b)(Mn=>{if("eager"===this.urlUpdateStrategy){if(!Mn.extras.skipLocationChange){const Tn=this.urlHandlingStrategy.merge(Mn.urlAfterRedirects,Mn.rawUrl);this.setBrowserUrl(Tn,Mn)}this.browserUrlTree=Mn.urlAfterRedirects}const xi=new _n(Mn.id,this.serializeUrl(Mn.extractedUrl),this.serializeUrl(Mn.urlAfterRedirects),Mn.targetSnapshot);q.next(xi)}));if(Zn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:xi,extractedUrl:Tn,source:Qt,restoredState:Cn,extras:ts}=gt,Sa=new _t(xi,this.serializeUrl(Tn),Qt,Cn);q.next(Sa);const Fo=$r(Tn,this.rootComponentType).snapshot;return(0,x.of)(Object.assign(Object.assign({},gt),{targetSnapshot:Fo,urlAfterRedirects:Tn,extras:Object.assign(Object.assign({},ts),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=gt.rawUrl,gt.resolve(null),ie.E}),Xn(gt=>{const{targetSnapshot:cn,id:Zn,extractedUrl:Pn,rawUrl:Mn,extras:{skipLocationChange:xi,replaceUrl:Tn}}=gt;return this.hooks.beforePreactivation(cn,{navigationId:Zn,appliedUrlTree:Pn,rawUrlTree:Mn,skipLocationChange:!!xi,replaceUrl:!!Tn})}),(0,dt.b)(gt=>{const cn=new xt(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent(cn)}),(0,xe.U)(gt=>Object.assign(Object.assign({},gt),{guards:j(gt.targetSnapshot,gt.currentSnapshot,this.rootContexts)})),function Gs(N,S){return(0,Xe.z)(C=>{const{targetSnapshot:q,currentSnapshot:ce,guards:{canActivateChecks:Be,canDeactivateChecks:Ve}}=C;return 0===Ve.length&&0===Be.length?(0,x.of)(Object.assign(Object.assign({},C),{guardsResult:!0})):function gn(N,S,C,q){return(0,_.D)(N).pipe((0,Xe.z)(ce=>function Ns(N,S,C,q,ce){const Be=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!Be||0===Be.length)return(0,x.of)(!0);const Ve=Be.map(gt=>{const cn=Oe(gt,S,ce);let Zn;if(function Fr(N){return N&&vn(N.canDeactivate)}(cn))Zn=xn(cn.canDeactivate(N,S,C,q));else{if(!vn(cn))throw new Error("Invalid CanDeactivate guard");Zn=xn(cn(N,S,C,q))}return Zn.pipe((0,He.P)())});return(0,x.of)(Ve).pipe(Rr())}(ce.component,ce.route,C,S,q)),(0,He.P)(ce=>!0!==ce,!0))}(Ve,q,ce,N).pipe((0,Xe.z)(gt=>gt&&function Un(N){return"boolean"==typeof N}(gt)?function ri(N,S,C,q){return(0,_.D)(S).pipe((0,De.b)(ce=>(0,ve.z)(function Qi(N,S){return null!==N&&S&&S(new fr(N)),(0,x.of)(!0)}(ce.route.parent,q),function Wo(N,S){return null!==N&&S&&S(new hr(N)),(0,x.of)(!0)}(ce.route,q),function oo(N,S,C){const q=S[S.length-1],Be=S.slice(0,S.length-1).reverse().map(Ve=>function P(N){const S=N.routeConfig?N.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:N,guards:S}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>(0,be.P)(()=>{const gt=Ve.guards.map(cn=>{const Zn=Oe(cn,Ve.node,C);let Pn;if(function ir(N){return N&&vn(N.canActivateChild)}(Zn))Pn=xn(Zn.canActivateChild(q,N));else{if(!vn(Zn))throw new Error("Invalid CanActivateChild guard");Pn=xn(Zn(q,N))}return Pn.pipe((0,He.P)())});return(0,x.of)(gt).pipe(Rr())}));return(0,x.of)(Be).pipe(Rr())}(N,ce.path,C),function Po(N,S,C){const q=S.routeConfig?S.routeConfig.canActivate:null;if(!q||0===q.length)return(0,x.of)(!0);const ce=q.map(Be=>(0,be.P)(()=>{const Ve=Oe(Be,S,C);let gt;if(function wr(N){return N&&vn(N.canActivate)}(Ve))gt=xn(Ve.canActivate(S,N));else{if(!vn(Ve))throw new Error("Invalid CanActivate guard");gt=xn(Ve(S,N))}return gt.pipe((0,He.P)())}));return(0,x.of)(ce).pipe(Rr())}(N,ce.route,C))),(0,He.P)(ce=>!0!==ce,!0))}(q,Be,N,S):(0,x.of)(gt)),(0,xe.U)(gt=>Object.assign(Object.assign({},C),{guardsResult:gt})))})}(this.ngModule.injector,gt=>this.triggerEvent(gt)),(0,dt.b)(gt=>{if(Nn(gt.guardsResult)){const Zn=dn(`Redirecting to "${this.serializeUrl(gt.guardsResult)}"`);throw Zn.url=gt.guardsResult,Zn}const cn=new St(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot,!!gt.guardsResult);this.triggerEvent(cn)}),(0,Me.h)(gt=>!!gt.guardsResult||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,""),!1)),Xn(gt=>{if(gt.guards.canActivateChecks.length)return(0,x.of)(gt).pipe((0,dt.b)(cn=>{const Zn=new Gt(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);this.triggerEvent(Zn)}),(0,je.w)(cn=>{let Zn=!1;return(0,x.of)(cn).pipe(function Qe(N,S){return(0,Xe.z)(C=>{const{targetSnapshot:q,guards:{canActivateChecks:ce}}=C;if(!ce.length)return(0,x.of)(C);let Be=0;return(0,_.D)(ce).pipe((0,De.b)(Ve=>function yt(N,S,C,q){return function Et(N,S,C,q){const ce=Lt(N);if(0===ce.length)return(0,x.of)({});const Be={};return(0,_.D)(ce).pipe((0,Xe.z)(Ve=>function fn(N,S,C,q){const ce=Oe(N,S,q);return xn(ce.resolve?ce.resolve(S,C):ce(S,C))}(N[Ve],S,C,q).pipe((0,dt.b)(gt=>{Be[Ve]=gt}))),Fe(1),(0,Xe.z)(()=>Lt(Be).length===ce.length?(0,x.of)(Be):ie.E))}(N._resolve,N,S,q).pipe((0,xe.U)(Be=>(N._resolvedData=Be,N.data=Object.assign(Object.assign({},N.data),Xi(N,C).resolve),null)))}(Ve.route,q,N,S)),(0,dt.b)(()=>Be++),Fe(1),(0,Xe.z)(Ve=>Be===ce.length?(0,x.of)(C):ie.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,dt.b)({next:()=>Zn=!0,complete:()=>{Zn||(this.restoreHistory(cn),this.cancelNavigationTransition(cn,"At least one route resolver didn't emit any value."))}}))}),(0,dt.b)(cn=>{const Zn=new Sn(cn.id,this.serializeUrl(cn.extractedUrl),this.serializeUrl(cn.urlAfterRedirects),cn.targetSnapshot);this.triggerEvent(Zn)}))}),Xn(gt=>{const{targetSnapshot:cn,id:Zn,extractedUrl:Pn,rawUrl:Mn,extras:{skipLocationChange:xi,replaceUrl:Tn}}=gt;return this.hooks.afterPreactivation(cn,{navigationId:Zn,appliedUrlTree:Pn,rawUrlTree:Mn,skipLocationChange:!!xi,replaceUrl:!!Tn})}),(0,xe.U)(gt=>{const cn=function es(N,S,C){const q=Hi(N,S._root,C?C._root:void 0);return new Si(q,S)}(this.routeReuseStrategy,gt.targetSnapshot,gt.currentRouterState);return Object.assign(Object.assign({},gt),{targetRouterState:cn})}),(0,dt.b)(gt=>{this.currentUrlTree=gt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl),this.routerState=gt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(gt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,gt),this.browserUrlTree=gt.urlAfterRedirects)}),((N,S,C)=>(0,xe.U)(q=>(new rn(S,q.targetRouterState,q.currentRouterState,C).activate(N),q)))(this.rootContexts,this.routeReuseStrategy,gt=>this.triggerEvent(gt)),(0,dt.b)({next(){Be=!0},complete(){Be=!0}}),(0,Xt.x)(()=>{var gt;Be||Ve||this.cancelNavigationTransition(ce,`Navigation ID ${ce.id} is not equal to the current navigation id ${this.navigationId}`),(null===(gt=this.currentNavigation)||void 0===gt?void 0:gt.id)===ce.id&&(this.currentNavigation=null)}),(0,re.K)(gt=>{if(Ve=!0,function Ot(N){return N&&N[vr]}(gt)){const cn=Nn(gt.url);cn||(this.navigated=!0,this.restoreHistory(ce,!0));const Zn=new zt(ce.id,this.serializeUrl(ce.extractedUrl),gt.message);q.next(Zn),cn?setTimeout(()=>{const Pn=this.urlHandlingStrategy.merge(gt.url,this.rawUrlTree),Mn={skipLocationChange:ce.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lo(ce.source)};this.scheduleNavigation(Pn,"imperative",null,Mn,{resolve:ce.resolve,reject:ce.reject,promise:ce.promise})},0):ce.resolve(!1)}else{this.restoreHistory(ce,!0);const cn=new ln(ce.id,this.serializeUrl(ce.extractedUrl),gt);q.next(cn);try{ce.resolve(this.errorHandler(gt))}catch(Zn){ce.reject(Zn)}}return ie.E}))}))}resetRootComponentType(C){this.rootComponentType=C,this.routerState.root.component=this.rootComponentType}setTransition(C){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),C))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const q="popstate"===C.type?"popstate":"hashchange";"popstate"===q&&setTimeout(()=>{var ce;const Be={replaceUrl:!0},Ve=(null===(ce=C.state)||void 0===ce?void 0:ce.navigationId)?C.state:null;if(Ve){const cn=Object.assign({},Ve);delete cn.navigationId,delete cn.\u0275routerPageId,0!==Object.keys(cn).length&&(Be.state=cn)}const gt=this.parseUrl(C.url);this.scheduleNavigation(gt,q,Ve,Be)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(C){this.events.next(C)}resetConfig(C){vi(C),this.config=C.map(Q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,q={}){const{relativeTo:ce,queryParams:Be,fragment:Ve,queryParamsHandling:gt,preserveFragment:cn}=q,Zn=ce||this.routerState.root,Pn=cn?this.currentUrlTree.fragment:Ve;let Mn=null;switch(gt){case"merge":Mn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Be);break;case"preserve":Mn=this.currentUrlTree.queryParams;break;default:Mn=Be||null}return null!==Mn&&(Mn=this.removeEmptyProps(Mn)),function us(N,S,C,q,ce){if(0===C.length)return Oi(S.root,S.root,S.root,q,ce);const Be=function Rs(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new ws(!0,0,N);let S=0,C=!1;const q=N.reduce((ce,Be,Ve)=>{if("object"==typeof Be&&null!=Be){if(Be.outlets){const gt={};return Ln(Be.outlets,(cn,Zn)=>{gt[Zn]="string"==typeof cn?cn.split("/"):cn}),[...ce,{outlets:gt}]}if(Be.segmentPath)return[...ce,Be.segmentPath]}return"string"!=typeof Be?[...ce,Be]:0===Ve?(Be.split("/").forEach((gt,cn)=>{0==cn&&"."===gt||(0==cn&&""===gt?C=!0:".."===gt?S++:""!=gt&&ce.push(gt))}),ce):[...ce,Be]},[]);return new ws(C,S,q)}(C);if(Be.toRoot())return Oi(S.root,S.root,new Te([],{}),q,ce);const Ve=function ns(N,S,C){if(N.isAbsolute)return new yi(S.root,!0,0);if(-1===C.snapshot._lastPathIndex){const Be=C.snapshot._urlSegment;return new yi(Be,Be===S.root,0)}const q=ss(N.commands[0])?0:1;return function Tt(N,S,C){let q=N,ce=S,Be=C;for(;Be>ce;){if(Be-=ce,q=q.parent,!q)throw new Error("Invalid number of '../'");ce=q.segments.length}return new yi(q,!1,ce-Be)}(C.snapshot._urlSegment,C.snapshot._lastPathIndex+q,N.numberOfDoubleDots)}(Be,S,N),gt=Ve.processChildren?ae(Ve.segmentGroup,Ve.index,Be.commands):kt(Ve.segmentGroup,Ve.index,Be.commands);return Oi(S.root,Ve.segmentGroup,gt,q,ce)}(Zn,this.currentUrlTree,C,Mn,null!=Pn?Pn:null)}navigateByUrl(C,q={skipLocationChange:!1}){const ce=Nn(C)?C:this.parseUrl(C),Be=this.urlHandlingStrategy.merge(ce,this.rawUrlTree);return this.scheduleNavigation(Be,"imperative",null,q)}navigate(C,q={skipLocationChange:!1}){return function Ls(N){for(let S=0;S<N.length;S++){const C=N[S];if(null==C)throw new Error(`The requested path contains ${C} segment at index ${S}`)}}(C),this.navigateByUrl(this.createUrlTree(C,q),q)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let q;try{q=this.urlSerializer.parse(C)}catch(ce){q=this.malformedUriErrorHandler(ce,this.urlSerializer,C)}return q}isActive(C,q){let ce;if(ce=!0===q?Object.assign({},xs):!1===q?Object.assign({},Ci):q,Nn(C))return Gn(this.currentUrlTree,C,ce);const Be=this.parseUrl(C);return Gn(this.currentUrlTree,Be,ce)}removeEmptyProps(C){return Object.keys(C).reduce((q,ce)=>{const Be=C[ce];return null!=Be&&(q[ce]=Be),q},{})}processNavigations(){this.navigations.subscribe(C=>{this.navigated=!0,this.lastSuccessfulId=C.id,this.currentPageId=C.targetPageId,this.events.next(new $t(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,C.resolve(!0)},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}scheduleNavigation(C,q,ce,Be,Ve){var gt,cn;if(this.disposed)return Promise.resolve(!1);let Zn,Pn,Mn;Ve?(Zn=Ve.resolve,Pn=Ve.reject,Mn=Ve.promise):Mn=new Promise((Qt,Cn)=>{Zn=Qt,Pn=Cn});const xi=++this.navigationId;let Tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(ce=this.location.getState()),Tn=ce&&ce.\u0275routerPageId?ce.\u0275routerPageId:Be.replaceUrl||Be.skipLocationChange?null!==(gt=this.browserPageId)&&void 0!==gt?gt:0:(null!==(cn=this.browserPageId)&&void 0!==cn?cn:0)+1):Tn=0,this.setTransition({id:xi,targetPageId:Tn,source:q,restoredState:ce,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:C,extras:Be,resolve:Zn,reject:Pn,promise:Mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mn.catch(Qt=>Promise.reject(Qt))}setBrowserUrl(C,q){const ce=this.urlSerializer.serialize(C),Be=Object.assign(Object.assign({},q.extras.state),this.generateNgRouterState(q.id,q.targetPageId));this.location.isCurrentPathEqualTo(ce)||q.extras.replaceUrl?this.location.replaceState(ce,"",Be):this.location.go(ce,"",Be)}restoreHistory(C,q=!1){var ce,Be;if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-C.targetPageId;"popstate"!==C.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(ce=this.currentNavigation)||void 0===ce?void 0:ce.finalUrl)||0===Ve?this.currentUrlTree===(null===(Be=this.currentNavigation)||void 0===Be?void 0:Be.finalUrl)&&0===Ve&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ve)}else"replace"===this.canceledNavigationResolution&&(q&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(C,q){const ce=new zt(C.id,this.serializeUrl(C.extractedUrl),q);this.triggerEvent(ce),C.resolve(!1)}generateNgRouterState(C,q){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:q}:{navigationId:C}}}return N.\u0275fac=function(C){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function lo(N){return"imperative"!==N}let Ys=(()=>{class N{constructor(C,q,ce,Be,Ve){this.router=C,this.route=q,this.tabIndexAttribute=ce,this.renderer=Be,this.el=Ve,this.commands=null,this.onChanges=new Pe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){if(null!=this.tabIndexAttribute)return;const q=this.renderer,ce=this.el.nativeElement;null!==C?q.setAttribute(ce,"tabindex",C):q.removeAttribute(ce,"tabindex")}ngOnChanges(C){this.onChanges.next(this)}set routerLink(C){null!=C?(this.commands=Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const C={skipLocationChange:uo(this.skipLocationChange),replaceUrl:uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uo(this.preserveFragment)})}}return N.\u0275fac=function(C){return new(C||N)(u.Y36(Ii),u.Y36(Mi),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},N.\u0275dir=u.lG2({type:N,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(C,q){1&C&&u.NdJ("click",function(){return q.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),N})(),Qs=(()=>{class N{constructor(C,q,ce){this.router=C,this.route=q,this.locationStrategy=ce,this.commands=null,this.href=null,this.onChanges=new Pe.x,this.subscription=C.events.subscribe(Be=>{Be instanceof $t&&this.updateTargetUrlAndHref()})}set routerLink(C){this.commands=null!=C?Array.isArray(C)?C:[C]:null}ngOnChanges(C){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(C,q,ce,Be,Ve){if(0!==C||q||ce||Be||Ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const gt={skipLocationChange:uo(this.skipLocationChange),replaceUrl:uo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,gt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uo(this.preserveFragment)})}}return N.\u0275fac=function(C){return new(C||N)(u.Y36(Ii),u.Y36(Mi),u.Y36(An.S$))},N.\u0275dir=u.lG2({type:N,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(C,q){1&C&&u.NdJ("click",function(Be){return q.onClick(Be.button,Be.ctrlKey,Be.shiftKey,Be.altKey,Be.metaKey)}),2&C&&u.uIk("target",q.target)("href",q.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),N})();function uo(N){return""===N||!!N}class Ts{}class er{preload(S,C){return(0,x.of)(null)}}let Or=(()=>{class N{constructor(C,q,ce,Be){this.router=C,this.injector=ce,this.preloadingStrategy=Be,this.loader=new Pr(ce,q,cn=>C.triggerEvent(new wn(cn)),cn=>C.triggerEvent(new Vn(cn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Me.h)(C=>C instanceof $t),(0,De.b)(()=>this.preload())).subscribe(()=>{})}preload(){const C=this.injector.get(u.h0i);return this.processRoutes(C,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,q){const ce=[];for(const Be of q)if(Be.loadChildren&&!Be.canLoad&&Be._loadedConfig){const Ve=Be._loadedConfig;ce.push(this.processRoutes(Ve.module,Ve.routes))}else Be.loadChildren&&!Be.canLoad?ce.push(this.preloadConfig(C,Be)):Be.children&&ce.push(this.processRoutes(C,Be.children));return(0,_.D)(ce).pipe((0,on.J)(),(0,xe.U)(Be=>{}))}preloadConfig(C,q){return this.preloadingStrategy.preload(q,()=>(q._loadedConfig?(0,x.of)(q._loadedConfig):this.loader.load(C.injector,q)).pipe((0,Xe.z)(Be=>(q._loadedConfig=Be,this.processRoutes(Be.module,Be.routes)))))}}return N.\u0275fac=function(C){return new(C||N)(u.LFG(Ii),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Ts))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})(),zr=(()=>{class N{constructor(C,q,ce={}){this.router=C,this.viewportScroller=q,this.options=ce,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ce.scrollPositionRestoration=ce.scrollPositionRestoration||"disabled",ce.anchorScrolling=ce.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(C=>{C instanceof _t?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof $t&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.router.parseUrl(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(C=>{C instanceof Lr&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,q){this.router.triggerEvent(new Lr(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,q))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return N.\u0275fac=function(C){u.$Z()},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();const gs=new u.OlP("ROUTER_CONFIGURATION"),fs=new u.OlP("ROUTER_FORROOT_GUARD"),Bs=[An.Ye,{provide:T,useClass:Z},{provide:Ii,useFactory:function Zs(N,S,C,q,ce,Be,Ve={},gt,cn){const Zn=new Ii(null,N,S,C,q,ce,Ht(Be));return gt&&(Zn.urlHandlingStrategy=gt),cn&&(Zn.routeReuseStrategy=cn),function oa(N,S){N.errorHandler&&(S.errorHandler=N.errorHandler),N.malformedUriErrorHandler&&(S.malformedUriErrorHandler=N.malformedUriErrorHandler),N.onSameUrlNavigation&&(S.onSameUrlNavigation=N.onSameUrlNavigation),N.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=N.paramsInheritanceStrategy),N.relativeLinkResolution&&(S.relativeLinkResolution=N.relativeLinkResolution),N.urlUpdateStrategy&&(S.urlUpdateStrategy=N.urlUpdateStrategy),N.canceledNavigationResolution&&(S.canceledNavigationResolution=N.canceledNavigationResolution)}(Ve,Zn),Ve.enableTracing&&Zn.events.subscribe(Pn=>{var Mn,xi;null===(Mn=console.group)||void 0===Mn||Mn.call(console,`Router Event: ${Pn.constructor.name}`),console.log(Pn.toString()),console.log(Pn),null===(xi=console.groupEnd)||void 0===xi||xi.call(console)}),Zn},deps:[T,Ur,An.Ye,u.zs3,u.Sil,gr,gs,[class Di{},new u.FiY],[class pr{},new u.FiY]]},Ur,{provide:Mi,useFactory:function Js(N){return N.routerState.root},deps:[Ii]},Or,er,class sr{preload(S,C){return C().pipe((0,re.K)(()=>(0,x.of)(null)))}},{provide:gs,useValue:{enableTracing:!1}}];function _i(){return new u.PXZ("Router",Ii)}let ko=(()=>{class N{constructor(C,q){}static forRoot(C,q){return{ngModule:N,providers:[Bs,Fi(C),{provide:fs,useFactory:Co,deps:[[Ii,new u.FiY,new u.tp0]]},{provide:gs,useValue:q||{}},{provide:An.S$,useFactory:Ss,deps:[An.lw,[new u.tBr(An.mr),new u.FiY],gs]},{provide:zr,useFactory:Vs,deps:[Ii,An.EM,gs]},{provide:Ts,useExisting:q&&q.preloadingStrategy?q.preloadingStrategy:er},{provide:u.PXZ,multi:!0,useFactory:_i},[ma,{provide:u.ip1,multi:!0,useFactory:Xa,deps:[ma]},{provide:Va,useFactory:ho,deps:[ma]},{provide:u.tb,multi:!0,useExisting:Va}]]}}static forChild(C){return{ngModule:N,providers:[Fi(C)]}}}return N.\u0275fac=function(C){return new(C||N)(u.LFG(fs,8),u.LFG(Ii,8))},N.\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({}),N})();function Vs(N,S,C){return C.scrollOffset&&S.setOffset(C.scrollOffset),new zr(N,S,C)}function Ss(N,S,C={}){return C.useHash?new An.Do(N,S):new An.b0(N,S)}function Co(N){return"guarded"}function Fi(N){return[{provide:u.deG,multi:!0,useValue:N},{provide:gr,multi:!0,useValue:N}]}let ma=(()=>{class N{constructor(C){this.injector=C,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pe.x}appInitializer(){return this.injector.get(An.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let q=null;const ce=new Promise(gt=>q=gt),Be=this.injector.get(Ii),Ve=this.injector.get(gs);return"disabled"===Ve.initialNavigation?(Be.setUpLocationChangeListener(),q(!0)):"enabled"===Ve.initialNavigation||"enabledBlocking"===Ve.initialNavigation?(Be.hooks.afterPreactivation=()=>this.initNavigation?(0,x.of)(null):(this.initNavigation=!0,q(!0),this.resultOfPreactivationDone),Be.initialNavigation()):q(!0),ce})}bootstrapListener(C){const q=this.injector.get(gs),ce=this.injector.get(Or),Be=this.injector.get(zr),Ve=this.injector.get(Ii),gt=this.injector.get(u.z2F);C===gt.components[0]&&(("enabledNonBlocking"===q.initialNavigation||void 0===q.initialNavigation)&&Ve.initialNavigation(),ce.setUpPreloading(),Be.init(),Ve.resetRootComponentType(gt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return N.\u0275fac=function(C){return new(C||N)(u.LFG(u.zs3))},N.\u0275prov=u.Yz7({token:N,factory:N.\u0275fac}),N})();function Xa(N){return N.appInitializer.bind(N)}function ho(N){return N.bootstrapListener.bind(N)}const Va=new u.OlP("Router Initializer")},4969:(Zt,nt,m)=>{m.d(nt,{RI:()=>_e,uG:()=>Re,jS:()=>be,lg:()=>H,jp:()=>ie,$O:()=>ue,E_:()=>Pe,RC:()=>Me,j:()=>de,ig:()=>$e,kJ:()=>Fe});var u=m(3950),_=m(7634),x=m(7062),te=m(9722),he=m(7773),_e=Object.prototype.hasOwnProperty;function Re(Ye,Ne){var It=Ye.__typename,Je=Ye.id,xe=Ye._id;if("string"==typeof It&&(Ne&&(Ne.keyObject=void 0!==Je?{id:Je}:void 0!==xe?{_id:xe}:void 0),void 0===Je&&(Je=xe),void 0!==Je))return"".concat(It,":").concat("number"==typeof Je||"string"==typeof Je?Je:JSON.stringify(Je))}var ve={dataIdFromObject:Re,addTypename:!0,resultCaching:!0,canonizeResults:!1};function be(Ye){return(0,u.o)(ve,Ye)}function H(Ye){var Ne=Ye.canonizeResults;return void 0===Ne?ve.canonizeResults:Ne}function ie(Ye,Ne){return(0,_.Yk)(Ne)?Ye.get(Ne.__ref,"__typename"):Ne&&Ne.__typename}var ue=/^[_a-z][_0-9a-z]*/i;function Pe(Ye){var Ne=Ye.match(ue);return Ne?Ne[0]:Ye}function Me(Ye,Ne,It){return!!(0,x.s)(Ne)&&(Fe(Ne)?Ne.every(function(Je){return Me(Ye,Je,It)}):Ye.selections.every(function(Je){if((0,_.My)(Je)&&(0,te.LZ)(Je,It)){var xe=(0,_.u2)(Je);return _e.call(Ne,xe)&&(!Je.selectionSet||Me(Je.selectionSet,Ne[xe],It))}return!0}))}function de(Ye){return(0,x.s)(Ye)&&!(0,_.Yk)(Ye)&&!Fe(Ye)}function $e(){return new he.w0}var Fe=function(Ye){return Array.isArray(Ye)}},3750:(Zt,nt,m)=>{m.d(nt,{h:()=>ve,B:()=>be});var H,ie,u=m(655),x=(m(6686),m(9428)),te=m(7062),he=m(9545),_e=m(4969),ve=function(){function Pe(){this.known=new(he.sy?WeakSet:Set),this.pool=new x.B(he.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return Pe.prototype.isKnown=function(Me){return(0,te.s)(Me)&&this.known.has(Me)},Pe.prototype.pass=function(Me){if((0,te.s)(Me)){var de=function Re(Pe){return(0,te.s)(Pe)?(0,_e.kJ)(Pe)?Pe.slice(0):(0,u.pi)({__proto__:Object.getPrototypeOf(Pe)},Pe):Pe}(Me);return this.passes.set(de,Me),de}return Me},Pe.prototype.admit=function(Me){var de=this;if((0,te.s)(Me)){var $e=this.passes.get(Me);if($e)return $e;switch(Object.getPrototypeOf(Me)){case Array.prototype:if(this.known.has(Me))return Me;var Ye=Me.map(this.admit,this);return(Ne=this.pool.lookupArray(Ye)).array||(this.known.add(Ne.array=Ye),__DEV__&&Object.freeze(Ye)),Ne.array;case null:case Object.prototype:if(this.known.has(Me))return Me;var It=Object.getPrototypeOf(Me),Je=[It],xe=this.sortedKeys(Me);Je.push(xe.json);var Ne,je=Je.length;if(xe.sorted.forEach(function(ee){Je.push(de.admit(Me[ee]))}),!(Ne=this.pool.lookupArray(Je)).object){var st=Ne.object=Object.create(It);this.known.add(st),xe.sorted.forEach(function(ee,re){st[ee]=Je[je+re]}),__DEV__&&Object.freeze(st)}return Ne.object}}return Me},Pe.prototype.sortedKeys=function(Me){var de=Object.keys(Me),$e=this.pool.lookupArray(de);if(!$e.keys){de.sort();var Fe=JSON.stringify(de);($e.keys=this.keysByJSON.get(Fe))||this.keysByJSON.set(Fe,$e.keys={sorted:de,json:Fe})}return $e.keys},Pe}(),be=Object.assign(function(Pe){if((0,te.s)(Pe)){void 0===H&&ue();var Me=H.admit(Pe),de=ie.get(Me);return void 0===de&&ie.set(Me,de=JSON.stringify(Me)),de}return JSON.stringify(Pe)},{reset:ue});function ue(){H=new ve,ie=new(he.mr?WeakMap:Map)}},6430:(Zt,nt,m)=>{m.d(nt,{ab:()=>x,li:()=>_e,_v:()=>Re,QS:()=>ve});var u=m(9769),x=new(m(3119).g7),te=new WeakMap;function he(H){var ie=te.get(H);return ie||te.set(H,ie={vars:new Set,dep:(0,u.dP)()}),ie}function _e(H){he(H).vars.forEach(function(ie){return ie.forgetCache(H)})}function Re(H){he(H).vars.forEach(function(ie){return ie.attachCache(H)})}function ve(H){var ie=new Set,ue=new Set,Pe=function(de){if(arguments.length>0){if(H!==de){H=de,ie.forEach(function(Ye){he(Ye).dep.dirty(Pe),be(Ye)});var $e=Array.from(ue);ue.clear(),$e.forEach(function(Ye){return Ye(H)})}}else{var Fe=x.getValue();Fe&&(Me(Fe),he(Fe).dep(Pe))}return H};Pe.onNextChange=function(de){return ue.add(de),function(){ue.delete(de)}};var Me=Pe.attachCache=function(de){return ie.add(de),he(de).vars.add(Pe),Pe};return Pe.forgetCache=function(de){return ie.delete(de)},Pe}function be(H){H.broadcastWatches&&H.broadcastWatches()}},484:(Zt,nt,m)=>{m.d(nt,{i:()=>ue});var u=m(655),_=m(6686),x=m(4302),he=m(591);function ve(Pe,Me){return Me?Me(Pe):x.y.of()}function be(Pe){return"function"==typeof Pe?new ue(Pe):Pe}function H(Pe){return Pe.request.length<=1}var ie=function(Pe){function Me(de,$e){var Fe=Pe.call(this,de)||this;return Fe.link=$e,Fe}return(0,u.ZT)(Me,Pe),Me}(Error),ue=function(){function Pe(Me){Me&&(this.request=Me)}return Pe.empty=function(){return new Pe(function(){return x.y.of()})},Pe.from=function(Me){return 0===Me.length?Pe.empty():Me.map(be).reduce(function(de,$e){return de.concat($e)})},Pe.split=function(Me,de,$e){var Fe=be(de),Ye=be($e||new Pe(ve));return H(Fe)&&H(Ye)?new Pe(function(Ne){return Me(Ne)?Fe.request(Ne)||x.y.of():Ye.request(Ne)||x.y.of()}):new Pe(function(Ne,It){return Me(Ne)?Fe.request(Ne,It)||x.y.of():Ye.request(Ne,It)||x.y.of()})},Pe.execute=function(Me,de){return Me.request(function te(Pe,Me){var de=(0,u.pi)({},Pe);return Object.defineProperty(Me,"setContext",{enumerable:!1,value:function(Ye){de=(0,u.pi)((0,u.pi)({},de),"function"==typeof Ye?Ye(de):Ye)}}),Object.defineProperty(Me,"getContext",{enumerable:!1,value:function(){return(0,u.pi)({},de)}}),Me}(de.context,function _e(Pe){var Me={variables:Pe.variables||{},extensions:Pe.extensions||{},operationName:Pe.operationName,query:Pe.query};return Me.operationName||(Me.operationName="string"!=typeof Me.query?(0,he.rY)(Me.query)||void 0:""),Me}(function Re(Pe){for(var Me=["query","operationName","variables","extensions","context"],de=0,$e=Object.keys(Pe);de<$e.length;de++){var Fe=$e[de];if(Me.indexOf(Fe)<0)throw __DEV__?new _.ej("illegal argument: ".concat(Fe)):new _.ej(24)}return Pe}(de))))||x.y.of()},Pe.concat=function(Me,de){var $e=be(Me);if(H($e))return __DEV__&&_.kG.warn(new ie("You are calling concat on a terminating link, which will have no effect",$e)),$e;var Fe=be(de);return H(Fe)?new Pe(function(Ye){return $e.request(Ye,function(Ne){return Fe.request(Ne)||x.y.of()})||x.y.of()}):new Pe(function(Ye,Ne){return $e.request(Ye,function(It){return Fe.request(It,Ne)||x.y.of()})||x.y.of()})},Pe.prototype.split=function(Me,de,$e){return this.concat(Pe.split(Me,de,$e||new Pe(ve)))},Pe.prototype.concat=function(Me){return Pe.concat(this,Me)},Pe.prototype.request=function(Me,de){throw __DEV__?new _.ej("request is not implemented"):new _.ej(19)},Pe.prototype.onError=function(Me,de){if(de&&de.error)return de.error(Me),!1;throw Me},Pe.prototype.setOnError=function(Me){return this.onError=Me,this},Pe}()},5355:(Zt,nt,m)=>{function u(_){return Array.isArray(_)&&_.length>0}m.d(nt,{O:()=>u})},9545:(Zt,nt,m)=>{m.d(nt,{mr:()=>u,sy:()=>_,aS:()=>x});var u="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),_="function"==typeof WeakSet,x="function"==typeof Symbol&&"function"==typeof Symbol.for},396:(Zt,nt,m)=>{m.d(nt,{X:()=>_});var u=Object.prototype.toString;function _(te){return x(te)}function x(te,he){switch(u.call(te)){case"[object Array]":if((he=he||new Map).has(te))return he.get(te);var _e=te.slice(0);return he.set(te,_e),_e.forEach(function(ve,be){_e[be]=x(ve,he)}),_e;case"[object Object]":if((he=he||new Map).has(te))return he.get(te);var Re=Object.create(Object.getPrototypeOf(te));return he.set(te,Re),Object.keys(te).forEach(function(ve){Re[ve]=x(te[ve],he)}),Re;default:return te}}},3950:(Zt,nt,m)=>{function u(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];var te=Object.create(null);return _.forEach(function(he){!he||Object.keys(he).forEach(function(_e){var Re=he[_e];void 0!==Re&&(te[_e]=Re)})}),te}m.d(nt,{o:()=>u})},8561:(Zt,nt,m)=>{m.d(nt,{X:()=>_});var u=new Map;function _(x){var te=u.get(x)||1;return u.set(x,te+1),"".concat(x,":").concat(te,":").concat(Math.random().toString(36).slice(2))}},7773:(Zt,nt,m)=>{m.d(nt,{Ee:()=>te,bw:()=>he,w0:()=>Re});var u=m(655),_=m(7062),x=Object.prototype.hasOwnProperty;function te(){for(var ve=[],be=0;be<arguments.length;be++)ve[be]=arguments[be];return he(ve)}function he(ve){var be=ve[0]||{},H=ve.length;if(H>1)for(var ie=new Re,ue=1;ue<H;++ue)be=ie.merge(be,ve[ue]);return be}var _e=function(ve,be,H){return this.merge(ve[H],be[H])},Re=function(){function ve(be){void 0===be&&(be=_e),this.reconciler=be,this.isObject=_.s,this.pastCopies=new Set}return ve.prototype.merge=function(be,H){for(var ie=this,ue=[],Pe=2;Pe<arguments.length;Pe++)ue[Pe-2]=arguments[Pe];return(0,_.s)(H)&&(0,_.s)(be)?(Object.keys(H).forEach(function(Me){if(x.call(be,Me)){var de=be[Me];if(H[Me]!==de){var $e=ie.reconciler.apply(ie,(0,u.ev)([be,H,Me],ue,!1));$e!==de&&((be=ie.shallowCopyForMerge(be))[Me]=$e)}}else(be=ie.shallowCopyForMerge(be))[Me]=H[Me]}),be):H},ve.prototype.shallowCopyForMerge=function(be){if((0,_.s)(be)){if(this.pastCopies.has(be)){if(!Object.isFrozen(be))return be;this.pastCopies.delete(be)}be=Array.isArray(be)?be.slice(0):(0,u.pi)({__proto__:Object.getPrototypeOf(be)},be),this.pastCopies.add(be)}return be},ve}()},7062:(Zt,nt,m)=>{function u(_){return null!==_&&"object"==typeof _}m.d(nt,{s:()=>u})},6686:(Zt,nt,m)=>{m.d(nt,{ej:()=>he,kG:()=>_e,wY:()=>ue});var u=m(655),_="Invariant Violation",x=Object.setPrototypeOf,te=void 0===x?function(ee,re){return ee.__proto__=re,ee}:x,he=function(ee){function re(De){void 0===De&&(De=_);var He=ee.call(this,"number"==typeof De?_+": "+De+" (see https://github.com/apollographql/invariant-packages)":De)||this;return He.framesToPop=1,He.name=_,te(He,re.prototype),He}return(0,u.ZT)(re,ee),re}(Error);function _e(ee,re){if(!ee)throw new he(re)}var ee,Re=["debug","log","warn","error","silent"],ve=Re.indexOf("log");function be(ee){return function(){if(Re.indexOf(ee)>=ve){var re=console[ee]||console.log;return re.apply(console,arguments)}}}function ue(ee){try{return ee()}catch(re){}}(ee=_e||(_e={})).debug=be("debug"),ee.log=be("log"),ee.warn=be("warn"),ee.error=be("error");const Pe=ue(function(){return globalThis})||ue(function(){return window})||ue(function(){return self})||ue(function(){return global})||ue(function(){return ue.constructor("return this")()});var Me="__",de=[Me,Me].join("DEV");const Fe=function $e(){try{return Boolean(__DEV__)}catch(ee){return Object.defineProperty(Pe,de,{value:"production"!==ue(function(){return"production"}),enumerable:!1,configurable:!0,writable:!0}),Pe[de]}}();function Ye(ee){try{return ee()}catch(re){}}var Ne=Ye(function(){return globalThis})||Ye(function(){return window})||Ye(function(){return self})||Ye(function(){return global})||Ye(function(){return Ye.constructor("return this")()}),It=!1;!function Je(){Ne&&!Ye(function(){return"production"})&&!Ye(function(){return process})&&(Object.defineProperty(Ne,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),It=!0)}(),m(9826),function st(){(function xe(){It&&(delete Ne.process,It=!1)})()}(),function Ke(){__DEV__?_e("boolean"==typeof Fe,Fe):_e("boolean"==typeof Fe,36)}()},9722:(Zt,nt,m)=>{m.d(nt,{LZ:()=>x,FS:()=>he,mj:()=>_e});var u=m(6686),_=m(1335);function x(be,H){var ie=be.directives;return!ie||!ie.length||function ve(be){var H=[];return be&&be.length&&be.forEach(function(ie){if(function Re(be){var H=be.name.value;return"skip"===H||"include"===H}(ie)){var ue=ie.arguments,Pe=ie.name.value;__DEV__?(0,u.kG)(ue&&1===ue.length,"Incorrect number of arguments for the @".concat(Pe," directive.")):(0,u.kG)(ue&&1===ue.length,38);var Me=ue[0];__DEV__?(0,u.kG)(Me.name&&"if"===Me.name.value,"Invalid argument for the @".concat(Pe," directive.")):(0,u.kG)(Me.name&&"if"===Me.name.value,39);var de=Me.value;__DEV__?(0,u.kG)(de&&("Variable"===de.kind||"BooleanValue"===de.kind),"Argument for the @".concat(Pe," directive must be a variable or a boolean value.")):(0,u.kG)(de&&("Variable"===de.kind||"BooleanValue"===de.kind),40),H.push({directive:ie,ifArgument:Me})}}),H}(ie).every(function(ue){var Pe=ue.directive,Me=ue.ifArgument,de=!1;return"Variable"===Me.value.kind?(de=H&&H[Me.value.name.value],__DEV__?(0,u.kG)(void 0!==de,"Invalid variable referenced in @".concat(Pe.name.value," directive.")):(0,u.kG)(void 0!==de,37)):de=Me.value.value,"skip"===Pe.name.value?!de:de})}function he(be,H){return function te(be){var H=[];return(0,_.Vn)(be,{Directive:function(ie){H.push(ie.name.value)}}),H}(H).some(function(ie){return be.indexOf(ie)>-1})}function _e(be){return be&&he(["client"],be)&&he(["export"],be)}},9661:(Zt,nt,m)=>{m.d(nt,{Yk:()=>x,F:()=>te,hi:()=>he});var u=m(655),_=m(6686);function x(_e,Re){var ve=Re,be=[];return _e.definitions.forEach(function(ie){if("OperationDefinition"===ie.kind)throw __DEV__?new _.ej("Found a ".concat(ie.operation," operation").concat(ie.name?" named '".concat(ie.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new _.ej(41);"FragmentDefinition"===ie.kind&&be.push(ie)}),void 0===ve&&(__DEV__?(0,_.kG)(1===be.length,"Found ".concat(be.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,_.kG)(1===be.length,42),ve=be[0].name.value),(0,u.pi)((0,u.pi)({},_e),{definitions:(0,u.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:ve}}]}}],_e.definitions,!0)})}function te(_e){void 0===_e&&(_e=[]);var Re={};return _e.forEach(function(ve){Re[ve.name.value]=ve}),Re}function he(_e,Re){switch(_e.kind){case"InlineFragment":return _e;case"FragmentSpread":var ve=Re&&Re[_e.name.value];return __DEV__?(0,_.kG)(ve,"No fragment named ".concat(_e.name.value,".")):(0,_.kG)(ve,43),ve;default:return null}}},591:(Zt,nt,m)=>{m.d(nt,{A$:()=>x,$H:()=>te,rY:()=>he,kU:()=>_e,iW:()=>Re,pD:()=>ve,p$:()=>be,O4:()=>H});var u=m(6686),_=m(7634);function x(ie){__DEV__?(0,u.kG)(ie&&"Document"===ie.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,u.kG)(ie&&"Document"===ie.kind,44);var ue=ie.definitions.filter(function(Pe){return"FragmentDefinition"!==Pe.kind}).map(function(Pe){if("OperationDefinition"!==Pe.kind)throw __DEV__?new u.ej('Schema type definitions not allowed in queries. Found: "'.concat(Pe.kind,'"')):new u.ej(45);return Pe});return __DEV__?(0,u.kG)(ue.length<=1,"Ambiguous GraphQL document: contains ".concat(ue.length," operations")):(0,u.kG)(ue.length<=1,46),ie}function te(ie){return x(ie),ie.definitions.filter(function(ue){return"OperationDefinition"===ue.kind})[0]}function he(ie){return ie.definitions.filter(function(ue){return"OperationDefinition"===ue.kind&&ue.name}).map(function(ue){return ue.name.value})[0]||null}function _e(ie){return ie.definitions.filter(function(ue){return"FragmentDefinition"===ue.kind})}function Re(ie){var ue=te(ie);return __DEV__?(0,u.kG)(ue&&"query"===ue.operation,"Must contain a query definition."):(0,u.kG)(ue&&"query"===ue.operation,47),ue}function ve(ie){__DEV__?(0,u.kG)("Document"===ie.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,u.kG)("Document"===ie.kind,48),__DEV__?(0,u.kG)(ie.definitions.length<=1,"Fragment must have exactly one definition."):(0,u.kG)(ie.definitions.length<=1,49);var ue=ie.definitions[0];return __DEV__?(0,u.kG)("FragmentDefinition"===ue.kind,"Must be a fragment definition."):(0,u.kG)("FragmentDefinition"===ue.kind,50),ue}function be(ie){x(ie);for(var ue,Pe=0,Me=ie.definitions;Pe<Me.length;Pe++){var de=Me[Pe];if("OperationDefinition"===de.kind){var $e=de.operation;if("query"===$e||"mutation"===$e||"subscription"===$e)return de}"FragmentDefinition"===de.kind&&!ue&&(ue=de)}if(ue)return ue;throw __DEV__?new u.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new u.ej(51)}function H(ie){var ue=Object.create(null),Pe=ie&&ie.variableDefinitions;return Pe&&Pe.length&&Pe.forEach(function(Me){Me.defaultValue&&(0,_.vb)(ue,Me.variable.name,Me.defaultValue)}),ue}},7634:(Zt,nt,m)=>{m.d(nt,{kQ:()=>te,Yk:()=>he,JW:()=>_e,vb:()=>$e,vf:()=>Fe,PT:()=>Ne,NC:()=>xe,u2:()=>je,qw:()=>st,My:()=>Ke,Ao:()=>ee});var u=m(6686),_=m(7062),x=m(9661);function te(re){return{__ref:String(re)}}function he(re){return Boolean(re&&"object"==typeof re&&"string"==typeof re.__ref)}function _e(re){return(0,_.s)(re)&&"Document"===re.kind&&Array.isArray(re.definitions)}function $e(re,De,He,Xe){if(function be(re){return"IntValue"===re.kind}(He)||function H(re){return"FloatValue"===re.kind}(He))re[De.value]=Number(He.value);else if(function ve(re){return"BooleanValue"===re.kind}(He)||function Re(re){return"StringValue"===re.kind}(He))re[De.value]=He.value;else if(function ue(re){return"ObjectValue"===re.kind}(He)){var dt={};He.fields.map(function(Xt){return $e(dt,Xt.name,Xt.value,Xe)}),re[De.value]=dt}else if(function ie(re){return"Variable"===re.kind}(He))re[De.value]=(Xe||{})[He.name.value];else if(function Pe(re){return"ListValue"===re.kind}(He))re[De.value]=He.values.map(function(Xt){var on={};return $e(on,De,Xt,Xe),on[De.value]});else if(function Me(re){return"EnumValue"===re.kind}(He))re[De.value]=He.value;else{if(!function de(re){return"NullValue"===re.kind}(He))throw __DEV__?new u.ej('The inline argument "'.concat(De.value,'" of kind "').concat(He.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new u.ej(52);re[De.value]=null}}function Fe(re,De){var He=null;re.directives&&(He={},re.directives.forEach(function(dt){He[dt.name.value]={},dt.arguments&&dt.arguments.forEach(function(ut){return $e(He[dt.name.value],ut.name,ut.value,De)})}));var Xe=null;return re.arguments&&re.arguments.length&&(Xe={},re.arguments.forEach(function(dt){return $e(Xe,dt.name,dt.value,De)})),Ne(re.name.value,Xe,He)}var Ye=["connection","include","skip","client","rest","export"],Ne=Object.assign(function(re,De,He){if(De&&He&&He.connection&&He.connection.key){if(He.connection.filter&&He.connection.filter.length>0){var Xe=He.connection.filter?He.connection.filter:[];Xe.sort();var dt={};return Xe.forEach(function(on){dt[on]=De[on]}),"".concat(He.connection.key,"(").concat(It(dt),")")}return He.connection.key}var ut=re;if(De){var Xt=It(De);ut+="(".concat(Xt,")")}return He&&Object.keys(He).forEach(function(on){-1===Ye.indexOf(on)&&(He[on]&&Object.keys(He[on]).length?ut+="@".concat(on,"(").concat(It(He[on]),")"):ut+="@".concat(on))}),ut},{setStringify:function(re){var De=It;return It=re,De}}),It=function(De){return JSON.stringify(De,Je)};function Je(re,De){return(0,_.s)(De)&&!Array.isArray(De)&&(De=Object.keys(De).sort().reduce(function(He,Xe){return He[Xe]=De[Xe],He},{})),De}function xe(re,De){if(re.arguments&&re.arguments.length){var He={};return re.arguments.forEach(function(Xe){return $e(He,Xe.name,Xe.value,De)}),He}return null}function je(re){return re.alias?re.alias.value:re.name.value}function st(re,De,He){if("string"==typeof re.__typename)return re.__typename;for(var Xe=0,dt=De.selections;Xe<dt.length;Xe++){var ut=dt[Xe];if(Ke(ut)){if("__typename"===ut.name.value)return re[je(ut)]}else{var Xt=st(re,(0,x.hi)(ut,He).selectionSet,He);if("string"==typeof Xt)return Xt}}}function Ke(re){return"Field"===re.kind}function ee(re){return"InlineFragment"===re.kind}},3291:(Zt,nt,m)=>{m.d(nt,{Gw:()=>Pe,aL:()=>xe,ob:()=>je,Fo:()=>de});var u=m(655),_=m(6686),x=m(1335),te=m(591);function he(st,Ke,ee){var re=0;return st.forEach(function(De,He){Ke.call(this,De,He,st)&&(st[re++]=De)},ee),st.length=re,st}var _e=m(7634),Re=m(9661),ve={kind:"Field",name:{kind:"Name",value:"__typename"}};function be(st,Ke){return st.selectionSet.selections.every(function(ee){return"FragmentSpread"===ee.kind&&be(Ke[ee.name.value],Ke)})}function H(st){return be((0,te.$H)(st)||(0,te.pD)(st),(0,Re.F)((0,te.kU)(st)))?null:st}function ie(st){return function(ee){return st.some(function(re){return re.name&&re.name===ee.name.value||re.test&&re.test(ee)})}}function ue(st,Ke){var ee=Object.create(null),re=[],De=Object.create(null),He=[],Xe=H((0,x.Vn)(Ke,{Variable:{enter:function(dt,ut,Xt){"VariableDefinition"!==Xt.kind&&(ee[dt.name.value]=!0)}},Field:{enter:function(dt){if(st&&dt.directives&&st.some(function(Xt){return Xt.remove})&&dt.directives&&dt.directives.some(ie(st)))return dt.arguments&&dt.arguments.forEach(function(Xt){"Variable"===Xt.value.kind&&re.push({name:Xt.value.name.value})}),dt.selectionSet&&Je(dt.selectionSet).forEach(function(Xt){He.push({name:Xt.name.value})}),null}},FragmentSpread:{enter:function(dt){De[dt.name.value]=!0}},Directive:{enter:function(dt){if(ie(st)(dt))return null}}}));return Xe&&he(re,function(dt){return!!dt.name&&!ee[dt.name]}).length&&(Xe=function Ne(st,Ke){var ee=function Ye(st){return function(ee){return st.some(function(re){return ee.value&&"Variable"===ee.value.kind&&ee.value.name&&(re.name===ee.value.name.value||re.test&&re.test(ee))})}}(st);return H((0,x.Vn)(Ke,{OperationDefinition:{enter:function(re){return(0,u.pi)((0,u.pi)({},re),{variableDefinitions:re.variableDefinitions?re.variableDefinitions.filter(function(De){return!st.some(function(He){return He.name===De.variable.name.value})}):[]})}},Field:{enter:function(re){var De=st.some(function(Xe){return Xe.remove});if(De){var He=0;if(re.arguments&&re.arguments.forEach(function(Xe){ee(Xe)&&(He+=1)}),1===He)return null}}},Argument:{enter:function(re){if(ee(re))return null}}}))}(re,Xe)),Xe&&he(He,function(dt){return!!dt.name&&!De[dt.name]}).length&&(Xe=function It(st,Ke){function ee(re){if(st.some(function(De){return De.name===re.name.value}))return null}return H((0,x.Vn)(Ke,{FragmentSpread:{enter:ee},FragmentDefinition:{enter:ee}}))}(He,Xe)),Xe}var Pe=Object.assign(function(st){return(0,x.Vn)(st,{SelectionSet:{enter:function(Ke,ee,re){if(!re||"OperationDefinition"!==re.kind){var De=Ke.selections;if(De&&!De.some(function(dt){return(0,_e.My)(dt)&&("__typename"===dt.name.value||0===dt.name.value.lastIndexOf("__",0))})){var Xe=re;if(!((0,_e.My)(Xe)&&Xe.directives&&Xe.directives.some(function(dt){return"export"===dt.name.value})))return(0,u.pi)((0,u.pi)({},Ke),{selections:(0,u.ev)((0,u.ev)([],De,!0),[ve],!1)})}}}}})},{added:function(st){return st===ve}}),Me={test:function(st){var Ke="connection"===st.name.value;return Ke&&(!st.arguments||!st.arguments.some(function(ee){return"key"===ee.name.value}))&&__DEV__&&_.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),Ke}};function de(st){return ue([Me],(0,te.A$)(st))}function Je(st){var Ke=[];return st.selections.forEach(function(ee){((0,_e.My)(ee)||(0,_e.Ao)(ee))&&ee.selectionSet?Je(ee.selectionSet).forEach(function(re){return Ke.push(re)}):"FragmentSpread"===ee.kind&&Ke.push(ee)}),Ke}function xe(st){return"query"===(0,te.p$)(st).operation?st:(0,x.Vn)(st,{OperationDefinition:{enter:function(De){return(0,u.pi)((0,u.pi)({},De),{operation:"query"})}}})}function je(st){(0,te.A$)(st);var Ke=ue([{test:function(ee){return"client"===ee.name.value},remove:!0}],st);return Ke&&(Ke=(0,x.Vn)(Ke,{FragmentDefinition:{enter:function(ee){if(ee.selectionSet&&ee.selectionSet.selections.every(function(De){return(0,_e.My)(De)&&"__typename"===De.name.value}))return null}}})),Ke}},3942:(Zt,nt,m)=>{m.d(nt,{Z:()=>de});var u=m(2090),_=m(4859),x=m(9681),te=m(1877);class he{constructor(Fe,Ye){this._delegate=Fe,this.firebase=Ye,(0,x._addComponent)(Fe,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Fe,Ye=x._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(Fe);return!It.isInitialized()&&"EXPLICIT"===(null===(Ne=It.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&It.initialize(),It.getImmediate({identifier:Ye})}_removeServiceInstance(Fe,Ye=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Ye)}_addComponent(Fe){(0,x._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,x._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function be(){const $e=function ve($e){const Fe={},Ye={__esModule:!0,initializeApp:function Je(Ke,ee={}){const re=x.initializeApp(Ke,ee);if((0,u.r3)(Fe,re.name))return Fe[re.name];const De=new $e(re,Ye);return Fe[re.name]=De,De},app:It,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function je(Ke){const ee=Ke.name,re=ee.replace("-compat","");if(x._registerComponent(Ke)&&"PUBLIC"===Ke.type){const De=(He=It())=>{if("function"!=typeof He[re])throw Re.create("invalid-app-argument",{appName:ee});return He[re]()};void 0!==Ke.serviceProps&&(0,u.ZB)(De,Ke.serviceProps),Ye[re]=De,$e.prototype[re]=function(...He){return this._getService.bind(this,ee).apply(this,Ke.multipleInstances?He:[])}}return"PUBLIC"===Ke.type?Ye[re]:null},removeApp:function Ne(Ke){delete Fe[Ke]},useAsService:function st(Ke,ee){return"serverAuth"===ee?null:ee},modularAPIs:x}};function It(Ke){if(!(0,u.r3)(Fe,Ke=Ke||x._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Ke});return Fe[Ke]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function xe(){return Object.keys(Fe).map(Ke=>Fe[Ke])}}),It.App=$e,Ye}(he);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function Fe(Ye){(0,u.ZB)($e,Ye)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),$e}(),ie=new te.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const de=H;!function Me($e){(0,x.registerVersion)("@firebase/app-compat","0.1.30",$e)}()},9681:(Zt,nt,m)=>{m.r(nt),m.d(nt,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>mn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>_n,_apps:()=>$t,_clearComponents:()=>Sn,_components:()=>zt,_getProvider:()=>St,_registerComponent:()=>xt,_removeServiceInstance:()=>Gt,deleteApp:()=>pn,getApp:()=>qr,getApps:()=>Lr,initializeApp:()=>hr,onLog:()=>vr,registerVersion:()=>Er,setLogLevel:()=>dn});var u=m(9671),_=m(4859),x=m(1877),te=m(2090),he=m(8766);class _e{constructor(k){this.container=k}getPlatformInfoString(){return this.container.getProviders().map(B=>{if(function Re(z){const k=z.getComponent();return"VERSION"===(null==k?void 0:k.type)}(B)){const Te=B.getImmediate();return`${Te.library}/${Te.version}`}return null}).filter(B=>B).join(" ")}}const ve="@firebase/app",H=new x.Yd("@firebase/app"),mn="[DEFAULT]",_t={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,zt=new Map;function ln(z,k){try{z.container.addComponent(k)}catch(B){H.debug(`Component ${k.name} failed to register with FirebaseApp ${z.name}`,B)}}function _n(z,k){z.container.addOrOverwriteComponent(k)}function xt(z){const k=z.name;if(zt.has(k))return H.debug(`There were multiple attempts to register component ${k}.`),!1;zt.set(k,z);for(const B of $t.values())ln(B,z);return!0}function St(z,k){const B=z.container.getProvider("heartbeat").getImmediate({optional:!0});return B&&B.triggerHeartbeat(),z.container.getProvider(k)}function Gt(z,k,B=mn){St(z,k).clearInstance(B)}function Sn(){zt.clear()}const Vn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class fr{constructor(k,B,Te){this._isDeleted=!1,this._options=Object.assign({},k),this._config=Object.assign({},B),this._name=B.name,this._automaticDataCollectionEnabled=B.automaticDataCollectionEnabled,this._container=Te,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(k){this.checkDestroyed(),this._automaticDataCollectionEnabled=k}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(k){this._isDeleted=k}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const Kn="9.9.1";function hr(z,k={}){"object"!=typeof k&&(k={name:k});const B=Object.assign({name:mn,automaticDataCollectionEnabled:!1},k),Te=B.name;if("string"!=typeof Te||!Te)throw Vn.create("bad-app-name",{appName:String(Te)});const ft=$t.get(Te);if(ft){if((0,te.vZ)(z,ft.options)&&(0,te.vZ)(B,ft.config))return ft;throw Vn.create("duplicate-app",{appName:Te})}const Vt=new _.H0(Te);for(const Rt of zt.values())Vt.addComponent(Rt);const pe=new fr(z,B,Vt);return $t.set(Te,pe),pe}function qr(z=mn){const k=$t.get(z);if(!k)throw Vn.create("no-app",{appName:z});return k}function Lr(){return Array.from($t.values())}function pn(z){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(z){const k=z.name;$t.has(k)&&($t.delete(k),yield Promise.all(z.container.getProviders().map(B=>B.delete())),z.isDeleted=!0)})).apply(this,arguments)}function Er(z,k,B){var Te;let ft=null!==(Te=_t[z])&&void 0!==Te?Te:z;B&&(ft+=`-${B}`);const Vt=ft.match(/\s|\//),pe=k.match(/\s|\//);if(Vt||pe){const Rt=[`Unable to register library "${ft}" with version "${k}":`];return Vt&&Rt.push(`library name "${ft}" contains illegal characters (whitespace or "/")`),Vt&&pe&&Rt.push("and"),pe&&Rt.push(`version name "${k}" contains illegal characters (whitespace or "/")`),void H.warn(Rt.join(" "))}xt(new _.wA(`${ft}-version`,()=>({library:ft,version:k}),"VERSION"))}function vr(z,k){if(null!==z&&"function"!=typeof z)throw Vn.create("invalid-log-argument");(0,x.Am)(z,k)}function dn(z){(0,x.Ub)(z)}const ze="firebase-heartbeat-store";let Ft=null;function Nt(){return Ft||(Ft=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(z,k)=>{0===k&&z.createObjectStore(ze)}}).catch(z=>{throw Vn.create("storage-open",{originalErrorMessage:z.message})})),Ft}function nn(){return(nn=(0,u.Z)(function*(z){var k;try{return(yield Nt()).transaction(ze).objectStore(ze).get(xn(z))}catch(B){throw Vn.create("storage-get",{originalErrorMessage:null===(k=B)||void 0===k?void 0:k.message})}})).apply(this,arguments)}function On(z,k){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(z,k){var B;try{const ft=(yield Nt()).transaction(ze,"readwrite");return yield ft.objectStore(ze).put(k,xn(z)),ft.done}catch(Te){throw Vn.create("storage-set",{originalErrorMessage:null===(B=Te)||void 0===B?void 0:B.message})}})).apply(this,arguments)}function xn(z){return`${z.name}!${z.options.appId}`}class Bn{constructor(k){this.container=k,this._heartbeatsCache=null;const B=this.container.getProvider("app").getImmediate();this._storage=new Zr(B),this._heartbeatsCachePromise=this._storage.read().then(Te=>(this._heartbeatsCache=Te,Te))}triggerHeartbeat(){var k=this;return(0,u.Z)(function*(){const Te=k.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=Gn();if(null===k._heartbeatsCache&&(k._heartbeatsCache=yield k._heartbeatsCachePromise),k._heartbeatsCache.lastSentHeartbeatDate!==ft&&!k._heartbeatsCache.heartbeats.some(Vt=>Vt.date===ft))return k._heartbeatsCache.heartbeats.push({date:ft,agent:Te}),k._heartbeatsCache.heartbeats=k._heartbeatsCache.heartbeats.filter(Vt=>{const pe=new Date(Vt.date).valueOf();return Date.now()-pe<=2592e6}),k._storage.overwrite(k._heartbeatsCache)})()}getHeartbeatsHeader(){var k=this;return(0,u.Z)(function*(){if(null===k._heartbeatsCache&&(yield k._heartbeatsCachePromise),null===k._heartbeatsCache||0===k._heartbeatsCache.heartbeats.length)return"";const B=Gn(),{heartbeatsToSend:Te,unsentEntries:ft}=function In(z,k=1024){const B=[];let Te=z.slice();for(const ft of z){const Vt=B.find(pe=>pe.agent===ft.agent);if(Vt){if(Vt.dates.push(ft.date),ct(B)>k){Vt.dates.pop();break}}else if(B.push({agent:ft.agent,dates:[ft.date]}),ct(B)>k){B.pop();break}Te=Te.slice(1)}return{heartbeatsToSend:B,unsentEntries:Te}}(k._heartbeatsCache.heartbeats),Vt=(0,te.L)(JSON.stringify({version:2,heartbeats:Te}));return k._heartbeatsCache.lastSentHeartbeatDate=B,ft.length>0?(k._heartbeatsCache.heartbeats=ft,yield k._storage.overwrite(k._heartbeatsCache)):(k._heartbeatsCache.heartbeats=[],k._storage.overwrite(k._heartbeatsCache)),Vt})()}}function Gn(){return(new Date).toISOString().substring(0,10)}class Zr{constructor(k){this.app=k,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var k=this;return(0,u.Z)(function*(){return(yield k._canUseIndexedDBPromise)&&(yield function Ht(z){return nn.apply(this,arguments)}(k.app))||{heartbeats:[]}})()}overwrite(k){var B=this;return(0,u.Z)(function*(){var Te;if(yield B._canUseIndexedDBPromise){const Vt=yield B.read();return On(B.app,{lastSentHeartbeatDate:null!==(Te=k.lastSentHeartbeatDate)&&void 0!==Te?Te:Vt.lastSentHeartbeatDate,heartbeats:k.heartbeats})}})()}add(k){var B=this;return(0,u.Z)(function*(){var Te;if(yield B._canUseIndexedDBPromise){const Vt=yield B.read();return On(B.app,{lastSentHeartbeatDate:null!==(Te=k.lastSentHeartbeatDate)&&void 0!==Te?Te:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...k.heartbeats]})}})()}}function ct(z){return(0,te.L)(JSON.stringify({version:2,heartbeats:z})).length}!function Ae(z){xt(new _.wA("platform-logger",k=>new _e(k),"PRIVATE")),xt(new _.wA("heartbeat",k=>new Bn(k),"PRIVATE")),Er(ve,"0.7.29",z),Er(ve,"0.7.29","esm2017"),Er("fire-js","")}("")},4859:(Zt,nt,m)=>{m.d(nt,{wA:()=>x,H0:()=>ve});var u=m(9671),_=m(2090);class x{constructor(H,ie,ue){this.name=H,this.instanceFactory=ie,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const te="[DEFAULT]";class he{constructor(H,ie){this.name=H,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const ie=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(ie)){const ue=new _.BH;if(this.instancesDeferred.set(ie,ue),this.isInitialized(ie)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:ie});Pe&&ue.resolve(Pe)}catch(Pe){}}return this.instancesDeferred.get(ie).promise}getImmediate(H){var ie;const ue=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Pe=null!==(ie=null==H?void 0:H.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Me){if(Pe)return null;throw Me}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function Re(be){return"EAGER"===be.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:te})}catch(ie){}for(const[ie,ue]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(ie);try{const Me=this.getOrInitializeService({instanceIdentifier:Pe});ue.resolve(Me)}catch(Me){}}}}clearInstance(H=te){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const ie=Array.from(H.instances.values());yield Promise.all([...ie.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...ie.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=te){return this.instances.has(H)}getOptions(H=te){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:ie={}}=H,ue=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:ue,options:ie});for(const[Me,de]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Me)&&de.resolve(Pe);return Pe}onInit(H,ie){var ue;const Pe=this.normalizeInstanceIdentifier(ie),Me=null!==(ue=this.onInitCallbacks.get(Pe))&&void 0!==ue?ue:new Set;Me.add(H),this.onInitCallbacks.set(Pe,Me);const de=this.instances.get(Pe);return de&&H(de,Pe),()=>{Me.delete(H)}}invokeOnInitCallbacks(H,ie){const ue=this.onInitCallbacks.get(ie);if(ue)for(const Pe of ue)try{Pe(H,ie)}catch(Me){}}getOrInitializeService({instanceIdentifier:H,options:ie={}}){let ue=this.instances.get(H);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(be=H,be===te?void 0:be),options:ie}),this.instances.set(H,ue),this.instancesOptions.set(H,ie),this.invokeOnInitCallbacks(ue,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ue)}catch(Pe){}var be;return ue||null}normalizeInstanceIdentifier(H=te){return this.component?this.component.multipleInstances?H:te:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const ie=this.getProvider(H.name);if(ie.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);ie.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const ie=new he(H,this);return this.providers.set(H,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(Zt,nt,m)=>{m.d(nt,{in:()=>_,Yd:()=>Re,Ub:()=>ve,Am:()=>be});const u=[];var _=(()=>{return(H=_||(_={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",_;var H})();const x={debug:_.DEBUG,verbose:_.VERBOSE,info:_.INFO,warn:_.WARN,error:_.ERROR,silent:_.SILENT},te=_.INFO,he={[_.DEBUG]:"log",[_.VERBOSE]:"log",[_.INFO]:"info",[_.WARN]:"warn",[_.ERROR]:"error"},_e=(H,ie,...ue)=>{if(ie<H.logLevel)return;const Pe=(new Date).toISOString(),Me=he[ie];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Me](`[${Pe}]  ${H.name}:`,...ue)};class Re{constructor(ie){this.name=ie,this._logLevel=te,this._logHandler=_e,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in _))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?x[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,_.DEBUG,...ie),this._logHandler(this,_.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,_.VERBOSE,...ie),this._logHandler(this,_.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,_.INFO,...ie),this._logHandler(this,_.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,_.WARN,...ie),this._logHandler(this,_.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,_.ERROR,...ie),this._logHandler(this,_.ERROR,...ie)}}function ve(H){u.forEach(ie=>{ie.setLogLevel(H)})}function be(H,ie){for(const ue of u){let Pe=null;ie&&ie.level&&(Pe=x[ie.level]),ue.userLogHandler=null===H?null:(Me,de,...$e)=>{const Fe=$e.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch(Ne){return null}}).filter(Ye=>Ye).join(" ");de>=(null!=Pe?Pe:Me.logLevel)&&H({level:_[de].toLowerCase(),message:Fe,args:$e,type:Me.name})}}}},9444:(Zt,nt,m)=>{m.d(nt,{zu:()=>wr,_M:()=>Dr,VG:()=>Ur,Ps:()=>Is});var u=m(5e3),_=(()=>{return(Q=_||(_={}))[Q.loading=1]="loading",Q[Q.setVariables=2]="setVariables",Q[Q.fetchMore=3]="fetchMore",Q[Q.refetch=4]="refetch",Q[Q.poll=6]="poll",Q[Q.ready=7]="ready",Q[Q.error=8]="error",_;var Q})();function x(Q){return!!Q&&Q<7}var te=m(655),he=m(6686),_e=m(484),Re=_e.i.execute,be=m(1335),H=m(4302),ie=function(Q,w){var R;try{R=JSON.stringify(Q)}catch(ge){var X=__DEV__?new he.ej("Network request failed. ".concat(w," is not serializable: ").concat(ge.message)):new he.ej(21);throw X.parseError=ge,X}return R},Pe=function(Q,w,R){var X=new Error(R);throw X.name="ServerError",X.response=Q,X.statusCode=Q.status,X.result=w,X},Me=Object.prototype.hasOwnProperty,Fe=m(2465),Je={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},xe=function(Q,w){return w(Q)};function Ke(Q){if(Q){var w=Object.create(null);return Object.keys(Object(Q)).forEach(function(R){w[R.toLowerCase()]=Q[R]}),w}return Q}function De(Q){return new H.y(function(w){w.error(Q)})}var He=(0,he.wY)(function(){return fetch}),Xe=function(Q){void 0===Q&&(Q={});var w=Q.uri,R=void 0===w?"/graphql":w,X=Q.fetch,ge=Q.print,tt=void 0===ge?xe:ge,At=Q.includeExtensions,Wt=Q.useGETForQueries,tn=Q.includeUnusedVariables,Yt=void 0!==tn&&tn,L=(0,te._T)(Q,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(Q){if(!Q&&"undefined"==typeof fetch)throw __DEV__?new he.ej("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new he.ej(20)}(X||He);var se={http:{includeExtensions:At},options:L.fetchOptions,credentials:L.credentials,headers:L.headers};return new _e.i(function(F){var Ce=function(Q,w){return Q.getContext().uri||("function"==typeof w?w(Q):w||"/graphql")}(F,R),Ze=F.getContext(),wt={};if(Ze.clientAwareness){var Bt=Ze.clientAwareness,Dn=Bt.name,tr=Bt.version;Dn&&(wt["apollographql-client-name"]=Dn),tr&&(wt["apollographql-client-version"]=tr)}var Y,cr=(0,te.pi)((0,te.pi)({},wt),Ze.headers),dr=function st(Q,w){for(var R=[],X=2;X<arguments.length;X++)R[X-2]=arguments[X];var ge={},tt={};R.forEach(function(se){ge=(0,te.pi)((0,te.pi)((0,te.pi)({},ge),se.options),{headers:(0,te.pi)((0,te.pi)({},ge.headers),Ke(se.headers))}),se.credentials&&(ge.credentials=se.credentials),tt=(0,te.pi)((0,te.pi)({},tt),se.http)});var Wt=Q.extensions,Yt=Q.query,L={operationName:Q.operationName,variables:Q.variables};return tt.includeExtensions&&(L.extensions=Wt),tt.includeQuery&&(L.query=w(Yt,Fe.S)),{options:ge,body:L}}(F,tt,Je,se,{http:Ze.http,options:Ze.fetchOptions,credentials:Ze.credentials,headers:cr}),Tr=dr.options,Sr=dr.body;if(Sr.variables&&!Yt){var Xr=new Set(Object.keys(Sr.variables));(0,be.Vn)(F.query,{Variable:function(Vi,Gs,gn){gn&&"VariableDefinition"!==gn.kind&&Xr.delete(Vi.name.value)}}),Xr.size&&(Sr.variables=(0,te.pi)({},Sr.variables),Xr.forEach(function(Vi){delete Sr.variables[Vi]}))}if(!Tr.signal){var j=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var Q=new AbortController;return{controller:Q,signal:Q.signal}}();(Y=j.controller)&&(Tr.signal=j.signal)}if(Wt&&!F.query.definitions.some(function(Vi){return"OperationDefinition"===Vi.kind&&"mutation"===Vi.operation})&&(Tr.method="GET"),"GET"===Tr.method){var Wn=function re(Q,w){var R=[],X=function(se,F){R.push("".concat(se,"=").concat(encodeURIComponent(F)))};if("query"in w&&X("query",w.query),w.operationName&&X("operationName",w.operationName),w.variables){var ge=void 0;try{ge=ie(w.variables,"Variables map")}catch(se){return{parseError:se}}X("variables",ge)}if(w.extensions){var tt=void 0;try{tt=ie(w.extensions,"Extensions map")}catch(se){return{parseError:se}}X("extensions",tt)}var At="",Wt=Q,tn=Q.indexOf("#");-1!==tn&&(At=Q.substr(tn),Wt=Q.substr(0,tn));var Yt=-1===Wt.indexOf("?")?"?":"&";return{newURI:Wt+Yt+R.join("&")+At}}(Ce,Sr),li=Wn.newURI,hs=Wn.parseError;if(hs)return De(hs);Ce=li}else try{Tr.body=ie(Sr,"Payload")}catch(Vi){return De(Vi)}return new H.y(function(Vi){return(X||(0,he.wY)(function(){return fetch})||He)(Ce,Tr).then(function(gn){return F.setContext({response:gn}),gn}).then(function de(Q){return function(w){return w.text().then(function(R){try{return JSON.parse(R)}catch(ge){var X=ge;throw X.name="ServerParseError",X.response=w,X.statusCode=w.status,X.bodyText=R,X}}).then(function(R){return w.status>=300&&Pe(w,R,"Response not successful: Received status code ".concat(w.status)),!Array.isArray(R)&&!Me.call(R,"data")&&!Me.call(R,"errors")&&Pe(w,R,"Server response was missing for query '".concat(Array.isArray(Q)?Q.map(function(X){return X.operationName}):Q.operationName,"'.")),R})}}(F)).then(function(gn){return Vi.next(gn),Vi.complete(),gn}).catch(function(gn){"AbortError"!==gn.name&&(gn.result&&gn.result.errors&&gn.result.data&&Vi.next(gn.result),Vi.error(gn))}),function(){Y&&Y.abort()}})})},dt=function(Q){function w(R){void 0===R&&(R={});var X=Q.call(this,Xe(R).request)||this;return X.options=R,X}return(0,te.ZT)(w,Q),w}(_e.i),ut=m(7883),Xt=m(3750),on=m(9545);function An(Q,w,R){return new H.y(function(X){var ge=X.next,tt=X.error,At=X.complete,Wt=0,tn=!1,Yt={then:function(Ce){return new Promise(function(Ze){return Ze(Ce())})}};function L(Ce,Ze){return Ce?function(wt){++Wt;var Bt=function(){return Ce(wt)};Yt=Yt.then(Bt,Bt).then(function(Dn){--Wt,ge&&ge.call(X,Dn),tn&&se.complete()},function(Dn){throw--Wt,Dn}).catch(function(Dn){tt&&tt.call(X,Dn)})}:function(wt){return Ze&&Ze.call(X,wt)}}var se={next:L(w,ge),error:L(R,tt),complete:function(){tn=!0,Wt||At&&At.call(X)}},F=Q.subscribe(se);return function(){return F.unsubscribe()}})}function mn(Q){return Q.errors&&Q.errors.length>0||!1}var _t=m(591),$t=m(3291),zt=m(9722),ln=m(7634),_n=m(7062),xt=m(8561);function St(Q,w,R){var X=[];Q.forEach(function(ge){return ge[w]&&X.push(ge)}),X.forEach(function(ge){return ge[w](R)})}function Gt(Q){function w(R){Object.defineProperty(Q,R,{value:H.y})}return on.aS&&Symbol.species&&w(Symbol.species),w("@@species"),Q}function Sn(Q){return Q&&"function"==typeof Q.then}var wn=function(Q){function w(R){var X=Q.call(this,function(ge){return X.addObserver(ge),function(){return X.removeObserver(ge)}})||this;return X.observers=new Set,X.addCount=0,X.promise=new Promise(function(ge,tt){X.resolve=ge,X.reject=tt}),X.handlers={next:function(ge){null!==X.sub&&(X.latest=["next",ge],St(X.observers,"next",ge))},error:function(ge){var tt=X.sub;null!==tt&&(tt&&setTimeout(function(){return tt.unsubscribe()}),X.sub=null,X.latest=["error",ge],X.reject(ge),St(X.observers,"error",ge))},complete:function(){if(null!==X.sub){var ge=X.sources.shift();ge?Sn(ge)?ge.then(function(tt){return X.sub=tt.subscribe(X.handlers)}):X.sub=ge.subscribe(X.handlers):(X.sub=null,X.latest&&"next"===X.latest[0]?X.resolve(X.latest[1]):X.resolve(),St(X.observers,"complete"))}}},X.cancel=function(ge){X.reject(ge),X.sources=[],X.handlers.complete()},X.promise.catch(function(ge){}),"function"==typeof R&&(R=[new H.y(R)]),Sn(R)?R.then(function(ge){return X.start(ge)},X.handlers.error):X.start(R),X}return(0,te.ZT)(w,Q),w.prototype.start=function(R){void 0===this.sub&&(this.sources=Array.from(R),this.handlers.complete())},w.prototype.deliverLastMessage=function(R){if(this.latest){var X=this.latest[0],ge=R[X];ge&&ge.call(R,this.latest[1]),null===this.sub&&"next"===X&&R.complete&&R.complete()}},w.prototype.addObserver=function(R){this.observers.has(R)||(this.deliverLastMessage(R),this.observers.add(R),++this.addCount)},w.prototype.removeObserver=function(R,X){this.observers.delete(R)&&--this.addCount<1&&!X&&this.handlers.error(new Error("Observable cancelled prematurely"))},w.prototype.cleanup=function(R){var X=this,ge=!1,tt=function(){ge||(ge=!0,X.observers.delete(At),R())},At={next:tt,error:tt,complete:tt},Wt=this.addCount;this.addObserver(At),this.addCount=Wt},w}(H.y);Gt(wn);var Vn=m(5355),hr=function(Q){function w(R){var X=R.graphQLErrors,ge=R.clientErrors,tt=R.networkError,At=R.errorMessage,Wt=R.extraInfo,tn=Q.call(this,At)||this;return tn.graphQLErrors=X||[],tn.clientErrors=ge||[],tn.networkError=tt||null,tn.message=At||function(Q){var w="";return((0,Vn.O)(Q.graphQLErrors)||(0,Vn.O)(Q.clientErrors))&&(Q.graphQLErrors||[]).concat(Q.clientErrors||[]).forEach(function(X){w+="".concat(X?X.message:"Error message not found.","\n")}),Q.networkError&&(w+="".concat(Q.networkError.message,"\n")),w=w.replace(/\n$/,"")}(tn),tn.extraInfo=Wt,tn.__proto__=w.prototype,tn}return(0,te.ZT)(w,Q),w}(Error),qr=m(396),Lr=m(3950);function pn(Q,w){return(0,Lr.o)(Q,w,w.variables&&{variables:(0,te.pi)((0,te.pi)({},Q.variables),w.variables)})}var Yr=Object.assign,Er=Object.hasOwnProperty,vr=function(Q){function w(R){var X=R.queryManager,ge=R.queryInfo,tt=R.options,At=Q.call(this,function(tn){try{var Yt=tn._subscription._observer;Yt&&!Yt.error&&(Yt.error=Ot)}catch(F){}var L=!At.observers.size;At.observers.add(tn);var se=At.last;return se&&se.error?tn.error&&tn.error(se.error):se&&se.result&&tn.next&&tn.next(se.result),L&&At.reobserve().catch(function(){}),function(){At.observers.delete(tn)&&!At.observers.size&&At.tearDownQuery()}})||this;At.observers=new Set,At.subscriptions=new Set,At.queryInfo=ge,At.queryManager=X,At.isTornDown=!1,At.options=(0,te.pi)({initialFetchPolicy:tt.fetchPolicy||"cache-first"},tt),At.queryId=ge.queryId||X.generateQueryId();var Wt=(0,_t.$H)(At.query);return At.queryName=Wt&&Wt.name&&Wt.name.value,At}return(0,te.ZT)(w,Q),Object.defineProperty(w.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),w.prototype.result=function(){var R=this;return new Promise(function(X,ge){var tt={next:function(Wt){X(Wt),R.observers.delete(tt),R.observers.size||R.queryManager.removeQuery(R.queryId),setTimeout(function(){At.unsubscribe()},0)},error:ge},At=R.subscribe(tt)})},w.prototype.getCurrentResult=function(R){void 0===R&&(R=!0);var X=this.getLastResult(!0),ge=this.queryInfo.networkStatus||X&&X.networkStatus||_.ready,tt=(0,te.pi)((0,te.pi)({},X),{loading:x(ge),networkStatus:ge}),At=this.options.fetchPolicy,Wt=void 0===At?"cache-first":At;if("network-only"!==Wt&&"no-cache"!==Wt&&"standby"!==Wt&&!this.queryManager.transform(this.options.query).hasForcedResolvers){var tn=this.queryInfo.getDiff();(tn.complete||this.options.returnPartialData)&&(tt.data=tn.result),(0,ut.D)(tt.data,{})&&(tt.data=void 0),tn.complete?(delete tt.partial,tn.complete&&tt.networkStatus===_.loading&&("cache-first"===Wt||"cache-only"===Wt)&&(tt.networkStatus=_.ready,tt.loading=!1)):tt.partial=!0,__DEV__&&!tn.complete&&!this.options.partialRefetch&&!tt.loading&&!tt.data&&!tt.error&&Le(tn.missing)}return R&&this.updateLastResult(tt),tt},w.prototype.isDifferentFromLastResult=function(R){return!this.last||!(0,ut.D)(this.last.result,R)},w.prototype.getLast=function(R,X){var ge=this.last;if(ge&&ge[R]&&(!X||(0,ut.D)(ge.variables,this.variables)))return ge[R]},w.prototype.getLastResult=function(R){return this.getLast("result",R)},w.prototype.getLastError=function(R){return this.getLast("error",R)},w.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},w.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},w.prototype.refetch=function(R){var X,ge={pollInterval:0},tt=this.options.fetchPolicy;if(ge.fetchPolicy="cache-and-network"===tt?tt:"no-cache"===tt?"no-cache":"network-only",__DEV__&&R&&Er.call(R,"variables")){var At=(0,_t.iW)(this.query),Wt=At.variableDefinitions;(!Wt||!Wt.some(function(tn){return"variables"===tn.variable.name.value}))&&__DEV__&&he.kG.warn("Called refetch(".concat(JSON.stringify(R),") for query ").concat((null===(X=At.name)||void 0===X?void 0:X.value)||JSON.stringify(At),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return R&&!(0,ut.D)(this.options.variables,R)&&(ge.variables=this.options.variables=(0,te.pi)((0,te.pi)({},this.options.variables),R)),this.queryInfo.resetLastWrite(),this.reobserve(ge,_.refetch)},w.prototype.fetchMore=function(R){var X=this,ge=(0,te.pi)((0,te.pi)({},R.query?R:(0,te.pi)((0,te.pi)((0,te.pi)((0,te.pi)({},this.options),{query:this.query}),R),{variables:(0,te.pi)((0,te.pi)({},this.options.variables),R.variables)})),{fetchPolicy:"no-cache"}),tt=this.queryManager.generateQueryId(),At=this.queryInfo,Wt=At.networkStatus;At.networkStatus=_.fetchMore,ge.notifyOnNetworkStatusChange&&this.observe();var tn=new Set;return this.queryManager.fetchQuery(tt,ge,_.fetchMore).then(function(Yt){return X.queryManager.removeQuery(tt),At.networkStatus===_.fetchMore&&(At.networkStatus=Wt),X.queryManager.cache.batch({update:function(L){var se=R.updateQuery;se?L.updateQuery({query:X.query,variables:X.variables,returnPartialData:!0,optimistic:!1},function(F){return se(F,{fetchMoreResult:Yt.data,variables:ge.variables})}):L.writeQuery({query:ge.query,variables:ge.variables,data:Yt.data})},onWatchUpdated:function(L){tn.add(L.query)}}),Yt}).finally(function(){tn.has(X.query)||dn(X)})},w.prototype.subscribeToMore=function(R){var X=this,ge=this.queryManager.startGraphQLSubscription({query:R.document,variables:R.variables,context:R.context}).subscribe({next:function(tt){var At=R.updateQuery;At&&X.updateQuery(function(Wt,tn){return At(Wt,{subscriptionData:tt,variables:tn.variables})})},error:function(tt){R.onError?R.onError(tt):__DEV__&&he.kG.error("Unhandled GraphQL subscription error",tt)}});return this.subscriptions.add(ge),function(){X.subscriptions.delete(ge)&&ge.unsubscribe()}},w.prototype.setOptions=function(R){return this.reobserve(R)},w.prototype.setVariables=function(R){return(0,ut.D)(this.variables,R)?this.observers.size?this.result():Promise.resolve():(this.options.variables=R,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:R},_.setVariables):Promise.resolve())},w.prototype.updateQuery=function(R){var X=this.queryManager,tt=R(X.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});tt&&(X.cache.writeQuery({query:this.options.query,data:tt,variables:this.variables}),X.broadcastQueries())},w.prototype.startPolling=function(R){this.options.pollInterval=R,this.updatePolling()},w.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},w.prototype.applyNextFetchPolicy=function(R,X){if(X.nextFetchPolicy){var ge=X.fetchPolicy,tt=void 0===ge?"cache-first":ge,At=X.initialFetchPolicy,Wt=void 0===At?tt:At;X.fetchPolicy="function"==typeof X.nextFetchPolicy?X.nextFetchPolicy(tt,{reason:R,options:X,observable:this,initialFetchPolicy:Wt}):"variables-changed"===R?Wt:X.nextFetchPolicy}return X.fetchPolicy},w.prototype.fetch=function(R,X){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,R,X)},w.prototype.updatePolling=function(){var R=this;if(!this.queryManager.ssrMode){var ge=this.pollingInfo,tt=this.options.pollInterval;if(!tt)return void(ge&&(clearTimeout(ge.timeout),delete this.pollingInfo));if(!ge||ge.interval!==tt){__DEV__?(0,he.kG)(tt,"Attempted to start a polling query without a polling interval."):(0,he.kG)(tt,10),(ge||(this.pollingInfo={})).interval=tt;var Wt=function(){R.pollingInfo&&(x(R.queryInfo.networkStatus)?tn():R.reobserve({fetchPolicy:"network-only"},_.poll).then(tn,tn))},tn=function(){var Yt=R.pollingInfo;Yt&&(clearTimeout(Yt.timeout),Yt.timeout=setTimeout(Wt,Yt.interval))};tn()}}},w.prototype.updateLastResult=function(R,X){return void 0===X&&(X=this.variables),this.last=(0,te.pi)((0,te.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?R:(0,qr.X)(R),variables:X}),(0,Vn.O)(R.errors)||delete this.last.error,this.last},w.prototype.reobserve=function(R,X){var ge=this;this.isTornDown=!1;var tt=X===_.refetch||X===_.fetchMore||X===_.poll,At=this.options.variables,Wt=this.options.fetchPolicy,tn=pn(this.options,R||{}),Yt=tt?tn:Yr(this.options,tn);tt||(this.updatePolling(),R&&R.variables&&!(0,ut.D)(R.variables,At)&&(!R.fetchPolicy||R.fetchPolicy===Wt)&&(this.applyNextFetchPolicy("variables-changed",Yt),void 0===X&&(X=_.setVariables)));var L=Yt.variables&&(0,te.pi)({},Yt.variables),se=this.fetch(Yt,X),F={next:function(Ce){ge.reportResult(Ce,L)},error:function(Ce){ge.reportError(Ce,L)}};return tt||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=se,this.observer=F),se.addObserver(F),se.promise},w.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},w.prototype.reportResult=function(R,X){var ge=this.getLastError();(ge||this.isDifferentFromLastResult(R))&&((ge||!R.partial||this.options.returnPartialData)&&this.updateLastResult(R,X),St(this.observers,"next",R))},w.prototype.reportError=function(R,X){var ge=(0,te.pi)((0,te.pi)({},this.getLastResult()),{error:R,errors:R.graphQLErrors,networkStatus:_.error,loading:!1});this.updateLastResult(ge,X),St(this.observers,"error",this.last.error=R)},w.prototype.hasObservers=function(){return this.observers.size>0},w.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(R){return R.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},w}(H.y);function dn(Q){var w=Q.options,R=w.fetchPolicy,X=w.nextFetchPolicy;return"cache-and-network"===R||"network-only"===R?Q.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=X,"function"==typeof X?X.apply(this,arguments):R}}):Q.reobserve()}function Ot(Q){__DEV__&&he.kG.error("Unhandled error",Q.message,Q.stack)}function Le(Q){__DEV__&&Q&&__DEV__&&he.kG.debug("Missing cache result fields: ".concat(JSON.stringify(Q)),Q)}Gt(vr);var ze=m(7773),Ft=m(9661),Nt=m(6430),Ht=function(){function Q(w){var X=w.client,ge=w.resolvers,tt=w.fragmentMatcher;this.cache=w.cache,X&&(this.client=X),ge&&this.addResolvers(ge),tt&&this.setFragmentMatcher(tt)}return Q.prototype.addResolvers=function(w){var R=this;this.resolvers=this.resolvers||{},Array.isArray(w)?w.forEach(function(X){R.resolvers=(0,ze.Ee)(R.resolvers,X)}):this.resolvers=(0,ze.Ee)(this.resolvers,w)},Q.prototype.setResolvers=function(w){this.resolvers={},this.addResolvers(w)},Q.prototype.getResolvers=function(){return this.resolvers||{}},Q.prototype.runResolvers=function(w){var R=w.document,X=w.remoteResult,ge=w.context,tt=w.variables,At=w.onlyRunForcedResolvers,Wt=void 0!==At&&At;return(0,te.mG)(this,void 0,void 0,function(){return(0,te.Jh)(this,function(tn){return R?[2,this.resolveDocument(R,X.data,ge,tt,this.fragmentMatcher,Wt).then(function(Yt){return(0,te.pi)((0,te.pi)({},X),{data:Yt.result})})]:[2,X]})})},Q.prototype.setFragmentMatcher=function(w){this.fragmentMatcher=w},Q.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},Q.prototype.clientQuery=function(w){return(0,zt.FS)(["client"],w)&&this.resolvers?w:null},Q.prototype.serverQuery=function(w){return(0,$t.ob)(w)},Q.prototype.prepareContext=function(w){var R=this.cache;return(0,te.pi)((0,te.pi)({},w),{cache:R,getCacheKey:function(X){return R.identify(X)}})},Q.prototype.addExportedVariables=function(w,R,X){return void 0===R&&(R={}),void 0===X&&(X={}),(0,te.mG)(this,void 0,void 0,function(){return(0,te.Jh)(this,function(ge){return w?[2,this.resolveDocument(w,this.buildRootValueFromCache(w,R)||{},this.prepareContext(X),R).then(function(tt){return(0,te.pi)((0,te.pi)({},R),tt.exportedVariables)})]:[2,(0,te.pi)({},R)]})})},Q.prototype.shouldForceResolvers=function(w){var R=!1;return(0,be.Vn)(w,{Directive:{enter:function(X){if("client"===X.name.value&&X.arguments&&(R=X.arguments.some(function(ge){return"always"===ge.name.value&&"BooleanValue"===ge.value.kind&&!0===ge.value.value})))return be.$_}}}),R},Q.prototype.buildRootValueFromCache=function(w,R){return this.cache.diff({query:(0,$t.aL)(w),variables:R,returnPartialData:!0,optimistic:!1}).result},Q.prototype.resolveDocument=function(w,R,X,ge,tt,At){return void 0===X&&(X={}),void 0===ge&&(ge={}),void 0===tt&&(tt=function(){return!0}),void 0===At&&(At=!1),(0,te.mG)(this,void 0,void 0,function(){var Wt,tn,Yt,L,se,F,Ce,Ze,wt;return(0,te.Jh)(this,function(Bt){return Wt=(0,_t.p$)(w),tn=(0,_t.kU)(w),Yt=(0,Ft.F)(tn),se=(L=Wt.operation)?L.charAt(0).toUpperCase()+L.slice(1):"Query",Ce=(F=this).cache,Ze=F.client,wt={fragmentMap:Yt,context:(0,te.pi)((0,te.pi)({},X),{cache:Ce,client:Ze}),variables:ge,fragmentMatcher:tt,defaultOperationType:se,exportedVariables:{},onlyRunForcedResolvers:At},[2,this.resolveSelectionSet(Wt.selectionSet,R,wt).then(function(Dn){return{result:Dn,exportedVariables:wt.exportedVariables}})]})})},Q.prototype.resolveSelectionSet=function(w,R,X){return(0,te.mG)(this,void 0,void 0,function(){var ge,tt,At,Wt,Yt=this;return(0,te.Jh)(this,function(L){return ge=X.fragmentMap,tt=X.context,At=X.variables,Wt=[R],[2,Promise.all(w.selections.map(function(se){return(0,te.mG)(Yt,void 0,void 0,function(){var F;return(0,te.Jh)(this,function(Ze){return(0,zt.LZ)(se,At)?(0,ln.My)(se)?[2,this.resolveField(se,R,X).then(function(wt){var Bt;void 0!==wt&&Wt.push(((Bt={})[(0,ln.u2)(se)]=wt,Bt))})]:((0,ln.Ao)(se)?F=se:(F=ge[se.name.value],__DEV__?(0,he.kG)(F,"No fragment named ".concat(se.name.value)):(0,he.kG)(F,9)),F&&F.typeCondition&&X.fragmentMatcher(R,F.typeCondition.name.value,tt)?[2,this.resolveSelectionSet(F.selectionSet,R,X).then(function(wt){Wt.push(wt)})]:[2]):[2]})})})).then(function(){return(0,ze.bw)(Wt)})]})})},Q.prototype.resolveField=function(w,R,X){return(0,te.mG)(this,void 0,void 0,function(){var ge,tt,At,Wt,tn,Yt,L,se,F,Ce=this;return(0,te.Jh)(this,function(Ze){return ge=X.variables,tt=w.name.value,At=(0,ln.u2)(w),Wt=tt!==At,tn=R[At]||R[tt],Yt=Promise.resolve(tn),(!X.onlyRunForcedResolvers||this.shouldForceResolvers(w))&&(L=R.__typename||X.defaultOperationType,(se=this.resolvers&&this.resolvers[L])&&(F=se[Wt?tt:At])&&(Yt=Promise.resolve(Nt.ab.withValue(this.cache,F,[R,(0,ln.NC)(w,ge),X.context,{field:w,fragmentMap:X.fragmentMap}])))),[2,Yt.then(function(wt){return void 0===wt&&(wt=tn),w.directives&&w.directives.forEach(function(Bt){"export"===Bt.name.value&&Bt.arguments&&Bt.arguments.forEach(function(Dn){"as"===Dn.name.value&&"StringValue"===Dn.value.kind&&(X.exportedVariables[Dn.value.value]=wt)})}),w.selectionSet&&null!=wt?Array.isArray(wt)?Ce.resolveSubSelectedArray(w,wt,X):w.selectionSet?Ce.resolveSelectionSet(w.selectionSet,wt,X):void 0:wt})]})})},Q.prototype.resolveSubSelectedArray=function(w,R,X){var ge=this;return Promise.all(R.map(function(tt){return null===tt?null:Array.isArray(tt)?ge.resolveSubSelectedArray(w,tt,X):w.selectionSet?ge.resolveSelectionSet(w.selectionSet,tt,X):void 0}))},Q}(),nn=new(on.mr?WeakMap:Map);function On(Q,w){var R=Q[w];"function"==typeof R&&(Q[w]=function(){return nn.set(Q,(nn.get(Q)+1)%1e15),R.apply(this,arguments)})}function Ln(Q){Q.notifyTimeout&&(clearTimeout(Q.notifyTimeout),Q.notifyTimeout=void 0)}var xn=function(){function Q(w,R){void 0===R&&(R=w.generateQueryId()),this.queryId=R,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var X=this.cache=w.cache;nn.has(X)||(nn.set(X,0),On(X,"evict"),On(X,"modify"),On(X,"reset"))}return Q.prototype.init=function(w){var R=w.networkStatus||_.loading;return this.variables&&this.networkStatus!==_.loading&&!(0,ut.D)(this.variables,w.variables)&&(R=_.setVariables),(0,ut.D)(w.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:w.document,variables:w.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:R}),w.observableQuery&&this.setObservableQuery(w.observableQuery),w.lastRequestId&&(this.lastRequestId=w.lastRequestId),this},Q.prototype.reset=function(){Ln(this),this.lastDiff=void 0,this.dirty=!1},Q.prototype.getDiff=function(w){void 0===w&&(w=this.variables);var R=this.getDiffOptions(w);if(this.lastDiff&&(0,ut.D)(R,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=w);var X=this.observableQuery;if(X&&"no-cache"===X.options.fetchPolicy)return{complete:!1};var ge=this.cache.diff(R);return this.updateLastDiff(ge,R),ge},Q.prototype.updateLastDiff=function(w,R){this.lastDiff=w?{diff:w,options:R||this.getDiffOptions()}:void 0},Q.prototype.getDiffOptions=function(w){var R;return void 0===w&&(w=this.variables),{query:this.document,variables:w,returnPartialData:!0,optimistic:!0,canonizeResults:null===(R=this.observableQuery)||void 0===R?void 0:R.options.canonizeResults}},Q.prototype.setDiff=function(w){var R=this,X=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(w),!this.dirty&&!(0,ut.D)(X&&X.result,w&&w.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return R.notify()},0)))},Q.prototype.setObservableQuery=function(w){var R=this;w!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=w,w?(w.queryInfo=this,this.listeners.add(this.oqListener=function(){R.getDiff().fromOptimisticTransaction?w.observe():dn(w)})):delete this.oqListener)},Q.prototype.notify=function(){var w=this;Ln(this),this.shouldNotify()&&this.listeners.forEach(function(R){return R(w)}),this.dirty=!1},Q.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(x(this.networkStatus)&&this.observableQuery){var w=this.observableQuery.options.fetchPolicy;if("cache-only"!==w&&"cache-and-network"!==w)return!1}return!0},Q.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=Q.prototype.cancel,this.subscriptions.forEach(function(R){return R.unsubscribe()});var w=this.observableQuery;w&&w.stopPolling()}},Q.prototype.cancel=function(){},Q.prototype.updateWatch=function(w){var R=this;void 0===w&&(w=this.variables);var X=this.observableQuery;if(!X||"no-cache"!==X.options.fetchPolicy){var ge=(0,te.pi)((0,te.pi)({},this.getDiffOptions(w)),{watcher:this,callback:function(tt){return R.setDiff(tt)}});(!this.lastWatch||!(0,ut.D)(ge,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=ge))}},Q.prototype.resetLastWrite=function(){this.lastWrite=void 0},Q.prototype.shouldWrite=function(w,R){var X=this.lastWrite;return!(X&&X.dmCount===nn.get(this.cache)&&(0,ut.D)(R,X.variables)&&(0,ut.D)(w.data,X.result.data))},Q.prototype.markResult=function(w,R,X){var ge=this;this.graphQLErrors=(0,Vn.O)(w.errors)?w.errors:[],this.reset(),"no-cache"===R.fetchPolicy?this.updateLastDiff({result:w.data,complete:!0},this.getDiffOptions(R.variables)):0!==X&&(zn(w,R.errorPolicy)?this.cache.performTransaction(function(tt){if(ge.shouldWrite(w,R.variables))tt.writeQuery({query:ge.document,data:w.data,variables:R.variables,overwrite:1===X}),ge.lastWrite={result:w,variables:R.variables,dmCount:nn.get(ge.cache)};else if(ge.lastDiff&&ge.lastDiff.diff.complete)return void(w.data=ge.lastDiff.diff.result);var At=ge.getDiffOptions(R.variables),Wt=tt.diff(At);ge.stopped||ge.updateWatch(R.variables),ge.updateLastDiff(Wt,At),Wt.complete&&(w.data=Wt.result)}):this.lastWrite=void 0)},Q.prototype.markReady=function(){return this.networkError=null,this.networkStatus=_.ready},Q.prototype.markError=function(w){return this.networkStatus=_.error,this.lastWrite=void 0,this.reset(),w.graphQLErrors&&(this.graphQLErrors=w.graphQLErrors),w.networkError&&(this.networkError=w.networkError),w},Q}();function zn(Q,w){void 0===w&&(w="none");var R="ignore"===w||"all"===w,X=!mn(Q);return!X&&R&&Q.data&&(X=!0),X}var rr=Object.prototype.hasOwnProperty,Bn=function(){function Q(w){var R=w.cache,X=w.link,ge=w.defaultOptions,tt=w.queryDeduplication,At=void 0!==tt&&tt,Wt=w.onBroadcast,tn=w.ssrMode,Yt=void 0!==tn&&tn,L=w.clientAwareness,se=void 0===L?{}:L,F=w.localState,Ce=w.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(on.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=R,this.link=X,this.defaultOptions=ge||Object.create(null),this.queryDeduplication=At,this.clientAwareness=se,this.localState=F||new Ht({cache:R}),this.ssrMode=Yt,this.assumeImmutableResults=!!Ce,(this.onBroadcast=Wt)&&(this.mutationStore=Object.create(null))}return Q.prototype.stop=function(){var w=this;this.queries.forEach(function(R,X){w.stopQueryNoBroadcast(X)}),this.cancelPendingFetches(__DEV__?new he.ej("QueryManager stopped while query was in flight"):new he.ej(11))},Q.prototype.cancelPendingFetches=function(w){this.fetchCancelFns.forEach(function(R){return R(w)}),this.fetchCancelFns.clear()},Q.prototype.mutate=function(w){var R,X,ge=w.mutation,tt=w.variables,At=w.optimisticResponse,Wt=w.updateQueries,tn=w.refetchQueries,Yt=void 0===tn?[]:tn,L=w.awaitRefetchQueries,se=void 0!==L&&L,F=w.update,Ce=w.onQueryUpdated,Ze=w.fetchPolicy,wt=void 0===Ze?(null===(R=this.defaultOptions.mutate)||void 0===R?void 0:R.fetchPolicy)||"network-only":Ze,Bt=w.errorPolicy,Dn=void 0===Bt?(null===(X=this.defaultOptions.mutate)||void 0===X?void 0:X.errorPolicy)||"none":Bt,tr=w.keepRootFields,cr=w.context;return(0,te.mG)(this,void 0,void 0,function(){var lr,dr,Tr;return(0,te.Jh)(this,function(Sr){switch(Sr.label){case 0:return __DEV__?(0,he.kG)(ge,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,he.kG)(ge,12),__DEV__?(0,he.kG)("network-only"===wt||"no-cache"===wt,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,he.kG)("network-only"===wt||"no-cache"===wt,13),lr=this.generateMutationId(),ge=this.transform(ge).document,tt=this.getVariables(ge,tt),this.transform(ge).hasClientExports?[4,this.localState.addExportedVariables(ge,tt,cr)]:[3,2];case 1:tt=Sr.sent(),Sr.label=2;case 2:return dr=this.mutationStore&&(this.mutationStore[lr]={mutation:ge,variables:tt,loading:!0,error:null}),At&&this.markMutationOptimistic(At,{mutationId:lr,document:ge,variables:tt,fetchPolicy:wt,errorPolicy:Dn,context:cr,updateQueries:Wt,update:F,keepRootFields:tr}),this.broadcastQueries(),Tr=this,[2,new Promise(function(Xr,Y){return An(Tr.getObservableFromLink(ge,(0,te.pi)((0,te.pi)({},cr),{optimisticResponse:At}),tt,!1),function(j){if(mn(j)&&"none"===Dn)throw new hr({graphQLErrors:j.errors});dr&&(dr.loading=!1,dr.error=null);var P=(0,te.pi)({},j);return"function"==typeof Yt&&(Yt=Yt(P)),"ignore"===Dn&&mn(P)&&delete P.errors,Tr.markMutationResult({mutationId:lr,result:P,document:ge,variables:tt,fetchPolicy:wt,errorPolicy:Dn,context:cr,update:F,updateQueries:Wt,awaitRefetchQueries:se,refetchQueries:Yt,removeOptimistic:At?lr:void 0,onQueryUpdated:Ce,keepRootFields:tr})}).subscribe({next:function(j){Tr.broadcastQueries(),Xr(j)},error:function(j){dr&&(dr.loading=!1,dr.error=j),At&&Tr.cache.removeOptimistic(lr),Tr.broadcastQueries(),Y(j instanceof hr?j:new hr({networkError:j}))}})})]}})})},Q.prototype.markMutationResult=function(w,R){var X=this;void 0===R&&(R=this.cache);var ge=w.result,tt=[],At="no-cache"===w.fetchPolicy;if(!At&&zn(ge,w.errorPolicy)){tt.push({result:ge.data,dataId:"ROOT_MUTATION",query:w.document,variables:w.variables});var Wt=w.updateQueries;Wt&&this.queries.forEach(function(Yt,L){var se=Yt.observableQuery,F=se&&se.queryName;if(F&&rr.call(Wt,F)){var Ce=Wt[F],Ze=X.queries.get(L),wt=Ze.document,Bt=Ze.variables,Dn=R.diff({query:wt,variables:Bt,returnPartialData:!0,optimistic:!1}),tr=Dn.result;if(Dn.complete&&tr){var lr=Ce(tr,{mutationResult:ge,queryName:wt&&(0,_t.rY)(wt)||void 0,queryVariables:Bt});lr&&tt.push({result:lr,dataId:"ROOT_QUERY",query:wt,variables:Bt})}}})}if(tt.length>0||w.refetchQueries||w.update||w.onQueryUpdated||w.removeOptimistic){var tn=[];if(this.refetchQueries({updateCache:function(Yt){At||tt.forEach(function(F){return Yt.write(F)});var L=w.update;if(L){if(!At){var se=Yt.diff({id:"ROOT_MUTATION",query:X.transform(w.document).asQuery,variables:w.variables,optimistic:!1,returnPartialData:!0});se.complete&&(ge=(0,te.pi)((0,te.pi)({},ge),{data:se.result}))}L(Yt,ge,{context:w.context,variables:w.variables})}!At&&!w.keepRootFields&&Yt.modify({id:"ROOT_MUTATION",fields:function(F,Ce){return"__typename"===Ce.fieldName?F:Ce.DELETE}})},include:w.refetchQueries,optimistic:!1,removeOptimistic:w.removeOptimistic,onQueryUpdated:w.onQueryUpdated||null}).forEach(function(Yt){return tn.push(Yt)}),w.awaitRefetchQueries||w.onQueryUpdated)return Promise.all(tn).then(function(){return ge})}return Promise.resolve(ge)},Q.prototype.markMutationOptimistic=function(w,R){var X=this,ge="function"==typeof w?w(R.variables):w;return this.cache.recordOptimisticTransaction(function(tt){try{X.markMutationResult((0,te.pi)((0,te.pi)({},R),{result:{data:ge}}),tt)}catch(At){__DEV__&&he.kG.error(At)}},R.mutationId)},Q.prototype.fetchQuery=function(w,R,X){return this.fetchQueryObservable(w,R,X).promise},Q.prototype.getQueryStore=function(){var w=Object.create(null);return this.queries.forEach(function(R,X){w[X]={variables:R.variables,networkStatus:R.networkStatus,networkError:R.networkError,graphQLErrors:R.graphQLErrors}}),w},Q.prototype.resetErrors=function(w){var R=this.queries.get(w);R&&(R.networkError=void 0,R.graphQLErrors=[])},Q.prototype.transform=function(w){var R=this.transformCache;if(!R.has(w)){var X=this.cache.transformDocument(w),ge=(0,$t.Fo)(this.cache.transformForLink(X)),tt=this.localState.clientQuery(X),At=ge&&this.localState.serverQuery(ge),Wt={document:X,hasClientExports:(0,zt.mj)(X),hasForcedResolvers:this.localState.shouldForceResolvers(X),clientQuery:tt,serverQuery:At,defaultVars:(0,_t.O4)((0,_t.$H)(X)),asQuery:(0,te.pi)((0,te.pi)({},X),{definitions:X.definitions.map(function(Yt){return"OperationDefinition"===Yt.kind&&"query"!==Yt.operation?(0,te.pi)((0,te.pi)({},Yt),{operation:"query"}):Yt})})},tn=function(Yt){Yt&&!R.has(Yt)&&R.set(Yt,Wt)};tn(w),tn(X),tn(tt),tn(At)}return R.get(w)},Q.prototype.getVariables=function(w,R){return(0,te.pi)((0,te.pi)({},this.transform(w).defaultVars),R)},Q.prototype.watchQuery=function(w){void 0===(w=(0,te.pi)((0,te.pi)({},w),{variables:this.getVariables(w.query,w.variables)})).notifyOnNetworkStatusChange&&(w.notifyOnNetworkStatusChange=!1);var R=new xn(this),X=new vr({queryManager:this,queryInfo:R,options:w});return this.queries.set(X.queryId,R),R.init({document:X.query,observableQuery:X,variables:X.variables}),X},Q.prototype.query=function(w,R){var X=this;return void 0===R&&(R=this.generateQueryId()),__DEV__?(0,he.kG)(w.query,"query option is required. You must specify your GraphQL document in the query option."):(0,he.kG)(w.query,14),__DEV__?(0,he.kG)("Document"===w.query.kind,'You must wrap the query string in a "gql" tag.'):(0,he.kG)("Document"===w.query.kind,15),__DEV__?(0,he.kG)(!w.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,he.kG)(!w.returnPartialData,16),__DEV__?(0,he.kG)(!w.pollInterval,"pollInterval option only supported on watchQuery."):(0,he.kG)(!w.pollInterval,17),this.fetchQuery(R,w).finally(function(){return X.stopQuery(R)})},Q.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},Q.prototype.generateRequestId=function(){return this.requestIdCounter++},Q.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},Q.prototype.stopQueryInStore=function(w){this.stopQueryInStoreNoBroadcast(w),this.broadcastQueries()},Q.prototype.stopQueryInStoreNoBroadcast=function(w){var R=this.queries.get(w);R&&R.stop()},Q.prototype.clearStore=function(w){return void 0===w&&(w={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new he.ej("Store reset while query was in flight (not completed in link chain)"):new he.ej(18)),this.queries.forEach(function(R){R.observableQuery?R.networkStatus=_.loading:R.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(w)},Q.prototype.getObservableQueries=function(w){var R=this;void 0===w&&(w="active");var X=new Map,ge=new Map,tt=new Set;return Array.isArray(w)&&w.forEach(function(At){"string"==typeof At?ge.set(At,!1):(0,ln.JW)(At)?ge.set(R.transform(At).document,!1):(0,_n.s)(At)&&At.query&&tt.add(At)}),this.queries.forEach(function(At,Wt){var tn=At.observableQuery,Yt=At.document;if(tn){if("all"===w)return void X.set(Wt,tn);var L=tn.queryName;if("standby"===tn.options.fetchPolicy||"active"===w&&!tn.hasObservers())return;("active"===w||L&&ge.has(L)||Yt&&ge.has(Yt))&&(X.set(Wt,tn),L&&ge.set(L,!0),Yt&&ge.set(Yt,!0))}}),tt.size&&tt.forEach(function(At){var Wt=(0,xt.X)("legacyOneTimeQuery"),tn=R.getQuery(Wt).init({document:At.query,variables:At.variables}),Yt=new vr({queryManager:R,queryInfo:tn,options:(0,te.pi)((0,te.pi)({},At),{fetchPolicy:"network-only"})});(0,he.kG)(Yt.queryId===Wt),tn.setObservableQuery(Yt),X.set(Wt,Yt)}),__DEV__&&ge.size&&ge.forEach(function(At,Wt){At||__DEV__&&he.kG.warn("Unknown query ".concat("string"==typeof Wt?"named ":"").concat(JSON.stringify(Wt,null,2)," requested in refetchQueries options.include array"))}),X},Q.prototype.reFetchObservableQueries=function(w){var R=this;void 0===w&&(w=!1);var X=[];return this.getObservableQueries(w?"all":"active").forEach(function(ge,tt){var At=ge.options.fetchPolicy;ge.resetLastResults(),(w||"standby"!==At&&"cache-only"!==At)&&X.push(ge.refetch()),R.getQuery(tt).setDiff(null)}),this.broadcastQueries(),Promise.all(X)},Q.prototype.setObservableQuery=function(w){this.getQuery(w.queryId).setObservableQuery(w)},Q.prototype.startGraphQLSubscription=function(w){var R=this,X=w.query,ge=w.fetchPolicy,tt=w.errorPolicy,At=w.variables,Wt=w.context,tn=void 0===Wt?{}:Wt;X=this.transform(X).document,At=this.getVariables(X,At);var Yt=function(se){return R.getObservableFromLink(X,tn,se).map(function(F){if("no-cache"!==ge&&(zn(F,tt)&&R.cache.write({query:X,result:F.data,dataId:"ROOT_SUBSCRIPTION",variables:se}),R.broadcastQueries()),mn(F))throw new hr({graphQLErrors:F.errors});return F})};if(this.transform(X).hasClientExports){var L=this.localState.addExportedVariables(X,At,tn).then(Yt);return new H.y(function(se){var F=null;return L.then(function(Ce){return F=Ce.subscribe(se)},se.error),function(){return F&&F.unsubscribe()}})}return Yt(At)},Q.prototype.stopQuery=function(w){this.stopQueryNoBroadcast(w),this.broadcastQueries()},Q.prototype.stopQueryNoBroadcast=function(w){this.stopQueryInStoreNoBroadcast(w),this.removeQuery(w)},Q.prototype.removeQuery=function(w){this.fetchCancelFns.delete(w),this.queries.has(w)&&(this.getQuery(w).stop(),this.queries.delete(w))},Q.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(w){return w.notify()})},Q.prototype.getLocalState=function(){return this.localState},Q.prototype.getObservableFromLink=function(w,R,X,ge){var At,tt=this;void 0===ge&&(ge=null!==(At=null==R?void 0:R.queryDeduplication)&&void 0!==At?At:this.queryDeduplication);var Wt,tn=this.transform(w).serverQuery;if(tn){var L=this.inFlightLinkObservables,se=this.link,F={query:tn,variables:X,operationName:(0,_t.rY)(tn)||void 0,context:this.prepareContext((0,te.pi)((0,te.pi)({},R),{forceFetch:!ge}))};if(R=F.context,ge){var Ce=L.get(tn)||new Map;L.set(tn,Ce);var Ze=(0,Xt.B)(X);if(!(Wt=Ce.get(Ze))){var wt=new wn([Re(se,F)]);Ce.set(Ze,Wt=wt),wt.cleanup(function(){Ce.delete(Ze)&&Ce.size<1&&L.delete(tn)})}}else Wt=new wn([Re(se,F)])}else Wt=new wn([H.y.of({data:{}})]),R=this.prepareContext(R);var Bt=this.transform(w).clientQuery;return Bt&&(Wt=An(Wt,function(Dn){return tt.localState.runResolvers({document:Bt,remoteResult:Dn,context:R,variables:X})})),Wt},Q.prototype.getResultsFromLink=function(w,R,X){var ge=w.lastRequestId=this.generateRequestId();return An(this.getObservableFromLink(w.document,X.context,X.variables),function(tt){var At=(0,Vn.O)(tt.errors);if(ge>=w.lastRequestId){if(At&&"none"===X.errorPolicy)throw w.markError(new hr({graphQLErrors:tt.errors}));w.markResult(tt,X,R),w.markReady()}var Wt={data:tt.data,loading:!1,networkStatus:_.ready};return At&&"ignore"!==X.errorPolicy&&(Wt.errors=tt.errors,Wt.networkStatus=_.error),Wt},function(tt){var At=function fr(Q){return Q.hasOwnProperty("graphQLErrors")}(tt)?tt:new hr({networkError:tt});throw ge>=w.lastRequestId&&w.markError(At),At})},Q.prototype.fetchQueryObservable=function(w,R,X){var ge=this;void 0===X&&(X=_.loading);var tt=this.transform(R.query).document,At=this.getVariables(tt,R.variables),Wt=this.getQuery(w),tn=this.defaultOptions.watchQuery,Yt=R.fetchPolicy,se=R.errorPolicy,Ce=R.returnPartialData,wt=R.notifyOnNetworkStatusChange,Dn=R.context,cr=Object.assign({},R,{query:tt,variables:At,fetchPolicy:void 0===Yt?tn&&tn.fetchPolicy||"cache-first":Yt,errorPolicy:void 0===se?tn&&tn.errorPolicy||"none":se,returnPartialData:void 0!==Ce&&Ce,notifyOnNetworkStatusChange:void 0!==wt&&wt,context:void 0===Dn?{}:Dn}),lr=function(Tr){return cr.variables=Tr,ge.fetchQueryByPolicy(Wt,cr,X)};this.fetchCancelFns.set(w,function(Tr){setTimeout(function(){return dr.cancel(Tr)})});var dr=new wn(this.transform(cr.query).hasClientExports?this.localState.addExportedVariables(cr.query,cr.variables,cr.context).then(lr):lr(cr.variables));return dr.cleanup(function(){ge.fetchCancelFns.delete(w),Wt.observableQuery&&Wt.observableQuery.applyNextFetchPolicy("after-fetch",R)}),dr},Q.prototype.refetchQueries=function(w){var R=this,X=w.updateCache,ge=w.include,tt=w.optimistic,At=void 0!==tt&&tt,Wt=w.removeOptimistic,tn=void 0===Wt?At?(0,xt.X)("refetchQueries"):void 0:Wt,Yt=w.onQueryUpdated,L=new Map;ge&&this.getObservableQueries(ge).forEach(function(F,Ce){L.set(Ce,{oq:F,lastDiff:R.getQuery(Ce).getDiff()})});var se=new Map;return X&&this.cache.batch({update:X,optimistic:At&&tn||!1,removeOptimistic:tn,onWatchUpdated:function(F,Ce,Ze){var wt=F.watcher instanceof xn&&F.watcher.observableQuery;if(wt){if(Yt){L.delete(wt.queryId);var Bt=Yt(wt,Ce,Ze);return!0===Bt&&(Bt=wt.refetch()),!1!==Bt&&se.set(wt,Bt),Bt}null!==Yt&&L.set(wt.queryId,{oq:wt,lastDiff:Ze,diff:Ce})}}}),L.size&&L.forEach(function(F,Ce){var Dn,Ze=F.oq,wt=F.lastDiff,Bt=F.diff;if(Yt){if(!Bt){var tr=Ze.queryInfo;tr.reset(),Bt=tr.getDiff()}Dn=Yt(Ze,Bt,wt)}(!Yt||!0===Dn)&&(Dn=Ze.refetch()),!1!==Dn&&se.set(Ze,Dn),Ce.indexOf("legacyOneTimeQuery")>=0&&R.stopQueryNoBroadcast(Ce)}),tn&&this.cache.removeOptimistic(tn),se},Q.prototype.fetchQueryByPolicy=function(w,R,X){var ge=this,tt=R.query,At=R.variables,Wt=R.fetchPolicy,tn=R.refetchWritePolicy,Yt=R.errorPolicy,L=R.returnPartialData,se=R.context,F=R.notifyOnNetworkStatusChange,Ce=w.networkStatus;w.init({document:this.transform(tt).document,variables:At,networkStatus:X});var Ze=function(){return w.getDiff(At)},wt=function(lr,dr){void 0===dr&&(dr=w.networkStatus||_.loading);var Tr=lr.result;__DEV__&&!L&&!(0,ut.D)(Tr,{})&&Le(lr.missing);var Sr=function(Xr){return H.y.of((0,te.pi)({data:Xr,loading:x(dr),networkStatus:dr},lr.complete?null:{partial:!0}))};return Tr&&ge.transform(tt).hasForcedResolvers?ge.localState.runResolvers({document:tt,remoteResult:{data:Tr},context:se,variables:At,onlyRunForcedResolvers:!0}).then(function(Xr){return Sr(Xr.data||void 0)}):Sr(Tr)},Bt="no-cache"===Wt?0:X===_.refetch&&"merge"!==tn?1:2,Dn=function(){return ge.getResultsFromLink(w,Bt,{variables:At,context:se,fetchPolicy:Wt,errorPolicy:Yt})},tr=F&&"number"==typeof Ce&&Ce!==X&&x(X);switch(Wt){default:case"cache-first":return(cr=Ze()).complete?[wt(cr,w.markReady())]:L||tr?[wt(cr),Dn()]:[Dn()];case"cache-and-network":var cr;return(cr=Ze()).complete||L||tr?[wt(cr),Dn()]:[Dn()];case"cache-only":return[wt(Ze(),w.markReady())];case"network-only":return tr?[wt(Ze()),Dn()]:[Dn()];case"no-cache":return tr?[wt(w.getDiff()),Dn()]:[Dn()];case"standby":return[]}},Q.prototype.getQuery=function(w){return w&&!this.queries.has(w)&&this.queries.set(w,new xn(this,w)),this.queries.get(w)},Q.prototype.prepareContext=function(w){void 0===w&&(w={});var R=this.localState.prepareContext(w);return(0,te.pi)((0,te.pi)({},R),{clientAwareness:this.clientAwareness})},Q}(),Gn=!1,In=function(){function Q(w){var R=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var X=w.uri,At=w.cache,Wt=w.ssrMode,tn=void 0!==Wt&&Wt,Yt=w.ssrForceFetchDelay,L=void 0===Yt?0:Yt,se=w.connectToDevTools,F=void 0===se?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:se,Ce=w.queryDeduplication,Ze=void 0===Ce||Ce,wt=w.defaultOptions,Bt=w.assumeImmutableResults,Dn=void 0!==Bt&&Bt,tr=w.resolvers,cr=w.typeDefs,lr=w.fragmentMatcher,dr=w.name,Tr=w.version,Sr=w.link;if(Sr||(Sr=X?new dt({uri:X,credentials:w.credentials,headers:w.headers}):_e.i.empty()),!At)throw __DEV__?new he.ej("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new he.ej(7);if(this.link=Sr,this.cache=At,this.disableNetworkFetches=tn||L>0,this.queryDeduplication=Ze,this.defaultOptions=wt||Object.create(null),this.typeDefs=cr,L&&setTimeout(function(){return R.disableNetworkFetches=!1},L),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),F&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Gn&&__DEV__&&(Gn=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var Xr=window.navigator,Y=Xr&&Xr.userAgent,j=void 0;"string"==typeof Y&&(Y.indexOf("Chrome/")>-1?j="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Y.indexOf("Firefox/")>-1&&(j="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),j&&__DEV__&&he.kG.log("Download the Apollo DevTools for a better development experience: "+j)}this.version="3.6.2",this.localState=new Ht({cache:At,client:this,resolvers:tr,fragmentMatcher:lr}),this.queryManager=new Bn({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:Ze,ssrMode:tn,clientAwareness:{name:dr,version:Tr},localState:this.localState,assumeImmutableResults:Dn,onBroadcast:F?function(){R.devToolsHookCb&&R.devToolsHookCb({action:{},state:{queries:R.queryManager.getQueryStore(),mutations:R.queryManager.mutationStore||{}},dataWithOptimisticResults:R.cache.extract(!0)})}:void 0})}return Q.prototype.stop=function(){this.queryManager.stop()},Q.prototype.watchQuery=function(w){return this.defaultOptions.watchQuery&&(w=pn(this.defaultOptions.watchQuery,w)),this.disableNetworkFetches&&("network-only"===w.fetchPolicy||"cache-and-network"===w.fetchPolicy)&&(w=(0,te.pi)((0,te.pi)({},w),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(w)},Q.prototype.query=function(w){return this.defaultOptions.query&&(w=pn(this.defaultOptions.query,w)),__DEV__?(0,he.kG)("cache-and-network"!==w.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,he.kG)("cache-and-network"!==w.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===w.fetchPolicy&&(w=(0,te.pi)((0,te.pi)({},w),{fetchPolicy:"cache-first"})),this.queryManager.query(w)},Q.prototype.mutate=function(w){return this.defaultOptions.mutate&&(w=pn(this.defaultOptions.mutate,w)),this.queryManager.mutate(w)},Q.prototype.subscribe=function(w){return this.queryManager.startGraphQLSubscription(w)},Q.prototype.readQuery=function(w,R){return void 0===R&&(R=!1),this.cache.readQuery(w,R)},Q.prototype.readFragment=function(w,R){return void 0===R&&(R=!1),this.cache.readFragment(w,R)},Q.prototype.writeQuery=function(w){this.cache.writeQuery(w),this.queryManager.broadcastQueries()},Q.prototype.writeFragment=function(w){this.cache.writeFragment(w),this.queryManager.broadcastQueries()},Q.prototype.__actionHookForDevTools=function(w){this.devToolsHookCb=w},Q.prototype.__requestRaw=function(w){return Re(this.link,w)},Q.prototype.resetStore=function(){var w=this;return Promise.resolve().then(function(){return w.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(w.resetStoreCallbacks.map(function(R){return R()}))}).then(function(){return w.reFetchObservableQueries()})},Q.prototype.clearStore=function(){var w=this;return Promise.resolve().then(function(){return w.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(w.clearStoreCallbacks.map(function(R){return R()}))})},Q.prototype.onResetStore=function(w){var R=this;return this.resetStoreCallbacks.push(w),function(){R.resetStoreCallbacks=R.resetStoreCallbacks.filter(function(X){return X!==w})}},Q.prototype.onClearStore=function(w){var R=this;return this.clearStoreCallbacks.push(w),function(){R.clearStoreCallbacks=R.clearStoreCallbacks.filter(function(X){return X!==w})}},Q.prototype.reFetchObservableQueries=function(w){return this.queryManager.reFetchObservableQueries(w)},Q.prototype.refetchQueries=function(w){var R=this.queryManager.refetchQueries(w),X=[],ge=[];R.forEach(function(At,Wt){X.push(Wt),ge.push(At)});var tt=Promise.all(ge);return tt.queries=X,tt.results=ge,tt.catch(function(At){__DEV__&&he.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(At))}),tt},Q.prototype.getObservableQueries=function(w){return void 0===w&&(w="active"),this.queryManager.getObservableQueries(w)},Q.prototype.extract=function(w){return this.cache.extract(w)},Q.prototype.restore=function(w){return this.cache.restore(w)},Q.prototype.addResolvers=function(w){this.localState.addResolvers(w)},Q.prototype.setResolvers=function(w){this.localState.setResolvers(w)},Q.prototype.getResolvers=function(){return this.localState.getResolvers()},Q.prototype.setLocalStateFragmentMatcher=function(w){this.localState.setFragmentMatcher(w)},Q.prototype.setLink=function(w){this.link=this.queryManager.link=w},Q}();function ct(Q,w){if(!Boolean(Q))throw new Error(null!=w?w:"Unexpected invariant triggered.")}const Ae=/\r\n|[\n\r]/g;function z(Q,w){let R=0,X=1;for(const ge of Q.body.matchAll(Ae)){if("number"==typeof ge.index||ct(!1),ge.index>=w)break;R=ge.index+ge[0].length,X+=1}return{line:X,column:w+1-R}}function B(Q,w){const R=Q.locationOffset.column-1,X="".padStart(R)+Q.body,ge=w.line-1,At=w.line+(Q.locationOffset.line-1),tn=w.column+(1===w.line?R:0),Yt=`${Q.name}:${At}:${tn}\n`,L=X.split(/\r\n|[\n\r]/g),se=L[ge];if(se.length>120){const F=Math.floor(tn/80),Ce=tn%80,Ze=[];for(let wt=0;wt<se.length;wt+=80)Ze.push(se.slice(wt,wt+80));return Yt+Te([[`${At} |`,Ze[0]],...Ze.slice(1,F+1).map(wt=>["|",wt]),["|","^".padStart(Ce)],["|",Ze[F+1]]])}return Yt+Te([[At-1+" |",L[ge-1]],[`${At} |`,se],["|","^".padStart(tn)],[`${At+1} |`,L[ge+1]]])}function Te(Q){const w=Q.filter(([X,ge])=>void 0!==ge),R=Math.max(...w.map(([X])=>X.length));return w.map(([X,ge])=>X.padStart(R)+(ge?" "+ge:"")).join("\n")}class Vt extends Error{constructor(w,...R){var X,ge,tt;const{nodes:At,source:Wt,positions:tn,path:Yt,originalError:L,extensions:se}=function ft(Q){const w=Q[0];return null==w||"kind"in w||"length"in w?{nodes:w,source:Q[1],positions:Q[2],path:Q[3],originalError:Q[4],extensions:Q[5]}:w}(R);super(w),this.name="GraphQLError",this.path=null!=Yt?Yt:void 0,this.originalError=null!=L?L:void 0,this.nodes=pe(Array.isArray(At)?At:At?[At]:void 0);const F=pe(null===(X=this.nodes)||void 0===X?void 0:X.map(Ze=>Ze.loc).filter(Ze=>null!=Ze));this.source=null!=Wt?Wt:null==F||null===(ge=F[0])||void 0===ge?void 0:ge.source,this.positions=null!=tn?tn:null==F?void 0:F.map(Ze=>Ze.start),this.locations=tn&&Wt?tn.map(Ze=>z(Wt,Ze)):null==F?void 0:F.map(Ze=>z(Ze.source,Ze.start));const Ce=function Zr(Q){return"object"==typeof Q&&null!==Q}(null==L?void 0:L.extensions)?null==L?void 0:L.extensions:void 0;this.extensions=null!==(tt=null!=se?se:Ce)&&void 0!==tt?tt:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=L&&L.stack?Object.defineProperty(this,"stack",{value:L.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Vt):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let w=this.message;if(this.nodes)for(const R of this.nodes)R.loc&&(w+="\n\n"+B((Q=R.loc).source,z(Q.source,Q.start)));else if(this.source&&this.locations)for(const R of this.locations)w+="\n\n"+B(this.source,R);var Q;return w}toJSON(){const w={message:this.message};return null!=this.locations&&(w.locations=this.locations),null!=this.path&&(w.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(w.extensions=this.extensions),w}}function pe(Q){return void 0===Q||0===Q.length?void 0:Q}function Z(Q,w,R){return new Vt(`Syntax Error: ${R}`,{source:Q,positions:[w]})}var at=m(6298);let et;var Q;(Q=et||(et={})).QUERY="QUERY",Q.MUTATION="MUTATION",Q.SUBSCRIPTION="SUBSCRIPTION",Q.FIELD="FIELD",Q.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",Q.FRAGMENT_SPREAD="FRAGMENT_SPREAD",Q.INLINE_FRAGMENT="INLINE_FRAGMENT",Q.VARIABLE_DEFINITION="VARIABLE_DEFINITION",Q.SCHEMA="SCHEMA",Q.SCALAR="SCALAR",Q.OBJECT="OBJECT",Q.FIELD_DEFINITION="FIELD_DEFINITION",Q.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",Q.INTERFACE="INTERFACE",Q.UNION="UNION",Q.ENUM="ENUM",Q.ENUM_VALUE="ENUM_VALUE",Q.INPUT_OBJECT="INPUT_OBJECT",Q.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION";var Ge=m(2289),rt=m(2032),vt=m(6009);let ht;!function(Q){Q.SOF="<SOF>",Q.EOF="<EOF>",Q.BANG="!",Q.DOLLAR="$",Q.AMP="&",Q.PAREN_L="(",Q.PAREN_R=")",Q.SPREAD="...",Q.COLON=":",Q.EQUALS="=",Q.AT="@",Q.BRACKET_L="[",Q.BRACKET_R="]",Q.BRACE_L="{",Q.PIPE="|",Q.BRACE_R="}",Q.NAME="Name",Q.INT="Int",Q.FLOAT="Float",Q.STRING="String",Q.BLOCK_STRING="BlockString",Q.COMMENT="Comment"}(ht||(ht={}));class Qn{constructor(w){const R=new at.WU(ht.SOF,0,0,0,0);this.source=w,this.lastToken=R,this.token=R,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let w=this.token;if(w.kind!==ht.EOF)do{if(w.next)w=w.next;else{const R=Gi(this,w.end);w.next=R,R.prev=w,w=R}}while(w.kind===ht.COMMENT);return w}}function Cr(Q){return Q>=0&&Q<=55295||Q>=57344&&Q<=1114111}function ai(Q,w){return Ai(Q.charCodeAt(w))&&si(Q.charCodeAt(w+1))}function Ai(Q){return Q>=55296&&Q<=56319}function si(Q){return Q>=56320&&Q<=57343}function fi(Q,w){const R=Q.source.body.codePointAt(w);if(void 0===R)return ht.EOF;if(R>=32&&R<=126){const X=String.fromCodePoint(R);return'"'===X?"'\"'":`"${X}"`}return"U+"+R.toString(16).toUpperCase().padStart(4,"0")}function br(Q,w,R,X,ge){return new at.WU(w,R,X,Q.line,1+R-Q.lineStart,ge)}function Gi(Q,w){const R=Q.source.body,X=R.length;let ge=w;for(;ge<X;){const tt=R.charCodeAt(ge);switch(tt){case 65279:case 9:case 32:case 44:++ge;continue;case 10:++ge,++Q.line,Q.lineStart=ge;continue;case 13:10===R.charCodeAt(ge+1)?ge+=2:++ge,++Q.line,Q.lineStart=ge;continue;case 35:return Qr(Q,ge);case 33:return br(Q,ht.BANG,ge,ge+1);case 36:return br(Q,ht.DOLLAR,ge,ge+1);case 38:return br(Q,ht.AMP,ge,ge+1);case 40:return br(Q,ht.PAREN_L,ge,ge+1);case 41:return br(Q,ht.PAREN_R,ge,ge+1);case 46:if(46===R.charCodeAt(ge+1)&&46===R.charCodeAt(ge+2))return br(Q,ht.SPREAD,ge,ge+3);break;case 58:return br(Q,ht.COLON,ge,ge+1);case 61:return br(Q,ht.EQUALS,ge,ge+1);case 64:return br(Q,ht.AT,ge,ge+1);case 91:return br(Q,ht.BRACKET_L,ge,ge+1);case 93:return br(Q,ht.BRACKET_R,ge,ge+1);case 123:return br(Q,ht.BRACE_L,ge,ge+1);case 124:return br(Q,ht.PIPE,ge,ge+1);case 125:return br(Q,ht.BRACE_R,ge,ge+1);case 34:return 34===R.charCodeAt(ge+1)&&34===R.charCodeAt(ge+2)?Si(Q,ge):jr(Q,ge)}if((0,vt.X1)(tt)||45===tt)return Rn(Q,ge,tt);if((0,vt.LQ)(tt))return $r(Q,ge);throw Z(Q.source,ge,39===tt?"Unexpected single quote character ('), did you mean to use a double quote (\")?":Cr(tt)||ai(R,ge)?`Unexpected character: ${fi(Q,ge)}.`:`Invalid character: ${fi(Q,ge)}.`)}return br(Q,ht.EOF,X,X)}function Qr(Q,w){const R=Q.source.body,X=R.length;let ge=w+1;for(;ge<X;){const tt=R.charCodeAt(ge);if(10===tt||13===tt)break;if(Cr(tt))++ge;else{if(!ai(R,ge))break;ge+=2}}return br(Q,ht.COMMENT,w,ge,R.slice(w+1,ge))}function Rn(Q,w,R){const X=Q.source.body;let ge=w,tt=R,At=!1;if(45===tt&&(tt=X.charCodeAt(++ge)),48===tt){if(tt=X.charCodeAt(++ge),(0,vt.X1)(tt))throw Z(Q.source,ge,`Invalid number, unexpected digit after 0: ${fi(Q,ge)}.`)}else ge=Yn(Q,ge,tt),tt=X.charCodeAt(ge);if(46===tt&&(At=!0,tt=X.charCodeAt(++ge),ge=Yn(Q,ge,tt),tt=X.charCodeAt(ge)),(69===tt||101===tt)&&(At=!0,tt=X.charCodeAt(++ge),(43===tt||45===tt)&&(tt=X.charCodeAt(++ge)),ge=Yn(Q,ge,tt),tt=X.charCodeAt(ge)),46===tt||(0,vt.LQ)(tt))throw Z(Q.source,ge,`Invalid number, expected digit but got: ${fi(Q,ge)}.`);return br(Q,At?ht.FLOAT:ht.INT,w,ge,X.slice(w,ge))}function Yn(Q,w,R){if(!(0,vt.X1)(R))throw Z(Q.source,w,`Invalid number, expected digit but got: ${fi(Q,w)}.`);const X=Q.source.body;let ge=w+1;for(;(0,vt.X1)(X.charCodeAt(ge));)++ge;return ge}function jr(Q,w){const R=Q.source.body,X=R.length;let ge=w+1,tt=ge,At="";for(;ge<X;){const Wt=R.charCodeAt(ge);if(34===Wt)return At+=R.slice(tt,ge),br(Q,ht.STRING,w,ge+1,At);if(92!==Wt){if(10===Wt||13===Wt)break;if(Cr(Wt))++ge;else{if(!ai(R,ge))throw Z(Q.source,ge,`Invalid character within String: ${fi(Q,ge)}.`);ge+=2}}else{At+=R.slice(tt,ge);const tn=117===R.charCodeAt(ge+1)?123===R.charCodeAt(ge+2)?Ei(Q,ge):mi(Q,ge):Hr(Q,ge);At+=tn.value,ge+=tn.size,tt=ge}}throw Z(Q.source,ge,"Unterminated string.")}function Ei(Q,w){const R=Q.source.body;let X=0,ge=3;for(;ge<12;){const tt=R.charCodeAt(w+ge++);if(125===tt){if(ge<5||!Cr(X))break;return{value:String.fromCodePoint(X),size:ge}}if(X=X<<4|ci(tt),X<0)break}throw Z(Q.source,w,`Invalid Unicode escape sequence: "${R.slice(w,w+ge)}".`)}function mi(Q,w){const R=Q.source.body,X=ii(R,w+2);if(Cr(X))return{value:String.fromCodePoint(X),size:6};if(Ai(X)&&92===R.charCodeAt(w+6)&&117===R.charCodeAt(w+7)){const ge=ii(R,w+8);if(si(ge))return{value:String.fromCodePoint(X,ge),size:12}}throw Z(Q.source,w,`Invalid Unicode escape sequence: "${R.slice(w,w+6)}".`)}function ii(Q,w){return ci(Q.charCodeAt(w))<<12|ci(Q.charCodeAt(w+1))<<8|ci(Q.charCodeAt(w+2))<<4|ci(Q.charCodeAt(w+3))}function ci(Q){return Q>=48&&Q<=57?Q-48:Q>=65&&Q<=70?Q-55:Q>=97&&Q<=102?Q-87:-1}function Hr(Q,w){const R=Q.source.body;switch(R.charCodeAt(w+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Z(Q.source,w,`Invalid character escape sequence: "${R.slice(w,w+2)}".`)}function Si(Q,w){const R=Q.source.body,X=R.length;let ge=Q.lineStart,tt=w+3,At=tt,Wt="";const tn=[];for(;tt<X;){const Yt=R.charCodeAt(tt);if(34===Yt&&34===R.charCodeAt(tt+1)&&34===R.charCodeAt(tt+2)){Wt+=R.slice(At,tt),tn.push(Wt);const L=br(Q,ht.BLOCK_STRING,w,tt+3,(0,rt.wv)(tn).join("\n"));return Q.line+=tn.length-1,Q.lineStart=ge,L}if(92!==Yt||34!==R.charCodeAt(tt+1)||34!==R.charCodeAt(tt+2)||34!==R.charCodeAt(tt+3))if(10!==Yt&&13!==Yt)if(Cr(Yt))++tt;else{if(!ai(R,tt))throw Z(Q.source,tt,`Invalid character within String: ${fi(Q,tt)}.`);tt+=2}else Wt+=R.slice(At,tt),tn.push(Wt),13===Yt&&10===R.charCodeAt(tt+1)?tt+=2:++tt,Wt="",At=tt,ge=tt;else Wt+=R.slice(At,tt),At=tt+1,tt+=4}throw Z(Q.source,tt,"Unterminated string.")}function $r(Q,w){const R=Q.source.body,X=R.length;let ge=w+1;for(;ge<X;){const tt=R.charCodeAt(ge);if(!(0,vt.HQ)(tt))break;++ge}return br(Q,ht.NAME,w,ge,R.slice(w,ge))}var mr=m(9826);class ni{constructor(w,R){const X=(0,mr.T)(w)?w:new mr.H(w);this._lexer=new Qn(X),this._options=R}parseName(){const w=this.expectToken(ht.NAME);return this.node(w,{kind:Ge.h.NAME,value:w.value})}parseDocument(){return this.node(this._lexer.token,{kind:Ge.h.DOCUMENT,definitions:this.many(ht.SOF,this.parseDefinition,ht.EOF)})}parseDefinition(){if(this.peek(ht.BRACE_L))return this.parseOperationDefinition();const w=this.peekDescription(),R=w?this._lexer.lookahead():this._lexer.token;if(R.kind===ht.NAME){switch(R.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(w)throw Z(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(R.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(R)}parseOperationDefinition(){const w=this._lexer.token;if(this.peek(ht.BRACE_L))return this.node(w,{kind:Ge.h.OPERATION_DEFINITION,operation:at.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const R=this.parseOperationType();let X;return this.peek(ht.NAME)&&(X=this.parseName()),this.node(w,{kind:Ge.h.OPERATION_DEFINITION,operation:R,name:X,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const w=this.expectToken(ht.NAME);switch(w.value){case"query":return at.ku.QUERY;case"mutation":return at.ku.MUTATION;case"subscription":return at.ku.SUBSCRIPTION}throw this.unexpected(w)}parseVariableDefinitions(){return this.optionalMany(ht.PAREN_L,this.parseVariableDefinition,ht.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Ge.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ht.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ht.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const w=this._lexer.token;return this.expectToken(ht.DOLLAR),this.node(w,{kind:Ge.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Ge.h.SELECTION_SET,selections:this.many(ht.BRACE_L,this.parseSelection,ht.BRACE_R)})}parseSelection(){return this.peek(ht.SPREAD)?this.parseFragment():this.parseField()}parseField(){const w=this._lexer.token,R=this.parseName();let X,ge;return this.expectOptionalToken(ht.COLON)?(X=R,ge=this.parseName()):ge=R,this.node(w,{kind:Ge.h.FIELD,alias:X,name:ge,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ht.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(w){return this.optionalMany(ht.PAREN_L,w?this.parseConstArgument:this.parseArgument,ht.PAREN_R)}parseArgument(w=!1){const R=this._lexer.token,X=this.parseName();return this.expectToken(ht.COLON),this.node(R,{kind:Ge.h.ARGUMENT,name:X,value:this.parseValueLiteral(w)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const w=this._lexer.token;this.expectToken(ht.SPREAD);const R=this.expectOptionalKeyword("on");return!R&&this.peek(ht.NAME)?this.node(w,{kind:Ge.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(w,{kind:Ge.h.INLINE_FRAGMENT,typeCondition:R?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var w;const R=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(w=this._options)||void 0===w?void 0:w.allowLegacyFragmentVariables)?this.node(R,{kind:Ge.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(R,{kind:Ge.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(w){const R=this._lexer.token;switch(R.kind){case ht.BRACKET_L:return this.parseList(w);case ht.BRACE_L:return this.parseObject(w);case ht.INT:return this._lexer.advance(),this.node(R,{kind:Ge.h.INT,value:R.value});case ht.FLOAT:return this._lexer.advance(),this.node(R,{kind:Ge.h.FLOAT,value:R.value});case ht.STRING:case ht.BLOCK_STRING:return this.parseStringLiteral();case ht.NAME:switch(this._lexer.advance(),R.value){case"true":return this.node(R,{kind:Ge.h.BOOLEAN,value:!0});case"false":return this.node(R,{kind:Ge.h.BOOLEAN,value:!1});case"null":return this.node(R,{kind:Ge.h.NULL});default:return this.node(R,{kind:Ge.h.ENUM,value:R.value})}case ht.DOLLAR:if(w){if(this.expectToken(ht.DOLLAR),this._lexer.token.kind===ht.NAME)throw Z(this._lexer.source,R.start,`Unexpected variable "$${this._lexer.token.value}" in constant value.`);throw this.unexpected(R)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const w=this._lexer.token;return this._lexer.advance(),this.node(w,{kind:Ge.h.STRING,value:w.value,block:w.kind===ht.BLOCK_STRING})}parseList(w){return this.node(this._lexer.token,{kind:Ge.h.LIST,values:this.any(ht.BRACKET_L,()=>this.parseValueLiteral(w),ht.BRACKET_R)})}parseObject(w){return this.node(this._lexer.token,{kind:Ge.h.OBJECT,fields:this.any(ht.BRACE_L,()=>this.parseObjectField(w),ht.BRACE_R)})}parseObjectField(w){const R=this._lexer.token,X=this.parseName();return this.expectToken(ht.COLON),this.node(R,{kind:Ge.h.OBJECT_FIELD,name:X,value:this.parseValueLiteral(w)})}parseDirectives(w){const R=[];for(;this.peek(ht.AT);)R.push(this.parseDirective(w));return R}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(w){const R=this._lexer.token;return this.expectToken(ht.AT),this.node(R,{kind:Ge.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(w)})}parseTypeReference(){const w=this._lexer.token;let R;if(this.expectOptionalToken(ht.BRACKET_L)){const X=this.parseTypeReference();this.expectToken(ht.BRACKET_R),R=this.node(w,{kind:Ge.h.LIST_TYPE,type:X})}else R=this.parseNamedType();return this.expectOptionalToken(ht.BANG)?this.node(w,{kind:Ge.h.NON_NULL_TYPE,type:R}):R}parseNamedType(){return this.node(this._lexer.token,{kind:Ge.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ht.STRING)||this.peek(ht.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("schema");const X=this.parseConstDirectives(),ge=this.many(ht.BRACE_L,this.parseOperationTypeDefinition,ht.BRACE_R);return this.node(w,{kind:Ge.h.SCHEMA_DEFINITION,description:R,directives:X,operationTypes:ge})}parseOperationTypeDefinition(){const w=this._lexer.token,R=this.parseOperationType();this.expectToken(ht.COLON);const X=this.parseNamedType();return this.node(w,{kind:Ge.h.OPERATION_TYPE_DEFINITION,operation:R,type:X})}parseScalarTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("scalar");const X=this.parseName(),ge=this.parseConstDirectives();return this.node(w,{kind:Ge.h.SCALAR_TYPE_DEFINITION,description:R,name:X,directives:ge})}parseObjectTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("type");const X=this.parseName(),ge=this.parseImplementsInterfaces(),tt=this.parseConstDirectives(),At=this.parseFieldsDefinition();return this.node(w,{kind:Ge.h.OBJECT_TYPE_DEFINITION,description:R,name:X,interfaces:ge,directives:tt,fields:At})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ht.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ht.BRACE_L,this.parseFieldDefinition,ht.BRACE_R)}parseFieldDefinition(){const w=this._lexer.token,R=this.parseDescription(),X=this.parseName(),ge=this.parseArgumentDefs();this.expectToken(ht.COLON);const tt=this.parseTypeReference(),At=this.parseConstDirectives();return this.node(w,{kind:Ge.h.FIELD_DEFINITION,description:R,name:X,arguments:ge,type:tt,directives:At})}parseArgumentDefs(){return this.optionalMany(ht.PAREN_L,this.parseInputValueDef,ht.PAREN_R)}parseInputValueDef(){const w=this._lexer.token,R=this.parseDescription(),X=this.parseName();this.expectToken(ht.COLON);const ge=this.parseTypeReference();let tt;this.expectOptionalToken(ht.EQUALS)&&(tt=this.parseConstValueLiteral());const At=this.parseConstDirectives();return this.node(w,{kind:Ge.h.INPUT_VALUE_DEFINITION,description:R,name:X,type:ge,defaultValue:tt,directives:At})}parseInterfaceTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("interface");const X=this.parseName(),ge=this.parseImplementsInterfaces(),tt=this.parseConstDirectives(),At=this.parseFieldsDefinition();return this.node(w,{kind:Ge.h.INTERFACE_TYPE_DEFINITION,description:R,name:X,interfaces:ge,directives:tt,fields:At})}parseUnionTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("union");const X=this.parseName(),ge=this.parseConstDirectives(),tt=this.parseUnionMemberTypes();return this.node(w,{kind:Ge.h.UNION_TYPE_DEFINITION,description:R,name:X,directives:ge,types:tt})}parseUnionMemberTypes(){return this.expectOptionalToken(ht.EQUALS)?this.delimitedMany(ht.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("enum");const X=this.parseName(),ge=this.parseConstDirectives(),tt=this.parseEnumValuesDefinition();return this.node(w,{kind:Ge.h.ENUM_TYPE_DEFINITION,description:R,name:X,directives:ge,values:tt})}parseEnumValuesDefinition(){return this.optionalMany(ht.BRACE_L,this.parseEnumValueDefinition,ht.BRACE_R)}parseEnumValueDefinition(){const w=this._lexer.token,R=this.parseDescription(),X=this.parseEnumValueName(),ge=this.parseConstDirectives();return this.node(w,{kind:Ge.h.ENUM_VALUE_DEFINITION,description:R,name:X,directives:ge})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Z(this._lexer.source,this._lexer.token.start,`${Pi(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("input");const X=this.parseName(),ge=this.parseConstDirectives(),tt=this.parseInputFieldsDefinition();return this.node(w,{kind:Ge.h.INPUT_OBJECT_TYPE_DEFINITION,description:R,name:X,directives:ge,fields:tt})}parseInputFieldsDefinition(){return this.optionalMany(ht.BRACE_L,this.parseInputValueDef,ht.BRACE_R)}parseTypeSystemExtension(){const w=this._lexer.lookahead();if(w.kind===ht.NAME)switch(w.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(w)}parseSchemaExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const R=this.parseConstDirectives(),X=this.optionalMany(ht.BRACE_L,this.parseOperationTypeDefinition,ht.BRACE_R);if(0===R.length&&0===X.length)throw this.unexpected();return this.node(w,{kind:Ge.h.SCHEMA_EXTENSION,directives:R,operationTypes:X})}parseScalarTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const R=this.parseName(),X=this.parseConstDirectives();if(0===X.length)throw this.unexpected();return this.node(w,{kind:Ge.h.SCALAR_TYPE_EXTENSION,name:R,directives:X})}parseObjectTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const R=this.parseName(),X=this.parseImplementsInterfaces(),ge=this.parseConstDirectives(),tt=this.parseFieldsDefinition();if(0===X.length&&0===ge.length&&0===tt.length)throw this.unexpected();return this.node(w,{kind:Ge.h.OBJECT_TYPE_EXTENSION,name:R,interfaces:X,directives:ge,fields:tt})}parseInterfaceTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const R=this.parseName(),X=this.parseImplementsInterfaces(),ge=this.parseConstDirectives(),tt=this.parseFieldsDefinition();if(0===X.length&&0===ge.length&&0===tt.length)throw this.unexpected();return this.node(w,{kind:Ge.h.INTERFACE_TYPE_EXTENSION,name:R,interfaces:X,directives:ge,fields:tt})}parseUnionTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const R=this.parseName(),X=this.parseConstDirectives(),ge=this.parseUnionMemberTypes();if(0===X.length&&0===ge.length)throw this.unexpected();return this.node(w,{kind:Ge.h.UNION_TYPE_EXTENSION,name:R,directives:X,types:ge})}parseEnumTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const R=this.parseName(),X=this.parseConstDirectives(),ge=this.parseEnumValuesDefinition();if(0===X.length&&0===ge.length)throw this.unexpected();return this.node(w,{kind:Ge.h.ENUM_TYPE_EXTENSION,name:R,directives:X,values:ge})}parseInputObjectTypeExtension(){const w=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const R=this.parseName(),X=this.parseConstDirectives(),ge=this.parseInputFieldsDefinition();if(0===X.length&&0===ge.length)throw this.unexpected();return this.node(w,{kind:Ge.h.INPUT_OBJECT_TYPE_EXTENSION,name:R,directives:X,fields:ge})}parseDirectiveDefinition(){const w=this._lexer.token,R=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ht.AT);const X=this.parseName(),ge=this.parseArgumentDefs(),tt=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const At=this.parseDirectiveLocations();return this.node(w,{kind:Ge.h.DIRECTIVE_DEFINITION,description:R,name:X,arguments:ge,repeatable:tt,locations:At})}parseDirectiveLocations(){return this.delimitedMany(ht.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const w=this._lexer.token,R=this.parseName();if(Object.prototype.hasOwnProperty.call(et,R.value))return R;throw this.unexpected(w)}node(w,R){var X;return!0!==(null===(X=this._options)||void 0===X?void 0:X.noLocation)&&(R.loc=new at.Ye(w,this._lexer.lastToken,this._lexer.source)),R}peek(w){return this._lexer.token.kind===w}expectToken(w){const R=this._lexer.token;if(R.kind===w)return this._lexer.advance(),R;throw Z(this._lexer.source,R.start,`Expected ${Yi(w)}, found ${Pi(R)}.`)}expectOptionalToken(w){return this._lexer.token.kind===w&&(this._lexer.advance(),!0)}expectKeyword(w){const R=this._lexer.token;if(R.kind!==ht.NAME||R.value!==w)throw Z(this._lexer.source,R.start,`Expected "${w}", found ${Pi(R)}.`);this._lexer.advance()}expectOptionalKeyword(w){const R=this._lexer.token;return R.kind===ht.NAME&&R.value===w&&(this._lexer.advance(),!0)}unexpected(w){const R=null!=w?w:this._lexer.token;return Z(this._lexer.source,R.start,`Unexpected ${Pi(R)}.`)}any(w,R,X){this.expectToken(w);const ge=[];for(;!this.expectOptionalToken(X);)ge.push(R.call(this));return ge}optionalMany(w,R,X){if(this.expectOptionalToken(w)){const ge=[];do{ge.push(R.call(this))}while(!this.expectOptionalToken(X));return ge}return[]}many(w,R,X){this.expectToken(w);const ge=[];do{ge.push(R.call(this))}while(!this.expectOptionalToken(X));return ge}delimitedMany(w,R){this.expectOptionalToken(w);const X=[];do{X.push(R.call(this))}while(this.expectOptionalToken(w));return X}}function Pi(Q){const w=Q.value;return Yi(Q.kind)+(null!=w?` "${w}"`:"")}function Yi(Q){return function $n(Q){return Q===ht.BANG||Q===ht.DOLLAR||Q===ht.AMP||Q===ht.PAREN_L||Q===ht.PAREN_R||Q===ht.SPREAD||Q===ht.COLON||Q===ht.EQUALS||Q===ht.AT||Q===ht.BRACKET_L||Q===ht.BRACKET_R||Q===ht.BRACE_L||Q===ht.PIPE||Q===ht.BRACE_R}(Q)?`"${Q}"`:Q}var pi=new Map,xr=new Map,es=!0,Hi=!1;function gi(Q){return Q.replace(/[\s,]+/g," ").trim()}function wi(Q){var w=gi(Q);if(!pi.has(w)){var R=function Mi(Q,w){return new ni(Q,w).parseDocument()}(Q,{experimentalFragmentVariables:Hi,allowLegacyFragmentVariables:Hi});if(!R||"Document"!==R.kind)throw new Error("Not a valid GraphQL document.");pi.set(w,function ss(Q){var w=new Set(Q.definitions);w.forEach(function(X){X.loc&&delete X.loc,Object.keys(X).forEach(function(ge){var tt=X[ge];tt&&"object"==typeof tt&&w.add(tt)})});var R=Q.loc;return R&&(delete R.startToken,delete R.endToken),Q}(function us(Q){var w=new Set,R=[];return Q.definitions.forEach(function(X){if("FragmentDefinition"===X.kind){var ge=X.name.value,tt=function Li(Q){return gi(Q.source.body.substring(Q.start,Q.end))}(X.loc),At=xr.get(ge);At&&!At.has(tt)?es&&console.warn("Warning: fragment with name "+ge+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):At||xr.set(ge,At=new Set),At.add(tt),w.has(tt)||(w.add(tt),R.push(X))}else R.push(X)}),(0,te.pi)((0,te.pi)({},Q),{definitions:R})}(R)))}return pi.get(w)}function Oi(Q){for(var w=[],R=1;R<arguments.length;R++)w[R-1]=arguments[R];"string"==typeof Q&&(Q=[Q]);var X=Q[0];return w.forEach(function(ge,tt){X+=ge&&"Document"===ge.kind?ge.loc.source.body:ge,X+=Q[tt+1]}),wi(X)}var ns_gql=Oi,ns_resetCaches=function bs(){pi.clear(),xr.clear()},ns_disableFragmentWarnings=function ws(){es=!1},ns_enableExperimentalFragmentVariables=function Rs(){Hi=!0},ns_disableExperimentalFragmentVariables=function yi(){Hi=!1};(function(Q){Q.gql=ns_gql,Q.resetCaches=ns_resetCaches,Q.disableFragmentWarnings=ns_disableFragmentWarnings,Q.enableExperimentalFragmentVariables=ns_enableExperimentalFragmentVariables,Q.disableExperimentalFragmentVariables=ns_disableExperimentalFragmentVariables})(Oi||(Oi={})),Oi.default=Oi;var Ct=m(8306),kt=m(233),ae=m(8822),K=m(8996),W=m(4004),oe=m(8675),We=m(5363);function it(Q){return new Ct.y(w=>(Q().then(R=>{w.closed||(w.next(R),w.complete())},R=>{w.closed||w.error(R)}),()=>w.unsubscribe()))}class rn{constructor(w){this.zone=w,this.now=Date.now?Date.now:()=>+new Date}schedule(w,R=0,X){return this.zone.run(()=>kt.N.schedule(w,R,X))}}function un(Q){return Q[ae.L]=()=>Q,Q}function jt(Q,w){return Q.pipe((0,We.Q)(new rn(w)))}function vn(Q,w,R){return Q&&void 0!==Q[w]?Q[w]:R}class Nn{constructor(w,R,X){this.obsQuery=w;const ge=jt((0,K.D)(un(this.obsQuery)),R);this.valueChanges=X.useInitialLoading?ge.pipe(function Un(Q){return function(R){return new Ct.y(function(ge){const tt=Q.getCurrentResult(),{loading:At,errors:Wt,error:tn,partial:Yt,data:L}=tt,{partialRefetch:se,fetchPolicy:F}=Q.options,Ce=Wt||tn;return se&&Yt&&(!L||0===Object.keys(L).length)&&"cache-only"!==F&&!At&&!Ce&&ge.next(Object.assign(Object.assign({},tt),{loading:!0,networkStatus:_.loading})),R.subscribe(ge)})}}(this.obsQuery)):ge,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(w){return this.obsQuery.refetch(w)}fetchMore(w){return this.obsQuery.fetchMore(w)}subscribeToMore(w){return this.obsQuery.subscribeToMore(w)}updateQuery(w){return this.obsQuery.updateQuery(w)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(w){return this.obsQuery.startPolling(w)}setOptions(w){return this.obsQuery.setOptions(w)}setVariables(w){return this.obsQuery.setVariables(w)}}const Jn=new u.OlP("APOLLO_FLAGS"),wr=new u.OlP("APOLLO_OPTIONS"),ir=new u.OlP("APOLLO_NAMED_OPTIONS");class Fr{constructor(w,R,X){this.ngZone=w,this.flags=R,this._client=X,this.useInitialLoading=vn(R,"useInitialLoading",!1),this.useMutationLoading=vn(R,"useMutationLoading",!1)}watchQuery(w){return new Nn(this.ensureClient().watchQuery(Object.assign({},w)),this.ngZone,Object.assign({useInitialLoading:this.useInitialLoading},w))}query(w){return it(()=>this.ensureClient().query(Object.assign({},w)))}mutate(w){var R;return function mt(Q,w){return w?Q.pipe((0,oe.O)({loading:!0}),(0,W.U)(R=>Object.assign(Object.assign({},R),{loading:!!R.loading}))):Q.pipe((0,W.U)(R=>Object.assign(Object.assign({},R),{loading:!1})))}(it(()=>this.ensureClient().mutate(Object.assign({},w))),null!==(R=w.useMutationLoading)&&void 0!==R?R:this.useMutationLoading)}subscribe(w,R){const X=(0,K.D)(un(this.ensureClient().subscribe(Object.assign({},w))));return R&&!0!==R.useZone?X:jt(X,this.ngZone)}getClient(){return this.client}setClient(w){this.client=w}get client(){return this._client}set client(w){if(this._client)throw new Error("Client has been already defined");this._client=w}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}}let Dr=(()=>{class Q extends Fr{constructor(R,X,ge,tt){if(super(R,tt),this._ngZone=R,this.map=new Map,X&&this.createDefault(X),ge&&"object"==typeof ge)for(let At in ge)ge.hasOwnProperty(At)&&this.createNamed(At,ge[At])}create(R,X){Rr(X)?this.createDefault(R):this.createNamed(X,R)}default(){return this}use(R){return Rr(R)?this.default():this.map.get(R)}createDefault(R){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new In(R))}createNamed(R,X){if(this.map.has(R))throw new Error(`Client ${R} has been already created`);this.map.set(R,new Fr(this._ngZone,this.flags,new In(X)))}removeClient(R){Rr(R)?this._client=void 0:this.map.delete(R)}}return Q.\u0275fac=function(R){return new(R||Q)(u.LFG(u.R0b),u.LFG(wr,8),u.LFG(ir,8),u.LFG(Jn,8))},Q.\u0275prov=u.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function Rr(Q){return!Q||"default"===Q}const Jr=[Dr];let Ur=(()=>{class Q{}return Q.\u0275fac=function(R){return new(R||Q)},Q.\u0275mod=u.oAB({type:Q}),Q.\u0275inj=u.cJS({providers:Jr}),Q})();const Is=function vi(Q,...w){return Oi(Q,...w)}},4047:(Zt,nt,m)=>{function u(_,x){if(!Boolean(_))throw new Error(x)}m.d(nt,{a:()=>u})},744:(Zt,nt,m)=>{function x(H){return te(H,[])}function te(H,ie){switch(typeof H){case"string":return JSON.stringify(H);case"function":return H.name?`[function ${H.name}]`:"[function]";case"object":return function he(H,ie){if(null===H)return"null";if(ie.includes(H))return"[Circular]";const ue=[...ie,H];if(function _e(H){return"function"==typeof H.toJSON}(H)){const Pe=H.toJSON();if(Pe!==H)return"string"==typeof Pe?Pe:te(Pe,ue)}else if(Array.isArray(H))return function ve(H,ie){if(0===H.length)return"[]";if(ie.length>2)return"[Array]";const ue=Math.min(10,H.length),Pe=H.length-ue,Me=[];for(let de=0;de<ue;++de)Me.push(te(H[de],ie));return 1===Pe?Me.push("... 1 more item"):Pe>1&&Me.push(`... ${Pe} more items`),"["+Me.join(", ")+"]"}(H,ue);return function Re(H,ie){const ue=Object.entries(H);return 0===ue.length?"{}":ie.length>2?"["+function be(H){const ie=Object.prototype.toString.call(H).replace(/^\[object /,"").replace(/]$/,"");if("Object"===ie&&"function"==typeof H.constructor){const ue=H.constructor.name;if("string"==typeof ue&&""!==ue)return ue}return ie}(H)+"]":"{ "+ue.map(([Me,de])=>Me+": "+te(de,ie)).join(", ")+" }"}(H,ue)}(H,ie);default:return String(H)}}m.d(nt,{X:()=>x})},6298:(Zt,nt,m)=>{m.d(nt,{Ye:()=>u,WU:()=>_,h8:()=>x,UG:()=>he,ku:()=>_e});class u{constructor(ve,be,H){this.start=ve.start,this.end=be.end,this.startToken=ve,this.endToken=be,this.source=H}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _{constructor(ve,be,H,ie,ue,Pe){this.kind=ve,this.start=be,this.end=H,this.line=ie,this.column=ue,this.value=Pe,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const x={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},te=new Set(Object.keys(x));function he(Re){const ve=null==Re?void 0:Re.kind;return"string"==typeof ve&&te.has(ve)}let _e;var Re;(Re=_e||(_e={})).QUERY="query",Re.MUTATION="mutation",Re.SUBSCRIPTION="subscription"},2032:(Zt,nt,m)=>{m.d(nt,{wv:()=>_,LZ:()=>he});var u=m(6009);function _(_e){var Re;let ve=Number.MAX_SAFE_INTEGER,be=null,H=-1;for(let ue=0;ue<_e.length;++ue){var ie;const Pe=_e[ue],Me=x(Pe);Me!==Pe.length&&(be=null!==(ie=be)&&void 0!==ie?ie:ue,H=ue,0!==ue&&Me<ve&&(ve=Me))}return _e.map((ue,Pe)=>0===Pe?ue:ue.slice(ve)).slice(null!==(Re=be)&&void 0!==Re?Re:0,H+1)}function x(_e){let Re=0;for(;Re<_e.length&&(0,u.FD)(_e.charCodeAt(Re));)++Re;return Re}function he(_e,Re){const ve=_e.replace(/"""/g,'\\"""'),be=ve.split(/\r\n|[\n\r]/g),H=1===be.length,ie=be.length>1&&be.slice(1).every(Ne=>0===Ne.length||(0,u.FD)(Ne.charCodeAt(0))),ue=ve.endsWith('\\"""'),Pe=_e.endsWith('"')&&!ue,Me=_e.endsWith("\\"),de=Pe||Me,$e=!(null!=Re&&Re.minimize)&&(!H||_e.length>70||de||ie||ue);let Fe="";const Ye=H&&(0,u.FD)(_e.charCodeAt(0));return($e&&!Ye||ie)&&(Fe+="\n"),Fe+=ve,($e||de)&&(Fe+="\n"),'"""'+Fe+'"""'}},6009:(Zt,nt,m)=>{function u(_e){return 9===_e||32===_e}function _(_e){return _e>=48&&_e<=57}function x(_e){return _e>=97&&_e<=122||_e>=65&&_e<=90}function te(_e){return x(_e)||95===_e}function he(_e){return x(_e)||_(_e)||95===_e}m.d(nt,{FD:()=>u,X1:()=>_,LQ:()=>te,HQ:()=>he})},2289:(Zt,nt,m)=>{let u;var _;m.d(nt,{h:()=>u}),(_=u||(u={})).NAME="Name",_.DOCUMENT="Document",_.OPERATION_DEFINITION="OperationDefinition",_.VARIABLE_DEFINITION="VariableDefinition",_.SELECTION_SET="SelectionSet",_.FIELD="Field",_.ARGUMENT="Argument",_.FRAGMENT_SPREAD="FragmentSpread",_.INLINE_FRAGMENT="InlineFragment",_.FRAGMENT_DEFINITION="FragmentDefinition",_.VARIABLE="Variable",_.INT="IntValue",_.FLOAT="FloatValue",_.STRING="StringValue",_.BOOLEAN="BooleanValue",_.NULL="NullValue",_.ENUM="EnumValue",_.LIST="ListValue",_.OBJECT="ObjectValue",_.OBJECT_FIELD="ObjectField",_.DIRECTIVE="Directive",_.NAMED_TYPE="NamedType",_.LIST_TYPE="ListType",_.NON_NULL_TYPE="NonNullType",_.SCHEMA_DEFINITION="SchemaDefinition",_.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",_.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",_.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",_.FIELD_DEFINITION="FieldDefinition",_.INPUT_VALUE_DEFINITION="InputValueDefinition",_.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",_.UNION_TYPE_DEFINITION="UnionTypeDefinition",_.ENUM_TYPE_DEFINITION="EnumTypeDefinition",_.ENUM_VALUE_DEFINITION="EnumValueDefinition",_.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",_.DIRECTIVE_DEFINITION="DirectiveDefinition",_.SCHEMA_EXTENSION="SchemaExtension",_.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",_.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",_.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",_.UNION_TYPE_EXTENSION="UnionTypeExtension",_.ENUM_TYPE_EXTENSION="EnumTypeExtension",_.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"},2465:(Zt,nt,m)=>{m.d(nt,{S:()=>Re});var u=m(2032);const x=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function te(de){return he[de.charCodeAt(0)]}const he=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var _e=m(1335);function Re(de){return(0,_e.Vn)(de,be)}const be={Name:{leave:de=>de.value},Variable:{leave:de=>"$"+de.name},Document:{leave:de=>H(de.definitions,"\n\n")},OperationDefinition:{leave(de){const $e=ue("(",H(de.variableDefinitions,", "),")"),Fe=H([de.operation,H([de.name,$e]),H(de.directives," ")]," ");return("query"===Fe?"":Fe+" ")+de.selectionSet}},VariableDefinition:{leave:({variable:de,type:$e,defaultValue:Fe,directives:Ye})=>de+": "+$e+ue(" = ",Fe)+ue(" ",H(Ye," "))},SelectionSet:{leave:({selections:de})=>ie(de)},Field:{leave({alias:de,name:$e,arguments:Fe,directives:Ye,selectionSet:Ne}){const It=ue("",de,": ")+$e;let Je=It+ue("(",H(Fe,", "),")");return Je.length>80&&(Je=It+ue("(\n",Pe(H(Fe,"\n")),"\n)")),H([Je,H(Ye," "),Ne]," ")}},Argument:{leave:({name:de,value:$e})=>de+": "+$e},FragmentSpread:{leave:({name:de,directives:$e})=>"..."+de+ue(" ",H($e," "))},InlineFragment:{leave:({typeCondition:de,directives:$e,selectionSet:Fe})=>H(["...",ue("on ",de),H($e," "),Fe]," ")},FragmentDefinition:{leave:({name:de,typeCondition:$e,variableDefinitions:Fe,directives:Ye,selectionSet:Ne})=>`fragment ${de}${ue("(",H(Fe,", "),")")} on ${$e} ${ue("",H(Ye," ")," ")}`+Ne},IntValue:{leave:({value:de})=>de},FloatValue:{leave:({value:de})=>de},StringValue:{leave:({value:de,block:$e})=>$e?(0,u.LZ)(de):function _(de){return`"${de.replace(x,te)}"`}(de)},BooleanValue:{leave:({value:de})=>de?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:de})=>de},ListValue:{leave:({values:de})=>"["+H(de,", ")+"]"},ObjectValue:{leave:({fields:de})=>"{"+H(de,", ")+"}"},ObjectField:{leave:({name:de,value:$e})=>de+": "+$e},Directive:{leave:({name:de,arguments:$e})=>"@"+de+ue("(",H($e,", "),")")},NamedType:{leave:({name:de})=>de},ListType:{leave:({type:de})=>"["+de+"]"},NonNullType:{leave:({type:de})=>de+"!"},SchemaDefinition:{leave:({description:de,directives:$e,operationTypes:Fe})=>ue("",de,"\n")+H(["schema",H($e," "),ie(Fe)]," ")},OperationTypeDefinition:{leave:({operation:de,type:$e})=>de+": "+$e},ScalarTypeDefinition:{leave:({description:de,name:$e,directives:Fe})=>ue("",de,"\n")+H(["scalar",$e,H(Fe," ")]," ")},ObjectTypeDefinition:{leave:({description:de,name:$e,interfaces:Fe,directives:Ye,fields:Ne})=>ue("",de,"\n")+H(["type",$e,ue("implements ",H(Fe," & ")),H(Ye," "),ie(Ne)]," ")},FieldDefinition:{leave:({description:de,name:$e,arguments:Fe,type:Ye,directives:Ne})=>ue("",de,"\n")+$e+(Me(Fe)?ue("(\n",Pe(H(Fe,"\n")),"\n)"):ue("(",H(Fe,", "),")"))+": "+Ye+ue(" ",H(Ne," "))},InputValueDefinition:{leave:({description:de,name:$e,type:Fe,defaultValue:Ye,directives:Ne})=>ue("",de,"\n")+H([$e+": "+Fe,ue("= ",Ye),H(Ne," ")]," ")},InterfaceTypeDefinition:{leave:({description:de,name:$e,interfaces:Fe,directives:Ye,fields:Ne})=>ue("",de,"\n")+H(["interface",$e,ue("implements ",H(Fe," & ")),H(Ye," "),ie(Ne)]," ")},UnionTypeDefinition:{leave:({description:de,name:$e,directives:Fe,types:Ye})=>ue("",de,"\n")+H(["union",$e,H(Fe," "),ue("= ",H(Ye," | "))]," ")},EnumTypeDefinition:{leave:({description:de,name:$e,directives:Fe,values:Ye})=>ue("",de,"\n")+H(["enum",$e,H(Fe," "),ie(Ye)]," ")},EnumValueDefinition:{leave:({description:de,name:$e,directives:Fe})=>ue("",de,"\n")+H([$e,H(Fe," ")]," ")},InputObjectTypeDefinition:{leave:({description:de,name:$e,directives:Fe,fields:Ye})=>ue("",de,"\n")+H(["input",$e,H(Fe," "),ie(Ye)]," ")},DirectiveDefinition:{leave:({description:de,name:$e,arguments:Fe,repeatable:Ye,locations:Ne})=>ue("",de,"\n")+"directive @"+$e+(Me(Fe)?ue("(\n",Pe(H(Fe,"\n")),"\n)"):ue("(",H(Fe,", "),")"))+(Ye?" repeatable":"")+" on "+H(Ne," | ")},SchemaExtension:{leave:({directives:de,operationTypes:$e})=>H(["extend schema",H(de," "),ie($e)]," ")},ScalarTypeExtension:{leave:({name:de,directives:$e})=>H(["extend scalar",de,H($e," ")]," ")},ObjectTypeExtension:{leave:({name:de,interfaces:$e,directives:Fe,fields:Ye})=>H(["extend type",de,ue("implements ",H($e," & ")),H(Fe," "),ie(Ye)]," ")},InterfaceTypeExtension:{leave:({name:de,interfaces:$e,directives:Fe,fields:Ye})=>H(["extend interface",de,ue("implements ",H($e," & ")),H(Fe," "),ie(Ye)]," ")},UnionTypeExtension:{leave:({name:de,directives:$e,types:Fe})=>H(["extend union",de,H($e," "),ue("= ",H(Fe," | "))]," ")},EnumTypeExtension:{leave:({name:de,directives:$e,values:Fe})=>H(["extend enum",de,H($e," "),ie(Fe)]," ")},InputObjectTypeExtension:{leave:({name:de,directives:$e,fields:Fe})=>H(["extend input",de,H($e," "),ie(Fe)]," ")}};function H(de,$e=""){var Fe;return null!==(Fe=null==de?void 0:de.filter(Ye=>Ye).join($e))&&void 0!==Fe?Fe:""}function ie(de){return ue("{\n",Pe(H(de,"\n")),"\n}")}function ue(de,$e,Fe=""){return null!=$e&&""!==$e?de+$e+Fe:""}function Pe(de){return ue("  ",de.replace(/\n/g,"\n  "))}function Me(de){var $e;return null!==($e=null==de?void 0:de.some(Fe=>Fe.includes("\n")))&&void 0!==$e&&$e}},9826:(Zt,nt,m)=>{m.d(nt,{H:()=>te,T:()=>he});var u=m(4047),_=m(744);class te{constructor(Re,ve="GraphQL request",be={line:1,column:1}){"string"==typeof Re||(0,u.a)(!1,`Body must be a string. Received: ${(0,_.X)(Re)}.`),this.body=Re,this.name=ve,this.locationOffset=be,this.locationOffset.line>0||(0,u.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,u.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function he(_e){return _e instanceof te}},1335:(Zt,nt,m)=>{m.d(nt,{$_:()=>he,Vn:()=>_e});var u=m(4047),_=m(744),x=m(6298),te=m(2289);const he=Object.freeze({});function _e(H,ie,ue=x.h8){const Pe=new Map;for(const re of Object.values(te.h))Pe.set(re,ve(ie,re));let Me,It,Je,de=Array.isArray(H),$e=[H],Fe=-1,Ye=[],Ne=H;const xe=[],je=[];do{Fe++;const re=Fe===$e.length,De=re&&0!==Ye.length;if(re){if(It=0===je.length?void 0:xe[xe.length-1],Ne=Je,Je=je.pop(),De)if(de){Ne=Ne.slice();let Xe=0;for(const[dt,ut]of Ye){const Xt=dt-Xe;null===ut?(Ne.splice(Xt,1),Xe++):Ne[Xt]=ut}}else{Ne=Object.defineProperties({},Object.getOwnPropertyDescriptors(Ne));for(const[Xe,dt]of Ye)Ne[Xe]=dt}Fe=Me.index,$e=Me.keys,Ye=Me.edits,de=Me.inArray,Me=Me.prev}else if(Je){if(It=de?Fe:$e[Fe],Ne=Je[It],null==Ne)continue;xe.push(It)}let He;if(!Array.isArray(Ne)){var st,Ke;(0,x.UG)(Ne)||(0,u.a)(!1,`Invalid AST Node: ${(0,_.X)(Ne)}.`);const Xe=re?null===(st=Pe.get(Ne.kind))||void 0===st?void 0:st.leave:null===(Ke=Pe.get(Ne.kind))||void 0===Ke?void 0:Ke.enter;if(He=null==Xe?void 0:Xe.call(ie,Ne,It,Je,xe,je),He===he)break;if(!1===He){if(!re){xe.pop();continue}}else if(void 0!==He&&(Ye.push([It,He]),!re)){if(!(0,x.UG)(He)){xe.pop();continue}Ne=He}}var ee;void 0===He&&De&&Ye.push([It,Ne]),re?xe.pop():(Me={inArray:de,index:Fe,keys:$e,edits:Ye,prev:Me},de=Array.isArray(Ne),$e=de?Ne:null!==(ee=ue[Ne.kind])&&void 0!==ee?ee:[],Fe=-1,Ye=[],Je&&je.push(Je),Je=Ne)}while(void 0!==Me);return 0!==Ye.length?Ye[Ye.length-1][1]:H}function ve(H,ie){const ue=H[ie];return"object"==typeof ue?ue:"function"==typeof ue?{enter:ue,leave:void 0}:{enter:H.enter,leave:H.leave}}},8766:(Zt,nt,m)=>{m.d(nt,{Lj:()=>Je,X3:()=>It});var u=m(9671);let x,te;const Re=new WeakMap,ve=new WeakMap,be=new WeakMap,H=new WeakMap,ie=new WeakMap;let Me={get(ee,re,De){if(ee instanceof IDBTransaction){if("done"===re)return ve.get(ee);if("objectStoreNames"===re)return ee.objectStoreNames||be.get(ee);if("store"===re)return De.objectStoreNames[1]?void 0:De.objectStore(De.objectStoreNames[0])}return Ye(ee[re])},set:(ee,re,De)=>(ee[re]=De,!0),has:(ee,re)=>ee instanceof IDBTransaction&&("done"===re||"store"===re)||re in ee};function Fe(ee){return"function"==typeof ee?function $e(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...re){return ee.apply(Ne(this),re),Ye(Re.get(this))}:function(...re){return Ye(ee.apply(Ne(this),re))}:function(re,...De){const He=ee.call(Ne(this),re,...De);return be.set(He,re.sort?re.sort():[re]),Ye(He)}}(ee):(ee instanceof IDBTransaction&&function Pe(ee){if(ve.has(ee))return;const re=new Promise((De,He)=>{const Xe=()=>{ee.removeEventListener("complete",dt),ee.removeEventListener("error",ut),ee.removeEventListener("abort",ut)},dt=()=>{De(),Xe()},ut=()=>{He(ee.error||new DOMException("AbortError","AbortError")),Xe()};ee.addEventListener("complete",dt),ee.addEventListener("error",ut),ee.addEventListener("abort",ut)});ve.set(ee,re)}(ee),((ee,re)=>re.some(De=>ee instanceof De))(ee,function he(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,Me):ee)}function Ye(ee){if(ee instanceof IDBRequest)return function ue(ee){const re=new Promise((De,He)=>{const Xe=()=>{ee.removeEventListener("success",dt),ee.removeEventListener("error",ut)},dt=()=>{De(Ye(ee.result)),Xe()},ut=()=>{He(ee.error),Xe()};ee.addEventListener("success",dt),ee.addEventListener("error",ut)});return re.then(De=>{De instanceof IDBCursor&&Re.set(De,ee)}).catch(()=>{}),ie.set(re,ee),re}(ee);if(H.has(ee))return H.get(ee);const re=Fe(ee);return re!==ee&&(H.set(ee,re),ie.set(re,ee)),re}const Ne=ee=>ie.get(ee);function It(ee,re,{blocked:De,upgrade:He,blocking:Xe,terminated:dt}={}){const ut=indexedDB.open(ee,re),Xt=Ye(ut);return He&&ut.addEventListener("upgradeneeded",on=>{He(Ye(ut.result),on.oldVersion,on.newVersion,Ye(ut.transaction))}),De&&ut.addEventListener("blocked",()=>De()),Xt.then(on=>{dt&&on.addEventListener("close",()=>dt()),Xe&&on.addEventListener("versionchange",()=>Xe())}).catch(()=>{}),Xt}function Je(ee,{blocked:re}={}){const De=indexedDB.deleteDatabase(ee);return re&&De.addEventListener("blocked",()=>re()),Ye(De).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],st=new Map;function Ke(ee,re){if(!(ee instanceof IDBDatabase)||re in ee||"string"!=typeof re)return;if(st.get(re))return st.get(re);const De=re.replace(/FromIndex$/,""),He=re!==De,Xe=je.includes(De);if(!(De in(He?IDBIndex:IDBObjectStore).prototype)||!Xe&&!xe.includes(De))return;const dt=function(){var ut=(0,u.Z)(function*(Xt,...on){const An=this.transaction(Xt,Xe?"readwrite":"readonly");let mn=An.store;return He&&(mn=mn.index(on.shift())),(yield Promise.all([mn[De](...on),Xe&&An.done]))[0]});return function(on){return ut.apply(this,arguments)}}();return st.set(re,dt),dt}!function de(ee){Me=ee(Me)}(ee=>ib(rb({},ee),{get:(re,De,He)=>Ke(re,De)||ee.get(re,De,He),has:(re,De)=>!!Ke(re,De)||ee.has(re,De)}))},4302:(Zt,nt,m)=>{function x(Ke,ee){(null==ee||ee>Ke.length)&&(ee=Ke.length);for(var re=0,De=new Array(ee);re<ee;re++)De[re]=Ke[re];return De}function te(Ke,ee){for(var re=0;re<ee.length;re++){var De=ee[re];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Ke,De.key,De)}}function he(Ke,ee,re){return ee&&te(Ke.prototype,ee),re&&te(Ke,re),Ke}m.d(nt,{y:()=>st});var _e=function(){return"function"==typeof Symbol},Re=function(Ke){return _e()&&Boolean(Symbol[Ke])},ve=function(Ke){return Re(Ke)?Symbol[Ke]:"@@"+Ke};_e()&&!Re("observable")&&(Symbol.observable=Symbol("observable"));var be=ve("iterator"),H=ve("observable"),ie=ve("species");function ue(Ke,ee){var re=Ke[ee];if(null!=re){if("function"!=typeof re)throw new TypeError(re+" is not a function");return re}}function Pe(Ke){var ee=Ke.constructor;return void 0!==ee&&null===(ee=ee[ie])&&(ee=void 0),void 0!==ee?ee:st}function de(Ke){de.log?de.log(Ke):setTimeout(function(){throw Ke})}function $e(Ke){Promise.resolve().then(function(){try{Ke()}catch(ee){de(ee)}})}function Fe(Ke){var ee=Ke._cleanup;if(void 0!==ee&&(Ke._cleanup=void 0,ee))try{if("function"==typeof ee)ee();else{var re=ue(ee,"unsubscribe");re&&re.call(ee)}}catch(De){de(De)}}function Ye(Ke){Ke._observer=void 0,Ke._queue=void 0,Ke._state="closed"}function It(Ke,ee,re){Ke._state="running";var De=Ke._observer;try{var He=ue(De,ee);switch(ee){case"next":He&&He.call(De,re);break;case"error":if(Ye(Ke),!He)throw re;He.call(De,re);break;case"complete":Ye(Ke),He&&He.call(De)}}catch(Xe){de(Xe)}"closed"===Ke._state?Fe(Ke):"running"===Ke._state&&(Ke._state="ready")}function Je(Ke,ee,re){if("closed"!==Ke._state){if("buffering"===Ke._state)return void Ke._queue.push({type:ee,value:re});if("ready"!==Ke._state)return Ke._state="buffering",Ke._queue=[{type:ee,value:re}],void $e(function(){return function Ne(Ke){var ee=Ke._queue;if(ee){Ke._queue=void 0,Ke._state="ready";for(var re=0;re<ee.length&&(It(Ke,ee[re].type,ee[re].value),"closed"!==Ke._state);++re);}}(Ke)});It(Ke,ee,re)}}var xe=function(){function Ke(re,De){this._cleanup=void 0,this._observer=re,this._queue=void 0,this._state="initializing";var He=new je(this);try{this._cleanup=De.call(void 0,He)}catch(Xe){He.error(Xe)}"initializing"===this._state&&(this._state="ready")}return Ke.prototype.unsubscribe=function(){"closed"!==this._state&&(Ye(this),Fe(this))},he(Ke,[{key:"closed",get:function(){return"closed"===this._state}}]),Ke}(),je=function(){function Ke(re){this._subscription=re}var ee=Ke.prototype;return ee.next=function(De){Je(this._subscription,"next",De)},ee.error=function(De){Je(this._subscription,"error",De)},ee.complete=function(){Je(this._subscription,"complete")},he(Ke,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),Ke}(),st=function(){function Ke(re){if(!(this instanceof Ke))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof re)throw new TypeError("Observable initializer must be a function");this._subscriber=re}var ee=Ke.prototype;return ee.subscribe=function(De){return("object"!=typeof De||null===De)&&(De={next:De,error:arguments[1],complete:arguments[2]}),new xe(De,this._subscriber)},ee.forEach=function(De){var He=this;return new Promise(function(Xe,dt){if("function"==typeof De)var Xt=He.subscribe({next:function(on){try{De(on,ut)}catch(An){dt(An),Xt.unsubscribe()}},error:dt,complete:Xe});else dt(new TypeError(De+" is not a function"));function ut(){Xt.unsubscribe(),Xe()}})},ee.map=function(De){var He=this;if("function"!=typeof De)throw new TypeError(De+" is not a function");return new(Pe(this))(function(dt){return He.subscribe({next:function(ut){try{ut=De(ut)}catch(Xt){return dt.error(Xt)}dt.next(ut)},error:function(ut){dt.error(ut)},complete:function(){dt.complete()}})})},ee.filter=function(De){var He=this;if("function"!=typeof De)throw new TypeError(De+" is not a function");return new(Pe(this))(function(dt){return He.subscribe({next:function(ut){try{if(!De(ut))return}catch(Xt){return dt.error(Xt)}dt.next(ut)},error:function(ut){dt.error(ut)},complete:function(){dt.complete()}})})},ee.reduce=function(De){var He=this;if("function"!=typeof De)throw new TypeError(De+" is not a function");var Xe=Pe(this),dt=arguments.length>1,ut=!1,Xt=arguments[1],on=Xt;return new Xe(function(An){return He.subscribe({next:function(mn){var _t=!ut;if(ut=!0,!_t||dt)try{on=De(on,mn)}catch($t){return An.error($t)}else on=mn},error:function(mn){An.error(mn)},complete:function(){if(!ut&&!dt)return An.error(new TypeError("Cannot reduce an empty sequence"));An.next(on),An.complete()}})})},ee.concat=function(){for(var De=this,He=arguments.length,Xe=new Array(He),dt=0;dt<He;dt++)Xe[dt]=arguments[dt];var ut=Pe(this);return new ut(function(Xt){var on,An=0;return function mn(_t){on=_t.subscribe({next:function($t){Xt.next($t)},error:function($t){Xt.error($t)},complete:function(){An===Xe.length?(on=void 0,Xt.complete()):mn(ut.from(Xe[An++]))}})}(De),function(){on&&(on.unsubscribe(),on=void 0)}})},ee.flatMap=function(De){var He=this;if("function"!=typeof De)throw new TypeError(De+" is not a function");var Xe=Pe(this);return new Xe(function(dt){var ut=[],Xt=He.subscribe({next:function(An){if(De)try{An=De(An)}catch(_t){return dt.error(_t)}var mn=Xe.from(An).subscribe({next:function(_t){dt.next(_t)},error:function(_t){dt.error(_t)},complete:function(){var _t=ut.indexOf(mn);_t>=0&&ut.splice(_t,1),on()}});ut.push(mn)},error:function(An){dt.error(An)},complete:function(){on()}});function on(){Xt.closed&&0===ut.length&&dt.complete()}return function(){ut.forEach(function(An){return An.unsubscribe()}),Xt.unsubscribe()}})},ee[H]=function(){return this},Ke.from=function(De){var He="function"==typeof this?this:Ke;if(null==De)throw new TypeError(De+" is not an object");var Xe=ue(De,H);if(Xe){var dt=Xe.call(De);if(Object(dt)!==dt)throw new TypeError(dt+" is not an object");return function Me(Ke){return Ke instanceof st}(dt)&&dt.constructor===He?dt:new He(function(ut){return dt.subscribe(ut)})}if(Re("iterator")&&(Xe=ue(De,be)))return new He(function(ut){$e(function(){if(!ut.closed){for(var on,Xt=function u(Ke,ee){var re="undefined"!=typeof Symbol&&Ke[Symbol.iterator]||Ke["@@iterator"];if(re)return(re=re.call(Ke)).next.bind(re);if(Array.isArray(Ke)||(re=function _(Ke,ee){if(Ke){if("string"==typeof Ke)return x(Ke,ee);var re=Object.prototype.toString.call(Ke).slice(8,-1);if("Object"===re&&Ke.constructor&&(re=Ke.constructor.name),"Map"===re||"Set"===re)return Array.from(Ke);if("Arguments"===re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return x(Ke,ee)}}(Ke))||ee&&Ke&&"number"==typeof Ke.length){re&&(Ke=re);var De=0;return function(){return De>=Ke.length?{done:!0}:{done:!1,value:Ke[De++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(Xe.call(De));!(on=Xt()).done;)if(ut.next(on.value),ut.closed)return;ut.complete()}})});if(Array.isArray(De))return new He(function(ut){$e(function(){if(!ut.closed){for(var Xt=0;Xt<De.length;++Xt)if(ut.next(De[Xt]),ut.closed)return;ut.complete()}})});throw new TypeError(De+" is not observable")},Ke.of=function(){for(var De=arguments.length,He=new Array(De),Xe=0;Xe<De;Xe++)He[Xe]=arguments[Xe];var dt="function"==typeof this?this:Ke;return new dt(function(ut){$e(function(){if(!ut.closed){for(var Xt=0;Xt<He.length;++Xt)if(ut.next(He[Xt]),ut.closed)return;ut.complete()}})})},he(Ke,null,[{key:ie,get:function(){return this}}]),Ke}();_e()&&Object.defineProperty(st,Symbol("extensions"),{value:{symbol:H,hostReportError:de},configurable:!0})}},Zt=>{Zt(Zt.s=2765)}]);