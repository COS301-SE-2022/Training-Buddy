<!-- <training-buddy-unsigned-navbar></training-buddy-unsigned-navbar> -->
<training-buddy-settings-navbar *ngIf="!guestprofile"></training-buddy-settings-navbar>
<training-buddy-back-navbar *ngIf="guestprofile"></training-buddy-back-navbar>

    <div *ngIf="loading" class="spinner" id="pagespinner"><mat-spinner></mat-spinner></div>

    <mat-grid-list *ngIf="!loading" [@fadeIn] cols="1" rows="1" rowHeight="2:1">
    
        <!-- <mat-grid-tile> -->
            <!-- <mat-card> -->
            <div id="container">

                <!-- <mat-card-content> -->

                    <div class="row padding">
    
                        <!-- profile image circle -->
                        <div class="profilecol">
                            
                            <div id="profilepic" class="my-2" [ngStyle]="{'background-image': 'url(' + currentImage + ')'}"></div>

                        </div>
    
                        <!-- content to the right of the image -->
                        <div class="statsblock">
                            
                            <div class="text-center">
                                <h1>{{ displayUser?.userName }} {{ displayUser?.userSurname }}</h1>
                                <h3>{{ displayUser?.location }}</h3>
                            </div>

                            <div class="row statscol">

                                <div (click)="toggleBuddiesButton.click()">
                                    <div class="text-center">{{ buddyCount }}</div>
                                    <div>Buddies</div>
                                </div>

                                <div (click)="toggleLogsButton.click()">
                                    <div class="text-center">{{ activityCount }}</div>
                                    <div>Activities</div>
                                </div>

                            </div>
                            
                        </div>
    
                    </div>

                    <!-- toggle page -->
                    <div class="row space-around mt-5">
                        <div class="fullwidth text-center">
                            <h4 (click)="toggleBuddies()" class="link" #toggleBuddiesButton>Buddies</h4>
                            <ng-container *ngIf="toggle"><hr class="hrdark" [@swipeLeft] /></ng-container>
                            <ng-container *ngIf="!toggle"><hr class="hrlight" /></ng-container>
                        </div>
                        <div class="fullwidth text-center">
                            <h4 (click)="toggleLogs()" class="link" #toggleLogsButton>Activities</h4>
                            <ng-container *ngIf="toggle"><hr class="hrlight" /></ng-container>
                            <ng-container *ngIf="!toggle" ><hr class="hrdark" [@swipeRight]/></ng-container>
                        </div>
                    </div>
    
                    <!-- child components -->
                    <div class="padding">
                        <training-buddy-buddies-list *ngIf="toggle && buddyLoadComp" data="{{ buddies }}" [@fadeIn]></training-buddy-buddies-list>
                        <training-buddy-log-list *ngIf="!toggle && logLoadComp" data="{{ logs }}" [@fadeIn]></training-buddy-log-list>
                        <div *ngIf="!buddyLoadComp && !logLoadComp" class="spinner" id="childspinner" [@fadeIn]><mat-spinner></mat-spinner></div>
                    </div>
        
                <!-- </mat-card-content> -->

            </div>
            <!-- </mat-card> -->
        <!-- </mat-grid-tile> -->

    </mat-grid-list>

    <!-- <h1 class="p-8">test</h1> -->

<training-buddy-navbar class="navfix"></training-buddy-navbar>